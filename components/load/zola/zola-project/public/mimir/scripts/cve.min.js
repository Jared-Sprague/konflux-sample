import{components as f}from"/services/primer/js/primer.js";f.include("rh-pagination");function p(n,t){for(let e=0;e<t.rows.length;e++)t.rows[e].parentElement.tagName!="THEAD"&&n(t.rows[e],e)}function c(n,t=1,e=10){p((o,r)=>{let i=r<=t*e;r>(t-1)*e&&i?n.rows[r].removeAttribute("hidden"):n.rows[r].setAttribute("hidden","hidden")},n)}function _(n="*",t){if(n.trim()=="*"||n.trim()=="")c(t);else{let e=n.toLowerCase().replace("*",".*"),o,r;try{o=new RegExp(".*"+e+".*"),r=!0}catch{o=e,r=!1}p((i,a)=>{i.parentElement.tagName!="THEAD"&&(r&&o.test(i.textContent.toLowerCase())||!r&&i.textContent.toLowerCase().includes(o)?t.rows[a].removeAttribute("hidden"):t.rows[a].setAttribute("hidden","hidden"))},t)}}function m(n,t){n.addEventListener("keyup",e=>{e.target.value!=e.target.dataset.prev_value&&_(e.target.value,t),e.target.dataset.prev_value=e.target.value})}function w(n,t,e=10,o="*"){let r=document.createElement("rh-pagination"),i=document.createElement("ol");r.appendChild(i);for(let a=1;a<=Math.ceil(t.rows.length/e);a++){let l=a,h=document.createElement("li"),s=document.createElement("a");s.href=`#${l}`,s.innerText=l,c(t,l,e),s.dataset.page=l,s.addEventListener("click",()=>c(t,l,e)),h.appendChild(s),i.appendChild(h)}window.addEventListener("hashchange",a=>{g(a.target.location.hash)&&r.requestUpdate()}),n.appendChild(r)}function E(n,t=10){window.addEventListener("hashchange",e=>{if(g(e.target.location.hash)){let r=+e.target.location.hash.replace("#","");c(n,r,t)}})}function g(n){return!Number.isNaN(v(n))}function v(n){return Number.parseInt(n.replace(/^#/,""))}let u=10,d=document.querySelector("#cve-affected-packages-table"),C=document.querySelector("#cve-filter-input"),A=document.querySelector("#affected-packages-controls");m(C,d),E(d,u),w(A,d,u),c(d,1,u);
