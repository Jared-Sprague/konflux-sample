{
  "version": 3,
  "sources": ["../../../../../../node_modules/js-sha256/src/sha256.js", "../../../../../../node_modules/base64-js/index.js", "../../../../../../src/session/login/login.ts", "../../../../../../src/session/session.js", "../../../../../../src/keycloak.js", "../../../../../../src/localstorage.ts", "../../../../../../src/cookie.ts"],
  "sourcesContent": ["/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n", "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "import session from \"../session\";\n\nconst url = new URL(location.href);\nconst origin = url.origin;\nlet redirectTo = origin;\nconst requestedRedirectUri =\n  decodeURIComponent(url.searchParams.get(\"redirectTo\")) || origin;\nconst sameOrigin = requestedRedirectUri.indexOf(origin) === 0;\nif (sameOrigin) {\n  redirectTo = requestedRedirectUri;\n}\nsession.onInit(function () {\n  session.login({ redirectUri: redirectTo });\n});\nsession.init();\n", "import Keycloak from \"../keycloak\";\nimport * as store from \"../localstorage\";\nimport * as cookie from \"../cookie\";\n\n/**\n * Manage user sessions from client-side Customer Portal applications.\n *\n * @module session\n * @author Michael Clayton <mclayton@redhat.com>\n * @copyright Red Hat 2016\n */\n\nvar CLIENT_ID = \"customer-portal\";\nvar SSO_URL = ssoUrl();\nvar INTERNAL_ROLE = \"redhat:employees\";\nvar COOKIE_NAME = \"rh_jwt\";\nvar TOKEN_NAME = CLIENT_ID + \"_jwt\";\nvar REFRESH_TOKEN_NAME = CLIENT_ID + \"_refresh_token\";\nvar TIMESKEW_CACHE_NAME = CLIENT_ID + \"_jwt_timeskew\";\nvar MAX_CACHED_TIMESKEW = 60; // any timeskews with magnitude greater than this will not be cached\nvar REFRESH_INTERVAL = 1 * 58 * 1000; // ms. check token for upcoming expiration every this many milliseconds\nvar REFRESH_TTE = 90; // seconds. refresh only token if it would expire this many seconds from now\nvar SCRIBE_PATH = \"/services/primer/session/scribe/?redirectTo=\";\nvar FAIL_COUNT_NAME = \"session_refresh_fail_count\";\nvar FAIL_COUNT_THRESHOLD = 5; // how many times in a row token refresh can fail before we give up trying\n\nvar KEYCLOAK_OPTIONS = {\n  realm: \"redhat-external\",\n  clientId: CLIENT_ID,\n  url: SSO_URL,\n};\n\nvar KEYCLOAK_INIT_OPTIONS = {\n  responseMode: \"fragment\",\n  flow: \"standard\",\n};\n\nvar origin; // assigned during init()\nvar originWithPort; // assigned during init()\nvar token; // assigned during init()\nvar refreshToken; // assigned during init()\nvar cachedTimeSkew; // assigned during init\n\nvar state = {\n  initialized: false,\n};\n\nvar events = {\n  init: [],\n};\n\n/**\n * Log session-related messages to the console, in pre-prod environments.\n */\nfunction log() {\n  try {\n    if (store.get(\"session_log\") === true) {\n      console.log.apply(console, arguments);\n    }\n  } catch (e) {}\n}\n\n/**\n * Kicks off all the session-related things.\n *\n * @memberof module:session\n */\nfunction init(settings) {\n  log(\"[session.js] initializing\");\n\n  // run any migrations\n  migrate();\n\n  origin = location.hostname;\n  originWithPort =\n    location.hostname + (location.port ? \":\" + location.port : \"\");\n\n  token = store.get(TOKEN_NAME) || cookie.getCookieValue(COOKIE_NAME);\n  refreshToken = store.get(REFRESH_TOKEN_NAME);\n\n  // under certain conditions, update the keycloak constructor and init options\n\n  clearExtremeTimeSkewCache();\n\n  cachedTimeSkew = getCachedTimeSkew();\n  if (typeof cachedTimeSkew === \"number\") {\n    KEYCLOAK_OPTIONS.timeSkew = cachedTimeSkew;\n    KEYCLOAK_INIT_OPTIONS.timeSkew = cachedTimeSkew;\n  }\n  if (token && token !== \"undefined\") {\n    KEYCLOAK_INIT_OPTIONS.token = token;\n  }\n  if (refreshToken) {\n    KEYCLOAK_INIT_OPTIONS.refreshToken = refreshToken;\n  }\n\n  // expire any cookies created by session.js before the cookie had the SameSite attribute\n  document.cookie =\n    COOKIE_NAME +\n    \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=.redhat.com; path=/\";\n\n  // initialize keycloak.js\n\n  state.keycloak = Keycloak(KEYCLOAK_OPTIONS);\n\n  // wire up our handlers to keycloak's events\n  state.keycloak.onAuthSuccess = onAuthSuccess;\n  state.keycloak.onAuthError = onAuthError;\n  state.keycloak.onAuthRefreshSuccess = onAuthRefreshSuccess;\n  state.keycloak.onAuthRefreshError = onAuthRefreshError;\n  state.keycloak.onAuthLogout = onAuthLogout;\n  state.keycloak.onTokenExpired = onTokenExpired;\n\n  state.keycloak\n    .init(KEYCLOAK_INIT_OPTIONS)\n    .success(keycloakInitSuccess)\n    .error(keycloakInitError);\n}\n\n/**\n * Keycloak init success handler.\n * @memberof module:session\n * @param {Boolean} authenticated whether the user is authenticated or not\n * @private\n */\nfunction keycloakInitSuccess(authenticated) {\n  log(\"[session.js] initialized (authenticated: \" + authenticated + \")\");\n\n  if (authenticated) {\n    resetFailCount();\n    setToken(state.keycloak.token);\n    setRefreshToken(state.keycloak.refreshToken);\n    startRefreshLoop();\n  }\n\n  keycloakInitHandler();\n}\n\n/**\n * Call any init event handlers that have are registered.\n *\n * @memberof module:session\n * @private\n */\nfunction handleEvents(type) {\n  var eventHandlers = events[type.toLowerCase()];\n  if (!eventHandlers) {\n    return;\n  }\n  while (eventHandlers.length) {\n    var event = eventHandlers.shift();\n    if (typeof event === \"function\") {\n      log(\"[session.js] running a \" + type + \" handler\");\n      event(API);\n    }\n  }\n}\n\n/**\n * Register a function to be called when a session.js event has occurred.\n * When called, the function will be passed a reference to the session.js\n * API.\n *\n * Valid event types are:\n *\n *  - init\n *  - AuthSuccess\n *  - AuthError\n *  - AuthRefreshSuccess\n *  - AuthRefreshError\n *  - AuthLogout\n *\n * @memberof module:session\n * @param {String} eventType the name of the event (case insensitive).\n * @param {Function} func A handler function to call when session.js\n * finishes initializing.\n */\nfunction on(eventType, func) {\n  log(\"[session.js] registering a \" + eventType + \" handler\");\n  var eventHandlers = events[eventType.toLowerCase()];\n\n  // handle 'init' event specially because it's a sessionjs event, not a\n  // keycloak.js event.  run the handler immediately if session.js is\n  // already initialized.\n  if (eventType.toLowerCase() === \"init\" && state.initialized) {\n    func(API);\n  } else {\n    if (!eventHandlers) {\n      events[eventType.toLowerCase()] = [];\n    }\n    events[eventType.toLowerCase()].push(func);\n  }\n}\n\n/**\n * Register a function to be called when session.js has initialized.  Runs\n * immediately if already initialized.  When called, the function will be\n * passed a reference to the session.js API.\n *\n * This function exists for backwards compatibility.  It uses `on('init', func)` internally.\n *\n * @memberof module:session\n * @param {Function} func A handler function to call when session.js\n * finishes initializing.\n */\nfunction onInit(func) {\n  on(\"init\", func);\n}\n\n/**\n * Keycloak init error handler.\n * @memberof module:session\n * @private\n */\nfunction keycloakInitError() {\n  log(\"[session.js] init error\");\n\n  keycloakInitHandler();\n\n  removeToken();\n  removeRefreshToken();\n}\n\n/**\n * Does some things after keycloak initializes, whether or not\n * initialization was successful.\n *\n * @memberof module:session\n * @private\n */\nfunction keycloakInitHandler() {\n  state.initialized = true;\n  handleEvents(\"init\");\n}\n\n/**\n * Creates a URL to the SSO service based on an old IDP URL.\n *\n * @memberof module:session\n * @returns {String} a URL to the SSO service\n * @private\n */\nfunction ssoUrl() {\n  var idp_url = window.portal && portal.idp_url;\n  var sso_url;\n\n  if (idp_url) {\n    // sculpt an environment-specific url\n    sso_url = idp_url.replace(\"idp\", \"sso\").replace(/\\/$/, \"\") + \"/auth\";\n  } else {\n    switch (location.hostname) {\n      // Valid PROD URLs\n      case \"access.redhat.com\":\n      case \"prod.foo.redhat.com\":\n      case \"rhn.redhat.com\":\n      case \"hardware.redhat.com\":\n      case \"www.redhat.com\":\n      case \"route-customer-portal-prod-prod.apps.ext-waf.spoke.prod.us-west-2.aws.paas.redhat.com\":\n      case \"route-customer-portal-prod-prod.apps.ext-waf.spoke.prod.us-east-1.aws.paas.redhat.com\":\n      case \"dxp-docs.ext.us-west.aws.prod.paas.redhat.com\":\n        log(\"[session.js] ENV: prod\");\n        return \"https://sso.redhat.com/auth\";\n\n      // Valid STAGE URLs\n      case \"access.stage.redhat.com\":\n      case \"accessstage.usersys.redhat.com\":\n      case \"stage.foo.redhat.com\":\n      case \"www.stage.redhat.com\":\n      case \"hwcert-web-01.host.stage.cwe.eng.phx2.redhat.com\":\n      case \"hwcert-web-01.host.stage.cwe.eng.phx.redhat.com\":\n      case \"dxp-docs-stage.ext.us-east.aws.preprod.paas.redhat.com\":\n        log(\"[session.js] ENV: stage\");\n        return \"https://sso.stage.redhat.com/auth\";\n\n      // Valid QA URLs\n      case \"access.qa.redhat.com\":\n      case \"qa.foo.redhat.com\":\n      case \"accessqa.usersys.redhat.com\":\n      case \"www.qa.redhat.com\":\n      case \"dxp-docs-qa.ext.us-east.aws.preprod.paas.redhat.com\":\n        log(\"[session.js] ENV: qa\");\n        return \"https://sso.qa.redhat.com/auth\";\n\n      // Valid CI URLs\n      default:\n        log(\"[session.js] ENV: dev/ci\");\n        return \"https://sso.qa.redhat.com/auth\";\n    }\n  }\n\n  return sso_url;\n}\n\n/**\n * A handler for when authentication is successfully established.\n *\n * @memberof module:session\n * @private\n */\nfunction onAuthSuccess() {\n  handleEvents(\"AuthSuccess\");\n}\n\nfunction onAuthError() {\n  removeToken();\n  removeRefreshToken();\n  handleEvents(\"AuthError\");\n}\n\nfunction onAuthRefreshSuccess() {\n  handleEvents(\"AuthRefreshSuccess\");\n}\nfunction onAuthRefreshError() {\n  handleEvents(\"AuthRefreshError\");\n}\nfunction onAuthLogout() {\n  logout({ skipRedirect: true });\n  handleEvents(\"AuthLogout\");\n}\nfunction onTokenExpired() {\n  handleEvents(\"TokenExpired\");\n}\n\n/**\n * Refreshes the access token.\n *\n * @memberof module:session\n */\nfunction updateToken(force) {\n  var shouldUpdate = force || !failCountPassed();\n\n  // if forced update, use large number to force a token refresh, otherwise use regular refresh tte\n  var refreshTTE = force ? Infinity : REFRESH_TTE;\n\n  if (shouldUpdate) {\n    log(\"[session.js] running updateToken\");\n    return state.keycloak\n      .updateToken(refreshTTE)\n      .success(updateTokenSuccess)\n      .error(updateTokenFailure);\n  } else {\n    log(\n      \"[session.js] not updating token because updating failed more than \" +\n        FAIL_COUNT_THRESHOLD +\n        \" times in a row\"\n    );\n    reportProblem(\n      \"gave up on token updates due after \" +\n        FAIL_COUNT_THRESHOLD +\n        \" consecutive failed token updates\"\n    );\n  }\n}\n\n/**\n * Start the {@link module:session.refreshLoop refreshLoop}, which\n * periodically updates the authentication token.\n *\n * @memberof module:session\n * @private\n */\nfunction startRefreshLoop() {\n  // now start the token refresh interval\n  setInterval(refreshLoop, REFRESH_INTERVAL);\n}\n\n/**\n * This is run periodically by {@link module:session.startRefreshLoop\n * startRefreshLoop}.\n *\n * @memberof module:session\n * @private\n */\nfunction refreshLoop() {\n  updateToken();\n}\n\n/**\n * Handler run when a token is successfully updated.\n *\n * @memberof module:session\n * @private\n */\nfunction updateTokenSuccess(refreshed) {\n  if (refreshed) {\n    log(\"[session.js] updateTokenSuccess: token was refreshed\");\n    setToken(state.keycloak.token);\n    setRefreshToken(state.keycloak.refreshToken);\n    resetFailCount(); // token update worked, so reset number of consecutive failures\n    cacheTimeSkew(state.keycloak.timeSkew || 0);\n    setRavenUserContext();\n  } else {\n    log(\"[session.js] updateTokenSuccess: token not yet due for refresh\");\n  }\n}\n\n/**\n * Cache the time skew in localStorage so we can pass it back into keycloak\n * on the next pageview.  This prevents the JWT from refreshing on every\n * single pageview, since Keycloak.js can know how exactly when the\n * existing token will expire *on the server*.  That can only be done\n * when Keycloak.js knows the difference between client time and server\n * time.\n * @memberof module:session\n * @private\n */\nfunction cacheTimeSkew(timeSkew) {\n  if (Math.abs(timeSkew) < MAX_CACHED_TIMESKEW) {\n    log(\"[session.js] caching the timeSkew (\" + timeSkew + \")\");\n    store.set(TIMESKEW_CACHE_NAME, timeSkew);\n  } else {\n    log(\n      \"[session.js] not caching the timeSkew because magnitude too high (\" +\n        timeSkew +\n        \")\"\n    );\n  }\n}\n\n/**\n * Retrieve the cached timeskew (if any) from localStorage.\n * @memberof module:session\n * @private\n */\nfunction getCachedTimeSkew() {\n  return store.get(TIMESKEW_CACHE_NAME);\n}\n\n/**\n * Check for any extremely high cached timeskews and clear them.\n * @memberof module:session\n * @private\n */\nfunction clearExtremeTimeSkewCache() {\n  if (Math.abs(getCachedTimeSkew()) > MAX_CACHED_TIMESKEW) {\n    log(\n      \"[session.js] deleting cached timeskew, it was \" +\n        getCachedTimeSkew() +\n        \"s which exceeds the limit of \" +\n        MAX_CACHED_TIMESKEW +\n        \"s\"\n    );\n    store.remove(TIMESKEW_CACHE_NAME);\n  }\n}\n\n/**\n * Handler run when a token update fails.\n *\n * @memberof module:session\n * @private\n */\nfunction updateTokenFailure(load_failure) {\n  log(\"[session.js] updateTokenFailure\");\n  incFailCount();\n}\n\n/**\n * Save the refresh token value in a semi-persistent place (sessionStorage).\n *\n * @memberof module:session\n * @private\n */\nfunction setRefreshToken(refresh_token) {\n  log(\"[session.js] setting refresh token\");\n  store.set(REFRESH_TOKEN_NAME, refresh_token);\n}\n\n/**\n * Remove the token value from its a semi-persistent place.\n *\n * @memberof module:session\n * @private\n */\nfunction removeRefreshToken() {\n  log(\"[session.js] removing refresh token\");\n  store.remove(REFRESH_TOKEN_NAME);\n}\n\n/**\n * Save the token value in a semi-persistent place (cookie).\n *\n * @memberof module:session\n * @private\n */\nfunction setToken(token) {\n  // make sure token is defined\n  if (token) {\n    // save the token in localStorage AND in a cookie.  the cookie\n    // exists so it'll be sent along with AJAX requests.  the\n    // localStorage value exists so the token can be refreshed even if\n    // it's been expired for a long time.\n    // extrapolate token's duration by finding the difference between the expiry time (exp) and the issued time (iat)\n    var expiresIn = Math.floor(\n      state.keycloak.tokenParsed.exp -\n        new Date().getTime() / 1000 +\n        getCachedTimeSkew()\n    );\n    log(\n      \"[session.js] setting access token with lifetime \" +\n        expiresIn +\n        \" seconds\"\n    );\n    store.set(TOKEN_NAME, token);\n    document.cookie =\n      COOKIE_NAME +\n      \"=\" +\n      token +\n      \";path=/;max-age=\" +\n      expiresIn +\n      \";domain=.\" +\n      origin +\n      \"; SameSite=None; secure;\";\n  }\n}\n\n/**\n * Remove the token value from its a semi-persistent place.\n *\n * @memberof module:session\n * @private\n */\nfunction removeToken() {\n  log(\"[session.js] removing access token\");\n  store.remove(TOKEN_NAME);\n  document.cookie =\n    COOKIE_NAME +\n    \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=.\" +\n    origin +\n    \"; path=/;SameSite=None;secure;\";\n  // Just to be sure that insecure cookies, and cookies without SameSite, created by past versions of this module, are deleted.\n  document.cookie =\n    COOKIE_NAME +\n    \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=.\" +\n    origin +\n    \"; path=/;secure;\";\n  document.cookie =\n    COOKIE_NAME +\n    \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=.\" +\n    origin +\n    \"; path=/;\";\n}\n\n/**\n * Get an object containing the parsed JSON Web Token.  Contains user and session metadata.\n *\n * @memberof module:session\n * @return {Object} the parsed JSON Web Token\n */\nfunction getToken() {\n  return state?.keycloak?.tokenParsed;\n}\n\n/**\n * Get a string containing the unparsed, base64-encoded JSON Web Token.\n *\n * @memberof module:session\n * @return {Object} the parsed JSON Web Token\n */\nfunction getEncodedToken() {\n  return state.keycloak.token;\n}\n\n/**\n * Return true if the token is expired.  If you provide a numerical\n * argument (minValidity), it will return true if the token _would_ expire\n * within minValidity seconds from now.\n *\n * This function is currently a pass-through to Keycloak.js's isTokenExpired function.\n *\n * @memberof module:session\n * @return {Boolean} true if the token would\n * @see https://www.keycloak.org/docs/latest/securing_apps/index.html#istokenexpired-minvalidity\n */\nfunction isTokenExpired(minValidity) {\n  return state.keycloak.isTokenExpired(minValidity);\n}\n\n/**\n * Get the user info from the JSON Web Token.  Contains user information\n * similar to what the old userStatus REST service returned.\n *\n * @memberof module:session\n * @return {Object} the user information\n */\nfunction getUserInfo() {\n  // the properties to return\n  var token = getToken();\n  var user = {};\n  if (token) {\n    user = {\n      user_id: token.user_id,\n      username: token.username,\n      account_id: token.account_id,\n      account_number: token.account_number,\n      email: token.email,\n      firstName: token.firstName,\n      lastName: token.lastName,\n      lang: token.lang,\n      region: token.region,\n      login: token.username,\n      internal: isInternal(),\n    };\n  }\n  return user;\n}\n\n/**\n * Is the user authenticated?\n *\n * @memberof module:session\n * @returns {Boolean} true if the user is authenticated, false otherwise\n */\nfunction isAuthenticated() {\n  return state.keycloak.authenticated;\n}\n\n/**\n * Is the user is a Red Hat employee?\n *\n * @memberof module:session\n * @returns {Boolean} true if the user is a Red Hat employee, otherwise false\n */\nfunction isInternal() {\n  return state.keycloak.hasRealmRole(INTERNAL_ROLE);\n}\n\n/**\n * Returns true if the user has all the given role(s).  You may provide any\n * number of roles.\n *\n * @param {...String} roles All the roles you wish to test for.  See\n * examples.\n * @returns {Boolean} whether the user is a member of ALL given roles\n * @example session.hasRole('portal_manage_cases');\n * session.hasRole('role1', 'role2', 'role3');\n * @memberof module:session\n */\nfunction hasRole() {\n  for (var i = 0; i < arguments.length; ++i) {\n    if (!state.keycloak.hasRealmRole(arguments[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Get the URL to the registration page.\n * @return {String} the URL to the registration page\n * @memberof module:session\n */\nfunction getRegisterUrl() {\n  return state.keycloak.createRegisterUrl();\n}\n\n/**\n * Get the URL to the login page.\n * @return {String} the URL to the login page\n * @memberof module:session\n */\nfunction getLoginUrl(optionsIn) {\n  var options = optionsIn || {};\n\n  var redirectUri = options.redirectUri || location.href;\n\n  options.redirectUri = getBounceUrl(redirectUri);\n\n  log(\"[session.js] getLoginUrl's bounceUri is \" + options.redirectUri);\n\n  return state.keycloak.createLoginUrl(options);\n}\n\n/**\n * Provide the URL you want to be redirected to after the login process is\n * complete, and this function will generate a \"bounce URL\", which\n * includes the 'scribe' page in the path.  The scribe page is\n * responsible for writing the rh_jwt cookie before the browser is\n * returned to your page, so that the app server (in cases where there is one), will have access to the cookie.\n *\n * @param {String} redirectTo the URL you want to be redirected to after the login process is complete.\n * @return {String} the bounce URL\n */\nfunction getBounceUrl(redirectTo) {\n  var redirectUri = redirectTo || location.href;\n  var uri = new URL(redirectUri);\n  var bounceUri =\n    uri.origin + getBouncePath() + encodeURIComponent(redirectUri);\n  return bounceUri;\n}\n\n/**\n * Get the URL to the logout page.\n * @return {String} the URL to the logout page\n * @memberof module:session\n */\nfunction getLogoutUrl() {\n  return state.keycloak.createLogoutUrl();\n}\n\n/**\n * Get the URL to the account management page.\n * @return {String} the URL to the account management page\n * @memberof module:session\n */\nfunction getAccountUrl() {\n  return state.keycloak.createAccountUrl();\n}\n\n/**\n * \"Decorator\" enforcing that session.js be initialized before the wrapped\n * function will be run.\n *\n * @memberof module:session\n * @private\n * @param {Function} func a function which shouldn't be run before session.js is\n * initialized.\n * @return {Function}\n */\nfunction initialized(func) {\n  return function () {\n    if (state.initialized) {\n      return func.apply({}, arguments);\n    } else {\n      console.warn(\n        \"[session.js] couldn't call function, session not initialized\"\n      );\n      return;\n    }\n  };\n}\n\n/**\n * Logs the user in.  An unauthenticated user will be sent to the\n * credentials form and then back to the current page.  An authenticated\n * user will be sent to the Keycloak server but bounced back to the current\n * page right away.\n *\n * @memberof module:session\n * @param {Object} options See [options](https://keycloak.gitbooks.io/securing-client-applications-guide/content/v/2.2/topics/oidc/javascript-adapter.html#_login_options) for valid options.\n */\nfunction login(optionsIn) {\n  var options = optionsIn || {};\n  var redirectUri = options.redirectUri || location.href;\n  options.redirectUri = getBounceUrl(redirectUri);\n\n  log(\"[session.js] login() is redirecting to: \" + options.redirectUri);\n\n  state.keycloak.login(options);\n}\n\n/**\n * Navigate to the logout page, end session, then navigate back.\n * @memberof module:session\n */\nfunction logout(options) {\n  var opts = options || {};\n\n  resetFailCount();\n  removeToken();\n  removeRefreshToken();\n\n  if (!opts.skipRedirect) {\n    var logoutPageUrl = window.location.origin + \"/logout\";\n    var logoutBeginUrl = state.keycloak.createLogoutUrl({\n      redirectUri: opts.redirectUri || logoutPageUrl,\n    });\n    window.location.href = logoutBeginUrl;\n  }\n}\n\n/**\n * Navigate to the account registration page.\n *\n * @memberof module:session\n */\nfunction register(options) {\n  state.keycloak.register(options);\n}\n\n/**\n * Returns the path to the \"scribe\" page (login bounce page that writes the\n * rh_jwt cookie and localStorage refresh token.\n */\nfunction getBouncePath() {\n  return SCRIBE_PATH;\n}\n\n/**\n * Send current user context to Raven (JS error logging library).\n * @memberof module:session\n * @private\n */\nfunction setRavenUserContext() {\n  // once the user info service has returned, use its data to add user\n  // context to RavenJS, for inclusion in Sentry error reports.\n  var data = getUserInfo();\n  if (\n    typeof window.Raven !== \"undefined\" &&\n    typeof window.Raven.setUserContext === \"function\"\n  ) {\n    var rh_jwt_cookie = cookie.getCookieValue(COOKIE_NAME);\n    var rh_jwt_ls = store.get(COOKIE_NAME);\n\n    // You can't send PII to Sentry.  Because PII can't be sent to\n    // Sentry.  Sentry is not a tool that can be used with PII.  As\n    // I have answered Sentry-related questions so many times before,\n    // the use of Sentry will not allow you to use PII.  Sentry is\n    // a tool that is forbidden from receiving PII.  The Sentry\n    // contract is not equipped to persist our PII. so many times but\n    // it is not getting to me.  Even paying for Sentry hosting as used\n    // by us are not up to the task of persist PII. You will never make\n    // me crack. Sentry is a tool of sufficient externality that it\n    // cannot persist our PII. Even on-prem Sentry cannot persist PII.\n    // Every time you attempt to persist PII with Sentry, the unholy\n    // child weeps the blood of virgins, and Russian hackers pwn your\n    // webapp. Persisting PII with Sentry summons tainted souls into\n    // the realm of the living. PII and Sentry go together like love,\n    // marriage, and ritual infanticide. The <center> cannot hold it is\n    // too late. The force of Sentry and PII together in the same\n    // conceptual space will destroy your mind like so much watery\n    // putty. If you persist PII with Sentry you are giving in to Them\n    // and their blasphemous ways which doom us all to inhuman toil for\n    // the One whose Name cannot be expressed in the Basic Multilingual\n    // Plane, he comes.  PII-plus-Sentry will liquify the nerves of the\n    // sentient whilst you observe, your psyche withering in the\n    // onslaught of horror. S\u0336e\u031Bnt\u0322ry PII persist are the cancer that is\n    // killing The Web it is too late it is too late we cannot be saved\n    // the trangession of a chi\u0361ld ensures Sentry will consume all\n    // living tissue (except for PII which it cannot, as previously\n    // prophesied) dear lord help us how can anyone survive this\n    // scourge using Sentry to persist PII has doomed humanity to an\n    // eternity of dread torture and security holes using Sentry as\n    // a tool to persist PII establishes a breach between this world\n    // and the dread realm of c\u0352\u036Ao\u035B\u036Brrupt entities a mere glimpse of the\n    // world of S\u035Ee\u035Fn\u0334t\u0334ry persistence for PII will instantly transport\n    // a programmer's consciousness into a world of ceaseless\n    // screaming, he comes, the pestilent slithy Sentry-infection will\n    // devour your HTML parser, application and existence for all time\n    // like CoffeeScript only worse he comes he comes do not fight he\n    // com\u0321e\u0336s, \u0315h\u0335is un\u0328ho\u035Ely radian\u0341ce\u0341 destro\u0489ying all enli\u030D\u0344\u0302\u0344ghtenment, PII\n    // data lea\u0360ki\u0327n\u0358g fr\u0336o\u0328m \u0321your eye\u0362s\u0338 \u031Bl\u0315ik\u034Fe liquid pain, the song of P\u0336\u0315I\u0337I\u035D\n    // persistence will extinguish the voices of mortal man from the\n    // sphere I can see it can you see \u0332\u035A\u0316\u0354\u0319i\u0302\u0341\u0329t\u0301\u030B\u0340\u0332\u034E\u0329\u0331\u0354 it is beautiful the final\n    // snuffing of the lies of Man ALL IS LOS\u0301\u030F\u0344\u0356\u0329\u0347\u0317\u032AT ALL IS LOST the pon\u0337y he\n    // comes he c\u0336\u032Eomes he comes the ichor permeates all MY FACE MY FACE\n    // \u1D52h god no NO NOO\u033COO N\u0398 stop the an*\u0351\u033E\u033E\u0336g\u035B\u0346\u033E\u036B\u0311\u0346\u0347\u032Bl\u030D\u036B\u0365\u0368\u0356\u0349\u0317\u0329\u0333\u031Fe\u0305\u0320s \u034Ea\u0327\u0348\u0356r\u033D\u033E\u0344\u0352\u0351e not re\u0300\u0311\u0367\u030Ca\u0368l\u0303\u0364\u0342\u033E\u0306\u0318\u031D\u0319 ZA\u0360\u0321\u034A\u035DLG\u038C IS\u036E\u0302\u0489\u032F\u0348\u0355\u0339\u0318\u0331\n    // TO\u0345\u0347\u0339\u033A\u019D\u0334\u0233\u0333 TH\u0318E\u0344\u0309\u0356 \u0360P\u032F\u034D\u032DO\u031AN\u0310Y\u0321 H\u0368\u034A\u033D\u0305\u033E\u030E\u0321\u0338\u032A\u032FE\u033E\u035B\u036A\u0344\u0300\u0301\u0327\u0358\u032C\u0329 \u0367\u033E\u036C\u0327\u0336\u0328\u0331\u0339\u032D\u032FC\u036D\u030F\u0365\u036E\u035F\u0337\u0319\u0332\u031D\u0356O\u036E\u034F\u032E\u032A\u031D\u034DM\u034A\u0312\u031A\u036A\u0369\u036C\u031A\u035C\u0332\u0316E\u0311\u0369\u034C\u035D\u0334\u031F\u031F\u0359\u031ES\u036F\u033F\u0314\u0328\u0340\u0325\u0345\u032B\u034E\u032D\n\n    Raven.setUserContext({\n      id: data.user_id,\n      chrome_session_id: cookie.getCookieValue(\"chrome_session_id\"),\n      sessionjs: {\n        rh_sso_session: !!cookie.getCookieValue(\"rh_sso_session\"),\n        jwt: {\n          rh_user_cookie_exists: !!cookie.getCookieValue(\"rh_user\"), // does this cookie exist, value is irrelevant\n          rh_jwt_cookie_exists: !!rh_jwt_cookie, // does this cookie exist, value is irrelevant\n          rh_jwt_localstorage_exists: !!rh_jwt_ls, // does this exist, value is irrelevant\n          rh_jwt_cookie_matches_localstorage: rh_jwt_cookie === rh_jwt_ls,\n          refresh_token_localstorage_exists: !!store.get(REFRESH_TOKEN_NAME), // does this exist, value is irrelevant\n          user_id: data.user_id,\n          account_id: data.account_id,\n          account_number: data.account_number,\n          internal: data.internal,\n          lang: data.lang,\n        },\n      },\n    });\n\n    log(\"[session.js] sent user context to Raven\");\n  }\n}\n\n/**\n * Receive an error report from an application and send it to a remote logging service.  Follows the same function signature as [Raven.captureMessage](https://docs.sentry.io/clients/javascript/usage/#capturing-messages).\n * @memberof module:session\n * @param {String|Error} msg The message or error object to log\n * @param {Object} options options object to customize the report, see [Raven.captureMessage](https://docs.sentry.io/clients/javascript/usage/#capturing-messages)\n */\nfunction reportProblem(msg, options) {\n  // update user context before sending, in case any user metadata or\n  // cookies have changed since it was first set\n  setRavenUserContext();\n\n  // add some extra metadata to the message.  more fields can be provided with\n  // the `options` object, but `tags.chrome_module` and `level` are fixed.\n  var opts = {\n    ...options,\n    ...{\n      tags: {\n        ...(options.tags || {}),\n        chrome_module: \"session\",\n      },\n      level: \"error\",\n    },\n  };\n\n  if (\n    typeof window.Raven !== \"undefined\" &&\n    typeof window.Raven.captureMessage === \"function\"\n  ) {\n    log(\"[session.js] sending a problem report to Sentry\");\n    Raven.captureException(msg, opts || {});\n  }\n}\n\n/**\n * Get the number of times in a row that token refresh has failed.\n * @return {Number} the number of times that token refresh has failed\n * @memberof module:session\n */\nfunction getFailCount() {\n  return store.get(FAIL_COUNT_NAME) || 0;\n}\n\n/**\n * Return whether or not the consecutive failure count has been exceeded.\n * @memberof module:session\n * @return {Boolean} has the consecutive failure count been exceeded\n */\nfunction failCountPassed() {\n  return getFailCount() > FAIL_COUNT_THRESHOLD;\n}\n\n/**\n * Increment the number of times in a row that token refresh has failed.\n * @return {Number} the new, incremented number of times that token refresh has failed\n */\nfunction incFailCount() {\n  // only increment the fail count if the token is *not* expired.  this\n  // prevents tabs with expired tokens from inflating the failure count\n\n  // isTokenExpired errors if the user is unauthenticated, so in essence\n  // this is checking whether the user has a valid session (with\n  // associated valid refresh token), and if so, then checks if the\n  // access token is expired.  if both the refresh token and access token\n  // are valid, then increment the fail count.\n  try {\n    if (!state.keycloak.isTokenExpired()) {\n      var currentCount = getFailCount();\n      currentCount += 1;\n      store.set(FAIL_COUNT_NAME, currentCount);\n      return currentCount;\n    }\n  } catch (e) {}\n}\n\n/**\n * Reset the number of times in a row that token refresh has failed.\n * @memberof module:session\n * @private\n */\nfunction resetFailCount() {\n  store.set(FAIL_COUNT_NAME, 0);\n}\n\n/**\n * This function handles cases where session.js changes its data structre\n * in some way that would affect users who have existing an session,\n * cookies, or localStorage values.  It will change and expand as migration\n * needs arise.\n *\n * To add a new migration step, add a named function inside migrate, then\n * call it at the top.  Migration steps will be run every time session.js\n * initializes, so be sure migration steps have no side effects when run\n * multiple times.  Look within for examples.\n *\n * @memberof module:session\n * @private\n */\nfunction migrate() {\n  // run migration steps\n\n  migrateToNamespacedLocalStorage();\n\n  // migration steps defined below\n\n  function migrateToNamespacedLocalStorage() {\n    // added for CPFED-2240\n    // check for the old localStorage keys and if they exist, move them to the new, namespaced keys\n    var oldToken = store.get(\"rh_jwt\");\n    var oldRefreshToken = store.get(\"rh_refresh_token\");\n    var oldTimeSkew = store.get(\"rh_jwt_timeskew\");\n\n    if (oldToken) {\n      store.set(TOKEN_NAME, oldToken);\n      store.remove(\"rh_jwt\");\n    }\n\n    if (oldRefreshToken) {\n      store.set(REFRESH_TOKEN_NAME, oldRefreshToken);\n      store.remove(\"rh_refresh_token\");\n    }\n\n    if (oldTimeSkew) {\n      store.set(TIMESKEW_CACHE_NAME, oldTimeSkew);\n      store.remove(\"rh_jwt_timeskew\");\n    }\n  }\n}\n\nvar API = {\n  login: initialized(login),\n  logout: initialized(logout),\n  register: initialized(register),\n  hasRole: initialized(hasRole),\n  isInternal: initialized(isInternal),\n  isAuthenticated: initialized(isAuthenticated),\n  getRegisterUrl: initialized(getRegisterUrl),\n  getLoginUrl: initialized(getLoginUrl),\n  getLogoutUrl: initialized(getLogoutUrl),\n  getAccountUrl: initialized(getAccountUrl),\n  getToken: initialized(getToken),\n  getEncodedToken: initialized(getEncodedToken),\n  isTokenExpired: initialized(isTokenExpired),\n  getUserInfo: initialized(getUserInfo),\n  updateToken: initialized(updateToken),\n  on: on,\n  onInit: onInit,\n  init: init,\n  getBouncePath: getBouncePath,\n  _state: state,\n  getFailCount: getFailCount,\n  failCountPassed: failCountPassed,\n  reportProblem: reportProblem,\n};\n\nexport default API;\n", "/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// (function(root, factory) {\n//     if ( typeof exports === 'object' ) {\n//         if ( typeof module === 'object' ) {\n//             module.exports = factory( require(\"js-sha256\"), require(\"base64-js\") );\n//         } else {\n//             exports[\"keycloak\"] = factory( require(\"js-sha256\"), require(\"base64-js\") );\n//         }\n//     } else {\n//         /**\n//         * [js-sha256]{@link https://github.com/emn178/js-sha256}\n//         *\n//         * @version 0.9.0\n//         * @author Chen, Yi-Cyuan [emn178@gmail.com]\n//         * @copyright Chen, Yi-Cyuan 2014-2017\n//         * @license MIT\n//         */\n\n//         /**\n//          * [base64-js]{@link https://github.com/beatgammit/base64-js}\n//          *\n//          * @version v1.3.0\n//          * @author Kirill, Fomichev\n//          * @copyright Kirill, Fomichev 2014\n//          * @license MIT\n//          */\n\n//         /**\n//          * [promise-polyfill]{@link https://github.com/taylorhakes/promise-polyfill}\n//          *\n//          * @version v8.1.3\n//          * @author Hakes, Taylor\n//          * @copyright Hakes, Taylor 2014\n//          * @license MIT\n//          */\n\n//         var Keycloak = factory( root[\"sha256\"], root[\"base64js\"] );\n//         // root[\"Keycloak\"] = Keycloak;\n\n//         if ( typeof define === \"function\" && define.amd ) {\n//             define( \"keycloak\", [], function () { return Keycloak; } );\n//         }\n//     }\n// })\n// (window, function (sha256_imported, base64js_imported) {\n\nimport sha256_imported from \"js-sha256\";\nimport base64js_imported from \"base64-js\";\n\nif (typeof Promise === \"undefined\") {\n  throw Error(\n    \"Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.\"\n  );\n}\n\nvar loggedPromiseDeprecation = false;\n\nfunction logPromiseDeprecation() {\n  if (!loggedPromiseDeprecation) {\n    loggedPromiseDeprecation = true;\n    console.warn(\n      \"[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead.\"\n    );\n  }\n}\n\nfunction Keycloak(config) {\n  if (!(this instanceof Keycloak)) {\n    return new Keycloak(config);\n  }\n\n  var kc = this;\n  var adapter;\n  var refreshQueue = [];\n  var callbackStorage;\n\n  var loginIframe = {\n    enable: true,\n    callbackList: [],\n    interval: 5,\n  };\n\n  var scripts = document.getElementsByTagName(\"script\");\n  for (var i = 0; i < scripts.length; i++) {\n    if (\n      (scripts[i].src.indexOf(\"keycloak.js\") !== -1 ||\n        scripts[i].src.indexOf(\"keycloak.min.js\") !== -1) &&\n      scripts[i].src.indexOf(\"version=\") !== -1\n    ) {\n      kc.iframeVersion = scripts[i].src\n        .substring(scripts[i].src.indexOf(\"version=\") + 8)\n        .split(\"&\")[0];\n    }\n  }\n\n  var useNonce = true;\n  var logInfo = createLogger(console.info);\n  var logWarn = createLogger(console.warn);\n\n  kc.init = function (initOptions) {\n    kc.authenticated = false;\n\n    callbackStorage = createCallbackStorage();\n    var adapters = [\"default\", \"cordova\", \"cordova-native\"];\n\n    if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n      adapter = loadAdapter(initOptions.adapter);\n    } else if (initOptions && typeof initOptions.adapter === \"object\") {\n      adapter = initOptions.adapter;\n    } else {\n      if (window.Cordova || window.cordova) {\n        adapter = loadAdapter(\"cordova\");\n      } else {\n        adapter = loadAdapter();\n      }\n    }\n\n    if (initOptions) {\n      if (typeof initOptions.useNonce !== \"undefined\") {\n        useNonce = initOptions.useNonce;\n      }\n\n      if (typeof initOptions.checkLoginIframe !== \"undefined\") {\n        loginIframe.enable = initOptions.checkLoginIframe;\n      }\n\n      if (initOptions.checkLoginIframeInterval) {\n        loginIframe.interval = initOptions.checkLoginIframeInterval;\n      }\n\n      if (initOptions.onLoad === \"login-required\") {\n        kc.loginRequired = true;\n      }\n\n      if (initOptions.responseMode) {\n        if (\n          initOptions.responseMode === \"query\" ||\n          initOptions.responseMode === \"fragment\"\n        ) {\n          kc.responseMode = initOptions.responseMode;\n        } else {\n          throw \"Invalid value for responseMode\";\n        }\n      }\n\n      if (initOptions.flow) {\n        switch (initOptions.flow) {\n          case \"standard\":\n            kc.responseType = \"code\";\n            break;\n          case \"implicit\":\n            kc.responseType = \"id_token token\";\n            break;\n          case \"hybrid\":\n            kc.responseType = \"code id_token token\";\n            break;\n          default:\n            throw \"Invalid value for flow\";\n        }\n        kc.flow = initOptions.flow;\n      }\n\n      if (initOptions.timeSkew != null) {\n        kc.timeSkew = initOptions.timeSkew;\n      }\n\n      if (initOptions.redirectUri) {\n        kc.redirectUri = initOptions.redirectUri;\n      }\n\n      if (initOptions.silentCheckSsoRedirectUri) {\n        kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n      }\n\n      if (typeof initOptions.silentCheckSsoFallback === \"boolean\") {\n        kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n      } else {\n        kc.silentCheckSsoFallback = true;\n      }\n\n      if (initOptions.pkceMethod) {\n        if (initOptions.pkceMethod !== \"S256\") {\n          throw \"Invalid value for pkceMethod\";\n        }\n        kc.pkceMethod = initOptions.pkceMethod;\n      }\n\n      if (typeof initOptions.enableLogging === \"boolean\") {\n        kc.enableLogging = initOptions.enableLogging;\n      } else {\n        kc.enableLogging = false;\n      }\n    }\n\n    if (!kc.responseMode) {\n      kc.responseMode = \"fragment\";\n    }\n    if (!kc.responseType) {\n      kc.responseType = \"code\";\n      kc.flow = \"standard\";\n    }\n\n    var promise = createPromise();\n\n    var initPromise = createPromise();\n    initPromise.promise\n      .then(function () {\n        kc.onReady && kc.onReady(kc.authenticated);\n        promise.setSuccess(kc.authenticated);\n      })\n      .catch(function (errorData) {\n        promise.setError(errorData);\n      });\n\n    var configPromise = loadConfig(config);\n\n    function onLoad() {\n      var doLogin = function (prompt) {\n        if (!prompt) {\n          options.prompt = \"none\";\n        }\n\n        kc.login(options)\n          .then(function () {\n            initPromise.setSuccess();\n          })\n          .catch(function () {\n            initPromise.setError();\n          });\n      };\n\n      var checkSsoSilently = function () {\n        var ifrm = document.createElement(\"iframe\");\n        var src = kc.createLoginUrl({\n          prompt: \"none\",\n          redirectUri: kc.silentCheckSsoRedirectUri,\n        });\n        ifrm.setAttribute(\"src\", src);\n        ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n        ifrm.style.display = \"none\";\n        document.body.appendChild(ifrm);\n\n        var messageCallback = function (event) {\n          if (\n            event.origin !== window.location.origin ||\n            ifrm.contentWindow !== event.source\n          ) {\n            return;\n          }\n\n          var oauth = parseCallback(event.data);\n          processCallback(oauth, initPromise);\n\n          document.body.removeChild(ifrm);\n          window.removeEventListener(\"message\", messageCallback);\n        };\n\n        window.addEventListener(\"message\", messageCallback);\n      };\n\n      var options = {};\n      switch (initOptions.onLoad) {\n        case \"check-sso\":\n          if (loginIframe.enable) {\n            setupCheckLoginIframe().then(function () {\n              checkLoginIframe()\n                .then(function (unchanged) {\n                  if (!unchanged) {\n                    kc.silentCheckSsoRedirectUri\n                      ? checkSsoSilently()\n                      : doLogin(false);\n                  } else {\n                    initPromise.setSuccess();\n                  }\n                })\n                .catch(function () {\n                  initPromise.setError();\n                });\n            });\n          } else {\n            kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n          }\n          break;\n        case \"login-required\":\n          doLogin(true);\n          break;\n        default:\n          throw \"Invalid value for onLoad\";\n      }\n    }\n\n    function processInit() {\n      var callback = parseCallback(window.location.href);\n\n      if (callback) {\n        window.history.replaceState(\n          window.history.state,\n          null,\n          callback.newUrl\n        );\n      }\n\n      if (callback && callback.valid) {\n        return setupCheckLoginIframe()\n          .then(function () {\n            processCallback(callback, initPromise);\n          })\n          .catch(function (e) {\n            initPromise.setError();\n          });\n      } else if (initOptions) {\n        if (initOptions.token && initOptions.refreshToken) {\n          setToken(\n            initOptions.token,\n            initOptions.refreshToken,\n            initOptions.idToken\n          );\n\n          if (loginIframe.enable) {\n            setupCheckLoginIframe().then(function () {\n              checkLoginIframe()\n                .then(function (unchanged) {\n                  if (unchanged) {\n                    kc.onAuthSuccess && kc.onAuthSuccess();\n                    initPromise.setSuccess();\n                    scheduleCheckIframe();\n                  } else {\n                    initPromise.setSuccess();\n                  }\n                })\n                .catch(function () {\n                  initPromise.setError();\n                });\n            });\n          } else {\n            kc.updateToken(-1)\n              .then(function () {\n                kc.onAuthSuccess && kc.onAuthSuccess();\n                initPromise.setSuccess();\n              })\n              .catch(function () {\n                kc.onAuthError && kc.onAuthError();\n                if (initOptions.onLoad) {\n                  onLoad();\n                } else {\n                  initPromise.setError();\n                }\n              });\n          }\n        } else if (initOptions.onLoad) {\n          onLoad();\n        } else {\n          initPromise.setSuccess();\n        }\n      } else {\n        initPromise.setSuccess();\n      }\n    }\n\n    function domReady() {\n      var promise = createPromise();\n\n      var checkReadyState = function () {\n        if (\n          document.readyState === \"interactive\" ||\n          document.readyState === \"complete\"\n        ) {\n          document.removeEventListener(\"readystatechange\", checkReadyState);\n          promise.setSuccess();\n        }\n      };\n      document.addEventListener(\"readystatechange\", checkReadyState);\n\n      checkReadyState(); // just in case the event was already fired and we missed it (in case the init is done later than at the load time, i.e. it's done from code)\n\n      return promise.promise;\n    }\n\n    configPromise.then(function () {\n      domReady()\n        .then(check3pCookiesSupported)\n        .then(processInit)\n        .catch(function () {\n          promise.setError();\n        });\n    });\n    configPromise.catch(function () {\n      promise.setError();\n    });\n\n    return promise.promise;\n  };\n\n  kc.login = function (options) {\n    return adapter.login(options);\n  };\n\n  function generateRandomData(len) {\n    // use web crypto APIs if possible\n    var array = null;\n    var crypto = window.crypto || window.msCrypto;\n    if (crypto && crypto.getRandomValues && window.Uint8Array) {\n      array = new Uint8Array(len);\n      crypto.getRandomValues(array);\n      return array;\n    }\n\n    // fallback to Math random\n    array = new Array(len);\n    for (var j = 0; j < array.length; j++) {\n      array[j] = Math.floor(256 * Math.random());\n    }\n    return array;\n  }\n\n  function generateCodeVerifier(len) {\n    return generateRandomString(\n      len,\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n    );\n  }\n\n  function generateRandomString(len, alphabet) {\n    var randomData = generateRandomData(len);\n    var chars = new Array(len);\n    for (var i = 0; i < len; i++) {\n      chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n    }\n    return String.fromCharCode.apply(null, chars);\n  }\n\n  function generatePkceChallenge(pkceMethod, codeVerifier) {\n    switch (pkceMethod) {\n      // The use of the \"plain\" method is considered insecure and therefore not supported.\n      case \"S256\":\n        // hash codeVerifier, then encode as url-safe base64 without padding\n        var hashBytes = new Uint8Array(\n          sha256_imported.arrayBuffer(codeVerifier)\n        );\n        var encodedHash = base64js_imported\n          .fromByteArray(hashBytes)\n          .replace(/\\+/g, \"-\")\n          .replace(/\\//g, \"_\")\n          .replace(/\\=/g, \"\");\n        return encodedHash;\n      default:\n        throw \"Invalid value for pkceMethod\";\n    }\n  }\n\n  kc.createLoginUrl = function (options) {\n    var state = createUUID();\n    var nonce = createUUID();\n\n    var redirectUri = adapter.redirectUri(options);\n\n    var callbackState = {\n      state: state,\n      nonce: nonce,\n      redirectUri: encodeURIComponent(redirectUri),\n    };\n\n    if (options && options.prompt) {\n      callbackState.prompt = options.prompt;\n    }\n\n    var baseUrl;\n    if (options && options.action == \"register\") {\n      baseUrl = kc.endpoints.register();\n    } else {\n      baseUrl = kc.endpoints.authorize();\n    }\n\n    var scope;\n    if (options && options.scope) {\n      if (options.scope.indexOf(\"openid\") != -1) {\n        scope = options.scope;\n      } else {\n        scope = \"openid \" + options.scope;\n      }\n    } else {\n      scope = \"openid\";\n    }\n\n    var url =\n      baseUrl +\n      \"?client_id=\" +\n      encodeURIComponent(kc.clientId) +\n      \"&redirect_uri=\" +\n      encodeURIComponent(redirectUri) +\n      \"&state=\" +\n      encodeURIComponent(state) +\n      \"&response_mode=\" +\n      encodeURIComponent(kc.responseMode) +\n      \"&response_type=\" +\n      encodeURIComponent(kc.responseType) +\n      \"&scope=\" +\n      encodeURIComponent(scope);\n    if (useNonce) {\n      url = url + \"&nonce=\" + encodeURIComponent(nonce);\n    }\n\n    if (options && options.prompt) {\n      url += \"&prompt=\" + encodeURIComponent(options.prompt);\n    }\n\n    if (options && options.maxAge) {\n      url += \"&max_age=\" + encodeURIComponent(options.maxAge);\n    }\n\n    if (options && options.loginHint) {\n      url += \"&login_hint=\" + encodeURIComponent(options.loginHint);\n    }\n\n    if (options && options.idpHint) {\n      url += \"&kc_idp_hint=\" + encodeURIComponent(options.idpHint);\n    }\n\n    if (options && options.action && options.action != \"register\") {\n      url += \"&kc_action=\" + encodeURIComponent(options.action);\n    }\n\n    if (options && options.locale) {\n      url += \"&ui_locales=\" + encodeURIComponent(options.locale);\n    }\n\n    if (kc.pkceMethod) {\n      var codeVerifier = generateCodeVerifier(96);\n      callbackState.pkceCodeVerifier = codeVerifier;\n      var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n      url += \"&code_challenge=\" + pkceChallenge;\n      url += \"&code_challenge_method=\" + kc.pkceMethod;\n    }\n\n    callbackStorage.add(callbackState);\n\n    return url;\n  };\n\n  kc.logout = function (options) {\n    return adapter.logout(options);\n  };\n\n  kc.createLogoutUrl = function (options) {\n    var url =\n      kc.endpoints.logout() +\n      \"?post_logout_redirect_uri=\" +\n      encodeURIComponent(adapter.redirectUri(options, false));\n\n    return url;\n  };\n\n  kc.register = function (options) {\n    return adapter.register(options);\n  };\n\n  kc.createRegisterUrl = function (options) {\n    if (!options) {\n      options = {};\n    }\n    options.action = \"register\";\n    return kc.createLoginUrl(options);\n  };\n\n  kc.createAccountUrl = function (options) {\n    var realm = getRealmUrl();\n    var url = undefined;\n    if (typeof realm !== \"undefined\") {\n      url =\n        realm +\n        \"/account\" +\n        \"?referrer=\" +\n        encodeURIComponent(kc.clientId) +\n        \"&referrer_uri=\" +\n        encodeURIComponent(adapter.redirectUri(options));\n    }\n    return url;\n  };\n\n  kc.accountManagement = function () {\n    return adapter.accountManagement();\n  };\n\n  kc.hasRealmRole = function (role) {\n    var access = kc.realmAccess;\n    return !!access && access.roles.indexOf(role) >= 0;\n  };\n\n  kc.hasResourceRole = function (role, resource) {\n    if (!kc.resourceAccess) {\n      return false;\n    }\n\n    var access = kc.resourceAccess[resource || kc.clientId];\n    return !!access && access.roles.indexOf(role) >= 0;\n  };\n\n  kc.loadUserProfile = function () {\n    var url = getRealmUrl() + \"/account\";\n    var req = new XMLHttpRequest();\n    req.open(\"GET\", url, true);\n    req.setRequestHeader(\"Accept\", \"application/json\");\n    req.setRequestHeader(\"Authorization\", \"bearer \" + kc.token);\n\n    var promise = createPromise();\n\n    req.onreadystatechange = function () {\n      if (req.readyState == 4) {\n        if (req.status == 200) {\n          kc.profile = JSON.parse(req.responseText);\n          promise.setSuccess(kc.profile);\n        } else {\n          promise.setError();\n        }\n      }\n    };\n\n    req.send();\n\n    return promise.promise;\n  };\n\n  kc.loadUserInfo = function () {\n    var url = kc.endpoints.userinfo();\n    var req = new XMLHttpRequest();\n    req.open(\"GET\", url, true);\n    req.setRequestHeader(\"Accept\", \"application/json\");\n    req.setRequestHeader(\"Authorization\", \"bearer \" + kc.token);\n\n    var promise = createPromise();\n\n    req.onreadystatechange = function () {\n      if (req.readyState == 4) {\n        if (req.status == 200) {\n          kc.userInfo = JSON.parse(req.responseText);\n          promise.setSuccess(kc.userInfo);\n        } else {\n          promise.setError();\n        }\n      }\n    };\n\n    req.send();\n\n    return promise.promise;\n  };\n\n  kc.isTokenExpired = function (minValidity) {\n    if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != \"implicit\")) {\n      throw \"Not authenticated\";\n    }\n\n    if (kc.timeSkew == null) {\n      logInfo(\n        \"[KEYCLOAK] Unable to determine if token is expired as timeskew is not set\"\n      );\n      return true;\n    }\n\n    var expiresIn =\n      kc.tokenParsed[\"exp\"] -\n      Math.ceil(new Date().getTime() / 1000) +\n      kc.timeSkew;\n    if (minValidity) {\n      if (isNaN(minValidity)) {\n        throw \"Invalid minValidity\";\n      }\n      expiresIn -= minValidity;\n    }\n    return expiresIn < 0;\n  };\n\n  kc.updateToken = function (minValidity) {\n    var promise = createPromise();\n\n    if (!kc.refreshToken) {\n      promise.setError();\n      return promise.promise;\n    }\n\n    minValidity = minValidity || 5;\n\n    var exec = function () {\n      var refreshToken = false;\n      if (minValidity == -1) {\n        refreshToken = true;\n        logInfo(\"[KEYCLOAK] Refreshing token: forced refresh\");\n      } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n        refreshToken = true;\n        logInfo(\"[KEYCLOAK] Refreshing token: token expired\");\n      }\n\n      if (!refreshToken) {\n        promise.setSuccess(false);\n      } else {\n        var params =\n          \"grant_type=refresh_token&\" + \"refresh_token=\" + kc.refreshToken;\n        var url = kc.endpoints.token();\n\n        refreshQueue.push(promise);\n\n        if (refreshQueue.length == 1) {\n          var req = new XMLHttpRequest();\n          req.open(\"POST\", url, true);\n          req.setRequestHeader(\n            \"Content-type\",\n            \"application/x-www-form-urlencoded\"\n          );\n          req.withCredentials = true;\n\n          params += \"&client_id=\" + encodeURIComponent(kc.clientId);\n\n          var timeLocal = new Date().getTime();\n\n          req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n              if (req.status == 200) {\n                logInfo(\"[KEYCLOAK] Token refreshed\");\n\n                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                var tokenResponse = JSON.parse(req.responseText);\n\n                setToken(\n                  tokenResponse[\"access_token\"],\n                  tokenResponse[\"refresh_token\"],\n                  tokenResponse[\"id_token\"],\n                  timeLocal\n                );\n\n                kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                for (\n                  var p = refreshQueue.pop();\n                  p != null;\n                  p = refreshQueue.pop()\n                ) {\n                  p.setSuccess(true);\n                }\n              } else {\n                logWarn(\"[KEYCLOAK] Failed to refresh token\");\n\n                if (req.status == 400) {\n                  kc.clearToken();\n                }\n\n                kc.onAuthRefreshError && kc.onAuthRefreshError();\n                for (\n                  var p = refreshQueue.pop();\n                  p != null;\n                  p = refreshQueue.pop()\n                ) {\n                  p.setError(true);\n                }\n              }\n            }\n          };\n\n          req.send(params);\n        }\n      }\n    };\n\n    if (loginIframe.enable) {\n      var iframePromise = checkLoginIframe();\n      iframePromise\n        .then(function () {\n          exec();\n        })\n        .catch(function () {\n          promise.setError();\n        });\n    } else {\n      exec();\n    }\n\n    return promise.promise;\n  };\n\n  kc.clearToken = function () {\n    if (kc.token) {\n      setToken(null, null, null);\n      kc.onAuthLogout && kc.onAuthLogout();\n      if (kc.loginRequired) {\n        kc.login();\n      }\n    }\n  };\n\n  function getRealmUrl() {\n    if (typeof kc.authServerUrl !== \"undefined\") {\n      if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == \"/\") {\n        return kc.authServerUrl + \"realms/\" + encodeURIComponent(kc.realm);\n      } else {\n        return kc.authServerUrl + \"/realms/\" + encodeURIComponent(kc.realm);\n      }\n    } else {\n      return undefined;\n    }\n  }\n\n  function getOrigin() {\n    if (!window.location.origin) {\n      return (\n        window.location.protocol +\n        \"//\" +\n        window.location.hostname +\n        (window.location.port ? \":\" + window.location.port : \"\")\n      );\n    } else {\n      return window.location.origin;\n    }\n  }\n\n  function processCallback(oauth, promise) {\n    var code = oauth.code;\n    var error = oauth.error;\n    var prompt = oauth.prompt;\n\n    var timeLocal = new Date().getTime();\n\n    if (oauth[\"kc_action_status\"]) {\n      kc.onActionUpdate && kc.onActionUpdate(oauth[\"kc_action_status\"]);\n    }\n\n    if (error) {\n      if (prompt != \"none\") {\n        var errorData = {\n          error: error,\n          error_description: oauth.error_description,\n        };\n        kc.onAuthError && kc.onAuthError(errorData);\n        promise && promise.setError(errorData);\n      } else {\n        promise && promise.setSuccess();\n      }\n      return;\n    } else if (\n      kc.flow != \"standard\" &&\n      (oauth.access_token || oauth.id_token)\n    ) {\n      authSuccess(oauth.access_token, null, oauth.id_token, true);\n    }\n\n    if (kc.flow != \"implicit\" && code) {\n      var params = \"code=\" + code + \"&grant_type=authorization_code\";\n      var url = kc.endpoints.token();\n\n      var req = new XMLHttpRequest();\n      req.open(\"POST\", url, true);\n      req.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n\n      params += \"&client_id=\" + encodeURIComponent(kc.clientId);\n      params += \"&redirect_uri=\" + oauth.redirectUri;\n\n      if (oauth.pkceCodeVerifier) {\n        params += \"&code_verifier=\" + oauth.pkceCodeVerifier;\n      }\n\n      req.withCredentials = true;\n\n      req.onreadystatechange = function () {\n        if (req.readyState == 4) {\n          if (req.status == 200) {\n            var tokenResponse = JSON.parse(req.responseText);\n            authSuccess(\n              tokenResponse[\"access_token\"],\n              tokenResponse[\"refresh_token\"],\n              tokenResponse[\"id_token\"],\n              kc.flow === \"standard\"\n            );\n            scheduleCheckIframe();\n          } else {\n            kc.onAuthError && kc.onAuthError();\n            promise && promise.setError();\n          }\n        }\n      };\n\n      req.send(params);\n    }\n\n    function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n      timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n      setToken(accessToken, refreshToken, idToken, timeLocal);\n\n      if (\n        useNonce &&\n        ((kc.tokenParsed && kc.tokenParsed.nonce != oauth.storedNonce) ||\n          (kc.refreshTokenParsed &&\n            kc.refreshTokenParsed.nonce != oauth.storedNonce) ||\n          (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce))\n      ) {\n        logInfo(\"[KEYCLOAK] Invalid nonce, clearing token\");\n        kc.clearToken();\n        promise && promise.setError();\n      } else {\n        if (fulfillPromise) {\n          kc.onAuthSuccess && kc.onAuthSuccess();\n          promise && promise.setSuccess();\n        }\n      }\n    }\n  }\n\n  function loadConfig(url) {\n    var promise = createPromise();\n    var configUrl;\n\n    if (!config) {\n      configUrl = \"keycloak.json\";\n    } else if (typeof config === \"string\") {\n      configUrl = config;\n    }\n\n    function setupOidcEndoints(oidcConfiguration) {\n      if (!oidcConfiguration) {\n        kc.endpoints = {\n          authorize: function () {\n            return getRealmUrl() + \"/protocol/openid-connect/auth\";\n          },\n          token: function () {\n            return getRealmUrl() + \"/protocol/openid-connect/token\";\n          },\n          logout: function () {\n            return getRealmUrl() + \"/protocol/openid-connect/logout\";\n          },\n          checkSessionIframe: function () {\n            var src =\n              getRealmUrl() +\n              \"/protocol/openid-connect/login-status-iframe.html\";\n            if (kc.iframeVersion) {\n              src = src + \"?version=\" + kc.iframeVersion;\n            }\n            return src;\n          },\n          thirdPartyCookiesIframe: function () {\n            var src =\n              getRealmUrl() + \"/protocol/openid-connect/3p-cookies/step1.html\";\n            if (kc.iframeVersion) {\n              src = src + \"?version=\" + kc.iframeVersion;\n            }\n            return src;\n          },\n          register: function () {\n            return getRealmUrl() + \"/protocol/openid-connect/registrations\";\n          },\n          userinfo: function () {\n            return getRealmUrl() + \"/protocol/openid-connect/userinfo\";\n          },\n        };\n      } else {\n        kc.endpoints = {\n          authorize: function () {\n            return oidcConfiguration.authorization_endpoint;\n          },\n          token: function () {\n            return oidcConfiguration.token_endpoint;\n          },\n          logout: function () {\n            if (!oidcConfiguration.end_session_endpoint) {\n              throw \"Not supported by the OIDC server\";\n            }\n            return oidcConfiguration.end_session_endpoint;\n          },\n          checkSessionIframe: function () {\n            if (!oidcConfiguration.check_session_iframe) {\n              throw \"Not supported by the OIDC server\";\n            }\n            return oidcConfiguration.check_session_iframe;\n          },\n          register: function () {\n            throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n          },\n          userinfo: function () {\n            if (!oidcConfiguration.userinfo_endpoint) {\n              throw \"Not supported by the OIDC server\";\n            }\n            return oidcConfiguration.userinfo_endpoint;\n          },\n        };\n      }\n    }\n\n    if (configUrl) {\n      var req = new XMLHttpRequest();\n      req.open(\"GET\", configUrl, true);\n      req.setRequestHeader(\"Accept\", \"application/json\");\n\n      req.onreadystatechange = function () {\n        if (req.readyState == 4) {\n          if (req.status == 200 || fileLoaded(req)) {\n            var config = JSON.parse(req.responseText);\n\n            kc.authServerUrl = config[\"auth-server-url\"];\n            kc.realm = config[\"realm\"];\n            kc.clientId = config[\"resource\"];\n            setupOidcEndoints(null);\n            promise.setSuccess();\n          } else {\n            promise.setError();\n          }\n        }\n      };\n\n      req.send();\n    } else {\n      if (!config.clientId) {\n        throw \"clientId missing\";\n      }\n\n      kc.clientId = config.clientId;\n\n      var oidcProvider = config[\"oidcProvider\"];\n      if (!oidcProvider) {\n        if (!config[\"url\"]) {\n          var scripts = document.getElementsByTagName(\"script\");\n          for (var i = 0; i < scripts.length; i++) {\n            if (scripts[i].src.match(/.*keycloak\\.js/)) {\n              config.url = scripts[i].src.substr(\n                0,\n                scripts[i].src.indexOf(\"/js/keycloak.js\")\n              );\n              break;\n            }\n          }\n        }\n        if (!config.realm) {\n          throw \"realm missing\";\n        }\n\n        kc.authServerUrl = config.url;\n        kc.realm = config.realm;\n        setupOidcEndoints(null);\n        promise.setSuccess();\n      } else {\n        if (typeof oidcProvider === \"string\") {\n          var oidcProviderConfigUrl;\n          if (oidcProvider.charAt(oidcProvider.length - 1) == \"/\") {\n            oidcProviderConfigUrl =\n              oidcProvider + \".well-known/openid-configuration\";\n          } else {\n            oidcProviderConfigUrl =\n              oidcProvider + \"/.well-known/openid-configuration\";\n          }\n          var req = new XMLHttpRequest();\n          req.open(\"GET\", oidcProviderConfigUrl, true);\n          req.setRequestHeader(\"Accept\", \"application/json\");\n\n          req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n              if (req.status == 200 || fileLoaded(req)) {\n                var oidcProviderConfig = JSON.parse(req.responseText);\n                setupOidcEndoints(oidcProviderConfig);\n                promise.setSuccess();\n              } else {\n                promise.setError();\n              }\n            }\n          };\n\n          req.send();\n        } else {\n          setupOidcEndoints(oidcProvider);\n          promise.setSuccess();\n        }\n      }\n    }\n\n    return promise.promise;\n  }\n\n  function fileLoaded(xhr) {\n    return (\n      xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith(\"file:\")\n    );\n  }\n\n  function setToken(token, refreshToken, idToken, timeLocal) {\n    if (kc.tokenTimeoutHandle) {\n      clearTimeout(kc.tokenTimeoutHandle);\n      kc.tokenTimeoutHandle = null;\n    }\n\n    if (refreshToken) {\n      kc.refreshToken = refreshToken;\n      kc.refreshTokenParsed = decodeToken(refreshToken);\n    } else {\n      delete kc.refreshToken;\n      delete kc.refreshTokenParsed;\n    }\n\n    if (idToken) {\n      kc.idToken = idToken;\n      kc.idTokenParsed = decodeToken(idToken);\n    } else {\n      delete kc.idToken;\n      delete kc.idTokenParsed;\n    }\n\n    if (token) {\n      kc.token = token;\n      kc.tokenParsed = decodeToken(token);\n      kc.sessionId = kc.tokenParsed.session_state;\n      kc.authenticated = true;\n      kc.subject = kc.tokenParsed.sub;\n      kc.realmAccess = kc.tokenParsed.realm_access;\n      kc.resourceAccess = kc.tokenParsed.resource_access;\n\n      if (timeLocal) {\n        kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n      }\n\n      if (kc.timeSkew != null) {\n        logInfo(\n          \"[KEYCLOAK] Estimated time difference between browser and server is \" +\n            kc.timeSkew +\n            \" seconds\"\n        );\n\n        if (kc.onTokenExpired) {\n          var expiresIn =\n            (kc.tokenParsed[\"exp\"] -\n              new Date().getTime() / 1000 +\n              kc.timeSkew) *\n            1000;\n          logInfo(\n            \"[KEYCLOAK] Token expires in \" + Math.round(expiresIn / 1000) + \" s\"\n          );\n          if (expiresIn <= 0) {\n            kc.onTokenExpired();\n          } else {\n            kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n          }\n        }\n      }\n    } else {\n      delete kc.token;\n      delete kc.tokenParsed;\n      delete kc.subject;\n      delete kc.realmAccess;\n      delete kc.resourceAccess;\n\n      kc.authenticated = false;\n    }\n  }\n\n  function decodeToken(str) {\n    str = str.split(\".\")[1];\n\n    str = str.replace(\"/-/g\", \"+\");\n    str = str.replace(\"/_/g\", \"/\");\n    switch (str.length % 4) {\n      case 0:\n        break;\n      case 2:\n        str += \"==\";\n        break;\n      case 3:\n        str += \"=\";\n        break;\n      default:\n        throw \"Invalid token\";\n    }\n\n    str = (str + \"===\").slice(0, str.length + (str.length % 4));\n    str = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n\n    str = decodeURIComponent(escape(atob(str)));\n\n    str = JSON.parse(str);\n    return str;\n  }\n\n  function createUUID() {\n    var hexDigits = \"0123456789abcdef\";\n    var s = generateRandomString(36, hexDigits).split(\"\");\n    s[14] = \"4\";\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n    s[8] = s[13] = s[18] = s[23] = \"-\";\n    var uuid = s.join(\"\");\n    return uuid;\n  }\n\n  function parseCallback(url) {\n    var oauth = parseCallbackUrl(url);\n    if (!oauth) {\n      return;\n    }\n\n    var oauthState = callbackStorage.get(oauth.state);\n\n    if (oauthState) {\n      oauth.valid = true;\n      oauth.redirectUri = oauthState.redirectUri;\n      oauth.storedNonce = oauthState.nonce;\n      oauth.prompt = oauthState.prompt;\n      oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n    }\n\n    return oauth;\n  }\n\n  function parseCallbackUrl(url) {\n    var supportedParams;\n    switch (kc.flow) {\n      case \"standard\":\n        supportedParams = [\n          \"code\",\n          \"state\",\n          \"session_state\",\n          \"kc_action_status\",\n        ];\n        break;\n      case \"implicit\":\n        supportedParams = [\n          \"access_token\",\n          \"token_type\",\n          \"id_token\",\n          \"state\",\n          \"session_state\",\n          \"expires_in\",\n          \"kc_action_status\",\n        ];\n        break;\n      case \"hybrid\":\n        supportedParams = [\n          \"access_token\",\n          \"id_token\",\n          \"code\",\n          \"state\",\n          \"session_state\",\n          \"kc_action_status\",\n        ];\n        break;\n    }\n\n    supportedParams.push(\"error\");\n    supportedParams.push(\"error_description\");\n    supportedParams.push(\"error_uri\");\n\n    var queryIndex = url.indexOf(\"?\");\n    var fragmentIndex = url.indexOf(\"#\");\n\n    var newUrl;\n    var parsed;\n\n    if (kc.responseMode === \"query\" && queryIndex !== -1) {\n      newUrl = url.substring(0, queryIndex);\n      parsed = parseCallbackParams(\n        url.substring(\n          queryIndex + 1,\n          fragmentIndex !== -1 ? fragmentIndex : url.length\n        ),\n        supportedParams\n      );\n      if (parsed.paramsString !== \"\") {\n        newUrl += \"?\" + parsed.paramsString;\n      }\n      if (fragmentIndex !== -1) {\n        newUrl += url.substring(fragmentIndex);\n      }\n    } else if (kc.responseMode === \"fragment\" && fragmentIndex !== -1) {\n      newUrl = url.substring(0, fragmentIndex);\n      parsed = parseCallbackParams(\n        url.substring(fragmentIndex + 1),\n        supportedParams\n      );\n      if (parsed.paramsString !== \"\") {\n        newUrl += \"#\" + parsed.paramsString;\n      }\n    }\n\n    if (parsed && parsed.oauthParams) {\n      if (kc.flow === \"standard\" || kc.flow === \"hybrid\") {\n        if (\n          (parsed.oauthParams.code || parsed.oauthParams.error) &&\n          parsed.oauthParams.state\n        ) {\n          parsed.oauthParams.newUrl = newUrl;\n          return parsed.oauthParams;\n        }\n      } else if (kc.flow === \"implicit\") {\n        if (\n          (parsed.oauthParams.access_token || parsed.oauthParams.error) &&\n          parsed.oauthParams.state\n        ) {\n          parsed.oauthParams.newUrl = newUrl;\n          return parsed.oauthParams;\n        }\n      }\n    }\n  }\n\n  function parseCallbackParams(paramsString, supportedParams) {\n    var p = paramsString.split(\"&\");\n    var result = {\n      paramsString: \"\",\n      oauthParams: {},\n    };\n    for (var i = 0; i < p.length; i++) {\n      var split = p[i].indexOf(\"=\");\n      var key = p[i].slice(0, split);\n      if (supportedParams.indexOf(key) !== -1) {\n        result.oauthParams[key] = p[i].slice(split + 1);\n      } else {\n        if (result.paramsString !== \"\") {\n          result.paramsString += \"&\";\n        }\n        result.paramsString += p[i];\n      }\n    }\n    return result;\n  }\n\n  function createPromise() {\n    // Need to create a native Promise which also preserves the\n    // interface of the custom promise type previously used by the API\n    var p = {\n      setSuccess: function (result) {\n        p.resolve(result);\n      },\n\n      setError: function (result) {\n        p.reject(result);\n      },\n    };\n    p.promise = new Promise(function (resolve, reject) {\n      p.resolve = resolve;\n      p.reject = reject;\n    });\n\n    p.promise.success = function (callback) {\n      logPromiseDeprecation();\n\n      this.then(function handleSuccess(value) {\n        callback(value);\n      });\n\n      return this;\n    };\n\n    p.promise.error = function (callback) {\n      logPromiseDeprecation();\n\n      this.catch(function handleError(error) {\n        callback(error);\n      });\n\n      return this;\n    };\n\n    return p;\n  }\n\n  function setupCheckLoginIframe() {\n    var promise = createPromise();\n\n    if (!loginIframe.enable) {\n      promise.setSuccess();\n      return promise.promise;\n    }\n\n    if (loginIframe.iframe) {\n      promise.setSuccess();\n      return promise.promise;\n    }\n\n    var iframe = document.createElement(\"iframe\");\n    loginIframe.iframe = iframe;\n\n    iframe.onload = function () {\n      var authUrl = kc.endpoints.authorize();\n      if (authUrl.charAt(0) === \"/\") {\n        loginIframe.iframeOrigin = getOrigin();\n      } else {\n        loginIframe.iframeOrigin = authUrl.substring(\n          0,\n          authUrl.indexOf(\"/\", 8)\n        );\n      }\n      promise.setSuccess();\n    };\n\n    var src = kc.endpoints.checkSessionIframe();\n    iframe.setAttribute(\"src\", src);\n    iframe.setAttribute(\"title\", \"keycloak-session-iframe\");\n    iframe.style.display = \"none\";\n    document.body.appendChild(iframe);\n\n    var messageCallback = function (event) {\n      if (\n        event.origin !== loginIframe.iframeOrigin ||\n        loginIframe.iframe.contentWindow !== event.source\n      ) {\n        return;\n      }\n\n      if (\n        !(\n          event.data == \"unchanged\" ||\n          event.data == \"changed\" ||\n          event.data == \"error\"\n        )\n      ) {\n        return;\n      }\n\n      if (event.data != \"unchanged\") {\n        kc.clearToken();\n      }\n\n      var callbacks = loginIframe.callbackList.splice(\n        0,\n        loginIframe.callbackList.length\n      );\n\n      for (var i = callbacks.length - 1; i >= 0; --i) {\n        var promise = callbacks[i];\n        if (event.data == \"error\") {\n          promise.setError();\n        } else {\n          promise.setSuccess(event.data == \"unchanged\");\n        }\n      }\n    };\n\n    window.addEventListener(\"message\", messageCallback, false);\n\n    return promise.promise;\n  }\n\n  function scheduleCheckIframe() {\n    if (loginIframe.enable) {\n      if (kc.token) {\n        setTimeout(function () {\n          checkLoginIframe().then(function (unchanged) {\n            if (unchanged) {\n              scheduleCheckIframe();\n            }\n          });\n        }, loginIframe.interval * 1000);\n      }\n    }\n  }\n\n  function checkLoginIframe() {\n    var promise = createPromise();\n\n    if (loginIframe.iframe && loginIframe.iframeOrigin) {\n      var msg = kc.clientId + \" \" + (kc.sessionId ? kc.sessionId : \"\");\n      loginIframe.callbackList.push(promise);\n      var origin = loginIframe.iframeOrigin;\n      if (loginIframe.callbackList.length == 1) {\n        loginIframe.iframe.contentWindow.postMessage(msg, origin);\n      }\n    } else {\n      promise.setSuccess();\n    }\n\n    return promise.promise;\n  }\n\n  function check3pCookiesSupported() {\n    var promise = createPromise();\n\n    if (loginIframe.enable || kc.silentCheckSsoRedirectUri) {\n      var iframe = document.createElement(\"iframe\");\n      iframe.setAttribute(\"src\", kc.endpoints.thirdPartyCookiesIframe());\n      iframe.setAttribute(\"title\", \"keycloak-3p-check-iframe\");\n      iframe.style.display = \"none\";\n      document.body.appendChild(iframe);\n\n      var messageCallback = function (event) {\n        if (iframe.contentWindow !== event.source) {\n          return;\n        }\n\n        if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n          return;\n        } else if (event.data === \"unsupported\") {\n          loginIframe.enable = false;\n          if (kc.silentCheckSsoFallback) {\n            kc.silentCheckSsoRedirectUri = false;\n          }\n          logWarn(\n            \"[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and \" +\n              \"silent check-sso are not available.\"\n          );\n        }\n\n        document.body.removeChild(iframe);\n        window.removeEventListener(\"message\", messageCallback);\n        promise.setSuccess();\n      };\n\n      window.addEventListener(\"message\", messageCallback, false);\n    } else {\n      promise.setSuccess();\n    }\n\n    return promise.promise;\n  }\n\n  function loadAdapter(type) {\n    if (!type || type == \"default\") {\n      return {\n        login: function (options) {\n          window.location.replace(kc.createLoginUrl(options));\n          return createPromise().promise;\n        },\n\n        logout: function (options) {\n          window.location.replace(kc.createLogoutUrl(options));\n          return createPromise().promise;\n        },\n\n        register: function (options) {\n          window.location.replace(kc.createRegisterUrl(options));\n          return createPromise().promise;\n        },\n\n        accountManagement: function () {\n          var accountUrl = kc.createAccountUrl();\n          if (typeof accountUrl !== \"undefined\") {\n            window.location.href = accountUrl;\n          } else {\n            throw \"Not supported by the OIDC server\";\n          }\n          return createPromise().promise;\n        },\n\n        redirectUri: function (options, encodeHash) {\n          if (arguments.length == 1) {\n            encodeHash = true;\n          }\n\n          if (options && options.redirectUri) {\n            return options.redirectUri;\n          } else if (kc.redirectUri) {\n            return kc.redirectUri;\n          } else {\n            return location.href;\n          }\n        },\n      };\n    }\n\n    if (type == \"cordova\") {\n      loginIframe.enable = false;\n      var cordovaOpenWindowWrapper = function (loginUrl, target, options) {\n        if (window.cordova && window.cordova.InAppBrowser) {\n          // Use inappbrowser for IOS and Android if available\n          return window.cordova.InAppBrowser.open(loginUrl, target, options);\n        } else {\n          return window.open(loginUrl, target, options);\n        }\n      };\n\n      var shallowCloneCordovaOptions = function (userOptions) {\n        if (userOptions && userOptions.cordovaOptions) {\n          return Object.keys(userOptions.cordovaOptions).reduce(function (\n            options,\n            optionName\n          ) {\n            options[optionName] = userOptions.cordovaOptions[optionName];\n            return options;\n          },\n          {});\n        } else {\n          return {};\n        }\n      };\n\n      var formatCordovaOptions = function (cordovaOptions) {\n        return Object.keys(cordovaOptions)\n          .reduce(function (options, optionName) {\n            options.push(optionName + \"=\" + cordovaOptions[optionName]);\n            return options;\n          }, [])\n          .join(\",\");\n      };\n\n      var createCordovaOptions = function (userOptions) {\n        var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n        cordovaOptions.location = \"no\";\n        if (userOptions && userOptions.prompt == \"none\") {\n          cordovaOptions.hidden = \"yes\";\n        }\n        return formatCordovaOptions(cordovaOptions);\n      };\n\n      return {\n        login: function (options) {\n          var promise = createPromise();\n\n          var cordovaOptions = createCordovaOptions(options);\n          var loginUrl = kc.createLoginUrl(options);\n          var ref = cordovaOpenWindowWrapper(\n            loginUrl,\n            \"_blank\",\n            cordovaOptions\n          );\n          var completed = false;\n\n          var closed = false;\n          var closeBrowser = function () {\n            closed = true;\n            ref.close();\n          };\n\n          ref.addEventListener(\"loadstart\", function (event) {\n            if (event.url.indexOf(\"http://localhost\") == 0) {\n              var callback = parseCallback(event.url);\n              processCallback(callback, promise);\n              closeBrowser();\n              completed = true;\n            }\n          });\n\n          ref.addEventListener(\"loaderror\", function (event) {\n            if (!completed) {\n              if (event.url.indexOf(\"http://localhost\") == 0) {\n                var callback = parseCallback(event.url);\n                processCallback(callback, promise);\n                closeBrowser();\n                completed = true;\n              } else {\n                promise.setError();\n                closeBrowser();\n              }\n            }\n          });\n\n          ref.addEventListener(\"exit\", function (event) {\n            if (!closed) {\n              promise.setError({\n                reason: \"closed_by_user\",\n              });\n            }\n          });\n\n          return promise.promise;\n        },\n\n        logout: function (options) {\n          var promise = createPromise();\n\n          var logoutUrl = kc.createLogoutUrl(options);\n          var ref = cordovaOpenWindowWrapper(\n            logoutUrl,\n            \"_blank\",\n            \"location=no,hidden=yes\"\n          );\n\n          var error;\n\n          ref.addEventListener(\"loadstart\", function (event) {\n            if (event.url.indexOf(\"http://localhost\") == 0) {\n              ref.close();\n            }\n          });\n\n          ref.addEventListener(\"loaderror\", function (event) {\n            if (event.url.indexOf(\"http://localhost\") == 0) {\n              ref.close();\n            } else {\n              error = true;\n              ref.close();\n            }\n          });\n\n          ref.addEventListener(\"exit\", function (event) {\n            if (error) {\n              promise.setError();\n            } else {\n              kc.clearToken();\n              promise.setSuccess();\n            }\n          });\n\n          return promise.promise;\n        },\n\n        register: function (options) {\n          var promise = createPromise();\n          var registerUrl = kc.createRegisterUrl();\n          var cordovaOptions = createCordovaOptions(options);\n          var ref = cordovaOpenWindowWrapper(\n            registerUrl,\n            \"_blank\",\n            cordovaOptions\n          );\n          ref.addEventListener(\"loadstart\", function (event) {\n            if (event.url.indexOf(\"http://localhost\") == 0) {\n              ref.close();\n              var oauth = parseCallback(event.url);\n              processCallback(oauth, promise);\n            }\n          });\n          return promise.promise;\n        },\n\n        accountManagement: function () {\n          var accountUrl = kc.createAccountUrl();\n          if (typeof accountUrl !== \"undefined\") {\n            var ref = cordovaOpenWindowWrapper(\n              accountUrl,\n              \"_blank\",\n              \"location=no\"\n            );\n            ref.addEventListener(\"loadstart\", function (event) {\n              if (event.url.indexOf(\"http://localhost\") == 0) {\n                ref.close();\n              }\n            });\n          } else {\n            throw \"Not supported by the OIDC server\";\n          }\n        },\n\n        redirectUri: function (options) {\n          return \"http://localhost\";\n        },\n      };\n    }\n\n    if (type == \"cordova-native\") {\n      loginIframe.enable = false;\n\n      return {\n        login: function (options) {\n          var promise = createPromise();\n          var loginUrl = kc.createLoginUrl(options);\n\n          universalLinks.subscribe(\"keycloak\", function (event) {\n            universalLinks.unsubscribe(\"keycloak\");\n            window.cordova.plugins.browsertab.close();\n            var oauth = parseCallback(event.url);\n            processCallback(oauth, promise);\n          });\n\n          window.cordova.plugins.browsertab.openUrl(loginUrl);\n          return promise.promise;\n        },\n\n        logout: function (options) {\n          var promise = createPromise();\n          var logoutUrl = kc.createLogoutUrl(options);\n\n          universalLinks.subscribe(\"keycloak\", function (event) {\n            universalLinks.unsubscribe(\"keycloak\");\n            window.cordova.plugins.browsertab.close();\n            kc.clearToken();\n            promise.setSuccess();\n          });\n\n          window.cordova.plugins.browsertab.openUrl(logoutUrl);\n          return promise.promise;\n        },\n\n        register: function (options) {\n          var promise = createPromise();\n          var registerUrl = kc.createRegisterUrl(options);\n          universalLinks.subscribe(\"keycloak\", function (event) {\n            universalLinks.unsubscribe(\"keycloak\");\n            window.cordova.plugins.browsertab.close();\n            var oauth = parseCallback(event.url);\n            processCallback(oauth, promise);\n          });\n          window.cordova.plugins.browsertab.openUrl(registerUrl);\n          return promise.promise;\n        },\n\n        accountManagement: function () {\n          var accountUrl = kc.createAccountUrl();\n          if (typeof accountUrl !== \"undefined\") {\n            window.cordova.plugins.browsertab.openUrl(accountUrl);\n          } else {\n            throw \"Not supported by the OIDC server\";\n          }\n        },\n\n        redirectUri: function (options) {\n          if (options && options.redirectUri) {\n            return options.redirectUri;\n          } else if (kc.redirectUri) {\n            return kc.redirectUri;\n          } else {\n            return \"http://localhost\";\n          }\n        },\n      };\n    }\n\n    throw \"invalid adapter type: \" + type;\n  }\n\n  var LocalStorage = function () {\n    if (!(this instanceof LocalStorage)) {\n      return new LocalStorage();\n    }\n\n    localStorage.setItem(\"kc-test\", \"test\");\n    localStorage.removeItem(\"kc-test\");\n\n    var cs = this;\n\n    function clearExpired() {\n      var time = new Date().getTime();\n      for (var i = 0; i < localStorage.length; i++) {\n        var key = localStorage.key(i);\n        if (key && key.indexOf(\"kc-callback-\") == 0) {\n          var value = localStorage.getItem(key);\n          if (value) {\n            try {\n              var expires = JSON.parse(value).expires;\n              if (!expires || expires < time) {\n                localStorage.removeItem(key);\n              }\n            } catch (err) {\n              localStorage.removeItem(key);\n            }\n          }\n        }\n      }\n    }\n\n    cs.get = function (state) {\n      if (!state) {\n        return;\n      }\n\n      var key = \"kc-callback-\" + state;\n      var value = localStorage.getItem(key);\n      if (value) {\n        localStorage.removeItem(key);\n        value = JSON.parse(value);\n      }\n\n      clearExpired();\n      return value;\n    };\n\n    cs.add = function (state) {\n      clearExpired();\n\n      var key = \"kc-callback-\" + state.state;\n      state.expires = new Date().getTime() + 60 * 60 * 1000;\n      localStorage.setItem(key, JSON.stringify(state));\n    };\n  };\n\n  var CookieStorage = function () {\n    if (!(this instanceof CookieStorage)) {\n      return new CookieStorage();\n    }\n\n    var cs = this;\n\n    cs.get = function (state) {\n      if (!state) {\n        return;\n      }\n\n      var value = getCookie(\"kc-callback-\" + state);\n      setCookie(\"kc-callback-\" + state, \"\", cookieExpiration(-100));\n      if (value) {\n        return JSON.parse(value);\n      }\n    };\n\n    cs.add = function (state) {\n      setCookie(\n        \"kc-callback-\" + state.state,\n        JSON.stringify(state),\n        cookieExpiration(60)\n      );\n    };\n\n    cs.removeItem = function (key) {\n      setCookie(key, \"\", cookieExpiration(-100));\n    };\n\n    var cookieExpiration = function (minutes) {\n      var exp = new Date();\n      exp.setTime(exp.getTime() + minutes * 60 * 1000);\n      return exp;\n    };\n\n    var getCookie = function (key) {\n      var name = key + \"=\";\n      var ca = document.cookie.split(\";\");\n      for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == \" \") {\n          c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n          return c.substring(name.length, c.length);\n        }\n      }\n      return \"\";\n    };\n\n    var setCookie = function (key, value, expirationDate) {\n      var cookie =\n        key +\n        \"=\" +\n        value +\n        \"; \" +\n        \"expires=\" +\n        expirationDate.toUTCString() +\n        \"; \";\n      document.cookie = cookie;\n    };\n  };\n\n  function createCallbackStorage() {\n    try {\n      return new LocalStorage();\n    } catch (err) {}\n\n    return new CookieStorage();\n  }\n\n  function createLogger(fn) {\n    return function () {\n      if (kc.enableLogging) {\n        fn.apply(console, Array.prototype.slice.call(arguments));\n      }\n    };\n  }\n}\n\nexport default Keycloak;\n// })\n", "const storage = window.localStorage;\n\nexport function get(key: string): string {\n  var value = storage.getItem(key);\n  return value && JSON.parse(value);\n}\n\nexport function set(key: string, val: string): string | void {\n  if (typeof val !== \"undefined\") {\n    return storage.setItem(key, JSON.stringify(val));\n  }\n}\n\nexport function remove(key: string): void {\n  storage.removeItem(key);\n}\n", "export function getCookieValue(cookieName: string): string {\n  var start, end;\n  if (document.cookie.length > 0) {\n    start = document.cookie.indexOf(cookieName + \"=\");\n    if (\n      start !== -1 &&\n      (start === 0 || document.cookie.charAt(start - 1) === \" \")\n    ) {\n      start += cookieName.length + 1;\n      end = document.cookie.indexOf(\";\", start);\n      if (end === -1) {\n        end = document.cookie.length;\n      }\n      return window.unescape(document.cookie.substring(start, end));\n    }\n  }\n  return \"\";\n}\n\nexport function setCookie(\n  name: string,\n  value: string,\n  expires: number,\n  path: string,\n  domain: string,\n  secure?: string\n) {\n  // set time, it's in milliseconds\n  var today = new Date();\n  today.setTime(today.getTime());\n\n  /*\n    if the expires variable is set, make the correct\n    expires time, the current script below will set\n    it for x number of days, to make it for hours,\n    delete * 24, for minutes, delete * 60 * 24\n    */\n  if (expires) {\n    expires = expires * 1000 * 60 * 60;\n  }\n\n  var expires_date = new Date(today.getTime() + expires);\n\n  document.cookie =\n    name +\n    \"=\" +\n    escape(value) +\n    (expires ? \";expires=\" + expires_date.toUTCString() : \"\") +\n    (path ? \";path=\" + path : \"\") +\n    (domain ? \";domain=\" + domain : \"\") +\n    (secure ? \";secure\" : \"\");\n}\n\nexport function removeCookie(cookie_name: string): void {\n  var cookie_date = new Date(); // current date & time\n  cookie_date.setTime(cookie_date.getTime() - 1);\n  document.cookie = cookie_name += \"=; expires=\" + cookie_date.toUTCString();\n}\n"],
  "mappings": "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",
  "names": []
}
