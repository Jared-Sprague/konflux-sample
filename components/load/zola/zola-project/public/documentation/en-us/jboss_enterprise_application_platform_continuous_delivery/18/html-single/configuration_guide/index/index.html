<!DOCTYPE html>
<html>
    <head>
        
        <link rel="stylesheet" type="text/css" media="screen" href="/mimir/styles/mimir.min.css">
        




    <link rel="stylesheet" type="text/css" media="screen" href="/sites/dxp-docs/files/css/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="/sites/dxp-docs/files/css/css_Bwzy34i9pSdDlzGALvqVwG4fpgGp08KLMAkClGNY9M4.css" />



<link rel="stylesheet" type="text/css" media="screen" href="/mimir/styles/mimir-doc-toc.min.css" />



        
        <!--#include virtual="/includes/head/index.html" -->

        
        <title>
Configuration Guide - JBoss Enterprise Application Platform Continuous Delivery 18
</title>
        
<meta name="product" content="JBoss Enterprise Application Platform Continuous Delivery" />
<meta name="documentation_version" content="18" />
<meta name="documentKind" content="documentation" />
<meta name="portal_content_subtype" content="title" />
<meta name="lastModifiedDate" content="2019-12-06T22:33:12.000Z" />


        
            
        
        
            
                
                
                <!-- mimir_solr_yesindex -->
                <meta name="mimir_solr_yesindex" content="true" />
            
        
    </head>

    <body class="mimir-body">

        
        

        
        <div id="page-wrap" class="page-wrap">
            <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">
                <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
                <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

                <header class="masthead" id="masthead">

                    
                    <!--#include virtual="/includes/header/index.html" -->

                    
                    
                    
                        
                    
                    
                        <div class="breadcrumbs">
                            <div id="breadcrumbs" class="container">
                                
                                <a href="/">Home</a>
                                
                                <a href="/products/">Product Documentation</a>
                                
                                <a href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/20/">JBoss Enterprise Application Platform Continuous Delivery</a>
                                
                                <a href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/">18</a>
                                
                                
                                Configuration Guide
                                
                            </div>
                        </div>
                    
                </header>

                <main id="cp-main" class="portal-content-area">
                    <div id="cp-content" class="main-content">
                        
                        <main class="container mimir-docs">
                            
                            <bdo>
                                

<script type="module" src="/mimir/scripts/mimir-doc-toc.min.js"></script>






<div class="docs-grid">

    <nav id="mimir-doc-toc" class="mimir-doc-toc">
      <div class="mimir-doc-toc-inner">
          <!-- single-page -->
        
            
              <ol>
                <li>
                        
                        <a href="#">Configuration Guide</a>
                    </li><li>
                        <a href="#idm140321717575216">
                            Preface
                        </a>
                    </li><li>
                        <a href="#introduction">
                            1. Introduction
                        </a>
                    </li><li>
                        <a href="#starting_and_stopping_jboss_eap">
                            2. Starting and Stopping JBoss EAP
                        </a><ol>
                <li>
                        <a href="#starting_jboss_eap">
                            2.1. Starting JBoss EAP
                        </a>
                    </li><li>
                        <a href="#stopping_jboss_eap">
                            2.2. Stopping JBoss EAP
                        </a>
                    </li><li>
                        <a href="#running_eap_in_admin_only_mode">
                            2.3. Running JBoss EAP in Admin-only Mode
                        </a>
                    </li><li>
                        <a href="#graceful_shutdown_suspend">
                            2.4. Suspend and Shut Down JBoss EAP Gracefully
                        </a><ol>
                <li>
                        <a href="#suspend_servers">
                            2.4.1. Suspend Servers
                        </a>
                    </li><li>
                        <a href="#shut_down_servers_gracefully_using_management_cli">
                            2.4.2. Shut Down Servers Gracefully Using the Management CLI
                        </a>
                    </li><li>
                        <a href="#shut_down_servers_gracefully_using_an_os_signal">
                            2.4.3. Shut Down Servers Gracefully Using an OS Signal
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#starting_stopping_rpm">
                            2.5. Starting and Stopping JBoss EAP (RPM Installation)
                        </a><ol>
                <li>
                        <a href="#starting_jboss_eap_rpm_installation">
                            2.5.1. Starting JBoss EAP (RPM Installation)
                        </a>
                    </li><li>
                        <a href="#stopping_jboss_eap_rpm_installation">
                            2.5.2. Stopping JBoss EAP (RPM Installation)
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#powershell_scripts">
                            2.6. PowerShell Scripts (Windows Server)
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#jboss_eap_management">
                            3. JBoss EAP Management
                        </a><ol>
                <li>
                        <a href="#about_subsystems">
                            3.1. About Subsystems, Extensions, and Profiles
                        </a>
                    </li><li>
                        <a href="#management_users">
                            3.2. Management Users
                        </a><ol>
                <li>
                        <a href="#adding_a_management_user">
                            3.2.1. Adding a Management User
                        </a>
                    </li><li>
                        <a href="#running_the_add_user_utility_non_interactively">
                            3.2.2. Running the Add-User Utility Non-Interactively
                        </a>
                    </li><li>
                        <a href="#setting_add_user_password_restrictions">
                            3.2.3. Setting Add-User Utility Password Restrictions
                        </a>
                    </li><li>
                        <a href="#updating_mgmt_user">
                            3.2.4. Updating a Management User
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#optimizing_the_jboss_eap_server_configuration">
                            3.3. Optimizing the JBoss EAP Server Configuration
                        </a>
                    </li><li>
                        <a href="#management_interfaces">
                            3.4. Management Interfaces
                        </a><ol>
                <li>
                        <a href="#management_cli_overview">
                            3.4.1. Management CLI
                        </a>
                    </li><li>
                        <a href="#management_console_overview">
                            3.4.2. Management Console
                        </a><ol>
                <li>
                        <a href="#updating_attributes_console">
                            3.4.2.1. Updating Attributes in the Management Console
                        </a>
                    </li><li>
                        <a href="#enable_disable_management_console">
                            3.4.2.2. Enable/Disable Management Console
                        </a>
                    </li><li>
                        <a href="#change_language_of_management_console">
                            3.4.2.3. Change the Language of the Management Console
                        </a>
                    </li><li>
                        <a href="#customize_title_of_management_console">
                            3.4.2.4. Customizing the Management Console Title
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#management_apis">
                            3.5. Management APIs
                        </a><ol>
                <li>
                        <a href="#http_api">
                            3.5.1. HTTP API
                        </a>
                    </li><li>
                        <a href="#native_api">
                            3.5.2. Native API
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuration_data">
                            3.6. Configuration Data
                        </a><ol>
                <li>
                        <a href="#standalone_server_configuration_files">
                            3.6.1. Standalone Server Configuration Files
                        </a>
                    </li><li>
                        <a href="#managed_domain_configuration_files">
                            3.6.2. Managed Domain Configuration Files
                        </a>
                    </li><li>
                        <a href="#backing_up_configuration_data">
                            3.6.3. Backing Up Configuration Data
                        </a>
                    </li><li>
                        <a href="#configuration_file_snapshots">
                            3.6.4. Configuration File Snapshots
                        </a>
                    </li><li>
                        <a href="#view_config_changes">
                            3.6.5. View Configuration Changes
                        </a>
                    </li><li>
                        <a href="#property_replacement">
                            3.6.6. Property Replacement
                        </a>
                    </li><li>
                        <a href="#using_git_to_manage_configuration_data">
                            3.6.7. Using Git to Manage Configuration Data
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#file_system_paths">
                            3.7. File System Paths
                        </a><ol>
                <li>
                        <a href="#view_file_system_paths">
                            3.7.1. View File System Paths
                        </a>
                    </li><li>
                        <a href="#override_standard_path">
                            3.7.2. Override a Standard Path
                        </a>
                    </li><li>
                        <a href="#add_custom_path">
                            3.7.3. Add a Custom Path
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#directory_grouping">
                            3.8. Directory Grouping
                        </a>
                    </li><li>
                        <a href="#system_properties">
                            3.9. System Properties
                        </a>
                    </li><li>
                        <a href="#management_audit_logging">
                            3.10. Management Audit Logging
                        </a><ol>
                <li>
                        <a href="#enable_audit_logging">
                            3.10.1. Enable Management Audit Logging
                        </a>
                    </li><li>
                        <a href="#enable_jmx_audit_logging">
                            3.10.2. Enable JMX Management Audit Logging
                        </a>
                    </li><li>
                        <a href="#send_audit_logging_syslog">
                            3.10.3. Send Management Audit Logging to a Syslog Server
                        </a>
                    </li><li>
                        <a href="#read_audit_log">
                            3.10.4. Read Audit Log Entries
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#server_lifecycle_event_notifications">
                            3.11. Server Lifecycle Event Notifications
                        </a><ol>
                <li>
                        <a href="#monitor_server_lifecycle_events_management">
                            3.11.1. Monitor Server Lifecycle Events Using the Core Management Subsystem
                        </a>
                    </li><li>
                        <a href="#monitor_server_lifecycle_events_jmx">
                            3.11.2. Monitor Server Lifecycle Events Using JMX Notifications
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#network_and_port_configuration">
                            4. Network and Port Configuration
                        </a><ol>
                <li>
                        <a href="#interfaces">
                            4.1. Interfaces
                        </a><ol>
                <li>
                        <a href="#default_interface_configurations">
                            4.1.1. Default Interface Configurations
                        </a>
                    </li><li>
                        <a href="#configuring_interfaces">
                            4.1.2. Configuring Interfaces
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#socket_bindings">
                            4.2. Socket Bindings
                        </a><ol>
                <li>
                        <a href="#management_ports">
                            4.2.1. Management Ports
                        </a>
                    </li><li>
                        <a href="#default_socket_bindings">
                            4.2.2. Default Socket Bindings
                        </a>
                    </li><li>
                        <a href="#configuring_socket_bindings">
                            4.2.3. Configuring Socket Bindings
                        </a>
                    </li><li>
                        <a href="#Viewing_socket_binding_and_open_ports_for_a_server">
                            4.2.4. Viewing Socket Bindings and Open Ports for a Server
                        </a>
                    </li><li>
                        <a href="#port_offsets">
                            4.2.5. Port Offsets
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#ipv6_addresses">
                            4.3. IPv6 Addresses
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#jboss_eap_security">
                            5. JBoss EAP Security
                        </a>
                    </li><li>
                        <a href="#overview_of_class_loading_and_modules">
                            6. JBoss EAP Class Loading
                        </a><ol>
                <li>
                        <a href="#modules">
                            6.1. Modules
                        </a>
                    </li><li>
                        <a href="#module_dependencies">
                            6.2. Module Dependencies
                        </a>
                    </li><li>
                        <a href="#create_a_custom_module">
                            6.3. Create a Custom Module
                        </a>
                    </li><li>
                        <a href="#remove_a_custom_module">
                            6.4. Remove a Custom Module
                        </a>
                    </li><li>
                        <a href="#add_a_global_module">
                            6.5. Define Global Modules
                        </a>
                    </li><li>
                        <a href="#configure_subdeployment_isolation">
                            6.6. Configure Subdeployment Isolation
                        </a>
                    </li><li>
                        <a href="#define_an_external_jboss_eap_module_directory">
                            6.7. Define an External JBoss EAP Module Directory
                        </a>
                    </li><li>
                        <a href="#dynamic_module_naming">
                            6.8. Dynamic Module Naming Conventions
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#deploying_applications">
                            7. Deploying Applications
                        </a><ol>
                <li>
                        <a href="#deploying_apps_using_cli">
                            7.1. Deploying Applications Using the Management CLI
                        </a><ol>
                <li>
                        <a href="#deploy_app_standalone_cli">
                            7.1.1. Deploy an Application to a Standalone Server Using the Management CLI
                        </a>
                    </li><li>
                        <a href="#deploy_app_managed_domain_cli">
                            7.1.2. Deploy an Application in a Managed Domain Using the Management CLI
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#deploying_apps_using_console">
                            7.2. Deploying Applications Using the Management Console
                        </a><ol>
                <li>
                        <a href="#deploy_app_standalone_console">
                            7.2.1. Deploy an Application to a Standalone Server Using the Management Console
                        </a>
                    </li><li>
                        <a href="#deploy_app_domain_console">
                            7.2.2. Deploy an Application in a Managed Domain Using the Management Console
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#deploying_apps_using_scanner">
                            7.3. Deploying Applications Using the Deployment Scanner
                        </a><ol>
                <li>
                        <a href="#deploy_app_standalone_scanner">
                            7.3.1. Deploy an Application to a Standalone Server Using the Deployment Scanner
                        </a>
                    </li><li>
                        <a href="#configure_deploy_scanner">
                            7.3.2. Configure the Deployment Scanner
                        </a>
                    </li><li>
                        <a href="#define_custom_deployment_scanner">
                            7.3.3. Define a Custom Deployment Scanner
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#deploying_apps_using_maven">
                            7.4. Deploying Applications Using Maven
                        </a><ol>
                <li>
                        <a href="#deploy_app_standalone_maven">
                            7.4.1. Deploy an Application to a Standalone Server Using Maven
                        </a>
                    </li><li>
                        <a href="#deploy_app_domain_maven">
                            7.4.2. Deploy an Application in a Managed Domain Using Maven
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#deploying_apps_using_http_api">
                            7.5. Deploying Applications Using the HTTP API
                        </a><ol>
                <li>
                        <a href="#deploy_app_standalone_http_api">
                            7.5.1. Deploy an Application to a Standalone Server Using the HTTP API
                        </a>
                    </li><li>
                        <a href="#deploy_app_domain_http_api">
                            7.5.2. Deploy an Application in a Managed Domain Using the HTTP API
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#customizing_deploy_behavior">
                            7.6. Customizing Deployment Behavior
                        </a><ol>
                <li>
                        <a href="#define_custom_dir_deploy_content">
                            7.6.1. Define a Custom Directory for Deployment Content
                        </a>
                    </li><li>
                        <a href="#control_order_deployments">
                            7.6.2. Control the Order of Deployments
                        </a>
                    </li><li>
                        <a href="#override_deployment_content">
                            7.6.3. Override Deployment Content
                        </a>
                    </li><li>
                        <a href="#rollout_plans">
                            7.6.4. Using Rollout Plans
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#managing_exploded_deployments">
                            7.7. Managing Exploded Deployments
                        </a>
                    </li><li>
                        <a href="#viewing_deployment_content">
                            7.8. Viewing Deployment Content
                        </a><ol>
                <li>
                        <a href="#browse_deployment_content">
                            7.8.1. Browse Files in a Deployment
                        </a>
                    </li><li>
                        <a href="#read_deployment_content">
                            7.8.2. Read Deployment Content
                        </a><ol>
                <li>
                        <a href="#display_contents_file_stream">
                            7.8.2.1. Display the Contents of a File
                        </a>
                    </li><li>
                        <a href="#save_contents_file_stream">
                            7.8.2.2. Save the Contents of a File
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#domain_management">
                            8. Domain Management
                        </a><ol>
                <li>
                        <a href="#about_managed_domains">
                            8.1. About Managed Domains
                        </a><ol>
                <li>
                        <a href="#about_domain_controller">
                            8.1.1. About the Domain Controller
                        </a>
                    </li><li>
                        <a href="#about_host_controllers">
                            8.1.2. About Host Controllers
                        </a>
                    </li><li>
                        <a href="#process_controllers">
                            8.1.3. About Process Controllers
                        </a>
                    </li><li>
                        <a href="#about_server_groups">
                            8.1.4. About Server Groups
                        </a>
                    </li><li>
                        <a href="#about_servers">
                            8.1.5. About Servers
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#navigating_domain_configs">
                            8.2. Navigating Domain Configurations
                        </a>
                    </li><li>
                        <a href="#launching_a_managed_domain">
                            8.3. Launching a Managed Domain
                        </a><ol>
                <li>
                        <a href="#start_managed_domain">
                            8.3.1. Start a Managed Domain
                        </a>
                    </li><li>
                        <a href="#domain_controller_configuration">
                            8.3.2. Domain Controller Configuration
                        </a>
                    </li><li>
                        <a href="#host_controller_configuration">
                            8.3.3. Host Controller Configuration
                        </a>
                    </li><li>
                        <a href="#configure_name_of_host">
                            8.3.4. Configure the Name of a Host
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#managing_servers">
                            8.4. Managing Servers
                        </a><ol>
                <li>
                        <a href="#configuring_server_groups">
                            8.4.1. Configure Server Groups
                        </a>
                    </li><li>
                        <a href="#configuring_servers">
                            8.4.2. Configure Servers
                        </a>
                    </li><li>
                        <a href="#start_stop_servers">
                            8.4.3. Start and Stop Servers
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#domain_controller_discovery_failover">
                            8.5. Domain Controller Discovery and Failover
                        </a><ol>
                <li>
                        <a href="#configure_domain_discovery_options">
                            8.5.1. Configure Domain Discovery Options
                        </a>
                    </li><li>
                        <a href="#boot_hc_cached_config">
                            8.5.2. Start a Host Controller with a Cached Domain Configuration
                        </a>
                    </li><li>
                        <a href="#promote_hc_to_dc">
                            8.5.3. Promote a Host Controller to Act as Domain Controller
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#managed_domain_setups">
                            8.6. Managed Domain Setups
                        </a><ol>
                <li>
                        <a href="#set_up_domain_single_machine">
                            8.6.1. Set Up a Managed Domain on a Single Machine
                        </a>
                    </li><li>
                        <a href="#set_up_domain_two_machines">
                            8.6.2. Set Up a Managed Domain on Two Machines
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#managing_multiple_jboss_eap_versions">
                            8.7. Managing Multiple JBoss EAP Versions
                        </a><ol>
                <li>
                        <a href="#configure_eap7_administer_eap6">
                            8.7.1. Configure a JBoss EAP 7.x Domain Controller to Administer JBoss EAP 6 Instances
                        </a><ol>
                <li>
                        <a href="#add_eap6_config_to_eap7">
                            8.7.1.1. Add the JBoss EAP 6 Configuration to the JBoss EAP 7 Domain Controller
                        </a>
                    </li><li>
                        <a href="#adjust_eap6_profiles">
                            8.7.1.2. Update the Behavior for the JBoss EAP 6 Profiles
                        </a>
                    </li><li>
                        <a href="#update_eap6_servers_eap7_server_group">
                            8.7.1.3. Set the Server Group for the JBoss EAP 6 Servers
                        </a>
                    </li><li>
                        <a href="#prevent_eap6_servers_from_eap7_updates">
                            8.7.1.4. Prevent the JBoss EAP 6 Instances from Receiving JBoss EAP 7 Updates
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_eap71_administer_eap70">
                            8.7.2. Configure a JBoss EAP 7.1 Domain Controller to Administer JBoss EAP 7.0 Instances
                        </a><ol>
                <li>
                        <a href="#add_eap70_config_to_eap71">
                            8.7.2.1. Add the JBoss EAP 7.0 Configuration to the JBoss EAP 7.1 Domain Controller
                        </a>
                    </li><li>
                        <a href="#update_eap70_servers_eap71_server_group">
                            8.7.2.2. Set the Server Group for the JBoss EAP 7.0 Servers
                        </a>
                    </li><li>
                        <a href="#prevent_eap70_servers_from_eap71_updates">
                            8.7.2.3. Prevent the JBoss EAP 7.0 Instances from Receiving JBoss EAP 7.1 Updates
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#managing_jboss_eap_profiles">
                            8.8. Managing JBoss EAP Profiles
                        </a><ol>
                <li>
                        <a href="#about_profiles">
                            8.8.1. About Profiles
                        </a>
                    </li><li>
                        <a href="#cloning_a_profile">
                            8.8.2. Cloning a Profile
                        </a>
                    </li><li>
                        <a href="#creating_hierarchical_profiles">
                            8.8.3. Creating Hierarchical Profiles
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_jvm_settings">
                            9. Configuring JVM Settings
                        </a><ol>
                <li>
                        <a href="#jvm_settings_standalone_server">
                            9.1. Configuring JVM Settings for a Standalone Server
                        </a>
                    </li><li>
                        <a href="#jvm_settings_managed_domain">
                            9.2. Configuring JVM Settings for a Managed Domain
                        </a><ol>
                <li>
                        <a href="#jvm_host_controller">
                            9.2.1. Defining JVM Settings on a Host Controller
                        </a>
                    </li><li>
                        <a href="#jvm_server_group">
                            9.2.2. Applying JVM Settings to a Server Group
                        </a>
                    </li><li>
                        <a href="#applying_jvm_settings_to_an_individual_server">
                            9.2.3. Applying JVM Settings to an Individual Server
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#displaying_the_jvm_status">
                            9.3. Displaying the JVM Status
                        </a>
                    </li><li>
                        <a href="#tuning_jvm">
                            9.4. Tuning the JVM
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#mail_subsystem">
                            10. Mail Subsystem
                        </a><ol>
                <li>
                        <a href="#configuring_the_mail_subsystem">
                            10.1. Configuring the Mail Subsystem
                        </a>
                    </li><li>
                        <a href="#configuring_custom_transports">
                            10.2. Configuring Custom Transports
                        </a>
                    </li><li>
                        <a href="#mail_subsystem_cred_store">
                            10.3. Use a Credential Store for Passwords
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#logging_with_jboss_eap">
                            11. Logging with JBoss EAP
                        </a><ol>
                <li>
                        <a href="#about_server_logging">
                            11.1. About Server Logging
                        </a><ol>
                <li>
                        <a href="#server_logging">
                            11.1.1. Server Logging
                        </a>
                    </li><li>
                        <a href="#bootup_logging">
                            11.1.2. Bootup Logging
                        </a><ol>
                <li>
                        <a href="#view_bootup_errors">
                            11.1.2.1. View Bootup Errors
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#garbage_colleciton_logging">
                            11.1.3. Garbage Collection Logging
                        </a>
                    </li><li>
                        <a href="#default_log_file_locations">
                            11.1.4. Default Log File Locations
                        </a>
                    </li><li>
                        <a href="#default_locale_server">
                            11.1.5. Set the Default Locale of the Server
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#viewing_log_files">
                            11.2. Viewing Log Files
                        </a>
                    </li><li>
                        <a href="#about_logging_subsystem">
                            11.3. About the Logging Subsystem
                        </a><ol>
                <li>
                        <a href="#root_logger">
                            11.3.1. Root Logger
                        </a>
                    </li><li>
                        <a href="#log_categories">
                            11.3.2. Log Categories
                        </a>
                    </li><li>
                        <a href="#log_handlers">
                            11.3.3. Log Handlers
                        </a>
                    </li><li>
                        <a href="#log_levels">
                            11.3.4. Log Levels
                        </a>
                    </li><li>
                        <a href="#log_formatters">
                            11.3.5. Log Formatters
                        </a>
                    </li><li>
                        <a href="#filter_expressions">
                            11.3.6. Filter Expressions
                        </a>
                    </li><li>
                        <a href="#implicit_logging_api_dependencies">
                            11.3.7. Implicit Logging Dependencies
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_log_category">
                            11.4. Configuring Log Categories
                        </a>
                    </li><li>
                        <a href="#configuring_log_handlers">
                            11.5. Configuring Log Handlers
                        </a><ol>
                <li>
                        <a href="#configure_console_log_handler">
                            11.5.1. Configure a Console Log Handler
                        </a>
                    </li><li>
                        <a href="#configure_file_log_handler">
                            11.5.2. Configure a File Log Handler
                        </a>
                    </li><li>
                        <a href="#configure_periodic_log_handler">
                            11.5.3. Configure a Periodic Rotating Log Handler
                        </a>
                    </li><li>
                        <a href="#configure_size_log_handler">
                            11.5.4. Configure a Size Rotating Log Handler
                        </a>
                    </li><li>
                        <a href="#configure_periodic_size_log_handler">
                            11.5.5. Configure a Periodic Size Rotating Log Handler
                        </a>
                    </li><li>
                        <a href="#configure_syslog_handler">
                            11.5.6. Configure a Syslog Handler
                        </a>
                    </li><li>
                        <a href="#configure_socket_log_handler">
                            11.5.7. Configure a Socket Log Handler
                        </a>
                    </li><li>
                        <a href="#configure_custom_log_handler">
                            11.5.8. Configure a Custom Log Handler
                        </a>
                    </li><li>
                        <a href="#configure_async_log_handler">
                            11.5.9. Configure an Async Log Handler
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_root_logger">
                            11.6. Configuring the Root Logger
                        </a>
                    </li><li>
                        <a href="#configuring_log_formatters">
                            11.7. Configuring Log Formatters
                        </a><ol>
                <li>
                        <a href="#configure_pattern_formatter">
                            11.7.1. Configure a Pattern Formatter
                        </a>
                    </li><li>
                        <a href="#configure_json_log_formatter">
                            11.7.2. Configure a JSON Log Formatter
                        </a>
                    </li><li>
                        <a href="#configure_xml_log_formatter">
                            11.7.3. Configure an XML Log Formatter
                        </a>
                    </li><li>
                        <a href="#configure_custom_log_formatter">
                            11.7.4. Configure a Custom Log Formatter
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#about_application_logging">
                            11.8. About Application Logging
                        </a><ol>
                <li>
                        <a href="#about_per_deployment_logging">
                            11.8.1. Per-deployment Logging
                        </a><ol>
                <li>
                        <a href="#disable_per_deployment_logging">
                            11.8.1.1. Disable Per-deployment Logging
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#logging_profiles">
                            11.8.2. Logging Profiles
                        </a><ol>
                <li>
                        <a href="#configure_logging_profile">
                            11.8.2.1. Configure a Logging Profile
                        </a>
                    </li><li>
                        <a href="#example_logging_profile_configuration">
                            11.8.2.2. Example Logging Profile Configuration
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#viewing_deployment_logging_configuration">
                            11.8.3. Viewing Deployment Logging Configuration
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#tuning_logging_subsystem">
                            11.9. Tuning the Logging Subsystem
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#datasource_management">
                            12. Datasource Management
                        </a><ol>
                <li>
                        <a href="#about_jboss_eap_datasources">
                            12.1. About JBoss EAP Datasources
                        </a>
                    </li><li>
                        <a href="#jdbc_drivers">
                            12.2. JDBC Drivers
                        </a><ol>
                <li>
                        <a href="#install_a_jdbc_driver_as_a_core_module">
                            12.2.1. Installing a JDBC Driver as a Core Module
                        </a><ol>
                <li>
                        <a href="#add_jdbc_driver_core_module_datasources">
                            12.2.1.1. Add the JDBC Driver as a Core Module
                        </a>
                    </li><li>
                        <a href="#register_jdbc_driver">
                            12.2.1.2. Register the JDBC Driver
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#install_a_jdbc_driver_as_a_jar_deployment">
                            12.2.2. Installing a JDBC Driver as a JAR Deployment
                        </a>
                    </li><li>
                        <a href="#jdbc_driver_download_locations">
                            12.2.3. JDBC Driver Download Locations
                        </a>
                    </li><li>
                        <a href="#access_vendor_specific_classes">
                            12.2.4. Access Vendor-Specific Classes
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#adding_datasources">
                            12.3. Creating Datasources
                        </a><ol>
                <li>
                        <a href="#create_a_non_xa_datasource">
                            12.3.1. Create a Non-XA Datasource
                        </a>
                    </li><li>
                        <a href="#create_an_xa_datasource">
                            12.3.2. Create an XA Datasource
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#modifying_datasources">
                            12.4. Modifying Datasources
                        </a><ol>
                <li>
                        <a href="#modify_a_non_xa_datasource">
                            12.4.1. Modify a Non-XA Datasource
                        </a>
                    </li><li>
                        <a href="#modify_an_xa_datasource">
                            12.4.2. Modify an XA Datasource
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#removing_datasources">
                            12.5. Removing Datasources
                        </a><ol>
                <li>
                        <a href="#remove_a_non_xa_datasource">
                            12.5.1. Remove a Non-XA Datasource
                        </a>
                    </li><li>
                        <a href="#remove_an_xa_datasource">
                            12.5.2. Remove an XA Datasource
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#testing_datasource_connections">
                            12.6. Testing Datasource Connections
                        </a>
                    </li><li>
                        <a href="#flushing_datasource_connections">
                            12.7. Flushing Datasource Connections
                        </a>
                    </li><li>
                        <a href="#xa_datasource_recovery">
                            12.8. XA Datasource Recovery
                        </a><ol>
                <li>
                        <a href="#configuring_xa_recovery">
                            12.8.1. Configuring XA Recovery
                        </a>
                    </li><li>
                        <a href="#vendor_specific_xa_recovery">
                            12.8.2. Vendor-Specific XA Recovery
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_database_connection_validation_settings">
                            12.9. Database Connection Validation
                        </a>
                    </li><li>
                        <a href="#datasource_security">
                            12.10. Datasource Security
                        </a>
                    </li><li>
                        <a href="#datasource_statistics">
                            12.11. Datasource Statistics
                        </a><ol>
                <li>
                        <a href="#enable_datasource_statistics">
                            12.11.1. Enabling Datasource Statistics
                        </a>
                    </li><li>
                        <a href="#viewing_datasource_stats">
                            12.11.2. Viewing Datasource Statistics
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#tuning_datasources_subsystem">
                            12.12. Datasource Tuning
                        </a>
                    </li><li>
                        <a href="#jca-capacity-policies">
                            12.13. Capacity Policies
                        </a>
                    </li><li>
                        <a href="#datasource_enlistment_tracing">
                            12.14. Enlistment Tracing
                        </a>
                    </li><li>
                        <a href="#example_datasource_configurations">
                            12.15. Example Datasource Configurations
                        </a><ol>
                <li>
                        <a href="#example_mysql_datasource">
                            12.15.1. Example MySQL Datasource
                        </a>
                    </li><li>
                        <a href="#example_mysql_xa_datasource">
                            12.15.2. Example MySQL XA Datasource
                        </a>
                    </li><li>
                        <a href="#example_postgresql_datasource">
                            12.15.3. Example PostgreSQL Datasource
                        </a>
                    </li><li>
                        <a href="#example_postgresql_xa_datasource">
                            12.15.4. Example PostgreSQL XA Datasource
                        </a>
                    </li><li>
                        <a href="#example_oracle_datasource">
                            12.15.5. Example Oracle Datasource
                        </a>
                    </li><li>
                        <a href="#example_oracle_xa_datasource">
                            12.15.6. Example Oracle XA Datasource
                        </a>
                    </li><li>
                        <a href="#example_microsoft_sqlserver_datasource">
                            12.15.7. Example Microsoft SQL Server Datasource
                        </a>
                    </li><li>
                        <a href="#example_microsoft_sqlserver_xa_datasource">
                            12.15.8. Example Microsoft SQL Server XA Datasource
                        </a>
                    </li><li>
                        <a href="#example_ibm_db2_datasource">
                            12.15.9. Example IBM DB2 Datasource
                        </a>
                    </li><li>
                        <a href="#example_ibm_db2_xa_datasource">
                            12.15.10. Example IBM DB2 XA Datasource
                        </a>
                    </li><li>
                        <a href="#example_sybase_datasource">
                            12.15.11. Example Sybase Datasource
                        </a>
                    </li><li>
                        <a href="#example_sybase_xa_datasource">
                            12.15.12. Example Sybase XA Datasource
                        </a>
                    </li><li>
                        <a href="#example_mariadb_datasource">
                            12.15.13. Example MariaDB Datasource
                        </a>
                    </li><li>
                        <a href="#example_mariadb_xa_datasource">
                            12.15.14. Example MariaDB XA Datasource
                        </a>
                    </li><li>
                        <a href="#example_mariadb_galera_cluster_datasource">
                            12.15.15. Example MariaDB Galera Cluster Datasource
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#datasource_management_agroal">
                            13. Datasource Management With Agroal
                        </a><ol>
                <li>
                        <a href="#about_datasources_agroal">
                            13.1. About the Agroal Datasources Subsystem
                        </a>
                    </li><li>
                        <a href="#enable_datasources_agroal">
                            13.2. Enabling the Agroal Datasources Subsystem
                        </a>
                    </li><li>
                        <a href="#install_a_jdbc_driver_as_a_core_module_agroal">
                            13.3. Installing a JDBC Driver as a Core Module for Agroal Datasources
                        </a><ol>
                <li>
                        <a href="#add_jdbc_driver_core_module_datasources-agroal">
                            13.3.1. Add the JDBC Driver as a Core Module
                        </a>
                    </li><li>
                        <a href="#register_jdbc_driver_agroal">
                            13.3.2. Register the JDBC Driver for Agroal Datasources
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#config_agroal_datasources">
                            13.4. Configuring Agroal Non-XA Datasources
                        </a><ol>
                <li>
                        <a href="#create_agroal_datasource">
                            13.4.1. Create an Agroal Datasource
                        </a>
                    </li><li>
                        <a href="#remove_agroal_datasource">
                            13.4.2. Remove an Agroal Datasource
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#config_agroal_xa_datasources">
                            13.5. Configuring Agroal XA Datasources
                        </a><ol>
                <li>
                        <a href="#create_agroal_xa_datasource">
                            13.5.1. Create an Agroal XA Datasource
                        </a>
                    </li><li>
                        <a href="#remove_agroal_xa_datasource">
                            13.5.2. Remove an Agroal XA Datasource
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#example_agroal_datasource_configurations">
                            13.6. Example Agroal Datasource Configurations
                        </a><ol>
                <li>
                        <a href="#example_mysql_agroal_datasource">
                            13.6.1. Example MySQL Agroal Datasource
                        </a>
                    </li><li>
                        <a href="#example_mysql_agroal_xa_datasource">
                            13.6.2. Example MySQL Agroal XA Datasource
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_transactions_subsystem">
                            14. Configuring the Transactions Subsystem
                        </a>
                    </li><li>
                        <a href="#orb_configuration">
                            15. ORB Configuration
                        </a><ol>
                <li>
                        <a href="#about_common_object_request_broker_architecture_corba">
                            15.1. About Common Object Request Broker Architecture (CORBA)
                        </a>
                    </li><li>
                        <a href="#configure_the_orb_for_jts_transactions">
                            15.2. Configuring the ORB for JTS Transactions
                        </a>
                    </li><li>
                        <a href="#configure_iiop_ssl">
                            15.3. Configure IIOP to Use SSL/TLS with the Elytron Subsystem
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#jca_management">
                            16. Java Connector Architecture (JCA) Management
                        </a><ol>
                <li>
                        <a href="#java_connector_arch">
                            16.1. About the Java Connector Architecture (JCA)
                        </a>
                    </li><li>
                        <a href="#resource_adapters">
                            16.2. About Resource Adapters
                        </a>
                    </li><li>
                        <a href="#configuring_jca_subsystem">
                            16.3. Configuring the JCA Subsystem
                        </a>
                    </li><li>
                        <a href="#configuring_resource_adapters">
                            16.4. Configuring Resource Adapters
                        </a><ol>
                <li>
                        <a href="#deploy_resource_adapter">
                            16.4.1. Deploy a Resource Adapter
                        </a>
                    </li><li>
                        <a href="#configure_resource_adapater">
                            16.4.2. Configure a Resource Adapter
                        </a>
                    </li><li>
                        <a href="#configure_resource_adapters_with_elytron">
                            16.4.3. Configure Resource Adapters to Use the Elytron Subsystem
                        </a>
                    </li><li>
                        <a href="#deploy_configure_ibm_mq_resource_adapter">
                            16.4.4. Deploy and Configure the IBM MQ Resource Adapter
                        </a>
                    </li><li>
                        <a href="#deploy_configure_generic_resource_adapter">
                            16.4.5. Deploy and Configure the Generic JMS Resource Adapter
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_managed_connection_pools">
                            16.5. Configure Managed Connection Pools
                        </a>
                    </li><li>
                        <a href="#view_defined_connection_stats">
                            16.6. View Connection Statistics
                        </a>
                    </li><li>
                        <a href="#flushing_resource_adapter_connections">
                            16.7. Flushing Resource Adapter Connections
                        </a>
                    </li><li>
                        <a href="#tuning_resource_adapters_subsystem">
                            16.8. Tuning the Resource Adapters Subsystem
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_the_web_server_undertow">
                            17. Configuring the Web Server (Undertow)
                        </a><ol>
                <li>
                        <a href="#undertow_subsystem_overview">
                            17.1. Undertow Subsystem Overview
                        </a>
                    </li><li>
                        <a href="#undertow-configure-buffer-caches">
                            17.2. Configuring Buffer Caches
                        </a>
                    </li><li>
                        <a href="#configure_undertow_buffer_pools">
                            17.3. Configuring Byte Buffer Pools
                        </a>
                    </li><li>
                        <a href="#undertow-configure-server">
                            17.4. Configuring a Server
                        </a><ol>
                <li>
                        <a href="#access_logging">
                            17.4.1. Access Logging
                        </a><ol>
                <li>
                        <a href="#standard_access_logging">
                            17.4.1.1. Standard Access Logging
                        </a>
                    </li><li>
                        <a href="#console_access_logging">
                            17.4.1.2. Console Access Logging
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#undertow-configure-servlet-container">
                            17.5. Configuring a Servlet Container
                        </a>
                    </li><li>
                        <a href="#servlet_extensions">
                            17.6. Configuring a Servlet Extension
                        </a>
                    </li><li>
                        <a href="#undertow-configure-handlers">
                            17.7. Configuring Handlers
                        </a>
                    </li><li>
                        <a href="#undertow-configure-filters">
                            17.8. Configuring Filters
                        </a><ol>
                <li>
                        <a href="#undertow_buffer_request_handler">
                            17.8.1. Configuring the buffer-request Handler
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_the_default_welcome_Web_application">
                            17.9. Configure the Default Welcome Web Application
                        </a>
                    </li><li>
                        <a href="#undertow-configure-https">
                            17.10. Configuring HTTPS
                        </a>
                    </li><li>
                        <a href="#undertow-config-http-session-timeout">
                            17.11. Configuring HTTP Session Timeout
                        </a>
                    </li><li>
                        <a href="#undertow-config-http-only-cookies">
                            17.12. Configuring HTTP-Only Session Management Cookies
                        </a>
                    </li><li>
                        <a href="#configuring_http_2">
                            17.13. Configuring HTTP/2
                        </a>
                    </li><li>
                        <a href="#undertow-config-requestDumping-handler">
                            17.14. Configuring a RequestDumping Handler
                        </a><ol>
                <li>
                        <a href="#configuring_a_requestdumping_handler_on_the_server">
                            17.14.1. Configuring a RequestDumping Handler on the Server
                        </a>
                    </li><li>
                        <a href="#configuring_a_requestdumping_handler_within_an_application">
                            17.14.2. Configuring a RequestDumping Handler within an Application
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_cookie_security">
                            17.15. Configuring Cookie Security
                        </a>
                    </li><li>
                        <a href="#tuning_undertow_subsystem">
                            17.16. Tuning the Undertow Subsystem
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_remoting">
                            18. Configuring Remoting
                        </a><ol>
                <li>
                        <a href="#about_the_remoting_subsystem">
                            18.1. About the Remoting Subsystem
                        </a>
                    </li><li>
                        <a href="#remoting_configure_endpoint">
                            18.2. Configuring the Endpoint
                        </a>
                    </li><li>
                        <a href="#remoting_configure_connector">
                            18.3. Configuring a Connector
                        </a>
                    </li><li>
                        <a href="#remoting_configure_http_connector">
                            18.4. Configuring an HTTP Connector
                        </a>
                    </li><li>
                        <a href="#remoting_outbound_connection">
                            18.5. Configuring an Outbound Connection
                        </a>
                    </li><li>
                        <a href="#remoting_remote_outbound_connection">
                            18.6. Configuring a Remote Outbound Connection
                        </a>
                    </li><li>
                        <a href="#remoting_local_outbound_connection">
                            18.7. Configuring a Local Outbound Connection
                        </a>
                    </li><li>
                        <a href="#config_outside_remoting_subsystem">
                            18.8. Additional Remoting Configuration
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_the_io_subsystem">
                            19. Configuring the IO Subsystem
                        </a><ol>
                <li>
                        <a href="#io_subsystem_overview">
                            19.1. IO Subsystem Overview
                        </a>
                    </li><li>
                        <a href="#io_configure_worker">
                            19.2. Configuring a Worker
                        </a>
                    </li><li>
                        <a href="#io_configure_buffer_pool">
                            19.3. Configuring a Buffer Pool
                        </a>
                    </li><li>
                        <a href="#tuning_io_subsystem">
                            19.4. Tuning the IO Subsystem
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_web_services_subsystem">
                            20. Configuring Web Services
                        </a>
                    </li><li>
                        <a href="#javaserver_faces_jsf_configuration">
                            21. JavaServer Faces (JSF) Configuration
                        </a><ol>
                <li>
                        <a href="#multi_jsf_implementation_overview">
                            21.1. Multi-JSF Implementation of JavaServer Faces
                        </a><ol>
                <li>
                        <a href="#install_jsf_implementation">
                            21.1.1. Installing a JSF Implementation
                        </a>
                    </li><li>
                        <a href="#multi_jsf_implementation_support">
                            21.1.2. Multi-JSF Implementation Support
                        </a><ol>
                <li>
                        <a href="#working_of_the_multi_jsf_implementation">
                            21.1.2.1. Working of the Multi-JSF Implementation
                        </a>
                    </li><li>
                        <a href="#changing_the_default_jsf_implementation">
                            21.1.2.2. Changing the Default JSF Implementation
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#disallow_doctype_declarations">
                            21.2. Disallowing DOCTYPE Declarations
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_batch_applications">
                            22. Configuring Batch Applications
                        </a><ol>
                <li>
                        <a href="#configuring_batch_jobs">
                            22.1. Configuring Batch Jobs
                        </a><ol>
                <li>
                        <a href="#configure_batch_job_repositories">
                            22.1.1. Configure Batch Job Repositories
                        </a>
                    </li><li>
                        <a href="#configure_batch_thread_pools">
                            22.1.2. Configure Batch Thread Pools
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#managing_batch_jobs">
                            22.2. Managing Batch Jobs
                        </a>
                    </li><li>
                        <a href="#configure_batch_job_security">
                            22.3. Configure Security for Batch Jobs
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_the_naming_subsystem">
                            23. Configuring the Naming Subsystem
                        </a><ol>
                <li>
                        <a href="#about_the_naming_subsystem">
                            23.1. About the Naming Subsystem
                        </a>
                    </li><li>
                        <a href="#configuring_global_bindings">
                            23.2. Configuring Global Bindings
                        </a>
                    </li><li>
                        <a href="#dynamically_change_jndi_bindings">
                            23.3. Dynamically Change JNDI Bindings
                        </a>
                    </li><li>
                        <a href="#remote_jndi_interface_configuration">
                            23.4. Configuring the Remote JNDI Interface
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_high_availability">
                            24. Configuring High Availability
                        </a><ol>
                <li>
                        <a href="#intro_to_ha">
                            24.1. Introduction to High Availability
                        </a>
                    </li><li>
                        <a href="#cluster_communication_jgroups">
                            24.2. Cluster Communication with JGroups
                        </a><ol>
                <li>
                        <a href="#about_jgroups">
                            24.2.1. About JGroups
                        </a>
                    </li><li>
                        <a href="#switch_default_jgroups_channel_tcp">
                            24.2.2. Switch the Default JGroups Channel to Use TCP
                        </a>
                    </li><li>
                        <a href="#configure_tcpping_stack">
                            24.2.3. Configure TCPPING
                        </a>
                    </li><li>
                        <a href="#configure_tcpgossip_stack">
                            24.2.4. Configure TCPGOSSIP
                        </a>
                    </li><li>
                        <a href="#configure_jdbc_ping_stack">
                            24.2.5. Configure JDBC_PING
                        </a>
                    </li><li>
                        <a href="#binding_jgroups_to_a_network_interface">
                            24.2.6. Binding JGroups to a Network Interface
                        </a>
                    </li><li>
                        <a href="#securing_cluster">
                            24.2.7. Securing a Cluster
                        </a><ol>
                <li>
                        <a href="#configure_jgroups_auth">
                            24.2.7.1. Configuring Authentication
                        </a>
                    </li><li>
                        <a href="#configure_jgroups_encryption">
                            24.2.7.2. Configuring Encryption
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_jgroups_thread_pools">
                            24.2.8. Configure JGroups Thread Pools
                        </a>
                    </li><li>
                        <a href="#configure_jgroups_send_receive_buffers">
                            24.2.9. Configure JGroups Send and Receive Buffers
                        </a>
                    </li><li>
                        <a href="#tuning_jgroups_subsystem">
                            24.2.10. Tuning the JGroups Subsystem
                        </a>
                    </li><li>
                        <a href="#jgroups_troubleshooting">
                            24.2.11. JGroups Troubleshooting
                        </a><ol>
                <li>
                        <a href="#jgroups_nodes_do_not_form_cluster">
                            24.2.11.1. Nodes Do Not Form a Cluster
                        </a>
                    </li><li>
                        <a href="#jgroups_missing_heartbeats_fd">
                            24.2.11.2. Causes of Missing Heartbeats in Failure Detection
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#infinispan">
                            24.3. Infinispan
                        </a><ol>
                <li>
                        <a href="#about_infinispan">
                            24.3.1. About Infinispan
                        </a>
                    </li><li>
                        <a href="#cache_containers">
                            24.3.2. Cache Containers
                        </a><ol>
                <li>
                        <a href="#configure_cache_containers">
                            24.3.2.1. Configure Cache Containers
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#clustering_modes">
                            24.3.3. Clustering Modes
                        </a><ol>
                <li>
                        <a href="#configure_the_cache_mode">
                            24.3.3.1. Configure the Cache Mode
                        </a>
                    </li><li>
                        <a href="#cache_strategy_performance">
                            24.3.3.2. Cache Strategy Performance
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#state_transfer">
                            24.3.4. State Transfer
                        </a>
                    </li><li>
                        <a href="#configure_infinispan_thread_pools">
                            24.3.5. Configure Infinispan Thread Pools
                        </a>
                    </li><li>
                        <a href="#infinispan_statistics">
                            24.3.6. Infinispan Statistics
                        </a><ol>
                <li>
                        <a href="#enable_infinispan_statistics">
                            24.3.6.1. Enable Infinispan Statistics
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#infinispan_partition_handling">
                            24.3.7. Infinispan Partition Handling
                        </a><ol>
                <li>
                        <a href="#split_brain">
                            24.3.7.1. Split Brain
                        </a>
                    </li><li>
                        <a href="#configuring_partition_handling">
                            24.3.7.2. Configuring Partition Handling
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_remote_cache_containers">
                            24.3.8. Configuring Remote Cache Containers
                        </a><ol>
                <li>
                        <a href="#creating-remote-cache-container_config">
                            24.3.8.1. Creating a Remote Cache Container
                        </a>
                    </li><li>
                        <a href="#enabling-statistics-remote-cache-container_config">
                            24.3.8.2. Enabling Statistics for a Remote Cache Container
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#jdg_externalize_http_sessions">
                            24.3.9. Externalize HTTP Sessions to Red Hat Data Grid
                        </a>
                    </li><li>
                        <a href="#externalize-http-sessions-to-jdg-remote-store">
                            24.3.10. Externalize HTTP Sessions to Red Hat Data Grid Using a Remote Store
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configuring_jboss_eap_load_balancer">
                            24.4. Configuring JBoss EAP as a Front-end Load Balancer
                        </a><ol>
                <li>
                        <a href="#configure_undertow_load_balancer_mod_cluster">
                            24.4.1. Configure Undertow as a Load Balancer Using mod_cluster
                        </a>
                    </li><li>
                        <a href="#enabling-ranked-session-affinity-in-your-load-balancer_config">
                            24.4.2. Enabling Ranked Session Affinity in Your Load Balancer
                        </a>
                    </li><li>
                        <a href="#configure_undertow_static_load_balancer">
                            24.4.3. Configure Undertow as a Static Load Balancer
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#using_external_web_server_proxy">
                            24.5. Using an External Web Server as a Proxy Server
                        </a><ol>
                <li>
                        <a href="#overview_http_connectors">
                            24.5.1. Overview of HTTP Connectors
                        </a>
                    </li><li>
                        <a href="#apache_http_server">
                            24.5.2. Apache HTTP Server
                        </a><ol>
                <li>
                        <a href="#install_apache_http_server">
                            24.5.2.1. Installing Apache HTTP Server
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#configure_accept_requests_external_web_servers">
                            24.5.3. Accepting Requests from External Web Servers
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#mod_cluster-config">
                            24.6. The mod_cluster HTTP Connector
                        </a><ol>
                <li>
                        <a href="#configure_mod_cluster_in_apache_http_server">
                            24.6.1. Configure mod_cluster in Apache HTTP Server
                        </a>
                    </li><li>
                        <a href="#disable_advertising_mod_cluster">
                            24.6.2. Disable Advertising for mod_cluster
                        </a>
                    </li><li>
                        <a href="#configure_mod_cluster_worker_node">
                            24.6.3. Configure a mod_cluster Worker Node
                        </a>
                    </li><li>
                        <a href="#configure_fail_on_status_parameter">
                            24.6.4. Configure the mod_cluster fail_on_status Parameter
                        </a>
                    </li><li>
                        <a href="#migrate_traffic_between_clusters">
                            24.6.5. Migrate Traffic Between Clusters
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#mod_jk-config">
                            24.7. Apache mod_jk HTTP Connector
                        </a><ol>
                <li>
                        <a href="#configure_mod_jk_in_apache_http_server">
                            24.7.1. Configure mod_jk in Apache HTTP Server
                        </a>
                    </li><li>
                        <a href="#configure_jboss_eap_with_mod_jk">
                            24.7.2. Configure JBoss EAP to Communicate with mod_jk
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#mod_proxy-config">
                            24.8. Apache mod_proxy HTTP Connector
                        </a><ol>
                <li>
                        <a href="#configure_mod_proxy_apache_http_server">
                            24.8.1. Configure mod_proxy in Apache HTTP Server
                        </a>
                    </li><li>
                        <a href="#configure_jboss_eap_mod_proxy">
                            24.8.2. Configure JBoss EAP to Communicate with mod_proxy
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#ISAPI_config">
                            24.9. Microsoft ISAPI Connector
                        </a><ol>
                <li>
                        <a href="#configure_iis_use_isapi_connector">
                            24.9.1. Configure Microsoft IIS to Use the ISAPI Connector
                        </a>
                    </li><li>
                        <a href="#configure_the_isapi_connector_to_send_client_requests_to_jboss_eap">
                            24.9.2. Configure the ISAPI Connector to Send Client Requests to JBoss EAP
                        </a>
                    </li><li>
                        <a href="#configure_the_isapi_connector_to_balance_client_requests_across_multiple_jboss_eap_servers">
                            24.9.3. Configure the ISAPI Connector to Balance Client Requests Across Multiple JBoss EAP Servers
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#NSAPI_config">
                            24.10. Oracle NSAPI Connector
                        </a><ol>
                <li>
                        <a href="#configure_oracle_iplanet_nsapi_connector">
                            24.10.1. Configure Oracle iPlanet Web Server to use the NSAPI Connector
                        </a>
                    </li><li>
                        <a href="#configure_nsapi_connector_send_client_requests">
                            24.10.2. Configure the NSAPI Connector to Send Client Requests to JBoss EAP
                        </a>
                    </li><li>
                        <a href="#configure_nsapi_connector_balance_client_requests_multiple_servers">
                            24.10.3. Configure the NSAPI Connector to Balance Client Requests Across Multiple JBoss EAP Servers
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#eclipse_microprofile">
                            25. Eclipse MicroProfile
                        </a><ol>
                <li>
                        <a href="#using_microprofile_config">
                            25.1. Using Eclipse MicroProfile Config to Manage Configuration
                        </a><ol>
                <li>
                        <a href="#microprofile_config_about">
                            25.1.1. About the MicroProfile Config SmallRye Subsystem
                        </a>
                    </li><li>
                        <a href="#microprofile_config_supported_configsources">
                            25.1.2. ConfigSources Supported by the MicroProfile Config SmallRye Subsystem
                        </a>
                    </li><li>
                        <a href="#deploy_applications_accessing_configsources">
                            25.1.3. Deploying Applications that Access ConfigSources
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#eclipse_microprofile_opentracing">
                            25.2. Tracing Requests with the MicroProfile OpenTracing SmallRye Subsystem
                        </a><ol>
                <li>
                        <a href="#microprofile_opentracing_about">
                            25.2.1. About Eclipse MicroProfile OpenTracing
                        </a>
                    </li><li>
                        <a href="#microprofile_opentracing_smallrye_about">
                            25.2.2. About the MicroProfile OpenTracing SmallRye Subsystem
                        </a>
                    </li><li>
                        <a href="#microprofile_opentracing_smallrye_configuring">
                            25.2.3. Configuring the MicroProfile OpenTracing SmallRye Subsystem
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#microprofile_health_check">
                            25.3. Monitor Server Health Using Eclipse MicroProfile Health
                        </a><ol>
                <li>
                        <a href="#about_the_microprofile_health_smallrye_subsystem">
                            25.3.1. MicroProfile Health SmallRye Subsystem
                        </a>
                    </li><li>
                        <a href="#examine_healthcheck_using_the_management_cli">
                            25.3.2. Health Check Using the Management CLI Examples
                        </a>
                    </li><li>
                        <a href="#examine_the_healthcheck_using_the_management_console">
                            25.3.3. Examining the Health Check Using the Management Console
                        </a>
                    </li><li>
                        <a href="#examine_healthcheck_using_the_http_endpoint">
                            25.3.4. Examine the Health Check Using the HTTP Endpoint
                        </a>
                    </li><li>
                        <a href="#global_statuses_undefined_probes">
                            25.3.5. Global Status When Probes are not Defined
                        </a>
                    </li><li>
                        <a href="#enable_auth_http_endpoint">
                            25.3.6. Enable Authentication for the HTTP Endpoint
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#microprofile_metrics">
                            25.4. Eclipse MicroProfile Metrics
                        </a><ol>
                <li>
                        <a href="#about_the_microprofile_metrics_subsystem">
                            25.4.1. About the MicroProfile Metrics Subsystem
                        </a>
                    </li><li>
                        <a href="#examine_metrics_using_the_http_endpoint">
                            25.4.2. Examine Metrics Using the HTTP Endpoint
                        </a>
                    </li><li>
                        <a href="#configure_microprofile_metrics_using_management_console">
                            25.4.3. Configure MicroProfile Metrics using the Management Console
                        </a>
                    </li><li>
                        <a href="#enable_authentication_for_the_http_endpoint">
                            25.4.4. Enable Authentication for the HTTP Endpoint
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#reference_material">
                            A. Reference Material
                        </a><ol>
                <li>
                        <a href="#reference_of_switches_and_arguments_to_pass_at_server_runtime">
                            A.1. Server Runtime Arguments
                        </a>
                    </li><li>
                        <a href="#rpm_installation_configuration_files">
                            A.2. RPM Service Configuration Files
                        </a>
                    </li><li>
                        <a href="#rpm_installation_configuration_properties">
                            A.3. RPM Service Configuration Properties
                        </a>
                    </li><li>
                        <a href="#jboss_eap_subsystems">
                            A.4. Overview of JBoss EAP Subsystems
                        </a>
                    </li><li>
                        <a href="#reference_of_add_user_utility_arguments">
                            A.5. Add-User Utility Arguments
                        </a>
                    </li><li>
                        <a href="#management_audit_logging_attributes">
                            A.6. Management Audit Logging Attributes
                        </a>
                    </li><li>
                        <a href="#reference_of_interface_attributes">
                            A.7. Interface Attributes
                        </a>
                    </li><li>
                        <a href="#reference_of_socket_binding_attributes">
                            A.8. Socket Binding Attributes
                        </a>
                    </li><li>
                        <a href="#reference_of_default_socket_bindings">
                            A.9. Default Socket Bindings
                        </a>
                    </li><li>
                        <a href="#module_add_arguments">
                            A.10. Module Command Arguments
                        </a>
                    </li><li>
                        <a href="#reference_deploy_scanner_marker_files">
                            A.11. Deployment Scanner Marker Files
                        </a>
                    </li><li>
                        <a href="#reference_deploy_scanner_attr">
                            A.12. Deployment Scanner Attributes
                        </a>
                    </li><li>
                        <a href="#jvm_config_attributes">
                            A.13. Managed Domain JVM Configuration Attributes
                        </a>
                    </li><li>
                        <a href="#mail_attributes">
                            A.14. Mail Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#root_logger_attributes">
                            A.15. Root Logger Attributes
                        </a>
                    </li><li>
                        <a href="#log_category_attributes">
                            A.16. Log Category Attributes
                        </a>
                    </li><li>
                        <a href="#log_handler_attributes">
                            A.17. Log Handler Attributes
                        </a>
                    </li><li>
                        <a href="#log_formatter_attributes">
                            A.18. Log Formatter Attributes
                        </a>
                    </li><li>
                        <a href="#datasource_connection_urls">
                            A.19. Datasource Connection URLs
                        </a>
                    </li><li>
                        <a href="#datasource_parameters">
                            A.20. Datasource Attributes
                        </a>
                    </li><li>
                        <a href="#reference_of_datasource_statistics">
                            A.21. Datasource Statistics
                        </a>
                    </li><li>
                        <a href="#datasources_agroal_attributes">
                            A.22. Agroal Datasource Attributes
                        </a>
                    </li><li>
                        <a href="#reference_of_transaction_manager_configuration_options">
                            A.23. Transaction Manager Configuration Options
                        </a>
                    </li><li>
                        <a href="#iiop_subsystem_attributes">
                            A.24. IIOP Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#resource_adapter_attributes">
                            A.25. Resource Adapter Attributes
                        </a>
                    </li><li>
                        <a href="#resource_adapter_statistics">
                            A.26. Resource Adapter Statistics
                        </a>
                    </li><li>
                        <a href="#undertow-attribute-refs">
                            A.27. Undertow Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#undertow_subsystem_statistics">
                            A.28. Undertow Subsystem Statistics
                        </a>
                    </li><li>
                        <a href="#default_behavior_http_methods">
                            A.29. Default Behavior of HTTP Methods
                        </a>
                    </li><li>
                        <a href="#remoting_attributes">
                            A.30. Remoting Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#io_attributes">
                            A.31. IO Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#jsf_module_templates">
                            A.32. JSF Module Templates
                        </a>
                    </li><li>
                        <a href="#jgroups_subsystem_attributes">
                            A.33. JGroups Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#jgroups_protocols">
                            A.34. JGroups Protocols
                        </a>
                    </li><li>
                        <a href="#microprofile_config_smallrye_subsystem_attributes">
                            A.35. MicroProfile Config SmallRye Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#apache_http_server_mod_cluster_directives">
                            A.36. Apache HTTP Server mod_cluster Directives
                        </a>
                    </li><li>
                        <a href="#mod_cluster-reference">
                            A.37. ModCluster Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#mod_jk_worker_properties">
                            A.38. mod_jk Worker Properties
                        </a>
                    </li><li>
                        <a href="#security-manager-reference">
                            A.39. Security Manager Subsystem Attributes
                        </a>
                    </li><li>
                        <a href="#install_openssl_jbcs">
                            A.40. Install OpenSSL from JBoss Core Services
                        </a>
                    </li><li>
                        <a href="#configure_eap_openssl">
                            A.41. Configure JBoss EAP to Use OpenSSL
                        </a>
                    </li><li>
                        <a href="#platform_modules_provided_for_java_8">
                            A.42. Platform Modules Provided for Java 8
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#idm140321746236224">
                            Legal Notice
                        </a>
                    </li>
            </ol>
            
        
      </div>
    </nav>

    
    <div class="pvof-doc__wrapper" id="doc-wrapper">
        <section class="mimir-doc-title" id="mimir-doc--configuration_guide">
            <h1 class="title">Configuration Guide</h1>
        </section>
        <body><div xml:lang="en-US" class="book" id="idm140321695945744"><div class="titlepage"><div><div class="producttitle"><span class="productname">JBoss Enterprise Application Platform Continuous Delivery</span> <span class="productnumber">18</span></div><div><h2 class="subtitle">For Use with JBoss Enterprise Application Platform Continuous Delivery 18</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm140321746236224">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				The purpose of this guide is to cover many of the configuration tasks needed for setting up and maintaining JBoss EAP as well as running applications and other services on it.
			</div></div></div></div><hr/></div><section class="preface" id="idm140321717575216"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p id="preface_cd">
			This document is intended for use with the JBoss Enterprise Application Platform continuous delivery release 18, which is a Technology Preview release available in the cloud only.
		</p><p>
			Some features described in this document might not work or might not be available on Red Hat OpenShift Online and Red Hat OpenShift Container Platform. For specific details about the feature differences in the JBoss EAP CD release, see the <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/jboss_eap_continuous_delivery_18_release_notes/index/#cd_release_limitations">Release Limitations</a> section in the <span class="emphasis"><em>JBoss EAP Continuous Delivery 18 Release Notes</em></span>.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				This continuous delivery release for JBoss EAP is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
			</p><p>
				See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
			</p></div></div></section><section class="chapter" id="introduction"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Introduction</h1></div></div></div><p>
			Before using this guide to configure JBoss EAP, it is assumed that the latest version of JBoss EAP has been downloaded and installed. For installation instructions, see the JBoss EAP <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/installation_guide/" title="This content is not included in Mimir."><span class="emphasis"><em>Installation Guide</em></span></a>.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				Since the installation location of JBoss EAP will vary between host machines, this guide refers to the installation location as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code>. The actual location of the JBoss EAP installation should be used instead of <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span></code> when performing administrative tasks.
			</p></div></div></section><section class="chapter" id="starting_and_stopping_jboss_eap"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Starting and Stopping JBoss EAP</h1></div></div></div><section class="section" id="starting_jboss_eap"><div class="titlepage"><div><div><h2 class="title">2.1. Starting JBoss EAP</h2></div></div></div><p>
				JBoss EAP is supported on Red Hat Enterprise Linux, Windows Server, and Oracle Solaris, and runs in either a standalone server or managed domain operating mode. The specific command to start JBoss EAP depends on the underlying platform and the desired operating mode.
			</p><p>
				Servers are initially started in a suspended state and will not accept any requests until all required services have started, at which time the servers are placed into a normal running state and can start accepting requests.
			</p><h4 id="start_jboss_eap_as_a_standalone_server">Start JBoss EAP as a Standalone Server</h4><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For Windows Server, use the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>\bin\standalone.bat</code> script.
				</p></div></div><p>
				This startup script uses the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> file, or <code class="literal">standalone.conf.bat</code> for Windows Server, to set some default preferences, such as JVM options. You can customize the settings in this file.
			</p><p>
				JBoss EAP uses the <code class="literal">standalone.xml</code> configuration file by default, but can be started using a different one. For details on the available standalone configuration files and how to use them, see the <a class="link" href="#standalone_server_configuration_files" title="3.6.1. Standalone Server Configuration Files">Standalone Server Configuration Files</a> section.
			</p><p>
				For a complete listing of all available startup script arguments and their purposes, use the <code class="literal">--help</code> argument or see the <a class="link" href="#reference_of_switches_and_arguments_to_pass_at_server_runtime" title="A.1. Server Runtime Arguments">Server Runtime Arguments</a> section.
			</p><h4 id="start_jboss_eap_in_a_managed_domain">Start JBoss EAP in a Managed Domain</h4><p>
				The domain controller must be started before the servers in any of the server groups in the domain. Use this script to first start the domain controller, and then for each associated host controller.
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For Windows Server, use the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>\bin\domain.bat</code> script.
				</p></div></div><p>
				This startup script uses the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> file, or <code class="literal">domain.conf.bat</code> for Windows Server, to set some default preferences, such as JVM options. You can customize the settings in this file.
			</p><p>
				JBoss EAP uses the <code class="literal">host.xml</code> host configuration file by default, but can be started using a different one. For details on the available managed domain configuration files and how to use them, see the <a class="link" href="#managed_domain_configuration_files" title="3.6.2. Managed Domain Configuration Files">Managed Domain Configuration Files</a> section.
			</p><p>
				When setting up a managed domain, additional arguments will need to be passed into the startup script. For a complete listing of all available startup script arguments and their purposes, use the <code class="literal">--help</code> argument or see the <a class="link" href="#reference_of_switches_and_arguments_to_pass_at_server_runtime" title="A.1. Server Runtime Arguments">Server Runtime Arguments</a> section.
			</p></section><section class="section" id="stopping_jboss_eap"><div class="titlepage"><div><div><h2 class="title">2.2. Stopping JBoss EAP</h2></div></div></div><p>
				The way that you stop JBoss EAP depends on how it was started.
			</p><h4 id="stop_an_interactive_instance_of_jboss_eap">Stop an Interactive Instance of JBoss EAP</h4><p>
				Press <code class="literal">Ctrl+C</code> in the terminal where JBoss EAP was started.
			</p><h4 id="stop_a_background_instance_of_jboss_eap">Stop a Background Instance of JBoss EAP</h4><p>
				Use the management CLI to connect to the running instance and shut down the server.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Launch the management CLI.
					</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect</pre></li><li class="listitem"><p class="simpara">
						Issue the <code class="literal">shutdown</code> command.
					</p><pre class="screen">shutdown</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When running in a managed domain, you must specify the host name to shut down by using the <code class="literal">--host</code> argument with the <code class="literal">shutdown</code> command.
				</p></div></div></section><section class="section" id="running_eap_in_admin_only_mode"><div class="titlepage"><div><div><h2 class="title">2.3. Running JBoss EAP in Admin-only Mode</h2></div></div></div><p>
				JBoss EAP has the ability to be started in <span class="emphasis"><em>admin-only</em></span> mode. This enables JBoss EAP to run and accept management requests but not start other runtime services or accept end user requests. Admin-only mode is available in both <a class="link" href="#admin_only_standalone" title="Running a Standalone Server in Admin-only Mode">standalone servers</a> as well as <a class="link" href="#admin_only_domain" title="Running a Managed Domain in Admin-only Mode">managed domains</a>.
			</p><h4 id="admin_only_standalone">Running a Standalone Server in Admin-only Mode</h4><h5 id="start_the_server_in_admin_only_mode">Start the Server in Admin-only Mode</h5><p>
				To start a JBoss EAP instance in admin-only mode, use the <code class="literal">--start-mode=admin-only</code> runtime argument when starting the JBoss EAP instance.
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh --start-mode=admin-only</pre><h5 id="check_if_the_server_is_running_in_admin_only_mode">Check If the Server is Running in Admin-only Mode</h5><p>
				Use the following command to check the running mode of the server. The result will be <code class="literal">ADMIN_ONLY</code> if the server is running in admin-only mode.
			</p><pre class="screen">:read-attribute(name=running-mode)
{
  "outcome" =&gt; "success",
  "result" =&gt; "ADMIN_ONLY"
}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Additionally, you can check the initial running mode in which JBoss EAP was launched by using the following command.
				</p><pre class="screen">/core-service=server-environment:read-attribute(name=initial-running-mode)</pre></div></div><h5 id="reload_in_a_different_mode_from_the_management_cli">Reload in a Different Mode from the Management CLI</h5><p>
				In addition to stopping and starting a JBoss EAP instance with a different runtime switch, the management CLI may also be used to reload it in a different mode.
			</p><p>
				To reload the server in admin-only mode:
			</p><pre class="screen">reload --start-mode=admin-only</pre><p>
				To reload the server in normal mode:
			</p><pre class="screen">reload --start-mode=normal</pre><p>
				Note that if the server was started in admin-only mode and no <code class="literal">--start-mode</code> argument is specified to the <code class="literal">reload</code> command, the server will be started in normal mode.
			</p><h4 id="admin_only_domain">Running a Managed Domain in Admin-only Mode</h4><p>
				In a managed domain, if a domain controller is started in admin-only mode, it will not accept incoming connections from slave host controllers.
			</p><h5 id="start_a_host_controller_in_admin_only_mode">Start a Host Controller in Admin-only Mode</h5><p>
				Pass in the <code class="literal">--admin-only</code> runtime argument to start a host controller in admin-only mode.
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --admin-only</pre><h5 id="check_if_a_host_controller_is_running_in_admin_only_mode">Check If a Host Controller is Running in Admin-only Mode</h5><p>
				Use the following command to check the running mode of a host controller. The result will be <code class="literal">ADMIN_ONLY</code> if the host controller is running in admin-only mode.
			</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>:read-attribute(name=running-mode)
{
  "outcome" =&gt; "success",
  "result" =&gt; "ADMIN_ONLY"
}</pre><h5 id="reload_in_a_different_mode_from_the_management_cli_2">Reload in a Different Mode from the Management CLI</h5><p>
				In addition to stopping and starting a host controller with a different runtime switch, the management CLI may also be used to reload it in a different mode.
			</p><p>
				To reload the host controller in admin-only mode:
			</p><pre class="screen">reload --host=<span class="emphasis"><em>HOST_NAME</em></span> --admin-only=true</pre><p>
				To reload a host controller in normal mode:
			</p><pre class="screen">reload --host=<span class="emphasis"><em>HOST_NAME</em></span> --admin-only=false</pre><p>
				Note that if the host controller was started in admin-only mode and no <code class="literal">--admin-only</code> argument is specified to the <code class="literal">reload</code> command, the host controller will be started in normal mode.
			</p></section><section class="section" id="graceful_shutdown_suspend"><div class="titlepage"><div><div><h2 class="title">2.4. Suspend and Shut Down JBoss EAP Gracefully</h2></div></div></div><p>
				JBoss EAP can be suspended or shut down gracefully. This allows active requests to complete normally, without accepting any new requests. A timeout value specifies how long that the suspend or shut down operation will wait for active requests to complete. While the server is suspended, management requests are still processed.
			</p><p>
				Graceful shutdown is coordinated at a server-wide level, mostly focused on the entry points at which a request enters the server. The following subsystems support graceful shutdown:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Undertow</span></dt><dd>
							The <code class="literal">undertow</code> subsystem will wait for all requests to finish.
						</dd><dt><span class="term">mod_cluster</span></dt><dd>
							The <code class="literal">modcluster</code> subsystem will notify the load balancer that the server is suspending in the <code class="literal">PRE_SUSPEND</code> phase.
						</dd><dt><span class="term">EJB</span></dt><dd>
							The <code class="literal">ejb3</code> subsystem will wait for all remote EJB requests and MDB message deliveries to finish. Delivery to MDBs is stopped in the <code class="literal">PRE_SUSPEND</code> phase. EJB timers are suspended, and missed timers will be activated when the server is resumed.
						</dd><dt><span class="term">Transactions</span></dt><dd><p class="simpara">
							Once suspended, the server will not accept new requests, but in-flight transactions and requests are allowed to continue until they complete or until the timeout period expires. This also applies for web service requests associated with an XTS transaction.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								By default, transaction graceful shutdown is disabled for the <code class="literal">ejb</code> subsystem. You must enable transaction graceful shutdown if you want the server to wait for EJB-related transactions to complete before suspending. For example:
							</p><pre class="screen">/subsystem=ejb3:write-attribute(name=enable-graceful-txn-shutdown,value=true)</pre></div></div></dd><dt><span class="term">EE Concurrency</span></dt><dd><p class="simpara">
							The server will wait for all active jobs to finish. All queued jobs will be skipped. Currently, since EE Concurrency does not have persistence, those queued jobs that were skipped will be lost.
						</p><p class="simpara">
							While the server is in a suspended state, scheduled tasks will continue to execute at their scheduled times but will throw a <code class="literal">java.lang.IllegalStateException</code>. Once the server is resumed, scheduled tasks will continue to execute normally, and in most cases tasks will not need to be rescheduled.
						</p></dd><dt><span class="term">Batch</span></dt><dd>
							The server will stop all running jobs within the timeout period and defer all scheduled jobs.
						</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Graceful shutdown currently will not reject new inbound JMS messages. EE batch jobs and EE concurrency tasks scheduled by in-flight activity are currently allowed to proceed; however, EE concurrency tasks submitted that pass the timeout window currently error when executed.
				</p></div></div><p>
				Requests are tracked by the <code class="literal">request-controller</code> subsystem. Without this subsystem, suspend and resume capabilities are limited and the server will not wait for requests to complete before suspending or shutting down; however, if you do not need this capability, the <code class="literal">request-controller</code> subsystem can be removed for a small performance improvement.
			</p><section class="section" id="suspend_servers"><div class="titlepage"><div><div><h3 class="title">2.4.1. Suspend Servers</h3></div></div></div><p>
					JBoss EAP 7 introduced a <span class="emphasis"><em>suspend</em></span> mode, which suspends server operations gracefully. This allows all active requests to complete normally, but will not accept any new requests. Once the server has been suspended, it can be shut down, returned back to a running state, or left in a suspended state to perform maintenance.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The management interfaces are not impacted by suspending the server.
					</p></div></div><p>
					The server can be suspended and resumed using the management console or the management CLI.
				</p><h5 id="check_the_server_suspend_state">Check the Server Suspend State</h5><p>
					The server suspend state can be viewed using the following management CLI commands. The resulting value will be one of <code class="literal">RUNNING</code>, <code class="literal">PRE_SUSPEND</code>, <code class="literal">SUSPENDING</code>, or <code class="literal">SUSPENDED</code>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Check the suspend state for a standalone server.
						</p><pre class="screen">:read-attribute(name=suspend-state)</pre></li><li class="listitem"><p class="simpara">
							Check the suspend state for a server in a managed domain.
						</p><pre class="screen">/host=master/server=server-one:read-attribute(name=suspend-state)</pre></li></ul></div><h5 id="suspend">Suspend</h5><p>
					Use the following management CLI commands to suspend the server, specifying the timeout value, in seconds, for the server to wait for active requests to complete. The default is <code class="literal">0</code>, which will suspend immediately. A value of <code class="literal">-1</code> will cause the server to wait indefinitely for all active requests to complete.
				</p><p>
					Each example waits up to 60 seconds for requests to complete before suspending.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Suspend a standalone server.
						</p><pre class="screen">:suspend(suspend-timeout=60)</pre></li><li class="listitem"><p class="simpara">
							Suspend all servers in a managed domain.
						</p><pre class="screen">:suspend-servers(suspend-timeout=60)</pre></li><li class="listitem"><p class="simpara">
							Suspend a single server in a managed domain.
						</p><pre class="screen">/host=master/server-config=server-one:suspend(suspend-timeout=60)</pre></li><li class="listitem"><p class="simpara">
							Suspend all servers in a server group.
						</p><pre class="screen">/server-group=main-server-group:suspend-servers(suspend-timeout=60)</pre></li><li class="listitem"><p class="simpara">
							Suspend all servers at the host level.
						</p><pre class="screen">/host=master:suspend-servers(suspend-timeout=60)</pre></li></ul></div><h5 id="resume">Resume</h5><p>
					The <code class="literal">resume</code> command returns the server to a normal running state to accept new requests. You can initiate the command at the host, server, server group, or domain level. For example:
				</p><pre class="screen">:resume</pre><h5 id="start_a_server_in_a_suspended_state">Start a Server in a Suspended State</h5><p>
					You can start a server in a suspended state so that no requests are accepted by the server until it is resumed.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To start a standalone server in a suspended state, use the <code class="literal">--start-mode=suspend</code> runtime argument when starting the JBoss EAP instance.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh --start-mode=suspend</pre></li><li class="listitem"><p class="simpara">
							To start a managed domain server in a suspended state, pass the <code class="literal">start-mode=suspend</code> argument to the <code class="literal">start</code> operation in the management CLI command.
						</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:start(start-mode=suspend)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can also pass the <code class="literal">start-mode</code> argument to the <code class="literal">reload</code> and <code class="literal">restart</code> operations for a server.
							</p></div></div></li><li class="listitem"><p class="simpara">
							To start all servers in a managed domain server group in a suspended state, pass the <code class="literal">start-mode=suspend</code> argument to the <code class="literal">start-servers</code> operation in the management CLI command.
						</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:start-servers(start-mode=suspend)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can also pass the <code class="literal">start-mode</code> argument to the <code class="literal">reload-servers</code> and <code class="literal">restart-servers</code> operations for a server group.
							</p></div></div></li></ul></div></section><section class="section" id="shut_down_servers_gracefully_using_management_cli"><div class="titlepage"><div><div><h3 class="title">2.4.2. Shut Down Servers Gracefully Using the Management CLI</h3></div></div></div><p>
					A server will be shut down gracefully if an appropriate timeout value is specified when stopping the server. Once the command is issued, the server will be suspended and will wait up to the specified timeout for all requests to finish before shutting down.
				</p><p>
					Use the following management CLI commands to shut down the server gracefully. Specify the timeout value, in seconds, for the server to wait for active requests to complete. The default is <code class="literal">0</code>, which will shut down the server immediately. A value of <code class="literal">-1</code> will cause the server to wait indefinitely for all active requests to complete before shutting down.
				</p><p>
					Each example waits up to 60 seconds for requests to complete before shutting down.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Shut down a standalone server gracefully.
						</p><pre class="screen">shutdown --suspend-timeout=60</pre></li><li class="listitem"><p class="simpara">
							Stop all servers in a managed domain gracefully.
						</p><pre class="screen">:stop-servers(suspend-timeout=60)</pre></li><li class="listitem"><p class="simpara">
							Stop a single server in a managed domain gracefully.
						</p><pre class="screen">/host=master/server-config=server-one:stop(suspend-timeout=60)</pre></li><li class="listitem"><p class="simpara">
							Stop all servers in a server group gracefully.
						</p><pre class="screen">/server-group=main-server-group:stop-servers(suspend-timeout=60)</pre></li><li class="listitem"><p class="simpara">
							Shutdown the host controller and all the servers it manages.
						</p><pre class="screen">/host=master:shutdown(suspend-timeout=60)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The <code class="literal">suspend-timeout</code> attribute is only applied to the servers managed by the host controller, not the host controller itself.
							</p></div></div></li></ul></div></section><section class="section" id="shut_down_servers_gracefully_using_an_os_signal"><div class="titlepage"><div><div><h3 class="title">2.4.3. Shut Down Servers Gracefully Using an OS Signal</h3></div></div></div><p>
					A server can be shut down gracefully by sending an OS <code class="literal">TERM</code> signal, such as with <code class="literal">kill -15 <span class="emphasis"><em>PID</em></span></code>. By default, this value is identical to the management CLI’s <code class="literal">shutdown --suspend-timeout=0</code> command, resulting in immediate termination of any currently processing requests. The timeout can be configured by <code class="literal">org.wildfly.sigterm.suspend.timeout</code> system property, indicating the maximum number of seconds to wait for requests to complete before the server shuts down. A value of <code class="literal">-1</code> indicates that the server will wait indefinitely.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						In a managed domain OS signals should not be used to shut down servers. Instead, servers should be <a class="link" href="#shut_down_servers_gracefully_using_management_cli" title="2.4.2. Shut Down Servers Gracefully Using the Management CLI">shut down using the management CLI</a> and through the managing Host Controller.
					</p></div></div><p>
					Graceful shutdown using an OS signal will not work if the JVM is configured to disable signal handling, such as if the <code class="literal">-Xrs</code> java argument has been passed to the JVM options, or if the signal sent is not one the process can respond to, such as if a <code class="literal">KILL</code> signal is sent.
				</p></section></section><section class="section" id="starting_stopping_rpm"><div class="titlepage"><div><div><h2 class="title">2.5. Starting and Stopping JBoss EAP (RPM Installation)</h2></div></div></div><p>
				Starting and stopping JBoss EAP is different for an RPM installation compared to a ZIP or installer installation.
			</p><section class="section" id="starting_jboss_eap_rpm_installation"><div class="titlepage"><div><div><h3 class="title">2.5.1. Starting JBoss EAP (RPM Installation)</h3></div></div></div><p>
					The command for starting an RPM installation of JBoss EAP depends on which operating mode you want to start, a standalone server or a managed domain, and which Red Hat Enterprise Linux version you are running.
				</p><h5 id="start_jboss_eap_as_a_standalone_server_rpm_installation">Start JBoss EAP as a Standalone Server (RPM Installation)</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 6:
						</p><pre class="screen">$ service eap7-standalone start</pre></li><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 7 and later:
						</p><pre class="screen">$ systemctl start eap7-standalone.service</pre></li></ul></div><p>
					This will start JBoss EAP using the <code class="literal">standalone.xml</code> configuration file by default. You can start JBoss EAP with a different <a class="link" href="#standalone_server_configuration_files" title="3.6.1. Standalone Server Configuration Files">standalone server configuration file</a> by setting a property in the <a class="link" href="#rpm_installation_configuration_files" title="A.2. RPM Service Configuration Files">RPM service configuration file</a>. For more information, see the <a class="link" href="#configure_rpm_service_properties" title="Configure RPM Service Properties">Configure RPM Service Properties</a> section below.
				</p><h5 id="start_jboss_eap_in_a_managed_domain_rpm_installation">Start JBoss EAP in a Managed Domain (RPM Installation)</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 6:
						</p><pre class="screen">$ service eap7-domain start</pre></li><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 7 and later:
						</p><pre class="screen">$ systemctl start eap7-domain.service</pre></li></ul></div><p>
					This will start JBoss EAP using the <code class="literal">host.xml</code> configuration file by default. You can start JBoss EAP with a different <a class="link" href="#managed_domain_configuration_files" title="3.6.2. Managed Domain Configuration Files">managed domain configuration file</a> by setting a property in the <a class="link" href="#rpm_installation_configuration_files" title="A.2. RPM Service Configuration Files">RPM service configuration file</a>. For more information, see the <a class="link" href="#configure_rpm_service_properties" title="Configure RPM Service Properties">Configure RPM Service Properties</a> section below.
				</p><h5 id="configure_rpm_service_properties">Configure RPM Service Properties</h5><p>
					This section shows you how to configure the RPM service properties and other startup options for your JBoss EAP installation. Note that it is recommended to back up your configuration files before making modifications.
				</p><p>
					For a listing of all available startup options for an RPM installation, see the <a class="link" href="#rpm_installation_configuration_properties" title="A.3. RPM Service Configuration Properties">RPM Service Configuration Properties</a> section.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						For Red Hat Enterprise Linux 7 and later, RPM service configuration files are loaded using <code class="literal">systemd</code>, so variable expressions are not expanded.
					</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Specify the server configuration file.
						</p><p class="simpara">
							When starting a standalone server, the <code class="literal">standalone.xml</code> file is used by default. When running in a managed domain, the <code class="literal">host.xml</code> file is used by default. You can start JBoss EAP with a different configuration file by setting the <code class="literal">WILDFLY_SERVER_CONFIG</code> property in the appropriate <a class="link" href="#rpm_installation_configuration_files" title="A.2. RPM Service Configuration Files">RPM configuration file</a>, for example, <code class="literal">eap7-standalone.conf</code>.
						</p><pre class="screen">WILDFLY_SERVER_CONFIG=standalone-full.xml</pre></li><li class="listitem"><p class="simpara">
							Bind to a specific IP address.
						</p><p class="simpara">
							By default, a JBoss EAP RPM installation binds to <code class="literal">0.0.0.0</code>. You can bind JBoss EAP to a specific IP address by setting the <code class="literal">WILDFLY_BIND</code> property in the appropriate <a class="link" href="#rpm_installation_configuration_files" title="A.2. RPM Service Configuration Files">RPM configuration file</a>, for example, <code class="literal">eap7-standalone.conf</code>.
						</p><pre class="screen">WILDFLY_BIND=192.168.0.1</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you want to bind the management interfaces to a specific IP address, this can be configured in the JBoss EAP startup configuration file as shown in the next example.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set JVM options or Java properties.
						</p><p class="simpara">
							You can specify JVM options or Java properties to pass into the JBoss EAP startup script by editing the startup configuration file. This file is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> for a standalone server or <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> for a managed domain. The below example configures the heap size and binds the JBoss EAP management interfaces to an IP address.
						</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Xms2048m -Xmx2048m"
JAVA_OPTS="$JAVA_OPTS -Djboss.bind.address.management=192.168.0.1"</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If required, the JBoss EAP bind address must be configured using the <code class="literal">WILDFLY_BIND</code> property and not using the <code class="literal">jboss.bind.address</code> standard property here.
							</p></div></div></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If a property has the same name in both the RPM service configuration file, such as <code class="literal">/etc/sysconfig/eap7-standalone</code>, and in the JBoss EAP startup configuration file, such as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code>, the value that takes precedence is the one in the JBoss EAP startup configuration file. One such property is <code class="literal">JAVA_HOME</code>.
					</p></div></div></section><section class="section" id="stopping_jboss_eap_rpm_installation"><div class="titlepage"><div><div><h3 class="title">2.5.2. Stopping JBoss EAP (RPM Installation)</h3></div></div></div><p>
					The command for stopping an RPM installation of JBoss EAP depends on which operating mode that was started, a standalone server or a managed domain, and which Red Hat Enterprise Linux version you are running.
				</p><h5 id="stop_jboss_eap_as_a_standalone_server_rpm_installation">Stop JBoss EAP as a Standalone Server (RPM Installation)</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 6:
						</p><pre class="screen">$ service eap7-standalone stop</pre></li><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 7 and later:
						</p><pre class="screen">$ systemctl stop eap7-standalone.service</pre></li></ul></div><h5 id="stop_jboss_eap_in_a_managed_domain_rpm_installation">Stop JBoss EAP in a Managed Domain (RPM Installation)</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 6:
						</p><pre class="screen">$ service eap7-domain stop</pre></li><li class="listitem"><p class="simpara">
							For Red Hat Enterprise Linux 7 and later:
						</p><pre class="screen">$ systemctl stop eap7-domain.service</pre></li></ul></div><p>
					For a listing of all available startup options for an RPM installation, see the <a class="link" href="#rpm_installation_configuration_files" title="A.2. RPM Service Configuration Files">RPM Service Configuration Files</a> section.
				</p></section></section><section class="section" id="powershell_scripts"><div class="titlepage"><div><div><h2 class="title">2.6. PowerShell Scripts (Windows Server)</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The collection of PowerShell scripts is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><p>
				JBoss EAP includes PowerShell script equivalents for most of the JBoss EAP management scripts. This includes a PowerShell script to start JBoss EAP on Microsoft Windows Server.
			</p><p>
				The JBoss EAP PowerShell scripts are designed to work with PowerShell version 2 and newer running on tested versions of Windows Server.
			</p><p>
				The JBoss EAP PowerShell scripts are located in <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>\bin</code>, and are used in mostly the same way as the JBoss EAP batch scripts.
			</p><p>
				For example, to start a standalone JBoss EAP server with the <code class="literal">standalone-full.xml</code> configuration file, use the following PowerShell command:
			</p><pre class="screen">.\standalone.ps1 "-c=standalone-full.xml"</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Arguments of the JBoss EAP PowerShell scripts must be in quotes.
				</p></div></div></section></section><section class="chapter" id="jboss_eap_management"><div class="titlepage"><div><div><h1 class="title">Chapter 3. JBoss EAP Management</h1></div></div></div><p>
			JBoss EAP uses a simplified configuration, with one configuration file per standalone server or managed domain. Default configuration for a standalone server is stored in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone.xml</code> file and default configuration for a managed domain is stored in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/domain.xml</code> file. Additionally, the default configuration for a host controller is stored in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/host.xml</code> file.
		</p><p>
			JBoss EAP can be configured using the command-line management CLI, web-based management console, Java API, or HTTP API. Changes made using these management interfaces persist automatically, and the XML configuration files are overwritten by the Management API. The management CLI and management console are the preferred methods, and it is not recommended to edit the XML configuration files manually.
		</p><section class="section" id="about_subsystems"><div class="titlepage"><div><div><h2 class="title">3.1. About Subsystems, Extensions, and Profiles</h2></div></div></div><p>
				Different aspects of JBoss EAP functionality are configured in different subsystems. For example, application and server logging are configured in the <code class="literal">logging</code> subsystem.
			</p><p>
				An <span class="emphasis"><em>extension</em></span> is a module that extends the core functionality of the server. Extensions are loaded as they are needed by deployments, and are unloaded when they are no longer needed. See the JBoss EAP <span class="emphasis"><em>Management CLI Guide</em></span> for how to <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/management_cli_guide/#how_to_add_extension" title="This content is not included in Mimir.">add</a> and <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/management_cli_guide/#how_to_remove_extension" title="This content is not included in Mimir.">remove</a> extensions.
			</p><p>
				A <span class="emphasis"><em>subsystem</em></span> provides configuration options for a particular extension. For more information on the available subsystems, see <a class="link" href="#jboss_eap_subsystems" title="A.4. Overview of JBoss EAP Subsystems">Overview of JBoss EAP Subsystems</a>.
			</p><p>
				A collection of subsystem configurations makes up a <span class="emphasis"><em>profile</em></span>, which is configured to satisfy the needs for the server. A standalone server has a single, unnamed profile. A managed domain can define many <a class="link" href="#about_profiles" title="8.8.1. About Profiles">profiles</a> for use by server groups in the domain.
			</p><h3 id="using_the_management_console_or_the_management_cli">Using the Management Console or the Management CLI</h3><p>
				Both the management console and the management CLI are valid, supported ways of updating the configuration of a JBoss EAP instance. Deciding between the two is a matter of preference. Those who prefer to use a graphical, web-based interface should use the management console. Those who prefer a command-line interface should use the management CLI.
			</p></section><section class="section" id="management_users"><div class="titlepage"><div><div><h2 class="title">3.2. Management Users</h2></div></div></div><p>
				The default JBoss EAP configuration provides local authentication so that a user can access the management CLI on the local host without requiring authentication.
			</p><p>
				However, you must add a management user if you want to access the management CLI remotely or use the management console, which is considered remote access even if the traffic originates on the local host. If you attempt to access the management console before adding a management user, you will receive an error message.
			</p><p>
				If JBoss EAP is installed using the graphical installer, then a management user is created during the installation process.
			</p><p>
				This guide covers simple user management for JBoss EAP using the <code class="literal">add-user</code> script, which is a utility for adding new users to the properties files for out-of-the-box authentication.
			</p><p>
				For more advanced authentication and authorization options, such as LDAP or Role-Based Access Control (RBAC), see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/security_architecture/#core_management_auth" title="This content is not included in Mimir.">Core Management Authentication</a> section of the JBoss EAP <span class="emphasis"><em>Security Architecture</em></span>.
			</p><section class="section" id="adding_a_management_user"><div class="titlepage"><div><div><h3 class="title">3.2.1. Adding a Management User</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run the <code class="literal">add-user</code> utility script and follow the prompts.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.sh</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								For Windows Server, use the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>\bin\add-user.bat</code> script.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Press <code class="literal">ENTER</code> to select the default option <code class="literal">a</code> to add a management user.
						</p><p class="simpara">
							This user will be added to the <span class="emphasis"><em>ManagementRealm</em></span> and will be authorized to perform management operations using the management console or management CLI. The other choice, <code class="literal">b</code>, adds a user to the <span class="emphasis"><em>ApplicationRealm</em></span>, which is used for applications and provides no particular permissions.
						</p></li><li class="listitem"><p class="simpara">
							Enter the desired username and password. You will be prompted to confirm the password.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								User names can only contain the following characters, in any number and in any order:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Alphanumeric characters (a-z, A-Z, 0-9)
									</li><li class="listitem">
										Dashes (-), periods (.), commas (,), at sign (@)
									</li><li class="listitem">
										Backslash (\)
									</li><li class="listitem">
										Equals (=)
									</li></ul></div></div></div><p class="simpara">
							By default, JBoss EAP allows weak passwords but will issue a warning.
						</p><p class="simpara">
							See <a class="link" href="#setting_add_user_password_restrictions" title="3.2.3. Setting Add-User Utility Password Restrictions">Setting Add-User Utility Password Restrictions</a> for details on changing this default behavior.
						</p></li><li class="listitem">
							Enter a comma-separated list of groups to which the user belongs. If you do not want the user to belong to any groups, press <code class="literal">ENTER</code> to leave it blank.
						</li><li class="listitem">
							Review the information and enter <code class="literal">yes</code> to confirm.
						</li><li class="listitem"><p class="simpara">
							Determine whether this user represents a remote JBoss EAP server instance. For a basic management user, enter <code class="literal">no</code>.
						</p><p class="simpara">
							One type of user that may need to be added to the <span class="emphasis"><em>ManagementRealm</em></span> is a user representing another instance of JBoss EAP, which must be able to authenticate to join as a member of a cluster. If this is the case, then answer <code class="literal">yes</code> to this prompt and you will be given a hashed secret value representing the user’s password, which will need to be added to a different configuration file.
						</p></li></ol></div><p>
					Users can also be created non-interactively by passing parameters to the <code class="literal">add-user</code> script. This approach is not recommended on shared systems, because the passwords will be visible in log and history files. For more information, see <a class="link" href="#running_the_add_user_utility_non_interactively" title="3.2.2. Running the Add-User Utility Non-Interactively">Running the Add-User Utility Non-Interactively</a>.
				</p></section><section class="section" id="running_the_add_user_utility_non_interactively"><div class="titlepage"><div><div><h3 class="title">3.2.2. Running the Add-User Utility Non-Interactively</h3></div></div></div><p>
					You can run the <code class="literal">add-user</code> script non-interactively by passing in arguments on the command line. At a minimum, the username and password must be provided.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						This approach is not recommended on shared systems, because the passwords will be visible in log and history files.
					</p></div></div><h5 id="create_a_user_belonging_to_multiple_groups">Create a User Belonging to Multiple Groups</h5><p>
					The following command adds a management user, <code class="literal">mgmtuser1</code>, with the <code class="literal">guest</code> and <code class="literal">mgmtgroup</code> groups.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.sh -u 'mgmtuser1' -p 'password1!' -g 'guest,mgmtgroup'</pre><h5 id="specify_an_alternative_properties_file">Specify an Alternative Properties File</h5><p>
					By default, user and group information created using the <code class="literal">add-user</code> script are stored in properties files located in the server configuration directory.
				</p><p>
					User information is stored in the following properties files:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/mgmt-users.properties</code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/mgmt-users.properties</code>
						</li></ul></div><p>
					Group information is stored in the following properties files:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/mgmt-groups.properties</code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/mgmt-groups.properties</code>
						</li></ul></div><p>
					These default directories and properties file names can be overridden. The following command adds a new user, specifying a different name and location for the user properties files.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.sh -u 'mgmtuser2' -p 'password1!' -sc '<span class="emphasis"><em>/path/to</em></span>/standaloneconfig/' -dc '<span class="emphasis"><em>/path/to</em></span>/domainconfig/' -up 'newname.properties'</pre><p>
					The new user was added to the user properties files located at <code class="literal"><span class="emphasis"><em>/path/to</em></span>/standaloneconfig/newname.properties</code> and <code class="literal"><span class="emphasis"><em>/path/to</em></span>/domainconfig/newname.properties</code>. Note that these files must already exist or you will see an error.
				</p><p>
					For a complete listing of all available <code class="literal">add-user</code> arguments and their purposes, use the <code class="literal">--help</code> argument or see the <a class="link" href="#reference_of_add_user_utility_arguments" title="A.5. Add-User Utility Arguments">Add-User Utility Arguments</a> section.
				</p></section><section class="section" id="setting_add_user_password_restrictions"><div class="titlepage"><div><div><h3 class="title">3.2.3. Setting Add-User Utility Password Restrictions</h3></div></div></div><p>
					The password restrictions for the <code class="literal">add-user</code> utility script can be configured using the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.properties</code> file.
				</p><p>
					By default, JBoss EAP allows weak passwords but will issue a warning. To reject passwords that do not meet the minimum requirements specified, set the <code class="literal">password.restriction</code> property to <code class="literal">REJECT</code>.
				</p><p>
					Additional password requirements that can be configured in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.properties</code> file:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Minimum length
						</li><li class="listitem">
							Minimum alphabetic characters
						</li><li class="listitem">
							Minimum digits
						</li><li class="listitem">
							Minimum symbols
						</li><li class="listitem">
							List of forbidden passwords, such as <code class="literal">admin</code>
						</li><li class="listitem">
							Whether to allow a password that matches the username
						</li></ul></div></section><section class="section" id="updating_mgmt_user"><div class="titlepage"><div><div><h3 class="title">3.2.4. Updating a Management User</h3></div></div></div><p>
					You can update the settings for an existing management user using the <code class="literal">add-user</code> utility script by entering the username when prompted.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.sh

What type of user do you wish to add?
 a) Management User (mgmt-users.properties)
 b) Application User (application-users.properties)
(a): a

Enter the details of the new user to add.
Using realm 'ManagementRealm' as discovered from the existing property files.
Username : test-user
User 'test-user' already exists and is enabled, would you like to...
 a) Update the existing user password and roles
 b) Disable the existing user
 c) Type a new username
(a):</pre><p>
					When you enter a username that already exists, you are presented with several options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Type <code class="literal">a</code> to update the password for the existing user.
						</li><li class="listitem">
							Type <code class="literal">b</code> to disable the existing user.
						</li><li class="listitem">
							Type <code class="literal">c</code> to enter a new username.
						</li></ul></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						When updating a user using the <code class="literal">add-user</code> script non-interactively, the user is updated automatically with no confirmation prompt.
					</p></div></div></section></section><section class="section" id="optimizing_the_jboss_eap_server_configuration"><div class="titlepage"><div><div><h2 class="title">3.3. Optimizing the JBoss EAP Server Configuration</h2></div></div></div><p>
				Once you have <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/installation_guide/#installing_jboss_eap" title="This content is not included in Mimir.">installed the JBoss EAP server</a>, and you have <a class="link" href="#adding_a_management_user" title="3.2.1. Adding a Management User">created a management user</a>, Red Hat recommends that you optimize your server configuration.
			</p><p>
				Make sure you review information in the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/" title="This content is not included in Mimir."><span class="emphasis"><em>Performance Tuning Guide</em></span></a> for information about how to optimize the server configuration to avoid common problems when deploying applications in a production environment. Common optimizations include <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#setting_ulimits" title="This content is not included in Mimir.">setting ulimits</a>, <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#enabling_garbage_collection" title="This content is not included in Mimir.">enabling garbage collection</a>, <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#heap_dumps" title="This content is not included in Mimir.">creating Java heap dumps</a>, and <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#bean_thread_pools" title="This content is not included in Mimir.">adjusting the thread pool size</a>.
			</p><p>
				It is also a good idea to apply any existing patches for your release of the product. Each patch for EAP contains numerous bug fixes. For more information, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/patching_and_upgrading_guide/#patching-jboss-eap" title="This content is not included in Mimir.">Patching JBoss EAP</a> in the <span class="emphasis"><em>Patching and Upgrading Guide</em></span> for JBoss EAP.
			</p></section><section class="section" id="management_interfaces"><div class="titlepage"><div><div><h2 class="title">3.4. Management Interfaces</h2></div></div></div><section class="section" id="management_cli_overview"><div class="titlepage"><div><div><h3 class="title">3.4.1. Management CLI</h3></div></div></div><p>
					The management command-line interface (CLI) is a command-line administration tool for JBoss EAP.
				</p><p>
					Use the management CLI to start and stop servers, deploy and undeploy applications, configure system settings, and perform other administrative tasks. Operations can be performed in batch mode, allowing multiple tasks to be run as a group.
				</p><p>
					Many common terminal commands are available, such as <code class="literal">ls</code>, <code class="literal">cd</code>, and <code class="literal">pwd</code>. The management CLI also supports tab completion.
				</p><p>
					For detailed information on using the management CLI, including commands and operations, syntax, and running in batch mode, see the JBoss EAP <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/management_cli_guide/" title="This content is not included in Mimir."><span class="emphasis"><em>Management CLI Guide</em></span></a>.
				</p><h5 id="launch_the_management_cli">Launch the Management CLI</h5><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For Windows Server, use the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>\bin\jboss-cli.bat</code> script.
					</p></div></div><h5 id="connect_to_a_running_server">Connect to a Running Server</h5><pre class="screen">connect</pre><p>
					Or you can launch the management CLI and connect in one step by using the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect</code> command.
				</p><h5 id="display_help">Display Help</h5><p>
					Use the following command for general help.
				</p><pre class="screen">help</pre><p>
					Use the <code class="literal">--help</code> flag on a command to receive instructions on using that specific command. For instance, to receive information on using <code class="literal">deploy</code>, the following command is executed.
				</p><pre class="screen">deploy --help</pre><h5 id="quit_the_management_cli">Quit the Management CLI</h5><pre class="screen">quit</pre><h5 id="view_system_settings">View System Settings</h5><p>
					The following command uses the <code class="literal">read-attribute</code> operation to display whether the example datasource is enabled.
				</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS:read-attribute(name=enabled)
{
    "outcome" =&gt; "success",
    "result" =&gt; true
}</pre><p>
					When running in a managed domain, you must specify which profile to update by preceding the command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p><pre class="screen">/profile=default/subsystem=datasources/data-source=ExampleDS:read-attribute(name=enabled)</pre><h5 id="update_system_settings">Update System Settings</h5><p>
					The following command uses the <code class="literal">write-attribute</code> operation to disable the example datasource.
				</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS:write-attribute(name=enabled,value=false)</pre><h5 id="start_servers">Start Servers</h5><p>
					The management CLI can also be used to start and stop servers when running in a managed domain.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=server-one:start</pre></section><section class="section" id="management_console_overview"><div class="titlepage"><div><div><h3 class="title">3.4.2. Management Console</h3></div></div></div><p>
					The management console is a web-based administration tool for JBoss EAP.
				</p><p>
					Use the management console to start and stop servers, deploy and undeploy applications, tune system settings, and make persistent modifications to the server configuration. The management console also has the ability to perform administrative tasks, with live notifications when any changes performed by the current user require the server instance to be restarted or reloaded.
				</p><p>
					In a managed domain, server instances and server groups in the same domain can be centrally managed from the management console of the domain controller.
				</p><p>
					For a JBoss EAP instance running on the local host using the default management port, the management console can be accessed through a web browser at <a class="link mimir-link-warn" href="http://localhost:9990/console/index.html" title="Mimir does not include content from: localhost">http://localhost:9990/console/index.html</a>. You will need to authenticate with a user that has permissions to access the management console.
				</p><p>
					The management console provides the following tabs for navigating and managing your JBoss EAP standalone server or managed domain.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Home</span></dt><dd>
								Learn how to accomplish several common configuration and management tasks. Take a tour to become familiar with the JBoss EAP management console.
							</dd><dt><span class="term">Deployments</span></dt><dd>
								Add, remove, and enable deployments. In a managed domain, assign deployments to server groups.
							</dd><dt><span class="term">Configuration</span></dt><dd>
								Configure available subsystems, which provide capabilities such as web services, messaging, or high availability. In a managed domain, manage the profiles that contain different subsystem configurations.
							</dd><dt><span class="term">Runtime</span></dt><dd>
								View runtime information, such as server status, JVM usage, and server logs. In a managed domain, manage your hosts, server groups, and servers.
							</dd><dt><span class="term">Patching</span></dt><dd>
								Apply patches to your JBoss EAP instances.
							</dd><dt><span class="term">Access Control</span></dt><dd>
								Assign roles to users and groups when using Role-Based Access Control.
							</dd></dl></div><section class="section" id="updating_attributes_console"><div class="titlepage"><div><div><h4 class="title">3.4.2.1. Updating Attributes in the Management Console</h4></div></div></div><p>
						Once you have navigated to the appropriate section of the management console for the resource that you want to modify, you can edit its attributes as long as you have the proper permissions.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Click the <span class="strong strong"><strong>Edit</strong></span> link.
							</li><li class="listitem"><p class="simpara">
								Make the desired changes.
							</p><p class="simpara">
								Required fields are marked with an asterisk (<span class="strong strong"><strong><span class="x- x-">*</span></strong></span>). You can view attribute descriptions by clicking the <span class="strong strong"><strong>Help</strong></span> link.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Depending on the attribute type, the input field can be a text field, ON/OFF field, or drop down. In some text fields, as you type, values from elsewhere in the configuration may appear as suggestions.
								</p></div></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Save</strong></span> to save the changes.
							</li><li class="listitem"><p class="simpara">
								If necessary, reload the server for the changes to take effect.
							</p><p class="simpara">
								A popup appears when saving changes that require a reload in order to take effect. To reload a standalone server, click the <span class="strong strong"><strong>Reload</strong></span> link in the popup. To reload a server in a managed domain, click the <span class="strong strong"><strong>Topology</strong></span> link, select the appropriate server, and click the <span class="strong strong"><strong>Reload</strong></span> drop down option.
							</p></li></ol></div><p>
						To view the history of recent configuration actions you have performed, click the notification icon in the top-right of the management console.
					</p></section><section class="section" id="enable_disable_management_console"><div class="titlepage"><div><div><h4 class="title">3.4.2.2. Enable/Disable Management Console</h4></div></div></div><p>
						You can enable or disable the management console by setting the <code class="literal">console-enabled</code> boolean attribute of the <code class="literal">/core-service=management/management-interface=http-interface</code> resource. For the master host in domain mode, use <code class="literal">/host=master/core-service=management/management-interface=http-interface</code>.
					</p><p>
						For example, to enable:
					</p><pre class="screen">/core-service=management/management-interface=http-interface:write-attribute(name=console-enabled,value=true)</pre><p>
						For example, to disable:
					</p><pre class="screen">/core-service=management/management-interface=http-interface:write-attribute(name=console-enabled,value=false)</pre></section><section class="section" id="change_language_of_management_console"><div class="titlepage"><div><div><h4 class="title">3.4.2.3. Change the Language of the Management Console</h4></div></div></div><p>
						By default, the language settings of the management console is English. You can choose to use one of the following languages instead:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								German (de)
							</li><li class="listitem">
								Simplified Chinese (zh-Hans)
							</li><li class="listitem">
								Brazilian Portuguese (pt-BR)
							</li><li class="listitem">
								French (fr)
							</li><li class="listitem">
								Spanish (es)
							</li><li class="listitem">
								Japanese (ja)
							</li></ul></div><h6 id="to_change_the_language_of_the_management_console">To Change the Language of the Management Console</h6><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Log in to the management console.
							</li><li class="listitem">
								Click the <span class="strong strong"><strong>Settings</strong></span> link in the lower-right corner of the management console.
							</li><li class="listitem">
								Select the required language from the <span class="strong strong"><strong>Locale</strong></span> selection box.
							</li><li class="listitem">
								Select <span class="strong strong"><strong>Save</strong></span>. A confirmation box informs you that you need to reload the application.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Yes</strong></span>. The system refreshes your web browser automatically to use the selected locale.
							</li></ol></div></section><section class="section" id="customize_title_of_management_console"><div class="titlepage"><div><div><h4 class="title">3.4.2.4. Customizing the Management Console Title</h4></div></div></div><p>
						You can customize the management console title so that each of your JBoss EAP instances can be identified at a quick glance.
					</p><p>
						To customize the management console title:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Log in to the management console.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Settings</strong></span> in the lower-right corner of the management console.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Settings</strong></span> window, modify the title in the <span class="strong strong"><strong>Title</strong></span> field.
							</li><li class="listitem"><p class="simpara">
								Click <span class="strong strong"><strong>Save</strong></span>.
							</p><p class="simpara">
								A confirmation box informs you that you must reload the management console.
							</p></li><li class="listitem"><p class="simpara">
								Click <span class="strong strong"><strong>Yes</strong></span>.
							</p><p class="simpara">
								The system refreshes your web browser automatically and the new title is displayed on the tab header.
							</p></li></ol></div></section></section></section><section class="section" id="management_apis"><div class="titlepage"><div><div><h2 class="title">3.5. Management APIs</h2></div></div></div><section class="section" id="http_api"><div class="titlepage"><div><div><h3 class="title">3.5.1. HTTP API</h3></div></div></div><p>
					The HTTP API endpoint is the entry point for management clients that rely on the HTTP protocol to integrate with the JBoss EAP management layer.
				</p><p>
					The HTTP API is used by the JBoss EAP management console but offers integration capabilities for other clients as well. By default, the HTTP API is accessible at <code class="literal">http://<span class="emphasis"><em>HOST_NAME</em></span>:9990/management</code>. This URL will display the raw attributes and values exposed to the API.
				</p><h5 id="read_resources">Read Resources</h5><p>
					While you can read, write, or perform other operations using the HTTP <code class="literal">POST</code> method, you can perform some read operations using a <code class="literal">GET</code> request. The HTTP <code class="literal">GET</code> method uses the following URL format.
				</p><pre class="screen">http://<span class="emphasis"><em>HOST_NAME</em></span>:9990/management/<span class="emphasis"><em>PATH_TO_RESOURCE</em></span>?operation=<span class="emphasis"><em>OPERATION</em></span>&amp;<span class="emphasis"><em>PARAMETER</em></span>=<span class="emphasis"><em>VALUE</em></span></pre><p>
					Be sure to replace all of the replaceable values with those that are appropriate for your request. The following values are the available options for the <code class="literal"><span class="emphasis"><em>OPERATION</em></span></code> replaceable value:
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321719017504" scope="col">Value</th><th align="left" valign="top" id="idm140321719016416" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321719017504"> <p>
									attribute
								</p>
								 </td><td align="left" valign="top" headers="idm140321719016416"> <p>
									Performs the <code class="literal">read-attribute</code> operation.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719017504"> <p>
									operation-description
								</p>
								 </td><td align="left" valign="top" headers="idm140321719016416"> <p>
									Performs the <code class="literal">read-operation-description</code> operation.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719017504"> <p>
									operation-names
								</p>
								 </td><td align="left" valign="top" headers="idm140321719016416"> <p>
									Performs the <code class="literal">read-operation-names</code> operation.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719017504"> <p>
									resource
								</p>
								 </td><td align="left" valign="top" headers="idm140321719016416"> <p>
									Performs the <code class="literal">read-resource</code> operation.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719017504"> <p>
									resource-description
								</p>
								 </td><td align="left" valign="top" headers="idm140321719016416"> <p>
									Performs the <code class="literal">read-resource-description</code> operation.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719017504"> <p>
									snapshots
								</p>
								 </td><td align="left" valign="top" headers="idm140321719016416"> <p>
									Performs the <code class="literal">list-snapshots</code> operation.
								</p>
								 </td></tr></tbody></table></div><p>
					The following example URLs show how to perform read operations using the HTTP API.
				</p><div class="formalpara"><p class="title"><strong>Example: Read All Attributes and Values for a Resource</strong></p><p>
						
<pre class="screen">http://<span class="emphasis"><em>HOST_NAME</em></span>:9990/management/subsystem/undertow/server/default-server/http-listener/default</pre>

					</p></div><p>
					This displays all attributes and their values for the <code class="literal">default</code> HTTP listener.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The default operation is <code class="literal">read-resource</code>.
					</p></div></div><div class="formalpara"><p class="title"><strong>Example: Read the Value of an Attribute for a Resource</strong></p><p>
						
<pre class="screen">http://<span class="emphasis"><em>HOST_NAME</em></span>:9990/management/subsystem/datasources/data-source/ExampleDS?operation=attribute&amp;name=enabled</pre>

					</p></div><p>
					This reads the value of the <code class="literal">enabled</code> attribute for the <code class="literal">ExampleDS</code> datasource.
				</p><h5 id="update_resources">Update Resources</h5><p>
					You can use the HTTP <code class="literal">POST</code> method to update configuration values or perform other operations using the HTTP API. You must provide authentication for these operations.
				</p><p>
					The following examples show how to update resources using the HTTP API.
				</p><div class="formalpara"><p class="title"><strong>Example: Update the Value of an Attribute for a Resource</strong></p><p>
						
<pre class="screen">$ curl --digest http://<span class="emphasis"><em>HOST_NAME</em></span>:9990/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USERNAME</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation":"write-attribute", "address":["subsystem","datasources","data-source","ExampleDS"], "name":"enabled", "value":"false", "json.pretty":"1"}'</pre>

					</p></div><p>
					This updates the value of the <code class="literal">enabled</code> attribute for the <code class="literal">ExampleDS</code> datasource to <code class="literal">false</code>.
				</p><div class="formalpara"><p class="title"><strong>Example: Issue an Operation to the Server</strong></p><p>
						
<pre class="screen">$ curl --digest http://localhost:9990/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USERNAME</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation":"reload"}'</pre>

					</p></div><p>
					This reloads the server.
				</p><p>
					See <a class="link" href="#deploying_apps_using_http_api" title="7.5. Deploying Applications Using the HTTP API">Deploying Applications Using the HTTP API</a> for information on how to deploy applications to JBoss EAP using the HTTP API.
				</p></section><section class="section" id="native_api"><div class="titlepage"><div><div><h3 class="title">3.5.2. Native API</h3></div></div></div><p>
					The native API endpoint is the entry point for management clients that rely on the native protocol to integrate with the JBoss EAP management layer. The native API is used by the JBoss EAP management CLI but offers integration capabilities for other clients as well.
				</p><p>
					The following Java code shows an example of how to execute management operations from Java code using the native API.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You must add the required JBoss EAP libraries, found in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/client/jboss-cli-client.jar</code> file, to your class path.
					</p></div></div><div class="formalpara"><p class="title"><strong>Example: Using the Native API to Read Resources</strong></p><p>
						
<pre class="programlisting language-java">// Create the management client
ModelControllerClient client = ModelControllerClient.Factory.create("localhost", 9990);

// Create the operation request
ModelNode op = new ModelNode();

// Set the operation
op.get("operation").set("read-resource");

// Set the address
ModelNode address = op.get("address");
address.add("subsystem", "undertow");
address.add("server", "default-server");
address.add("http-listener", "default");

// Execute the operation and manipulate the result
ModelNode returnVal = client.execute(op);
System.out.println("Outcome: " + returnVal.get("outcome").toString());
System.out.println("Result: " + returnVal.get("result").toString());

// Close the client
client.close();</pre>

					</p></div></section></section><section class="section" id="configuration_data"><div class="titlepage"><div><div><h2 class="title">3.6. Configuration Data</h2></div></div></div><section class="section" id="standalone_server_configuration_files"><div class="titlepage"><div><div><h3 class="title">3.6.1. Standalone Server Configuration Files</h3></div></div></div><p>
					The standalone configuration files are located in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/</code> directory. A separate file exists for each of the five predefined profiles (<span class="emphasis"><em>default</em></span>, <span class="emphasis"><em>ha</em></span>, <span class="emphasis"><em>full</em></span>, <span class="emphasis"><em>full-ha</em></span>, <span class="emphasis"><em>load-balancer</em></span>).
				</p><div class="table" id="idm140321743214384"><p class="title"><strong>Table 3.1. Standalone Configuration Files</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321743209536" scope="col">Configuration File</th><th align="left" valign="top" id="idm140321721443600" scope="col">Purpose</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321743209536"> <p>
									<code class="literal">standalone.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321721443600"> <p>
									This standalone configuration file is the default configuration that is used when you start your standalone server. It contains all information about the server, including subsystems, networking, deployments, socket bindings, and other configurable details. It does not provide the subsystems necessary for messaging or high availability.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321743209536"> <p>
									<code class="literal">standalone-ha.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321721443600"> <p>
									This standalone configuration file includes all of the default subsystems and adds the <code class="literal">modcluster</code> and <code class="literal">jgroups</code> subsystems for high availability. It does not provide the subsystems necessary for messaging.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321743209536"> <p>
									<code class="literal">standalone-full.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321721443600"> <p>
									This standalone configuration file includes all of the default subsystems and adds the <code class="literal">messaging-activemq</code> and <code class="literal">iiop-openjdk</code> subsystems. It does not provide the subsystems necessary for high availability.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321743209536"> <p>
									<code class="literal">standalone-full-ha.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321721443600"> <p>
									This standalone configuration file includes support for every possible subsystem, including those for messaging and high availability.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321743209536"> <p>
									<code class="literal">standalone-load-balancer.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321721443600"> <p>
									This standalone configuration file includes the minimum subsystems necessary to use the built-in mod_cluster front-end load balancer to load balance other JBoss EAP instances.
								</p>
								 </td></tr></tbody></table></div></div><p>
					By default, starting JBoss EAP as a standalone server uses the <code class="literal">standalone.xml</code> file. To start JBoss EAP with a different configuration, use the <code class="literal">--server-config</code> argument. For example,
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh --server-config=standalone-full.xml</pre></section><section class="section" id="managed_domain_configuration_files"><div class="titlepage"><div><div><h3 class="title">3.6.2. Managed Domain Configuration Files</h3></div></div></div><p>
					The managed domain configuration files are located in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/</code> directory.
				</p><div class="table" id="idm140321728814912"><p class="title"><strong>Table 3.2. Managed Domain Configuration Files</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321718191280" scope="col">Configuration File</th><th align="left" valign="top" id="idm140321718190192" scope="col">Purpose</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321718191280"> <p>
									<code class="literal">domain.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321718190192"> <p>
									This is the main configuration file for a managed domain. Only the domain master reads this file. This file contains the configurations for all of the profiles (<span class="emphasis"><em>default</em></span>, <span class="emphasis"><em>ha</em></span>, <span class="emphasis"><em>full</em></span>, <span class="emphasis"><em>full-ha</em></span>, <span class="emphasis"><em>load-balancer</em></span>).
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321718191280"> <p>
									<code class="literal">host.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321718190192"> <p>
									This file includes configuration details specific to a physical host in a managed domain, such as network interfaces, socket bindings, the name of the host, and other host-specific details. The <code class="literal">host.xml</code> file includes all of the features of both <code class="literal">host-master.xml</code> and <code class="literal">host-slave.xml</code>, which are described below.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321718191280"> <p>
									<code class="literal">host-master.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321718190192"> <p>
									This file includes only the configuration details necessary to run a server as the master domain controller.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321718191280"> <p>
									<code class="literal">host-slave.xml</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140321718190192"> <p>
									This file includes only the configuration details necessary to run a server as a managed domain host controller.
								</p>
								 </td></tr></tbody></table></div></div><p>
					By default, starting JBoss EAP in a managed domain uses the <code class="literal">host.xml</code> file. To start JBoss EAP with a different configuration, use the <code class="literal">--host-config</code> argument. For example,
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-master.xml</pre></section><section class="section" id="backing_up_configuration_data"><div class="titlepage"><div><div><h3 class="title">3.6.3. Backing Up Configuration Data</h3></div></div></div><p>
					In order to later restore the JBoss EAP server configuration, items in the following locations should be backed up:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/</code>
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Back up the entire directory to save user data, server configuration, and logging settings for standalone servers.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/</code>
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Back up the entire directory to save user and profile data, domain and host configuration, and logging settings for managed domains.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code>
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Back up any custom modules.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/welcome-content/</code>
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Back up any custom welcome content.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							<code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/</code>
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Back up any custom scripts or startup configuration files.
								</li></ul></div></li></ul></div></section><section class="section" id="configuration_file_snapshots"><div class="titlepage"><div><div><h3 class="title">3.6.4. Configuration File Snapshots</h3></div></div></div><p>
					To assist in the maintenance and management of the server, JBoss EAP creates a timestamped version of the original configuration file at the time of startup. Any additional configuration changes made by management operations will result in the original file being automatically backed up, and a working copy of the instance being preserved for reference and rollback. Additionally, configuration snapshots can be taken, which are point-in-time copies of the current server configuration. These snapshots can be saved and loaded by an administrator.
				</p><p>
					The following examples use the <code class="literal">standalone.xml</code> file, but the same process applies to the <code class="literal">domain.xml</code> and <code class="literal">host.xml</code> files.
				</p><h5 id="take_a_snapshot">Take a Snapshot</h5><p>
					Use the management CLI to take a snapshot of the current configurations.
				</p><pre class="screen">:take-snapshot
{
    "outcome" =&gt; "success",
    "result" =&gt; "<span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone_xml_history/snapshot/20151022-133109702standalone.xml"
}</pre><h5 id="list_snapshots">List Snapshots</h5><p>
					Use the management CLI to list all snapshots that have been taken.
				</p><pre class="screen">:list-snapshots
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "directory" =&gt; "<span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone_xml_history/snapshot",
        "names" =&gt; [
            "20151022-133109702standalone.xml",
            "20151022-132715958standalone.xml"
        ]
    }
}</pre><h5 id="delete_a_snapshot">Delete a Snapshot</h5><p>
					Use the management CLI to delete a snapshot.
				</p><pre class="screen">:delete-snapshot(name=20151022-133109702standalone.xml)</pre><h5 id="start_the_server_with_a_snapshot">Start the Server with a Snapshot</h5><p>
					The server can be started using a snapshot or an automatically-saved version of the configuration.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone_xml_history</code> directory and identify the snapshot or saved configuration file to be loaded.
						</li><li class="listitem"><p class="simpara">
							Start the server and point to the selected configuration file. Pass in the file path relative to the configuration directory, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/</code>.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh --server-config=standalone_xml_history/snapshot/20151022-133109702standalone.xml</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When running in a managed domain, use the <code class="literal">--host-config</code> argument instead to specify the configuration file.
					</p></div></div></section><section class="section" id="view_config_changes"><div class="titlepage"><div><div><h3 class="title">3.6.5. View Configuration Changes</h3></div></div></div><p>
					JBoss EAP 7 provides the ability to track configuration changes made to the running system. This allows administrators to view a history of configuration changes made by other authorized users.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Changes are stored in memory and are not persisted between server restarts. This feature is not a replacement for <a class="link" href="#management_audit_logging" title="3.10. Management Audit Logging">management audit logging</a>.
					</p></div></div><p>
					You can enable tracking and view configuration changes from either the <a class="link" href="#config_changes_cli" title="Track and View Configuration Changes from the Management CLI">management CLI</a> or the <a class="link" href="#config_changes_console" title="Track and View Configuration Changes from the Management Console">management console</a>.
				</p><h5 id="config_changes_cli">Track and View Configuration Changes from the Management CLI</h5><p>
					To enable tracking of configuration changes, use the following management CLI command. You can specify how many entries to store using the <code class="literal">max-history</code> attribute.
				</p><pre class="screen">/subsystem=core-management/service=configuration-changes:add(max-history=20)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, configuration changes are tracked at the host level for host and server-related modifications. Enabling configuration changes for a host controller enables it for all of its managed servers. You can track configuration changes per host using the following command.
					</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/subsystem=core-management/service=configuration-changes:add(max-history=20)</pre></div></div><p>
					To view the list of most recent configuration changes, use the following management CLI command.
				</p><pre class="screen">/subsystem=core-management/service=configuration-changes:list-changes</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, you can list the configuration changes for a host using the following command.
					</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/subsystem=core-management/service=configuration-changes:list-changes</pre><p>
						You can list the configuration changes that affect a particular server using the following command.
					</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span>/subsystem=core-management/service=configuration-changes:list-changes</pre></div></div><p>
					This lists each configuration change made, with the date, origin, outcome, and operation details. For example, the below output from the <code class="literal">list-changes</code> command shows configuration changes, with the most recent displayed first.
				</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; [
        {
            "operation-date" =&gt; "2016-02-12T18:37:00.354Z",
            "access-mechanism" =&gt; "NATIVE",
            "remote-address" =&gt; "127.0.0.1/127.0.0.1",
            "outcome" =&gt; "success",
            "operations" =&gt; [{
                "address" =&gt; [],
                "operation" =&gt; "reload",
                "operation-headers" =&gt; {
                    "caller-type" =&gt; "user",
                    "access-mechanism" =&gt; "NATIVE"
                }
            }]
        },
        {
            "operation-date" =&gt; "2016-02-12T18:34:16.859Z",
            "access-mechanism" =&gt; "NATIVE",
            "remote-address" =&gt; "127.0.0.1/127.0.0.1",
            "outcome" =&gt; "success",
            "operations" =&gt; [{
                "address" =&gt; [
                    ("subsystem" =&gt; "datasources"),
                    ("data-source" =&gt; "ExampleDS")
                ],
                "operation" =&gt; "write-attribute",
                "name" =&gt; "enabled",
                "value" =&gt; false,
                "operation-headers" =&gt; {
                    "caller-type" =&gt; "user",
                    "access-mechanism" =&gt; "NATIVE"
                }
            }]
        },
        {
            "operation-date" =&gt; "2016-02-12T18:24:11.670Z",
            "access-mechanism" =&gt; "HTTP",
            "remote-address" =&gt; "127.0.0.1/127.0.0.1",
            "outcome" =&gt; "success",
            "operations" =&gt; [{
                "operation" =&gt; "remove",
                "address" =&gt; [
                    ("subsystem" =&gt; "messaging-activemq"),
                    ("server" =&gt; "default"),
                    ("jms-queue" =&gt; "ExpiryQueue")
                ],
                "operation-headers" =&gt; {"access-mechanism" =&gt; "HTTP"}
            }]
        }
    ]
}</pre><p>
					This example lists the details of three operations performed that impacted the configuration:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Reloading the server from the management CLI.
						</li><li class="listitem">
							Disabling the <code class="literal">ExampleDS</code> datasource from the management CLI.
						</li><li class="listitem">
							Removing the <code class="literal">ExpiryQueue</code> queue from the management console.
						</li></ul></div><h5 id="config_changes_console">Track and View Configuration Changes from the Management Console</h5><p>
					To enable tracking of configuration changes from the management console, select to the <span class="strong strong"><strong>Runtime</strong></span> tab, navigate to the server or host to track changes for and select <span class="strong strong"><strong>Configuration Changes</strong></span> from the drop down. Click <span class="strong strong"><strong>Enable Configuration Changes</strong></span> and provide a maximum history value.
				</p><p>
					The table on this page then lists each configuration change made, with the date, origin, outcome, and operation details.
				</p></section><section class="section" id="property_replacement"><div class="titlepage"><div><div><h3 class="title">3.6.6. Property Replacement</h3></div></div></div><p>
					JBoss EAP allows you to use expressions to define replaceable properties in place of literal values in the configuration. Expressions use the format <code class="literal">${<span class="emphasis"><em>PARAMETER</em></span>:<span class="emphasis"><em>DEFAULT_VALUE</em></span>}</code>. If the specified parameter is set, then the parameter’s value will be used. Otherwise, the default value provided will be used.
				</p><p>
					The supported sources for resolving expressions are system properties, environment variables, and the vault. For deployments only, the source can be properties listed in a <code class="literal">META-INF/jboss.properties</code> file in the deployment archive. For deployment types that support subdeployments, the resolution is scoped to all subdeployments if the properties file is in the outer deployment, for example the EAR. If the properties file is in the subdeployment, then the resolution is scoped just to that subdeployment.
				</p><p>
					The example below from the <code class="literal">standalone.xml</code> configuration file sets the <code class="literal">inet-address</code> for the <code class="literal">public</code> interface to <code class="literal">127.0.0.1</code> unless the <code class="literal">jboss.bind.address</code> parameter is set.
				</p><pre class="programlisting language-xml">&lt;interface name="public"&gt;
    &lt;inet-address value="${jboss.bind.address:127.0.0.1}"/&gt;
&lt;/interface&gt;</pre><p>
					The <code class="literal">jboss.bind.address</code> parameter can be set when starting EAP as a standalone server with the following command:
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh -Djboss.bind.address=<span class="emphasis"><em>IP_ADDRESS</em></span></pre><h5 id="nested_expressions">Nested Expressions</h5><p>
					Expressions can be nested, which allows for more advanced use of expressions in place of fixed values. The format of a nested expression is like that of a normal expression, but one expression is embedded in the other, for example:
				</p><pre class="screen">${<span class="emphasis"><em>SYSTEM_VALUE_1</em></span>${<span class="emphasis"><em>SYSTEM_VALUE_2</em></span>}}</pre><p>
					Nested expressions are evaluated recursively, so the <span class="emphasis"><em>inner</em></span> expression is first evaluated, then the <span class="emphasis"><em>outer</em></span> expression is evaluated. Expressions may also be recursive, where an expression resolves to another expression, which is then resolved. Nested expressions are permitted anywhere that expressions are permitted, with the exception of management CLI commands.
				</p><p>
					An example of where a nested expression might be used is if the password used in a datasource definition is masked. The configuration for the datasource might have the following line:
				</p><pre class="programlisting language-xml">&lt;password&gt;${VAULT::ds_ExampleDS::password::1}&lt;/password&gt;</pre><p>
					The value of <code class="literal">ds_ExampleDS</code> could be replaced with a system property (<code class="literal">datasource_name</code>) using a nested expression. The configuration for the datasource could instead have the following line:
				</p><pre class="programlisting language-xml">&lt;password&gt;${VAULT::${datasource_name}::password::1}&lt;/password&gt;</pre><p>
					JBoss EAP would first evaluate the expression <code class="literal">${datasource_name}</code>, then input this to the larger expression and evaluate the resulting expression. The advantage of this configuration is that the name of the datasource is abstracted from the fixed configuration.
				</p><h5 id="descriptor_property_replacement">Descriptor-Based Property Replacement</h5><p>
					Application configuration, such as datasource connection parameters, typically varies between development, testing, and production environments. This variance is sometimes accommodated by build system scripts, as the Java EE specification does not contain a method to externalize these configurations. With JBoss EAP, you can use descriptor-based property replacement to manage configuration externally.
				</p><p>
					Descriptor-based property replacement substitutes properties based on descriptors, allowing you to remove assumptions about the environment from the application and the build chain. Environment-specific configurations can be specified in deployment descriptors rather than annotations or build system scripts. You can provide configuration in files or as parameters at the command line.
				</p><p>
					There are several flags in the <code class="literal">ee</code> subsystem that control whether property replacement is applied.
				</p><p>
					JBoss-specific descriptor replacement is controlled by the <code class="literal">jboss-descriptor-property-replacement</code> flag and is <span class="emphasis"><em>enabled</em></span> by default. When enabled, properties can be replaced in the following deployment descriptors:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">jboss-ejb3.xml</code>
						</li><li class="listitem">
							<code class="literal">jboss-app.xml</code>
						</li><li class="listitem">
							<code class="literal">jboss-web.xml</code>
						</li><li class="listitem">
							<code class="literal">*-jms.xml</code>
						</li><li class="listitem">
							<code class="literal">*-ds.xml</code>
						</li></ul></div><p>
					The following management CLI command can be used to enable or disable property replacement in JBoss-specific descriptors:
				</p><pre class="screen">/subsystem=ee:write-attribute(name="jboss-descriptor-property-replacement",value=<span class="emphasis"><em>VALUE</em></span>)</pre><p>
					Java EE descriptor replacement controlled by the <code class="literal">spec-descriptor-property-replacement</code> flag and is <span class="emphasis"><em>disabled</em></span> by default. When enabled, properties can be replaced in the following deployment descriptors:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">ejb-jar.xml</code>
						</li><li class="listitem">
							<code class="literal">persistence.xml</code>
						</li><li class="listitem">
							<code class="literal">application.xml</code>
						</li><li class="listitem">
							<code class="literal">web.xml</code>
						</li></ul></div><p>
					The following management CLI command can be used to enable or disable property replacement in Java EE descriptors:
				</p><pre class="screen">/subsystem=ee:write-attribute(name="spec-descriptor-property-replacement",value=<span class="emphasis"><em>VALUE</em></span>)</pre></section><section class="section" id="using_git_to_manage_configuration_data"><div class="titlepage"><div><div><h3 class="title">3.6.7. Using Git to Manage Configuration Data</h3></div></div></div><p>
					As of JBoss EAP 7.2, you can use Git to manage and persist your server configuration data, properties files, and deployments. This not only allows you to manage the version history for these files, but it also allows you to share server and application configurations across multiple servers and nodes using one or more Git repositories. This feature only works for standalone servers that use the default configuration directory layout.
				</p><p>
					You can choose to use configuration data in a <a class="link" href="#using_a_local_git_repository" title="Using a Local Git Repository">local Git repository</a> or you can pull the data from a <a class="link" href="#using_a_remote_git_repository" title="Using a Remote Git Repository">remote Git repository</a>. The Git repository is configured in the <code class="literal">jboss.server.base.dir</code> directory, which is the base directory for standalone server content. Once the <code class="literal">jboss.server.base.dir</code> directory is configured to use Git, JBoss EAP automatically commits every update you make to the configuration using the management CLI or management console. Any changes made outside of the server by manually editing the configuration files are not committed or persisted; however, you can use the Git CLI to add and commit manual changes. You can also use the Git CLI to view the commit history, manage branching, and manage the content.
				</p><p>
					To use this feature, pass one or more of the following arguments on the command line when you start the server.
				</p><div class="table" id="idm140321742128848"><p class="title"><strong>Table 3.3. Server Startup Arguments for Git Configuration Management</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321722879648" scope="col">Argument</th><th align="left" valign="top" id="idm140321717921312" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321722879648"> <p>
									--git-repo
								</p>
								 </td><td align="left" valign="top" headers="idm140321717921312"> <p>
									The location of the Git repository that is used to manage and persist server configuration data. This can be <code class="literal">local</code> if you want to store it locally, or the URL to a remote repository.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321722879648"> <p>
									--git-branch
								</p>
								 </td><td align="left" valign="top" headers="idm140321717921312"> <p>
									The branch or tag name in the Git repository to use. This argument should name an existing branch or tag name as it will <span class="emphasis"><em>not</em></span> be created if it does not exist. If you use a tag name, you put the repository in a detached HEAD state, meaning future commits are not attached to any branches. Tag names are read-only and are normally used when you need to replicate a configuration across several nodes.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321722879648"> <p>
									--git-auth
								</p>
								 </td><td align="left" valign="top" headers="idm140321717921312"> <p>
									The URL to an Elytron configuration file that contains the credentials to be used when connecting to a remote Git repository. This argument is required if your remote Git repository requires authentication. Although Git supports SSH authentication, Elytron does not; therefore, only default SSH authentication is supported using private keys without a password. This argument is not used with a <code class="literal">local</code> repository.
								</p>
								 </td></tr></tbody></table></div></div><h5 id="using_a_local_git_repository">Using a Local Git Repository</h5><p>
					To use a local Git repository, start the server with the <code class="literal">--git-repo=local</code> argument. You can also specify an optional branch or tag name in the remote repository by adding the <code class="literal">--git-branch=<span class="emphasis"><em>GIT_BRANCH_NAME</em></span></code> argument when you start the server. This argument should name an existing branch or tag name as it will <span class="emphasis"><em>not</em></span> be created if it does not exist. If you use a tag name, you put the repository in a detached HEAD state, meaning future commits are not attached to any branches.
				</p><p>
					The following is an example of a command to start the server using the <code class="literal">1.0.x</code> branch of the <code class="literal">local</code> repository.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh --git-repo=local --git-branch=1.0.x</pre><p>
					If you start the server with the argument to use a <code class="literal">local</code> Git repository, JBoss EAP checks whether the <code class="literal">jboss.server.base.dir</code> directory is already configured for Git. If not, JBoss EAP creates and initializes the Git repository in the <code class="literal">jboss.server.base.dir</code> directory using the existing configuration content. JBoss EAP checks out a branch name passed by the <code class="literal">--git-branch</code> argument. If that argument is not passed, it checks out the <code class="literal">master</code> branch. After initialization, you should see a <code class="literal">.git/</code> directory and a <code class="literal">.gitignore</code> file in the base directory for standalone server content.
				</p><h5 id="using_a_remote_git_repository">Using a Remote Git Repository</h5><p>
					To use a remote Git repository, start the server with the <code class="literal">--git-repo=<span class="emphasis"><em>REMOTE_REPO</em></span></code> argument. The value of the argument can be a URL or a remote alias that you have manually added to the local Git configuration.
				</p><p>
					You can also specify an optional branch or tag name in the remote repository by adding the <code class="literal">--git-branch=<span class="emphasis"><em>GIT_BRANCH_NAME</em></span></code> argument when you start the server. This argument should name an existing branch or tag name as it will <span class="emphasis"><em>not</em></span> be created if it does not exist. If you use a tag name, you put the repository in a detached HEAD state, meaning future commits are not attached to any branches.
				</p><p>
					If your Git repository requires authentication, you must also add the <code class="literal">--git-auth=<span class="emphasis"><em>AUTH_FILE_URL</em></span></code> argument when you start the server. This argument should be the URL to an Elytron configuration file containing the credentials required to connect to the Git repository. The following is an example of an Elytron configuration file that can be used for authentication.
				</p><pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;configuration&gt;
  &lt;authentication-client xmlns="urn:elytron:client:1.2"&gt;
    &lt;authentication-rules&gt;
      &lt;rule use-configuration="test-login"&gt;
      &lt;/rule&gt;
    &lt;/authentication-rules&gt;
    &lt;authentication-configurations&gt;
      &lt;configuration name="test-login"&gt;
        &lt;sasl-mechanism-selector selector="BASIC" /&gt;
        &lt;set-user-name name="eap-user" /&gt;
        &lt;credentials&gt;
          &lt;clear-password password="my_api_key" /&gt;
        &lt;/credentials&gt;
        &lt;set-mechanism-realm name="testRealm" /&gt;
      &lt;/configuration&gt;
    &lt;/authentication-configurations&gt;
  &lt;/authentication-client&gt;
&lt;/configuration&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Although Git supports SSH authentication, Elytron does not; therefore, only default SSH authentication is supported using private keys without a password.
					</p></div></div><p>
					The following is an example of a command to start the server with the full profile, using the <code class="literal">1.0.x</code> branch of the remote <code class="literal">eap-configuration</code> repository, and passing the URL to an Elytron configuration file containing authentication credentials.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh --git-repo=https://github.com/<span class="emphasis"><em>MY_GIT_ID</em></span>/eap-configuration.git --git-branch=1.0.x --git-auth=file:///home/<span class="emphasis"><em>USER_NAME</em></span>/github-wildfly-config.xml --server-config=standalone-full.xml</pre><p>
					If you start the server with the argument to use a remote Git repository, JBoss EAP checks whether the <code class="literal">jboss.server.base.dir</code> directory is already configured for Git. If not, JBoss EAP deletes the existing configuration files in the <code class="literal">jboss.server.base.dir</code> directory and replaces them with the remote Git configuration data. JBoss EAP checks out a branch name passed by the <code class="literal">--git-branch</code> argument. If that argument is not passed, it checks out the <code class="literal">master</code> branch. Once this process is complete, you should see a <code class="literal">.git/</code> directory and a <code class="literal">.gitignore</code> file in the base directory for standalone server content.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						If you later start the server passing a different <code class="literal">--git-repo</code> URL or <code class="literal">--git-branch</code> name than was originally used, you will see the error message <code class="literal">java.lang.RuntimeException: WFLYSRV0268: Failed to pull the repository <span class="emphasis"><em>GIT_REPO_NAME</em></span></code> when you attempt to start the server. This is because JBoss EAP attempts to pull configuration data from a different repository and branch than the one that is currently configured in the <code class="literal">jboss.server.base.dir</code> directory and the Git pull results in conflicts.
					</p></div></div><h6 id="publishing_configuration_data_with_git">Publishing Remote Configuration Data When Using Git</h6><p>
					You can push your Git repository changes to the remote repository using the management CLI <code class="literal">publish-configuration</code> operation. Because JBoss EAP pulls the configuration from the remote Git repository during the boot process when you start the server, this allows you to share the configuration data across multiple servers. You can only use this operation with a remote repository. It does not work for a local repository.
				</p><p>
					The following management CLI operation publishes the configuration data to the remote <code class="literal">eap-configuration</code> repository.
				</p><pre class="screen">:publish-configuration(location="=https://github.com/<span class="emphasis"><em>MY_GIT_ID</em></span>/eap-configuration.git")
{"outcome" =&gt; "success"}</pre><h5 id="using_snapshots_with_git">Using Snapshots with Git</h5><p>
					In addition to using the Git commit history to track configuration changes, you can also take snapshots to preserve a configuration at a specific point in time. You can list the snapshots and delete them.
				</p><h6 id="taking_snapshots_with_git">Taking Snapshots When Using Git</h6><p>
					Snapshots are stored as tags in Git. You specify the snapshot tag name and commit message as arguments on the <code class="literal">take-snapshot</code> operation.
				</p><p>
					The following management CLI operation takes a snapshot and names the tag "snapshot-01".
				</p><pre class="screen">:take-snapshot(name="snapshot-01", comment="1st snapshot")
{
    "outcome" =&gt; "success",
    "result" =&gt; "1st snapshot"
}</pre><h6 id="listing_snapshots_with_git">Listing Snapshots When Using Git</h6><p>
					You can list all of the snapshot tags using the <code class="literal">list-snapshots</code> operation.
				</p><p>
					The following management CLI operation lists the snapshot tags.
				</p><pre class="screen">:list-snapshots
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "directory" =&gt; "",
        "names" =&gt; [
            "snapshot : 1st snapshot",
            "refs/tags/snapshot-01",
            "snapshot2 : 2nd snapshot",
            "refs/tags/snapshot-02"
        ]
    }
}</pre><h6 id="deleting_snapshots_with_git">Deleting Snapshots When Using Git</h6><p>
					You can delete a specific snapshot by passing the tag name on the <code class="literal">delete-snapshot</code> operation.
				</p><p>
					The following management CLI operation deletes the snapshot with the tag name "snapshot-01".
				</p><pre class="screen">:delete-snapshot(name="snapshot-01")
{"outcome" =&gt; "success"}</pre></section></section><section class="section" id="file_system_paths"><div class="titlepage"><div><div><h2 class="title">3.7. File System Paths</h2></div></div></div><p>
				JBoss EAP uses logical names for file system paths. Other areas of the configuration can then reference the paths using their logical name, avoiding the need to use absolute paths for each instance and allowing specific host configurations to resolve to universal logical names.
			</p><p>
				For example, the default <code class="literal">logging</code> subsystem configuration declares <code class="literal">jboss.server.log.dir</code> as the logical name for the server log directory.
			</p><div class="formalpara"><p class="title"><strong>Example: Relative Path Example for the Server Log Directory</strong></p><p>
					
<pre class="programlisting language-xml">&lt;file relative-to="jboss.server.log.dir" path="server.log"/&gt;</pre>

				</p></div><p>
				JBoss EAP automatically provides a number of standard paths without any need for the user to configure them in a configuration file.
			</p><div class="table" id="idm140321728951040"><p class="title"><strong>Table 3.4. Standard Paths</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321716251328" scope="col">Property</th><th align="left" valign="top" id="idm140321716250240" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								java.home
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The Java installation directory
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.controller.temp.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								A common alias for standalone servers and managed domains. The directory to be used for temporary file storage. Equivalent to <code class="literal">jboss.domain.temp.dir</code> in a managed domain, and <code class="literal">jboss.server.temp.dir</code> on a standalone server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.domain.base.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The base directory for domain content.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.domain.config.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that contains the domain configuration.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.domain.data.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that the domain will use for persistent data file storage.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.domain.log.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that the domain will use for persistent log file storage.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.domain.temp.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that the domain will use for temporary file storage.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.domain.deployment.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that the domain will use for storing deployed content.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.domain.servers.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that the domain will use for storing outputs of the managed domain instances.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.home.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The root directory of the JBoss EAP distribution.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.server.base.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The base directory for standalone server content.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.server.config.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that contains the standalone server configuration.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.server.data.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory the standalone server will use for persistent data file storage.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.server.log.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory the standalone server will use for log file storage.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.server.temp.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory the standalone server will use for temporary file storage.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								jboss.server.deploy.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The directory that the standalone server will use for storing deployed content.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								user.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The user’s current working directory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321716251328"> <p>
								user.home
							</p>
							 </td><td align="left" valign="top" headers="idm140321716250240"> <p>
								The user home directory.
							</p>
							 </td></tr></tbody></table></div></div><p>
				You can <a class="link" href="#override_standard_path" title="3.7.2. Override a Standard Path">override a standard path</a> or <a class="link" href="#add_custom_path" title="3.7.3. Add a Custom Path">add a custom path</a>.
			</p><section class="section" id="view_file_system_paths"><div class="titlepage"><div><div><h3 class="title">3.7.1. View File System Paths</h3></div></div></div><p>
					Use the following management CLI command to list the file system paths:
				</p><pre class="screen">ls /path</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, you can list the file system paths for a specific server using the following management CLI command:
					</p><pre class="screen">ls /host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span>/path</pre></div></div><p>
					Use the following management CLI command to read the value of a file system path:
				</p><pre class="screen">/path=<span class="emphasis"><em>PATH_NAME</em></span>:read-resource</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, you can read the value of a file system path for a specific server using the following management CLI command:
					</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span>/path=<span class="emphasis"><em>PATH_NAME</em></span>:read-resource</pre></div></div></section><section class="section" id="override_standard_path"><div class="titlepage"><div><div><h3 class="title">3.7.2. Override a Standard Path</h3></div></div></div><p>
					You can override the default locations of the standard paths that begin with <code class="literal">jboss.server.*</code> or <code class="literal">jboss.domain.*</code>. This can be done in one of two ways:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Pass in the command-line argument when you start the server. For example:
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh -Djboss.server.log.dir=/var/log</pre></li><li class="listitem"><p class="simpara">
							Modify the <code class="literal">JAVA_OPTS</code> variable in the server configuration file, either <code class="literal">standalone.conf</code> or <code class="literal">domain.conf</code>, to contain the new location. For example:
						</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Djboss.server.log.dir=/var/log"</pre></li></ul></div><h5 id="overriding_a_managed_domain_s_standard_paths">Overriding a Managed Domain’s Standard Paths</h5><p>
					In this example, the objective is to store domain files in the <code class="literal">/opt/jboss_eap/domain_data</code> directory, and give each top-level directory a custom name. The default directory grouping, <code class="literal">by-server</code>, is used.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Log files are to be stored in the <code class="literal">all_logs</code> subdirectory
						</li><li class="listitem">
							Data files are to be stored in the <code class="literal">all_data</code> subdirectory
						</li><li class="listitem">
							Temporary files are to be stored in the <code class="literal">all_temp</code> subdirectory
						</li><li class="listitem">
							Servers' files are to be stored in the <code class="literal">all_servers</code> subdirectory
						</li></ul></div><p>
					To achieve this configuration, you would override several system properties when starting JBoss EAP.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh -Djboss.domain.temp.dir=/opt/jboss_eap/domain_data/all_temp -Djboss.domain.log.dir=/opt/jboss_eap/domain_data/all_logs -Djboss.domain.data.dir=/opt/jboss_eap/domain_data/all_data -Djboss.domain.servers.dir=/opt/jboss_eap/domain_data/all_servers</pre><p>
					The resulting path structure will be as follows:
				</p><pre class="screen">/opt/jboss_eap/domain_data/
               ├── all_data
               ├── all_logs
               ├── all_servers
               │   ├── server-one
               │   │   ├── data
               │   │   ├── log
               │   │   └── tmp
               │   └── server-two
               │       ├── data
               │       ├── log
               │       └── tmp
               └── all_temp</pre></section><section class="section" id="add_custom_path"><div class="titlepage"><div><div><h3 class="title">3.7.3. Add a Custom Path</h3></div></div></div><p>
					You can add a custom file system path using the management CLI or the management console.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							From the management CLI, you can add a new path using the following management CLI command.
						</p><pre class="screen">/path=my.custom.path:add(path=/my/custom/path)</pre></li><li class="listitem">
							From the management console, you can configure file system paths by navigating to the <span class="strong strong"><strong>Configuration</strong></span> tab, selecting <span class="strong strong"><strong>Paths</strong></span>, and clicking <span class="strong strong"><strong>View</strong></span>. From there, you can add, modify, and remove paths.
						</li></ul></div><p>
					You can then use this custom path in your configuration. For example, the below log handler uses a custom path for its relative path.
				</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:logging:6.0"&gt;
  ...
  &lt;periodic-rotating-file-handler name="FILE" autoflush="true"&gt;
    &lt;formatter&gt;
      &lt;named-formatter name="PATTERN"/&gt;
    &lt;/formatter&gt;
    &lt;file relative-to="my.custom.path" path="server.log"/&gt;
    &lt;suffix value=".yyyy-MM-dd"/&gt;
    &lt;append value="true"/&gt;
  &lt;/periodic-rotating-file-handler&gt;
  ...
&lt;/subsystem&gt;</pre></section></section><section class="section" id="directory_grouping"><div class="titlepage"><div><div><h2 class="title">3.8. Directory Grouping</h2></div></div></div><p>
				In a managed domain, each server’s files are stored in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain</code> directory. You can specify how to organize the subdirectories for servers using the host controller’s <code class="literal">directory-grouping</code> attribute. Directories can be grouped either by <span class="emphasis"><em>server</em></span> or by <span class="emphasis"><em>type</em></span>. By default, directories are grouped by <span class="emphasis"><em>server</em></span>.
			</p><h4 id="directory_grouping_by_server">Directory Grouping by Server</h4><p>
				By default, directories are grouped by server. If your administration is <span class="emphasis"><em>server-centric</em></span>, this configuration is recommended. For example, it allows backups and log file handling to be configured per server instance.
			</p><p>
				If JBoss EAP is installed using the ZIP installation method, the default directory structure (grouped by server) will be as follows.
			</p><pre class="screen"><span class="emphasis"><em>EAP_HOME</em></span>/domain
         └─ servers
            ├── server-one
            │   ├── data
            │   ├── tmp
            │   └── log
            └── server-two
                ├── data
                ├── tmp
                └── log</pre><p>
				To group domain directories by server, enter the following management CLI command:
			</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>:write-attribute(name=directory-grouping,value=by-server)</pre><p>
				This will update the host controller’s <code class="literal">host.xml</code> configuration file:
			</p><pre class="programlisting language-xml">&lt;servers directory-grouping="by-server"&gt;
  &lt;server name="server-one" group="main-server-group"/&gt;
  &lt;server name="server-two" group="main-server-group" auto-start="true"&gt;
    &lt;socket-bindings port-offset="150"/&gt;
  &lt;/server&gt;
&lt;/servers&gt;</pre><h4 id="directory_grouping_by_type">Directory Grouping by Type</h4><p>
				Instead of grouping directories by server, you can instead group by file type. If your administration is <span class="emphasis"><em>file type-centric</em></span>, this configuration is recommended. For example, this would allow you to easily back up only <code class="literal">data</code> files.
			</p><p>
				If JBoss EAP is installed using the ZIP installation method and the domain’s files are grouped by type, the directory structure will be as follows.
			</p><pre class="screen"><span class="emphasis"><em>EAP_HOME</em></span>/domain
         ├── data
         │   └── servers
         │       ├── server-one
         │       └── server-two
         ├── log
         │   └── servers
         │       ├── server-one
         │       └── server-two
         └── tmp
             └── servers
                 ├── server-one
                 └── server-two</pre><p>
				To group domain directories by type, enter the following management CLI command:
			</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>:write-attribute(name=directory-grouping,value=by-type)</pre><p>
				This will update the host controller’s <code class="literal">host.xml</code> configuration file:
			</p><pre class="programlisting language-xml">&lt;servers directory-grouping="by-type"&gt;
  &lt;server name="server-one" group="main-server-group"/&gt;
  &lt;server name="server-two" group="main-server-group" auto-start="true"&gt;
    &lt;socket-bindings port-offset="150"/&gt;
  &lt;/server&gt;
&lt;/servers&gt;</pre></section><section class="section" id="system_properties"><div class="titlepage"><div><div><h2 class="title">3.9. System Properties</h2></div></div></div><p>
				You can use Java system properties to configure many JBoss EAP options, as well as set any name-value pair for use within the application server.
			</p><p>
				System properties can be used to override default values in the JBoss EAP configuration. For example, the following XML configuration for the public interface bind address shows that it can be set by the <code class="literal">jboss.bind.address</code> system property, but if the system property is not provided, it will default to <code class="literal">127.0.0.1</code>.
			</p><pre class="programlisting language-xml">&lt;inet-address value="${jboss.bind.address:127.0.0.1}"/&gt;</pre><p>
				There are a few ways you can set system properties in JBoss EAP, including:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#sys_prop_startup_script" title="Passing a System Property to the Startup Script">passing the system property to the JBoss EAP startup script</a>
					</li><li class="listitem">
						<a class="link" href="#sys_prop_management_cli" title="Setting a System Property Using the Management CLI">using the management CLI</a>
					</li><li class="listitem">
						<a class="link" href="#sys_prop_management_console" title="Setting a System Property Using the Management Console">using the management console</a>
					</li><li class="listitem">
						<a class="link" href="#sys_prop_java_opts" title="Setting a System Property Using JAVA_OPTS">using the <code class="literal">JAVA_OPTS</code> environment variable</a>
					</li></ul></div><p>
				If you use a JBoss EAP managed domain, system properties can be applied to either the whole domain, a specific server group, a specific host and all its server instances, or just to one specific server instance. As with most other JBoss EAP domain settings, a system property set at a more specific level will override a more abstract one. See the <a class="link" href="#domain_management" title="Chapter 8. Domain Management">Domain Management</a> chapter for more information.
			</p><h4 id="sys_prop_startup_script">Passing a System Property to the Startup Script</h4><p>
				You can pass a system property to the JBoss EAP startup script by using the <code class="literal">-D</code> argument. For example:
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh -Djboss.bind.address=192.168.1.2</pre><p>
				This method of setting the system property is especially useful for JBoss EAP options that need to be set before JBoss EAP starts.
			</p><h4 id="sys_prop_management_cli">Setting a System Property Using the Management CLI</h4><p>
				Using the management CLI, you can set a system property using the following syntax:
			</p><pre class="screen">/system-property=<span class="emphasis"><em>PROPERTY_NAME</em></span>:add(value=<span class="emphasis"><em>PROPERTY_VALUE</em></span>)</pre><p>
				For example:
			</p><pre class="screen">/system-property=jboss.bind.address:add(value=192.168.1.2)</pre><p>
				When setting system properties using the management CLI, some JBoss EAP options, including the above example of <code class="literal">jboss.bind.address</code>, will only take effect after the next server restart.
			</p><p>
				For a managed domain, the above example configures a system property for the entire domain, but you can also set or override system properties at more specific levels of the domain configuration.
			</p><h4 id="sys_prop_management_console">Setting a System Property Using the Management Console</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For a standalone JBoss EAP server, you can configure system properties in the management console under the <span class="strong strong"><strong>Configuration</strong></span> tab. Select <span class="strong strong"><strong>System Properties</strong></span>, and click the <span class="strong strong"><strong>View</strong></span> button.
					</li><li class="listitem"><p class="simpara">
						For a managed domain:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Domain-level system properties can be set in the <span class="strong strong"><strong>Configuration</strong></span> tab. Select <span class="strong strong"><strong>System Properties</strong></span>, and click the <span class="strong strong"><strong>View</strong></span> button.
							</li><li class="listitem">
								Server group and server-level system properties can be set in the <span class="strong strong"><strong>Runtime</strong></span> tab. Select the server group or server you want to configure, click the <span class="strong strong"><strong>View</strong></span> button next to the server group or server name, and select the <span class="strong strong"><strong>System Properties</strong></span> tab.
							</li><li class="listitem">
								Host-level system properties can be set in the <span class="strong strong"><strong>Runtime</strong></span> tab. Select the host you want to configure, then using the drop-down menu next to the host name, select <span class="strong strong"><strong>Properties</strong></span>.
							</li></ul></div></li></ul></div><h4 id="sys_prop_java_opts">Setting a System Property Using JAVA_OPTS</h4><p>
				System properties can also be configured using the <code class="literal">JAVA_OPTS</code> environment variable. There are many ways to modify <code class="literal">JAVA_OPTS</code>, but JBoss EAP provides a configuration file for setting <code class="literal">JAVA_OPTS</code> that is used by the JBoss EAP process.
			</p><p>
				For a standalone server, this file is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code>, or, for a managed domain, it is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code>. For Microsoft Windows systems these files have a <code class="literal">.bat</code> extension.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For an RPM installation, the <a class="link" href="#rpm_installation_configuration_files" title="A.2. RPM Service Configuration Files">RPM service configuration file</a> is the preferred location to modify <code class="literal">JAVA_OPTS</code> to configure system properties. For more information, see <a class="link" href="#configure_rpm_service_properties" title="Configure RPM Service Properties">Configure RPM Service Properties</a>.
				</p></div></div><p>
				Add your system property definition to <code class="literal">JAVA_OPTS</code> in the relevant configuration file. The examples below demonstrate setting the bind address on a Red Hat Enterprise Linux system.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						For <code class="literal">standalone.conf</code>, add your <code class="literal">JAVA_OPTS</code> system property definition at the end of the file. For example:
					</p><pre class="screen">...
# Set the bind address
JAVA_OPTS="$JAVA_OPTS -Djboss.bind.address=192.168.1.2"</pre></li><li class="listitem"><p class="simpara">
						For <code class="literal">domain.conf</code>, <code class="literal">JAVA_OPTS</code> must be set before the process controller <code class="literal">JAVA_OPTS</code> setting. For example:
					</p><pre class="screen">...
# Set the bind address
JAVA_OPTS="$JAVA_OPTS -Djboss.bind.address=192.168.1.2"

# The ProcessController process uses its own set of java options
if [ "x$PROCESS_CONTROLLER_JAVA_OPTS" = "x" ]; then
...</pre></li></ul></div></section><section class="section" id="management_audit_logging"><div class="titlepage"><div><div><h2 class="title">3.10. Management Audit Logging</h2></div></div></div><p>
				You can enable audit logging for the management interfaces, which will log all operations performed using the management console, management CLI, or custom application that uses the Management API. Audit log entries are stored in JSON format. By default, audit logging is disabled.
			</p><p>
				You can configure audit logging to output to a <a class="link" href="#enable_audit_logging" title="3.10.1. Enable Management Audit Logging">file</a> or to a <a class="link" href="#send_audit_logging_syslog" title="3.10.3. Send Management Audit Logging to a Syslog Server">syslog server</a>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Login and logout events cannot be audited as there is no authenticated session in JBoss EAP. Instead, audit messages are logged when an operation is received from the user.
				</p></div></div><h4 id="standalone_server_audit_logging">Standalone Server Audit Logging</h4><p>
				Though disabled by default, the default audit logging configuration writes to a file.
			</p><pre class="programlisting language-xml">&lt;audit-log&gt;
    &lt;formatters&gt;
        &lt;json-formatter name="json-formatter"/&gt;
    &lt;/formatters&gt;
    &lt;handlers&gt;
        &lt;file-handler name="file" formatter="json-formatter" path="audit-log.log" relative-to="jboss.server.data.dir"/&gt;
    &lt;/handlers&gt;
    &lt;logger log-boot="true" log-read-only="false" enabled="false"&gt;
        &lt;handlers&gt;
            &lt;handler name="file"/&gt;
        &lt;/handlers&gt;
    &lt;/logger&gt;
&lt;/audit-log&gt;</pre><p>
				This configuration can be read using the following management CLI command.
			</p><pre class="screen">/core-service=management/access=audit:read-resource(recursive=true)</pre><p>
				See <a class="link" href="#enable_audit_logging" title="3.10.1. Enable Management Audit Logging">Enable Audit Logging</a> to enable audit logging for a standalone server.
			</p><h4 id="managed_domain_audit_logging">Managed Domain Audit Logging</h4><p>
				Though disabled by default, the default audit logging configuration writes a file for each host and for each server.
			</p><pre class="programlisting language-xml">&lt;audit-log&gt;
    &lt;formatters&gt;
        &lt;json-formatter name="json-formatter"/&gt;
    &lt;/formatters&gt;
    &lt;handlers&gt;
        &lt;file-handler name="host-file" formatter="json-formatter" relative-to="jboss.domain.data.dir" path="audit-log.log"/&gt;
        &lt;file-handler name="server-file" formatter="json-formatter" relative-to="jboss.server.data.dir" path="audit-log.log"/&gt;
    &lt;/handlers&gt;
    &lt;logger log-boot="true" log-read-only="false" enabled="false"&gt;
        &lt;handlers&gt;
            &lt;handler name="host-file"/&gt;
        &lt;/handlers&gt;
    &lt;/logger&gt;
    &lt;server-logger log-boot="true" log-read-only="false" enabled="false"&gt;
        &lt;handlers&gt;
            &lt;handler name="server-file"/&gt;
        &lt;/handlers&gt;
    &lt;/server-logger&gt;
&lt;/audit-log&gt;</pre><p>
				This configuration can be read using the following management CLI command.
			</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/core-service=management/access=audit:read-resource(recursive=true)</pre><p>
				See <a class="link" href="#enable_audit_logging" title="3.10.1. Enable Management Audit Logging">Enable Audit Logging</a> to enable audit logging for a managed domain.
			</p><section class="section" id="enable_audit_logging"><div class="titlepage"><div><div><h3 class="title">3.10.1. Enable Management Audit Logging</h3></div></div></div><p>
					JBoss EAP is preconfigured with file handlers for audit logging, though audit logging is disabled by default. The management CLI command to enable audit logging depends on whether you are running as a standalone server or in a managed domain. See <a class="link" href="#management_audit_logging_attributes" title="A.6. Management Audit Logging Attributes">Management Audit Logging Attributes</a> for file handler attributes.
				</p><p>
					The following instructions enable <code class="literal">NATIVE</code> and <code class="literal">HTTP</code> audit logging. To configure JMX audit logging, see <a class="link" href="#enable_jmx_audit_logging" title="3.10.2. Enable JMX Management Audit Logging">Enable JMX Management Audit Logging</a>.
				</p><p>
					To set up syslog audit logging, see <a class="link" href="#send_audit_logging_syslog" title="3.10.3. Send Management Audit Logging to a Syslog Server">Send Management Audit Logging to a Syslog Server</a>.
				</p><h5 id="enable_standalone_server_audit_logging">Enable Standalone Server Audit Logging</h5><p>
					Audit logging can be enabled using the following command.
				</p><pre class="screen">/core-service=management/access=audit/logger=audit-log:write-attribute(name=enabled,value=true)</pre><p>
					By default, this will write the audit log to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/data/audit-log.log</code>.
				</p><h5 id="enable_managed_domain_audit_logging">Enable Managed Domain Audit Logging</h5><p>
					The default audit logging configuration for a managed domain is preconfigured to write an audit log for each host and each server.
				</p><p>
					Audit logging for each host can be enabled using the following command.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/core-service=management/access=audit/logger=audit-log:write-attribute(name=enabled,value=true)</pre><p>
					By default, this will write the audit logs to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/data/audit-log.log</code>.
				</p><p>
					Audit logging for each server can be enabled using the following command.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/core-service=management/access=audit/server-logger=audit-log:write-attribute(name=enabled,value=true)</pre><p>
					By default, this will write the audit logs to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/data/audit-log.log</code>.
				</p></section><section class="section" id="enable_jmx_audit_logging"><div class="titlepage"><div><div><h3 class="title">3.10.2. Enable JMX Management Audit Logging</h3></div></div></div><p>
					JBoss EAP is preconfigured with file handlers for JMX audit logging, though these logs are disabled by default. The management CLI command to enable audit logging depends on whether you are running as a standalone server or a managed domain.
				</p><p>
					To configure <code class="literal">NATIVE</code> or <code class="literal">HTTP</code> audit logging, see <a class="link" href="#enable_audit_logging" title="3.10.1. Enable Management Audit Logging">Enable Management Audit Logging</a>.
				</p><h5 id="enable_standalone_jmx_audit_logging">Enable Standalone Server JMX Audit Logging</h5><p>
					JMX audit logging can be enabled for a standalone server using the following commands.
				</p><pre class="screen">/subsystem=jmx/configuration=audit-log:add()
/subsystem=jmx/configuration=audit-log/handler=file:add()</pre><p>
					This enables JMX audit logging, and then uses the defined <code class="literal">file</code> handler to write these logs to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/data/audit-log.log</code>.
				</p><h5 id="enable_domain_jmx_audit_logging">Enable Managed Domain JMX Audit Logging</h5><p>
					JMX audit logging can be enabled for each host and profile in a managed domain.
				</p><div class="orderedlist"><p class="title"><strong>Enable JMX Audit Logging for a Host</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable audit logging in the host’s <code class="literal">jmx</code> subsystem.
						</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/subsystem=jmx/configuration=audit-log:add()</pre></li><li class="listitem"><p class="simpara">
							Once audit logging for the <code class="literal">jmx</code> subsystem has been enabled, a handler can be defined for the host with the following command.
						</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/subsystem=jmx/configuration=audit-log/handler=host-file:add()</pre><p class="simpara">
							By default, this will write the JMX audit logs to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/data/audit-log.log</code>.
						</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Enable JMX Audit Logging for a Profile</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable audit logging in the profile’s <code class="literal">jmx</code> subsystem.
						</p><pre class="screen">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/subsystem=jmx/configuration=audit-log:add()</pre></li><li class="listitem"><p class="simpara">
							Once audit logging for the <code class="literal">jmx</code> subsystem has been enabled, a handler can be defined for the profile with the following command.
						</p><pre class="screen">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/subsystem=jmx/configuration=audit-log/handler=server-file:add()</pre><p class="simpara">
							By default, this will write the JMX audit logs to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/data/audit-log.log</code>.
						</p></li></ol></div></section><section class="section" id="send_audit_logging_syslog"><div class="titlepage"><div><div><h3 class="title">3.10.3. Send Management Audit Logging to a Syslog Server</h3></div></div></div><p>
					A syslog handler specifies the parameters by which audit log entries are sent to a syslog server, specifically the syslog server’s host name and the port on which the syslog server is listening. Sending audit logging to a syslog server provides more security options than logging to a local file or local syslog server. Multiple syslog handlers can be defined and be active at the same time.
				</p><p>
					By default, audit logging is preconfigured to output to a file when enabled. Use the following steps to set up and enable audit logging to a syslog server. See <a class="link" href="#management_audit_logging_attributes" title="A.6. Management Audit Logging Attributes">Management Audit Logging Attributes</a> for syslog handler attributes.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a syslog handler.
						</p><p class="simpara">
							Create the syslog handler, specifying the host and port of the syslog server. In a managed domain, you must precede the <code class="literal">/core-service</code> commands with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span></code>.
						</p><pre class="screen">batch
/core-service=management/access=audit/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:add(formatter=json-formatter)
/core-service=management/access=audit/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>/protocol=udp:add(host=<span class="emphasis"><em>HOST_NAME</em></span>,port=<span class="emphasis"><em>PORT</em></span>)
run-batch</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The parameters to pass in differ depending on the protocol specified.
							</p><p>
								To configure the handler to use TLS to communicate securely with the syslog server, you must also configure the authentication, for example:
							</p><pre class="screen">/core-service=management/access=audit/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>/protocol=tls/authentication=truststore:add(keystore-path=<span class="emphasis"><em>PATH_TO_TRUSTSTORE</em></span>,keystore-password=<span class="emphasis"><em>TRUSTSTORE_PASSWORD</em></span>)</pre></div></div></li><li class="listitem"><p class="simpara">
							Add a reference to the syslog handler.
						</p><p class="simpara">
							In a managed domain, you must precede this command with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span></code>.
						</p><pre class="screen">/core-service=management/access=audit/logger=audit-log/handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:add</pre></li><li class="listitem"><p class="simpara">
							Enable audit logging.
						</p><p class="simpara">
							See <a class="link" href="#enable_audit_logging" title="3.10.1. Enable Management Audit Logging">Enable Management Audit Logging</a> to enable audit logging.
						</p></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Enabling audit logging to a syslog server in JBoss EAP will not work unless logging is enabled in the operating system as well.
					</p><p>
						For more information on <code class="literal">rsyslog</code> configurations on Red Hat Enterprise Linux, see the <span class="emphasis"><em>Basic Configuration of Rsyslog</em></span> section of the <span class="emphasis"><em>System Administrator’s Guide</em></span> for Red Hat Enterprise Linux at <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en/red-hat-enterprise-linux/" title="This content is not included in Mimir.">https://access.redhat.com/documentation/en/red-hat-enterprise-linux/</a>.
					</p></div></div></section><section class="section" id="read_audit_log"><div class="titlepage"><div><div><h3 class="title">3.10.4. Read Audit Log Entries</h3></div></div></div><p>
					Audit log entries output to files are best viewed with a text <span class="emphasis"><em>viewer</em></span>, while those output to a syslog server are best viewed using a syslog viewer application.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Using a text <span class="emphasis"><em>editor</em></span> for viewing log files is not recommended as some may prevent further log entries being written to the log file.
					</p></div></div><p>
					The audit log entries are stored in JSON format. Each log entry begins with an optional timestamp, followed by the fields in the below table.
				</p><div class="table" id="idm140321722664064"><p class="title"><strong>Table 3.5. Management Audit Log Fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321741927568" scope="col">Field Name</th><th align="left" valign="top" id="idm140321741926480" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									access
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									This can have one of the following values:
								</p>
								 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<code class="literal">NATIVE</code> - The operation came in through the native management interface.
										</li><li class="listitem">
											<code class="literal">HTTP</code> - The operation came in through the domain HTTP interface.
										</li><li class="listitem">
											<code class="literal">JMX</code> - The operation came in through the <code class="literal">jmx</code> subsystem.
										</li></ul></div>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									booting
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									Has the value <code class="literal">true</code> if the operation was executed during the bootup process, or <code class="literal">false</code> if it was executed once the server is up and running.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									domainUUID
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									An ID to link together all operations as they are propagated from the domain controller to its servers, slave host controllers, and slave host controller servers.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									ops
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									The operations being executed. This is a list of the operations serialized to JSON. At boot, this is the operations resulting from parsing the XML. Once booted, the list typically contains a single entry.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									r/o
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									Has the value <code class="literal">true</code> if the operation does not change the management model, or <code class="literal">false</code> if it does.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									remote-address
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									The address of the client executing this operation.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									success
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									Has the value <code class="literal">true</code> if the operation was successful, or <code class="literal">false</code> if it was rolled back.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									type
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									This can have the value <code class="literal">core</code>, meaning it is a management operation, or <code class="literal">jmx</code>, meaning it comes from the <code class="literal">jmx</code> subsystem.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									user
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									The username of the authenticated user. If the operation occurred using the management CLI on the same machine as the running server, the special user <code class="literal">$local</code> is used.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321741927568"> <p>
									version
								</p>
								 </td><td align="left" valign="top" headers="idm140321741926480"> <p>
									The version number of the JBoss EAP instance.
								</p>
								 </td></tr></tbody></table></div></div></section></section><section class="section" id="server_lifecycle_event_notifications"><div class="titlepage"><div><div><h2 class="title">3.11. Server Lifecycle Event Notifications</h2></div></div></div><p>
				You can set up notifications for server lifecycle events using the JBoss EAP <a class="link" href="#monitor_server_lifecycle_events_management" title="3.11.1. Monitor Server Lifecycle Events Using the Core Management Subsystem"><code class="literal">core-management</code> subsystem</a> or <a class="link" href="#monitor_server_lifecycle_events_jmx" title="3.11.2. Monitor Server Lifecycle Events Using JMX Notifications">JMX</a>. A change in server runtime configuration state or server running state will trigger a notification.
			</p><p>
				The server runtime configuration states for JBoss EAP are <code class="literal">STARTING</code>, <code class="literal">RUNNING</code>, <code class="literal">RELOAD_REQUIRED</code>, <code class="literal">RESTART_REQUIRED</code>, <code class="literal">STOPPING</code>, and <code class="literal">STOPPED</code>.
			</p><p>
				The server running states for JBoss EAP are <code class="literal">STARTING</code>, <code class="literal">NORMAL</code>, <code class="literal">ADMIN_ONLY</code>, <code class="literal">PRE_SUSPEND</code>, <code class="literal">SUSPENDING</code>, <code class="literal">SUSPENDED</code>, <code class="literal">STOPPING</code>, and <code class="literal">STOPPED</code>.
			</p><section class="section" id="monitor_server_lifecycle_events_management"><div class="titlepage"><div><div><h3 class="title">3.11.1. Monitor Server Lifecycle Events Using the Core Management Subsystem</h3></div></div></div><p>
					You can register a listener to the JBoss EAP <code class="literal">core-management</code> subsystem to monitor for server lifecycle events. The following steps show how to create and register an example listener that logs the events to a file.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the listener.
						</p><p class="simpara">
							Create an implementation of <code class="literal">org.wildfly.extension.core.management.client.ProcessStateListener</code>, like the example below.
						</p><div class="formalpara"><p class="title"><strong>Example: Listener Class</strong></p><p>
								
<pre class="programlisting language-java">package org.simple.lifecycle.events.listener;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;

import org.wildfly.extension.core.management.client.ProcessStateListener;
import org.wildfly.extension.core.management.client.ProcessStateListenerInitParameters;
import org.wildfly.extension.core.management.client.RunningStateChangeEvent;
import org.wildfly.extension.core.management.client.RuntimeConfigurationStateChangeEvent;

public class SimpleListener implements ProcessStateListener {

    private File file;
    private FileWriter fileWriter;
    private ProcessStateListenerInitParameters parameters;

    public void init(ProcessStateListenerInitParameters parameters) {
        this.parameters = parameters;
        this.file = new File(parameters.getInitProperties().get("file"));
        try {
            fileWriter = new FileWriter(file, true);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void cleanup() {
        try {
            fileWriter.close();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            fileWriter = null;
        }
    }

    public void runtimeConfigurationStateChanged(RuntimeConfigurationStateChangeEvent evt) {
        try {
            fileWriter.write(String.format("Runtime configuration state change for %s: %s to %s\n", parameters.getProcessType(), evt.getOldState(), evt.getNewState()));
            fileWriter.flush();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public void runningStateChanged(RunningStateChangeEvent evt) {
        try {
            fileWriter.write(String.format("Running state change for %s: %s to %s\n", parameters.getProcessType(), evt.getOldState(), evt.getNewState()));
            fileWriter.flush();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</pre>

							</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Keep the following in mind when implementing the listener.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										In the event of a server reload, listeners stop listening while the server attempts to stop, and the listeners are reloaded when the server starts. Because of this, implementations must ensure that they can be loaded, initialized, and removed properly several times inside the same JVM.
									</li><li class="listitem">
										Notifications to the listeners are blocking to allow reactions to server state changes. Implementations must ensure that they do not block or deadlock.
									</li><li class="listitem">
										Each listener instance is executed in its own thread and the order is not guaranteed.
									</li></ul></div></div></div></li><li class="listitem"><p class="simpara">
							Compile the class and package it into a JAR.
						</p><p class="simpara">
							Note that to compile, you need to depend on the <code class="literal">org.wildfly.core:wildfly-core-management-client</code> Maven module.
						</p></li><li class="listitem"><p class="simpara">
							Add the JAR as a JBoss EAP module.
						</p><p class="simpara">
							Use the following management CLI command and provide the module name and path to the JAR.
						</p><pre class="screen">module add --name=org.simple.lifecycle.events.listener --dependencies=org.wildfly.extension.core-management-client --resources=/path/to/simple-listener-0.0.1-SNAPSHOT.jar</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the listener.
						</p><p class="simpara">
							Add the listener to the <code class="literal">core-management</code> subsystem using the following management CLI command. Specify the class, module, and file location to log the server lifecycle events.
						</p><pre class="screen">/subsystem=core-management/process-state-listener=my-simple-listener:add(class=org.simple.lifecycle.events.listener.SimpleListener, module=org.simple.lifecycle.events.listener,properties={file=/path/to/my-listener-output.txt})</pre></li></ol></div><p>
					Now, server lifecycle events will be logged to the <code class="literal">my-listener-output.txt</code> file based on the <code class="literal">SimpleListener</code> class above. For example, issuing a <code class="literal">:suspend</code> command in the management CLI will output the following to the <code class="literal">my-listener-output.txt</code> file.
				</p><pre class="screen">Running state change for STANDALONE_SERVER: normal to suspending
Running state change for STANDALONE_SERVER: suspending to suspended</pre><p>
					This shows that the running state changed from <code class="literal">normal</code> to <code class="literal">suspending</code>, and then from <code class="literal">suspending</code> to <code class="literal">suspended</code>.
				</p></section><section class="section" id="monitor_server_lifecycle_events_jmx"><div class="titlepage"><div><div><h3 class="title">3.11.2. Monitor Server Lifecycle Events Using JMX Notifications</h3></div></div></div><p>
					You can register a JMX notification listener to monitor for server lifecycle events. The following steps show how to create and add an example listener that logs events to a file.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the listener.
						</p><p class="simpara">
							Create an implementation of <code class="literal">javax.management.NotificationListener</code>, like the example below.
						</p><div class="formalpara"><p class="title"><strong>Example: Listener Class</strong></p><p>
								
<pre class="programlisting language-java">import java.io.BufferedWriter;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.StandardOpenOption;

import javax.management.AttributeChangeNotification;
import javax.management.Notification;
import javax.management.NotificationListener;

import org.jboss.logging.Logger;

public class StateNotificationListener implements NotificationListener {

  public static final String RUNTIME_CONFIGURATION_FILENAME = "runtime-configuration-notifications.txt";
  public static final String RUNNING_FILENAME = "running-notifications.txt";
  private final Path targetFile;

  public StateNotificationListener() {
    this.targetFile = Paths.get("notifications/data").toAbsolutePath();
    init(targetFile);
  }

  protected Path getRuntimeConfigurationTargetFile() {
    return this.targetFile.resolve(RUNTIME_CONFIGURATION_FILENAME);
  }

  protected Path getRunningConfigurationTargetFile() {
    return this.targetFile.resolve(RUNNING_FILENAME);
  }

  protected final void init(Path targetFile) {
    try {
      Files.createDirectories(targetFile);

      if (!Files.exists(targetFile.resolve(RUNTIME_CONFIGURATION_FILENAME))) {
        Files.createFile(targetFile.resolve(RUNTIME_CONFIGURATION_FILENAME));
      }

      if (!Files.exists(targetFile.resolve(RUNNING_FILENAME))) {
        Files.createFile(targetFile.resolve(RUNNING_FILENAME));
      }
    } catch (IOException ex) {
        Logger.getLogger(StateNotificationListener.class).error("Problem handling JMX Notification", ex);
    }
  }

  @Override
  public void handleNotification(Notification notification, Object handback) {
    AttributeChangeNotification attributeChangeNotification = (AttributeChangeNotification) notification;
    if ("RuntimeConfigurationState".equals(attributeChangeNotification.getAttributeName())) {
      writeNotification(attributeChangeNotification, getRuntimeConfigurationTargetFile());
    } else {
      writeNotification(attributeChangeNotification, getRunningConfigurationTargetFile());
    }
  }

  private void writeNotification(AttributeChangeNotification notification, Path path) {
    try (BufferedWriter in = Files.newBufferedWriter(path, StandardCharsets.UTF_8, StandardOpenOption.APPEND)) {
      in.write(String.format("%s %s %s %s", notification.getType(), notification.getSequenceNumber(), notification.getSource().toString(), notification.getMessage()));
      in.newLine();
      in.flush();
    } catch (IOException ex) {
      Logger.getLogger(StateNotificationListener.class).error("Problem handling JMX Notification", ex);
    }
  }
}</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Register the notification listener.
						</p><p class="simpara">
							Add the notification listener to the <code class="literal">MBeanServer</code>.
						</p><div class="formalpara"><p class="title"><strong>Example: Add a Notification Listener</strong></p><p>
								
<pre class="programlisting language-java">MBeanServer server = ManagementFactory.getPlatformMBeanServer();
server.addNotificationListener(ObjectName.getInstance("jboss.root:type=state"), new StateNotificationListener(), null, null);</pre>

							</p></div></li><li class="listitem">
							Package and deploy to JBoss EAP.
						</li></ol></div><p>
					Server lifecycle events are now logged to a file based on the <code class="literal">StateNotificationListener</code> class above. For example, issuing a <code class="literal">:suspend</code> command in the management CLI outputs the following to the <code class="literal">running-notifications.txt</code> file.
				</p><pre class="screen">jmx.attribute.change 5 jboss.root:type=state The attribute 'RunningState' has changed from 'normal' to 'suspending'
jmx.attribute.change 6 jboss.root:type=state The attribute 'RunningState' has changed from 'suspending' to 'suspended'</pre><p>
					This shows that the running state changed from <code class="literal">normal</code> to <code class="literal">suspending</code>, and then from <code class="literal">suspending</code> to <code class="literal">suspended</code>.
				</p></section></section></section><section class="chapter" id="network_and_port_configuration"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Network and Port Configuration</h1></div></div></div><section class="section" id="interfaces"><div class="titlepage"><div><div><h2 class="title">4.1. Interfaces</h2></div></div></div><p>
				JBoss EAP references named interfaces throughout the configuration. This allows the configuration to reference individual interface declarations with logical names, rather than requiring the full details of the interface at each use.
			</p><p>
				This also allows for easier configuration in a managed domain, where network interface details can vary across multiple machines. Each server instance can correspond to a logical name group.
			</p><p>
				The <code class="literal">standalone.xml</code>, <code class="literal">domain.xml</code>, and <code class="literal">host.xml</code> files all include interface declarations. There are several preconfigured interface names, depending on which default configuration is used. The <code class="literal">management</code> interface can be used for all components and services that require the management layer, including the HTTP management endpoint. The <code class="literal">public</code> interface can be used for all application-related network communications. The <code class="literal">unsecure</code> interface is used for IIOP sockets in the standard configuration. The <code class="literal">private</code> interface is used for JGroups sockets in the standard configuration.
			</p><section class="section" id="default_interface_configurations"><div class="titlepage"><div><div><h3 class="title">4.1.1. Default Interface Configurations</h3></div></div></div><pre class="programlisting language-xml">&lt;interfaces&gt;
  &lt;interface name="management"&gt;
    &lt;inet-address value="${jboss.bind.address.management:127.0.0.1}"/&gt;
  &lt;/interface&gt;
  &lt;interface name="public"&gt;
    &lt;inet-address value="${jboss.bind.address:127.0.0.1}"/&gt;
  &lt;/interface&gt;
  &lt;interface name="private"&gt;
    &lt;inet-address value="${jboss.bind.address.private:127.0.0.1}"/&gt;
  &lt;/interface&gt;
  &lt;interface name="unsecure"&gt;
    &lt;inet-address value="${jboss.bind.address.unsecure:127.0.0.1}"/&gt;
  &lt;/interface&gt;
&lt;/interfaces&gt;</pre><p>
					By default, JBoss EAP binds these interfaces to <code class="literal">127.0.0.1</code>, but these values can be overridden at runtime by setting the appropriate property. For example, the <code class="literal">inet-address</code> of the <code class="literal">public</code> interface can be set when starting JBoss EAP as a standalone server with the following command.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh -Djboss.bind.address=<span class="emphasis"><em>IP_ADDRESS</em></span></pre><p>
					Alternatively, you can use the <code class="literal">-b</code> switch on the server start command line. For more information about server start options, see <a class="link" href="#reference_of_switches_and_arguments_to_pass_at_server_runtime" title="A.1. Server Runtime Arguments">Server Runtime Arguments</a>.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you modify the default network interfaces or ports that JBoss EAP uses, you must also remember to change any scripts that use the modified interfaces or ports. These include JBoss EAP service scripts, as well as remembering to specify the correct interface and port when accessing the management console or management CLI.
					</p></div></div></section><section class="section" id="configuring_interfaces"><div class="titlepage"><div><div><h3 class="title">4.1.2. Configuring Interfaces</h3></div></div></div><p>
					Network interfaces are declared by specifying a logical name and selection criteria for the physical interface. The selection criteria can reference a wildcard address or specify a set of one or more characteristics that an interface or address must have in order to be a valid match. For a listing of all available interface selection criteria, see the <a class="link" href="#reference_of_interface_attributes" title="A.7. Interface Attributes">Interface Attributes</a> section.
				</p><p>
					Interfaces can be configured using the management console or the management CLI. Below are several examples of adding and updating interfaces. The management CLI command is shown first, followed by the corresponding configuration XML.
				</p><h5 id="add_an_interface_with_a_nic_value">Add an Interface with a NIC Value</h5><p>
					Add a new interface with a NIC value of <code class="literal">eth0</code>.
				</p><pre class="screen">/interface=external:add(nic=eth0)</pre><pre class="programlisting language-xml">&lt;interface name="external"&gt;
   &lt;nic name="eth0"/&gt;
&lt;/interface&gt;</pre><h5 id="add_an_interface_with_several_conditional_values">Add an Interface with Several Conditional Values</h5><p>
					Add a new interface that matches any interface/address on the correct subnet if it is up, supports multicast, and is not point-to-point.
				</p><pre class="screen">/interface=default:add(subnet-match=192.168.0.0/16,up=true,multicast=true,not={point-to-point=true})</pre><pre class="programlisting language-xml">&lt;interface name="default"&gt;
   &lt;subnet-match value="192.168.0.0/16"/&gt;
   &lt;up/&gt;
   &lt;multicast/&gt;
   &lt;not&gt;
      &lt;point-to-point/&gt;
   &lt;/not&gt;
&lt;/interface&gt;</pre><h5 id="update_an_interface_attribute">Update an Interface Attribute</h5><p>
					Update the <code class="literal">public</code> interface’s default <code class="literal">inet-address</code> value, keeping the <code class="literal">jboss.bind.address</code> property to allow for this value to be set at runtime.
				</p><pre class="screen">/interface=public:write-attribute(name=inet-address,value="${jboss.bind.address:192.168.0.0}")</pre><pre class="programlisting language-xml">&lt;interface name="public"&gt;
    &lt;inet-address value="${jboss.bind.address:192.168.0.0}"/&gt;
&lt;/interface&gt;</pre><h5 id="add_an_interface_to_a_server_in_a_managed_domain">Add an Interface to a Server in a Managed Domain</h5><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>/interface=<span class="emphasis"><em>INTERFACE_NAME</em></span>:add(inet-address=127.0.0.1)</pre><pre class="programlisting language-xml">&lt;servers&gt;
   &lt;server name="<span class="emphasis"><em>SERVER_NAME</em></span>" group="main-server-group"&gt;
      &lt;interfaces&gt;
         &lt;interface name="<span class="emphasis"><em>INTERFACE_NAME</em></span>"&gt;
            &lt;inet-address value="127.0.0.1"/&gt;
         &lt;/interface&gt;
      &lt;/interfaces&gt;
   &lt;/server&gt;
&lt;/servers&gt;</pre></section></section><section class="section" id="socket_bindings"><div class="titlepage"><div><div><h2 class="title">4.2. Socket Bindings</h2></div></div></div><p>
				Socket bindings and socket binding groups allow you to define network ports and their relationship to the networking interfaces required for your JBoss EAP configuration. A socket binding is a named configuration for a socket. A socket binding group is a collection of socket binding declarations that are grouped under a logical name.
			</p><p>
				This allows other sections of the configuration to reference socket bindings by their logical name, rather than requiring the full details of the socket configuration at each use.
			</p><p>
				The declarations for these named configurations can be found in the <code class="literal">standalone.xml</code> and <code class="literal">domain.xml</code> configuration files. A standalone server contains only one socket binding group, while a managed domain can contain multiple groups. You can create a socket binding group for each server group in the managed domain, or share a socket binding group between multiple server groups.
			</p><p>
				The ports JBoss EAP uses by default depend on which socket binding groups are used and the requirements of your individual deployments.
			</p><p>
				There are three types of socket bindings that can be defined in a socket binding group in the JBoss EAP configuration:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Inbound Socket Bindings</span></dt><dd><p class="simpara">
							The <code class="literal">socket-binding</code> element is used to configure inbound socket bindings for the JBoss EAP server. The default JBoss EAP configurations provide several preconfigured <code class="literal">socket-binding</code> elements, for example, for HTTP and HTTPS traffic. Another example can be found in the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/configuring_messaging/#broadcast_groups" title="This content is not included in Mimir.">Broadcast Groups</a> section of <span class="emphasis"><em>Configuring Messaging</em></span> for JBoss EAP.
						</p><p class="simpara">
							Attributes for this element can be found in the <a class="link" href="#socket_binding_local" title="Table A.12. Inbound Socket Binding (socket-binding) Attributes">Inbound Socket Binding Attributes</a> table.
						</p></dd><dt><span class="term">Remote Outbound Socket Bindings</span></dt><dd><p class="simpara">
							The <code class="literal">remote-destination-outbound-socket-binding</code> element is used to configure outbound socket bindings for destinations that are remote to the JBoss EAP server. The default JBoss EAP configurations provide an example remote destination socket binding that can be used for a mail server. Another example can be found in the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/configuring_messaging/#use_provided_amq_adapter" title="This content is not included in Mimir.">Using the Integrated Artemis Resource Adapter for Remote Connections</a> section of <span class="emphasis"><em>Configuring Messaging</em></span> for JBoss EAP.
						</p><p class="simpara">
							Attributes for this element can be found in the <a class="link" href="#socket_binding_outbound_remote" title="Table A.13. Remote Outbound Socket Binding (remote-destination-outbound-socket-binding) Attributes">Remote Outbound Socket Binding Attributes</a> table.
						</p></dd><dt><span class="term">Local Outbound Socket Bindings</span></dt><dd><p class="simpara">
							The <code class="literal">local-destination-outbound-socket-binding</code> element is used to configure outbound socket bindings for destinations that are local to the JBoss EAP server. This type of socket binding is not expected to be commonly used.
						</p><p class="simpara">
							Attributes for this element can be found in the <a class="link" href="#socket_binding_outbound_local" title="Table A.14. Local Outbound Socket Binding (local-destination-outbound-socket-binding) Attributes">Local Outbound Socket Binding Attributes</a> table.
						</p></dd></dl></div><section class="section" id="management_ports"><div class="titlepage"><div><div><h3 class="title">4.2.1. Management Ports</h3></div></div></div><p>
					Management ports were consolidated in JBoss EAP 7. By default, JBoss EAP 7 uses port <code class="literal">9990</code> for both native management, used by the management CLI, and HTTP management, used by the web-based management console. Port <code class="literal">9999</code>, which was used as the native management port in JBoss EAP 6, is no longer used but can still be enabled if desired.
				</p><p>
					If HTTPS is enabled for the management console, then port <code class="literal">9993</code> is used by default.
				</p></section><section class="section" id="default_socket_bindings"><div class="titlepage"><div><div><h3 class="title">4.2.2. Default Socket Bindings</h3></div></div></div><p>
					JBoss EAP ships with a socket binding group for each of the five predefined profiles (<span class="emphasis"><em>default</em></span>, <span class="emphasis"><em>ha</em></span>, <span class="emphasis"><em>full</em></span>, <span class="emphasis"><em>full-ha</em></span>, <span class="emphasis"><em>load-balancer</em></span>).
				</p><p>
					For detailed information about the default socket bindings, such as default ports and descriptions, see the <a class="link" href="#reference_of_default_socket_bindings" title="A.9. Default Socket Bindings">Default Socket Bindings</a> section.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you modify the default network interfaces or ports that JBoss EAP uses, you must also remember to change any scripts that use the modified interfaces or ports. These include JBoss EAP service scripts, as well as remembering to specify the correct interface and port when accessing the management console or management CLI.
					</p></div></div><h5 id="standalone_server">Standalone Server</h5><p>
					When running as a standalone server, only one socket binding group is defined per configuration file. Each standalone configuration file (<code class="literal">standalone.xml</code>, <code class="literal">standalone-ha.xml</code>, <code class="literal">standalone-full.xml</code>, <code class="literal">standalone-full-ha.xml</code>, <code class="literal">standalone-load-balancer.xml</code>) defines socket bindings for the technologies used by its corresponding profile.
				</p><p>
					For example, the default standalone configuration file (<code class="literal">standalone.xml</code>) specifies the below socket bindings.
				</p><pre class="programlisting language-xml">&lt;socket-binding-group name="standard-sockets" default-interface="public" port-offset="${jboss.socket.binding.port-offset:0}"&gt;
    &lt;socket-binding name="management-http" interface="management" port="${jboss.management.http.port:9990}"/&gt;
    &lt;socket-binding name="management-https" interface="management" port="${jboss.management.https.port:9993}"/&gt;
    &lt;socket-binding name="ajp" port="${jboss.ajp.port:8009}"/&gt;
    &lt;socket-binding name="http" port="${jboss.http.port:8080}"/&gt;
    &lt;socket-binding name="https" port="${jboss.https.port:8443}"/&gt;
    &lt;socket-binding name="txn-recovery-environment" port="4712"/&gt;
    &lt;socket-binding name="txn-status-manager" port="4713"/&gt;
    &lt;outbound-socket-binding name="mail-smtp"&gt;
        &lt;remote-destination host="localhost" port="25"/&gt;
    &lt;/outbound-socket-binding&gt;
&lt;/socket-binding-group&gt;</pre><h5 id="managed_domain">Managed Domain</h5><p>
					When running in a managed domain, all socket binding groups are defined in the <code class="literal">domain.xml</code> file. There are five predefined socket binding groups:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">standard-sockets</code>
						</li><li class="listitem">
							<code class="literal">ha-sockets</code>
						</li><li class="listitem">
							<code class="literal">full-sockets</code>
						</li><li class="listitem">
							<code class="literal">full-ha-sockets</code>
						</li><li class="listitem">
							<code class="literal">load-balancer-sockets</code>
						</li></ul></div><p>
					Each socket binding group specifies socket bindings for the technologies used by its corresponding profile. For example, the <code class="literal">full-ha-sockets</code> socket binding group defines several <code class="literal">jgroups</code> socket bindings, which are used by the <span class="emphasis"><em>full-ha</em></span> profile for high availability.
				</p><pre class="programlisting language-xml">&lt;socket-binding-groups&gt;
  &lt;socket-binding-group name="standard-sockets" default-interface="public"&gt;
    &lt;!-- Needed for server groups using the 'default' profile  --&gt;
    &lt;socket-binding name="ajp" port="${jboss.ajp.port:8009}"/&gt;
    &lt;socket-binding name="http" port="${jboss.http.port:8080}"/&gt;
    &lt;socket-binding name="https" port="${jboss.https.port:8443}"/&gt;
    &lt;socket-binding name="txn-recovery-environment" port="4712"/&gt;
    &lt;socket-binding name="txn-status-manager" port="4713"/&gt;
    &lt;outbound-socket-binding name="mail-smtp"&gt;
      &lt;remote-destination host="localhost" port="25"/&gt;
    &lt;/outbound-socket-binding&gt;
  &lt;/socket-binding-group&gt;
  &lt;socket-binding-group name="ha-sockets" default-interface="public"&gt;
    &lt;!-- Needed for server groups using the 'ha' profile  --&gt;
    ...
  &lt;/socket-binding-group&gt;
  &lt;socket-binding-group name="full-sockets" default-interface="public"&gt;
    &lt;!-- Needed for server groups using the 'full' profile  --&gt;
    ...
  &lt;/socket-binding-group&gt;
  &lt;socket-binding-group name="full-ha-sockets" default-interface="public"&gt;
    &lt;!-- Needed for server groups using the 'full-ha' profile  --&gt;
    &lt;socket-binding name="ajp" port="${jboss.ajp.port:8009}"/&gt;
    &lt;socket-binding name="http" port="${jboss.http.port:8080}"/&gt;
    &lt;socket-binding name="https" port="${jboss.https.port:8443}"/&gt;
    &lt;socket-binding name="iiop" interface="unsecure" port="3528"/&gt;
    &lt;socket-binding name="iiop-ssl" interface="unsecure" port="3529"/&gt;
    &lt;socket-binding name="jgroups-mping" interface="private" port="0" multicast-address="${jboss.default.multicast.address:230.0.0.4}" multicast-port="45700"/&gt;
    &lt;socket-binding name="jgroups-tcp" interface="private" port="7600"/&gt;
    &lt;socket-binding name="jgroups-udp" interface="private" port="55200" multicast-address="${jboss.default.multicast.address:230.0.0.4}" multicast-port="45688"/&gt;
    &lt;socket-binding name="modcluster" port="0" multicast-address="224.0.1.105" multicast-port="23364"/&gt;
    &lt;socket-binding name="txn-recovery-environment" port="4712"/&gt;
    &lt;socket-binding name="txn-status-manager" port="4713"/&gt;
    &lt;outbound-socket-binding name="mail-smtp"&gt;
      &lt;remote-destination host="localhost" port="25"/&gt;
    &lt;/outbound-socket-binding&gt;
  &lt;/socket-binding-group&gt;
  &lt;socket-binding-group name="load-balancer-sockets" default-interface="public"&gt;
    &lt;!-- Needed for server groups using the 'load-balancer' profile  --&gt;
    ...
  &lt;/socket-binding-group&gt;
&lt;/socket-binding-groups&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The socket configuration for the management interfaces is defined in the domain controller’s <code class="literal">host.xml</code> file.
					</p></div></div></section><section class="section" id="configuring_socket_bindings"><div class="titlepage"><div><div><h3 class="title">4.2.3. Configuring Socket Bindings</h3></div></div></div><p>
					When defining a socket binding, you can configure the <code class="literal">port</code> and <code class="literal">interface</code> attributes, as well as multicast settings such as <code class="literal">multicast-address</code> and <code class="literal">multicast-port</code>. For details on all available socket bindings attributes, see the <a class="link" href="#reference_of_socket_binding_attributes" title="A.8. Socket Binding Attributes">Socket Binding Attributes</a> section.
				</p><p>
					Socket bindings can be configured using the management console or the management CLI. The following steps go through adding a socket binding group, adding a socket binding, and configuring socket binding settings using the management CLI.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a new socket binding group. Note that this step cannot be performed when running as a standalone server.
						</p><pre class="screen">/socket-binding-group=new-sockets:add(default-interface=public)</pre></li><li class="listitem"><p class="simpara">
							Add a socket binding.
						</p><pre class="screen">/socket-binding-group=new-sockets/socket-binding=new-socket-binding:add(port=1234)</pre></li><li class="listitem"><p class="simpara">
							Change the socket binding to use an interface other than the default, which is set by the socket binding group.
						</p><pre class="screen">/socket-binding-group=new-sockets/socket-binding=new-socket-binding:write-attribute(name=interface,value=unsecure)</pre></li></ol></div><p>
					The following example shows how the XML configuration may look after the above steps have been completed.
				</p><pre class="programlisting language-xml">&lt;socket-binding-groups&gt;
    ...
    &lt;socket-binding-group name="new-sockets" default-interface="public"&gt;
        &lt;socket-binding name="new-socket-binding" interface="unsecure" port="1234"/&gt;
    &lt;/socket-binding-group&gt;
&lt;/socket-binding-groups&gt;</pre></section><section class="section" id="Viewing_socket_binding_and_open_ports_for_a_server"><div class="titlepage"><div><div><h3 class="title">4.2.4. Viewing Socket Bindings and Open Ports for a Server</h3></div></div></div><p>
					You can view the socket binding name and the open ports for a server from the management console. The information is visible when the server is in the following states:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">running</code>
						</li><li class="listitem">
							<code class="literal">reload-required</code>
						</li><li class="listitem">
							<code class="literal">restart-required</code>
						</li></ul></div><p>
					To view the socket bindings and the open ports for a server:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Access the management console and navigate to <span class="strong strong"><strong>Runtime</strong></span>.
						</li><li class="listitem">
							Click the server to view the socket binding name and the open ports in the right pane.
						</li></ol></div></section><section class="section" id="port_offsets"><div class="titlepage"><div><div><h3 class="title">4.2.5. Port Offsets</h3></div></div></div><p>
					A port offset is a numeric offset value added to all port values specified in the socket binding group for that server. This allows the server to inherit the port values defined in its socket binding group, with an offset to ensure that it does not conflict with any other servers on the same host. For instance, if the HTTP port of the socket binding group is <code class="literal">8080</code>, and a server uses a port offset of <code class="literal">100</code>, then its HTTP port is <code class="literal">8180</code>.
				</p><p>
					Below is an example of setting a port offset of <code class="literal">250</code> for a server in a managed domain using the management CLI.
				</p><pre class="screen">/host=master/server-config=server-two/:write-attribute(name=socket-binding-port-offset,value=250)</pre><p>
					Port offsets can be used for servers in a managed domain and for running multiple standalone servers on the same host.
				</p><p>
					You can pass in a port offset when starting a standalone server using the <code class="literal">jboss.socket.binding.port-offset</code> property.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh -Djboss.socket.binding.port-offset=100</pre></section></section><section class="section" id="ipv6_addresses"><div class="titlepage"><div><div><h2 class="title">4.3. IPv6 Addresses</h2></div></div></div><p>
				By default, JBoss EAP is configured to run using IPv4 addresses. The steps below show how to configure JBoss EAP to run using IPv6 addresses.
			</p><h4 id="configure_the_jvm_stack_for_ipv6_addresses">Configure the JVM Stack for IPv6 Addresses</h4><p>
				Update the startup configuration to prefer IPv6 addresses.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open the startup configuration file.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								When running as a standalone server, edit the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> file (or <code class="literal">standalone.conf.bat</code> for Windows Server).
							</li><li class="listitem">
								When running in a managed domain, edit the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> file (or <code class="literal">domain.conf.bat</code> for Windows Server).
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Set the <code class="literal">java.net.preferIPv4Stack</code> property to <code class="literal">false</code>.
					</p><pre class="screen">-Djava.net.preferIPv4Stack=false</pre></li><li class="listitem"><p class="simpara">
						Append the <code class="literal">java.net.preferIPv6Addresses</code> property and set it to <code class="literal">true</code>.
					</p><pre class="screen">-Djava.net.preferIPv6Addresses=true</pre></li></ol></div><p>
				The following example shows how the JVM options in the startup configuration file may look after making the above changes.
			</p><pre class="programlisting language-bash"># Specify options to pass to the Java VM.
#
if [ "x$JAVA_OPTS" = "x" ]; then
   JAVA_OPTS="-Xms1303m -Xmx1303m -Djava.net.preferIPv4Stack=false"
   JAVA_OPTS="$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS -Djava.awt.headless=true"
   JAVA_OPTS="$JAVA_OPTS -Djava.net.preferIPv6Addresses=true"
else</pre><h4 id="update_interface_declarations_for_ipv6_addresses">Update Interface Declarations for IPv6 Addresses</h4><p>
				The default interface values in the configuration can be changed to IPv6 addresses. For example, the below management CLI command sets the <code class="literal">management</code> interface to the IPv6 loopback address (<code class="literal">::1</code>).
			</p><pre class="screen">/interface=management:write-attribute(name=inet-address,value="${jboss.bind.address.management:[::1]}")</pre><p>
				The following example shows how the XML configuration may look after running the above command.
			</p><pre class="programlisting language-xml">&lt;interfaces&gt;
    &lt;interface name="management"&gt;
        &lt;inet-address value="${jboss.bind.address.management:[::1]}"/&gt;
    &lt;/interface&gt;
    ....
&lt;/interfaces&gt;</pre></section></section><section class="chapter" id="jboss_eap_security"><div class="titlepage"><div><div><h1 class="title">Chapter 5. JBoss EAP Security</h1></div></div></div><p>
			JBoss EAP offers the ability to configure security for its own interfaces and services as well as provide security for applications that are running on it.
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					See the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/security_architecture/" title="This content is not included in Mimir."><span class="emphasis"><em>Security Architecture</em></span></a> guide for an overview of general security concepts as well as JBoss EAP-specific security concepts.
				</li><li class="listitem">
					See <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/" title="This content is not included in Mimir."><span class="emphasis"><em>How to Configure Server Security</em></span></a> for information on securing JBoss EAP itself.
				</li><li class="listitem">
					See <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_identity_management/" title="This content is not included in Mimir."><span class="emphasis"><em>How to Configure Identity Management</em></span></a> for information on providing security for applications deployed to JBoss EAP.
				</li><li class="listitem">
					See <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_set_up_sso_with_kerberos/" title="This content is not included in Mimir."><span class="emphasis"><em>How to Set Up SSO with Kerberos</em></span></a> for information on configuring single sign-on for JBoss EAP using Kerberos.
				</li><li class="listitem">
					See <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_set_up_sso_with_saml_v2/" title="This content is not included in Mimir."><span class="emphasis"><em>How To Set Up SSO with SAML v2</em></span></a> for information on configuring single sign-on for JBoss EAP using SAML v2.
				</li></ul></div></section><section class="chapter" id="overview_of_class_loading_and_modules"><div class="titlepage"><div><div><h1 class="title">Chapter 6. JBoss EAP Class Loading</h1></div></div></div><p>
			JBoss EAP uses a modular class loading system for controlling the class paths of deployed applications. This system provides more flexibility and control than the traditional system of hierarchical class loaders. Developers have fine-grained control of the classes available to their applications, and can configure a deployment to ignore classes provided by the application server in favor of their own.
		</p><p>
			The modular class loader separates all Java classes into logical groups called modules. Each module can define dependencies on other modules in order to have the classes from that module added to its own class path. Because each deployed JAR and WAR file is treated as a module, developers can control the contents of their application’s class path by adding module configuration to their application.
		</p><section class="section" id="modules"><div class="titlepage"><div><div><h2 class="title">6.1. Modules</h2></div></div></div><p>
				A module is a logical grouping of classes used for class loading and dependency management. JBoss EAP identifies two different types of modules: <span class="emphasis"><em>static</em></span> and <span class="emphasis"><em>dynamic</em></span>. The main difference between the two is how they are packaged.
			</p><h4 id="static_modules">Static Modules</h4><p>
				Static modules are defined in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory of the application server. Each module exists as a subdirectory, for example, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/com/mysql/</code>. Each module directory then contains a slot subdirectory, which defaults to <code class="literal">main</code> and contains the <code class="literal">module.xml</code> configuration file and any required JAR files. All the application server-provided APIs are provided as static modules, including the Java EE APIs as well as other APIs.
			</p><div class="formalpara"><p class="title"><strong>Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</strong></p><p>
					
<pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre>

				</p></div><p>
				The module name, <code class="literal">com.mysql</code>, must match the directory structure for the module, excluding the slot name, <code class="literal">main</code>.
			</p><p>
				Creating custom static modules can be useful if many applications are deployed on the same server that use the same third-party libraries. Instead of bundling those libraries with each application, a module containing these libraries can be created and installed by an administrator. The applications can then declare an explicit dependency on the custom static modules.
			</p><p>
				The modules provided in JBoss EAP distributions are located in the <code class="literal">system</code> directory within the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code> directory. This keeps them separate from any modules provided by third parties. Any Red Hat provided products that layer on top of JBoss EAP also install their modules within the <code class="literal">system</code> directory.
			</p><p>
				Users must ensure that custom modules are installed into the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code> directory, using one directory per module. This ensures that custom versions of modules that already exist in the <code class="literal">system</code> directory are loaded instead of the shipped versions. In this way, user-provided modules will take precedence over system modules.
			</p><p>
				If you use the <code class="literal">JBOSS_MODULEPATH</code> environment variable to change the locations in which JBoss EAP searches for modules, then the product will look for a <code class="literal">system</code> subdirectory structure within one of the locations specified. A <code class="literal">system</code> structure must exist somewhere in the locations specified with <code class="literal">JBOSS_MODULEPATH</code>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Starting with JBoss EAP 7.1, the use of absolute paths in the <code class="literal">resource-root path</code> element of the <code class="literal">module.xml</code> file is also supported. This way, your resource libraries can be made accessible without needing to move them to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code> directory.
				</p><div class="formalpara"><p class="title"><strong>Example: Absolute Path in the <code class="literal">module.xml</code> File</strong></p><p>
						
<pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="oracle.jdbc"&gt;
    &lt;resources&gt;
        &lt;resource-root path="/home/redhat/test.jar"/&gt;
    &lt;/resources&gt;
&lt;/module&gt;</pre>

					</p></div></div></div><h4 id="dynamic_modules">Dynamic Modules</h4><p>
				Dynamic modules are created and loaded by the application server for each JAR or WAR deployment, or for each subdeployment in an EAR. The name of a dynamic module is derived from the name of the deployed archive. Because deployments are loaded as modules, they can configure dependencies and be used as dependencies by other deployments.
			</p><p>
				Modules are only loaded when required. This usually only occurs when an application is deployed that has explicit or implicit dependencies.
			</p><h4 id="predefined_modules">Predefined Modules</h4><p>
				Starting with JBoss EAP 7.2, a set of predefined modules is available to you when you use the default module loader. The special module, <code class="literal">org.jboss.modules</code>, which includes all of the JBoss Modules API, is always available and is provided by JBoss Modules. The standard Java Platform Module System (JPMS) modules, which are provided in Java 9 and later, are also available by their standard names. When using JDK 8, the JDK 9 modules are emulated by JBoss Modules.
			</p><p>
				For a list of platform modules available on Java 9 or later, see the appropriate JDK documentation.
			</p><p>
				For the list the platform modules provided for Java 8, see <a class="link" href="#platform_modules_provided_for_java_8" title="A.42. Platform Modules Provided for Java 8">Platform Modules Provided for Java 8</a>.
			</p></section><section class="section" id="module_dependencies"><div class="titlepage"><div><div><h2 class="title">6.2. Module Dependencies</h2></div></div></div><p>
				A module dependency is a declaration that one module requires the classes of one or more other modules in order to function. When JBoss EAP loads a module, the modular class loader parses the dependencies of that module and adds the classes from each dependency to its class path. If a specified dependency cannot be found, the module will fail to load.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					See the <a class="link" href="#modules" title="6.1. Modules">Modules</a> section for complete details about modules and the modular class loading system.
				</p></div></div><p>
				Deployed applications, such as a JAR or WAR, are loaded as dynamic modules and make use of dependencies to access the APIs provided by JBoss EAP.
			</p><p>
				There are two types of dependencies: <span class="emphasis"><em>explicit</em></span> and <span class="emphasis"><em>implicit</em></span>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Explicit Dependencies</span></dt><dd>
							Explicit dependencies are declared by the developer in a configuration file. A static module can declare dependencies in its <code class="literal">module.xml</code> file. A dynamic module can declare dependencies in the deployment’s <code class="literal">MANIFEST.MF</code> or <code class="literal">jboss-deployment-structure.xml</code> deployment descriptor.
						</dd><dt><span class="term">Implicit Dependencies </span></dt><dd><p class="simpara">
							Implicit dependencies are added automatically by JBoss EAP when certain conditions or meta-data are found in a deployment. The Java EE APIs supplied with JBoss EAP are examples of modules that are added by detection of implicit dependencies in deployments.
						</p><p class="simpara">
							Deployments can also be configured to exclude specific implicit dependencies by using the <code class="literal">jboss-deployment-structure.xml</code> deployment descriptor file. This can be useful when an application bundles a specific version of a library that JBoss EAP will attempt to add as an implicit dependency.
						</p></dd></dl></div><h4 id="optional_dependencies">Optional Dependencies</h4><p>
				Explicit dependencies can be specified as optional. Failure to load an optional dependency will not cause a module to fail to load. However, if the dependency becomes available later it will <span class="emphasis"><em>not</em></span> be added to the module’s class path. Dependencies must be available when the module is loaded.
			</p><h4 id="export_a_dependency">Export a Dependency</h4><p>
				A module’s class path contains only its own classes and that of its immediate dependencies. A module is not able to access the classes of the dependencies of one of its dependencies. However, a module can specify that an explicit dependency is exported. An exported dependency is provided to any module that depends on the module that exports it.
			</p><p>
				For example, Module <span class="emphasis"><em>A</em></span> depends on Module <span class="emphasis"><em>B</em></span>, and Module <span class="emphasis"><em>B</em></span> depends on Module <span class="emphasis"><em>C</em></span>. Module <span class="emphasis"><em>A</em></span> can access the classes of Module <span class="emphasis"><em>B</em></span>, and Module <span class="emphasis"><em>B</em></span> can access the classes of Module <span class="emphasis"><em>C</em></span>. Module <span class="emphasis"><em>A</em></span> cannot access the classes of Module <span class="emphasis"><em>C</em></span> unless:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Module <span class="emphasis"><em>A</em></span> declares an explicit dependency on Module <span class="emphasis"><em>C</em></span>, or
					</li><li class="listitem">
						Module <span class="emphasis"><em>B</em></span> exports its dependency on Module <span class="emphasis"><em>C</em></span>.
					</li></ul></div><h4 id="global_modules">Global Modules</h4><p>
				A global module is a module that JBoss EAP provides as a dependency to every application. Any module can be made global by adding it to JBoss EAP’s list of global modules. It does not require changes to the module.
			</p><p>
				See the <a class="link" href="#add_a_global_module" title="6.5. Define Global Modules">Define Global Modules</a> section for details.
			</p></section><section class="section" id="create_a_custom_module"><div class="titlepage"><div><div><h2 class="title">6.3. Create a Custom Module</h2></div></div></div><p>
				Custom static modules can be added to make resources available for deployments running on JBoss EAP. You can create the module <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">manually</a> or by <a class="link" href="#create_module_cli" title="Create a Custom Module Using the Management CLI">using the management CLI</a>.
			</p><p>
				Once you create the module, you must <a class="link" href="#create_module_add_dependency" title="Add the Module as a Dependency">add the module as a dependency</a> if its resources need to be made available to applications.
			</p><h4 id="create_module_manually">Create a Custom Module Manually</h4><p>
				You can create a custom module manually using the following steps.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the appropriate directory structure in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory.
					</p><div class="formalpara"><p class="title"><strong>Example: Create MySQL JDBC Driver Directory Structure</strong></p><p>
							
<pre class="screen">$ cd <span class="emphasis"><em>EAP_HOME</em></span>/modules/
$ mkdir -p com/mysql/main</pre>

						</p></div></li><li class="listitem"><p class="simpara">
						Copy the JAR files or other necessary resources to the <code class="literal">main/</code> subdirectory.
					</p><div class="formalpara"><p class="title"><strong>Example: Copy MySQL JDBC Driver JAR</strong></p><p>
							
<pre class="screen">$ cp <span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar <span class="emphasis"><em>EAP_HOME</em></span>/modules/com/mysql/main/</pre>

						</p></div></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">module.xml</code> file in the <code class="literal">main/</code> subdirectory, specifying the appropriate resources and dependencies in the file.
					</p><div class="formalpara"><p class="title"><strong>Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</strong></p><p>
							
<pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre>

						</p></div></li></ol></div><h4 id="create_module_cli">Create a Custom Module Using the Management CLI</h4><p>
				You can create a custom module using the <code class="literal">module add</code> management CLI command.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
				</p><p>
					Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Start the JBoss EAP server.
					</li><li class="listitem"><p class="simpara">
						Launch the management CLI.
					</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">module add</code> management CLI command to add the new core module.
					</p><pre class="screen">module add --name=<span class="emphasis"><em>MODULE_NAME</em></span> --resources=<span class="emphasis"><em>PATH_TO_RESOURCE</em></span> --dependencies=<span class="emphasis"><em>DEPENDENCIES</em></span></pre><div class="formalpara"><p class="title"><strong>Example: Create a MySQL Module</strong></p><p>
							
<pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar --dependencies=javax.api,javax.transaction.api</pre>

						</p></div><p class="simpara">
						See <a class="link" href="#module_add_arguments" title="A.10. Module Command Arguments">Module Command Arguments</a> for the available arguments to customize this command, such as providing your own <code class="literal">module.xml</code> file, using an external module directory, or specifying an alternative slot for the module. You can also execute <code class="literal">module --help</code> for more details on using this command to add and remove modules.
					</p></li></ol></div><h4 id="create_module_add_dependency">Add the Module as a Dependency</h4><p>
				In order for your application to be able to access this module’s resources, you must add the module as a dependency.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						See the <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#add_an_explicit_module_dependency_to_a_deployment">Add an Explicit Module Dependency to a Deployment</a> section of the JBoss EAP <span class="emphasis"><em>Development Guide</em></span> for adding application-specific dependencies using deployment descriptors.
					</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						See the <a class="link" href="#add_a_global_module" title="6.5. Define Global Modules">Define Global Modules</a> section for instructions on adding modules as dependencies to all applications.
					</li></ul></div><p>
				As an example, the following steps add a JAR file containing several properties files as a module and define a global module, so that an application can then load these properties.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add the JAR file as a core module.
					</p><pre class="screen">module add --name=myprops --resources=<span class="emphasis"><em>/path/to</em></span>/properties.jar</pre></li><li class="listitem"><p class="simpara">
						Define this module as a global module so that it is made available to all deployments.
					</p><pre class="screen">/subsystem=ee:list-add(name=global-modules,value={name=myprops})</pre></li><li class="listitem"><p class="simpara">
						The application can then retrieve the properties from one of the properties files contained within the JAR.
					</p><pre class="programlisting language-java">Thread.currentThread().getContextClassLoader().getResource("my.properties");</pre></li></ol></div></section><section class="section" id="remove_a_custom_module"><div class="titlepage"><div><div><h2 class="title">6.4. Remove a Custom Module</h2></div></div></div><p>
				Custom static modules can be removed <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">manually</a> or by <a class="link" href="#remove_module_cli" title="Remove a Custom Module Using the Management CLI">using the management CLI</a>.
			</p><h4 id="remove_module_manually">Remove a Custom Module Manually</h4><p>
				Before manually removing a module, ensure that it is not required by deployed applications or elsewhere in the server configuration, such as by a datasource.
			</p><p>
				To remove a custom module, remove the module’s directory under <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code>, which includes its <code class="literal">module.xml</code> file and associated JAR files or other resources. For example, remove the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/com/mysql/main/</code> directory to remove a custom MySQL JDBC driver module in the <code class="literal">main</code> slot.
			</p><h4 id="remove_module_cli">Remove a Custom Module Using the Management CLI</h4><p>
				You can remove a custom module using the <code class="literal">module remove</code> management CLI command.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
				</p><p>
					Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Start the JBoss EAP server.
					</li><li class="listitem"><p class="simpara">
						Launch the management CLI.
					</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">module remove</code> management CLI command to remove the custom module.
					</p><pre class="screen">module remove --name=<span class="emphasis"><em>MODULE_NAME</em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Use the <code class="literal">--slot</code> argument if the module to remove is in a slot other than <code class="literal">main</code>.
							</li></ul></div><div class="formalpara"><p class="title"><strong>Example: Remove a MySQL Module</strong></p><p>
							
<pre class="screen">module remove --name=com.mysql</pre>

						</p></div></li></ol></div><p>
				Execute <code class="literal">module --help</code> for more details on using this command to add and remove modules.
			</p></section><section class="section" id="add_a_global_module"><div class="titlepage"><div><div><h2 class="title">6.5. Define Global Modules</h2></div></div></div><p>
				A list of global modules can be defined for JBoss EAP, which will add the modules as dependencies to all deployments.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You must know the name of the modules that are to be configured as global modules. For the complete listing of the included modules and whether they are supported, see <a class="link mimir-link-warn" href="https://access.redhat.com/articles/2158031" title="This content is not included in Mimir.">Red Hat JBoss Enterprise Application Platform 7 Included Modules</a> on the Red Hat Customer Portal. See the <a class="link" href="#dynamic_module_naming" title="6.8. Dynamic Module Naming Conventions">Dynamic Module Naming</a> section for naming conventions for modules in deployments.
				</p></div></div><p>
				Use the following management CLI command to define the list of global modules.
			</p><pre class="screen">/subsystem=ee:write-attribute(name=global-modules,value=[{name=<span class="emphasis"><em>MODULE_NAME_1</em></span>},{name=<span class="emphasis"><em>MODULE_NAME_2</em></span>}]</pre><p>
				Use the following management CLI command to add a single module to the list of existing global modules.
			</p><pre class="screen">/subsystem=ee:list-add(name=global-modules,value={name=<span class="emphasis"><em>MODULE_NAME</em></span>})</pre><p>
				Global modules can also be added and removed using the management console by navigating to the <span class="strong strong"><strong>EE</strong></span> subsystem from the <span class="strong strong"><strong>Configuration</strong></span> tab and selecting the <span class="strong strong"><strong>Global Modules</strong></span> section.
			</p><p>
				If you want a global module to be accessible by external dependencies, you must explicitly make it available. The following options are available to make the services in a global module available externally.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Add <code class="literal">services="import"</code> to the module in your <code class="literal">jboss-deployment-structure.xml</code>
					</li><li class="listitem"><p class="simpara">
						Add <code class="literal">services="true"</code> to the global module definition.
					</p><pre class="screen">/subsystem=ee:write-attribute(name=global-modules,value=[{name=module1,services=true}]</pre><p class="simpara">
						Or, when adding multiple modules:
					</p><pre class="screen">/subsystem=ee:write-attribute(name=global-modules,value=[{name=module1,services=true},{name=module2,services=false}]</pre><p class="simpara">
						To add a new module to an existing list:
					</p><pre class="screen">/subsystem=ee:list-add(name=global-modules,value={name=module1,services=true})</pre></li><li class="listitem">
						When defining the global module using the management console, make sure that the value of the <span class="emphasis"><em>Services</em></span> property is <code class="literal">On</code>.
					</li></ul></div></section><section class="section" id="configure_subdeployment_isolation"><div class="titlepage"><div><div><h2 class="title">6.6. Configure Subdeployment Isolation</h2></div></div></div><p>
				Each subdeployment in an Enterprise Archive (EAR) is a dynamic module with its own class loader. Subdeployments always have an implicit dependency on the parent module, which gives them access to classes in <code class="literal"><span class="emphasis"><em>EAR</em></span>/lib</code>. By default, a subdeployment can access the resources of other subdeployments within that EAR.
			</p><p>
				If you do not want a subdeployment to be allowed to access classes belonging to other subdeployments, then strict subdeployment isolation can be enabled in JBoss EAP. This setting will affect all deployments.
			</p><h4 id="enable_subdeployment_module_isolation_for_all_deployments">Enable Subdeployment Module Isolation for All Deployments</h4><p>
				Subdeployment isolation can be enabled or disabled using the management console or the management CLI from the <code class="literal">ee</code> subsystem. By default, subdeployment isolation is set to false, which allows the subdeployments to access resources of other subdeployments within an EAR deployment.
			</p><p>
				Use the following management CLI to enable EAR subdeployment isolation.
			</p><pre class="screen">/subsystem=ee:write-attribute(name=ear-subdeployments-isolated,value=true)</pre><p>
				Subdeployments in an EAR will no longer be able to access resources from other subdeployments.
			</p></section><section class="section" id="define_an_external_jboss_eap_module_directory"><div class="titlepage"><div><div><h2 class="title">6.7. Define an External JBoss EAP Module Directory</h2></div></div></div><p>
				The default directory for JBoss EAP modules is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code>. You can specify a different directory for JBoss EAP modules using the <code class="literal">JBOSS_MODULEPATH</code> variable. Follow the below steps to set this variable in the JBoss EAP startup configuration file.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can also set <code class="literal">JBOSS_MODULEPATH</code> as an environment variable instead of setting this in the JBoss EAP startup configuration files.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the startup configuration file.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								When running as a standalone server, edit the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> file, or <code class="literal">standalone.conf.bat</code> for Windows Server.
							</li><li class="listitem">
								When running in a managed domain, edit the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> file, or <code class="literal">domain.conf.bat</code> for Windows Server.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Set the <code class="literal">JBOSS_MODULEPATH</code> variable, for example:
					</p><pre class="screen">JBOSS_MODULEPATH="<span class="emphasis"><em>/path/to</em></span>/modules/directory/"</pre><p class="simpara">
						To specify a list of directories use a colon (<code class="literal">:</code>) to delimit the list of directories.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							For Windows Server, use the following syntax to set the <code class="literal">JBOSS_MODULEPATH</code> variable:
						</p><pre class="screen">set "JBOSS_MODULEPATH <span class="emphasis"><em>/path/to</em></span>/modules/directory/"</pre><p>
							To specify a list of directories use a semicolon (<code class="literal">;</code>) to delimit the list of directories.
						</p></div></div></li></ol></div></section><section class="section" id="dynamic_module_naming"><div class="titlepage"><div><div><h2 class="title">6.8. Dynamic Module Naming Conventions</h2></div></div></div><p>
				JBoss EAP loads all deployments as modules, which are named according to the following conventions.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Deployments of WAR and JAR files are named using the following format:
					</p><pre class="screen">deployment.<span class="emphasis"><em>DEPLOYMENT_NAME</em></span></pre><p class="simpara">
						For example, <code class="literal">inventory.war</code> and <code class="literal">store.jar</code> will have the module names of <code class="literal">deployment.inventory.war</code> and <code class="literal">deployment.store.jar</code> respectively.
					</p></li><li class="listitem"><p class="simpara">
						Subdeployments within an Enterprise Archive (EAR) are named using the following format:
					</p><pre class="screen">deployment.<span class="emphasis"><em>EAR_NAME</em></span>.<span class="emphasis"><em>SUBDEPLOYMENT_NAME</em></span></pre><p class="simpara">
						For example, the subdeployment of <code class="literal">reports.war</code> within the enterprise archive <code class="literal">accounts.ear</code> will have the module name of <code class="literal">deployment.accounts.ear.reports.war</code>.
					</p></li></ul></div></section></section><section class="chapter" id="deploying_applications"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Deploying Applications</h1></div></div></div><p>
			JBoss EAP features a range of application deployment and configuration options to cater to both administrators and developers. For administrators, the <a class="link" href="#deploying_apps_using_console" title="7.2. Deploying Applications Using the Management Console">management console</a> and the <a class="link" href="#deploying_apps_using_cli" title="7.1. Deploying Applications Using the Management CLI">management CLI</a> offer ideal graphical and command-line interfaces to manage application deployment in a production environment. For developers, the range of application deployment testing options include a configurable file system <a class="link" href="#deploying_apps_using_scanner" title="7.3. Deploying Applications Using the Deployment Scanner">deployment scanner</a>, the <a class="link" href="#deploying_apps_using_http_api" title="7.5. Deploying Applications Using the HTTP API">HTTP API</a>, an IDE such as Red Hat CodeReady Studio, and <a class="link" href="#deploying_apps_using_maven" title="7.4. Deploying Applications Using Maven">Maven</a>.
		</p><p>
			When deploying applications, you may want to enable validation for deployment descriptors by setting the <code class="literal">org.jboss.metadata.parser.validate</code> system property to <code class="literal">true</code>. This can be done one of the following ways:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					While starting the server.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh -Dorg.jboss.metadata.parser.validate=true</pre></li><li class="listitem"><p class="simpara">
					By adding it to the server configuration with the following management CLI command.
				</p><pre class="screen">/system-property=org.jboss.metadata.parser.validate:add(value=true)</pre></li></ul></div><section class="section" id="deploying_apps_using_cli"><div class="titlepage"><div><div><h2 class="title">7.1. Deploying Applications Using the Management CLI</h2></div></div></div><p>
				Deploying applications using the management CLI gives you the benefit of a single command-line interface with the ability to create and run deployment scripts. You can use this scripting ability to configure specific application deployment and management scenarios. You can manage the deployments for a single server when running as a standalone server, or an entire network of servers when running in a managed domain.
			</p><section class="section" id="deploy_app_standalone_cli"><div class="titlepage"><div><div><h3 class="title">7.1.1. Deploy an Application to a Standalone Server Using the Management CLI</h3></div></div></div><h5 id="deploy_an_application">Deploy an Application</h5><p>
					From the management CLI, use the <code class="literal">deployment deploy-file</code> command and specify the path to the application deployment.
				</p><pre class="screen">deployment deploy-file <span class="emphasis"><em>/path/to</em></span>/test-application.war</pre><p>
					A successful deployment does not produce any output to the management CLI, but the server log displays deployment messages.
				</p><pre class="screen">WFLYSRV0027: Starting deployment of "test-application.war" (runtime-name: "test-application.war")
WFLYUT0021: Registered web context: /test-application
WFLYSRV0010: Deployed "test-application.war" (runtime-name : "test-application.war")</pre><p>
					Similarly, you can use the following <code class="literal">deployment</code> commands:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Use the <code class="literal">deployment deploy-cli-archive</code> to deploy the content from a <code class="literal">.cli</code> archive file. A CLI deployment archive is a <code class="literal">JAR</code> file with the <code class="literal">.cli</code> extension. It contains application archives that should be deployed and the CLI script files, <code class="literal">deploy.scr</code> and <code class="literal">undeploy.scr</code>, containing commands and operations. One script file, <code class="literal">deploy.scr</code>, contains the commands and operations that deploy the application archives and set up the environment; the other script file, <code class="literal">undeploy.scr</code>, contains the commands to undeploy the application archives and clean up the environment.
						</li><li class="listitem">
							Use the <code class="literal">deployment deploy-url</code> to deploy the content referenced by a URL.
						</li></ul></div><p>
					You can also enable the <a class="link" href="#disable_app_domain_cli" title="Disable an Application">disabled</a> applications using the <a class="link" href="#enable_app_standalone_cli" title="Enable an Application"><code class="literal">deployment enable</code> command</a>.
				</p><h5 id="undeploy_an_application">Undeploy an Application</h5><p>
					From the management CLI, use the <code class="literal">deployment undeploy</code> command and specify the deployment name. This will delete the deployment content from the repository. See <a class="link" href="#disable_app_standalone_cli" title="Disable an Application">Disable an Application</a> for keeping the deployment content when undeploying.
				</p><pre class="screen">deployment undeploy test-application.war</pre><p>
					A successful undeployment does not produce any output to the management CLI, but the server log displays undeployment messages.
				</p><pre class="screen">WFLYUT0022: Unregistered web context: /test-application
WFLYSRV0028: Stopped deployment test-application.war (runtime-name: test-application.war) in 62ms
WFLYSRV0009: Undeployed "test-application.war" (runtime-name: "test-application.war")</pre><p>
					Similarly, you can use the <code class="literal">deployment undeploy-cli-archive</code> to undeploy the content from a <code class="literal">.cli</code> archive file. You can also undeploy all deployments using a wildcard (<code class="literal">*</code>).
				</p><pre class="screen">deployment undeploy *</pre><h5 id="disable_app_standalone_cli">Disable an Application</h5><p>
					Disable a deployed application without removing the deployment content from the repository.
				</p><pre class="screen">deployment disable test-application.war</pre><p>
					You can use the <code class="literal">deployment disable-all</code> command to disable all the deployments.
				</p><pre class="screen">deployment disable-all</pre><h5 id="enable_app_standalone_cli">Enable an Application</h5><p>
					Enable a disabled deployed application.
				</p><pre class="screen">deployment enable test-application.war</pre><p>
					You can use the <code class="literal">deployment enable-all</code> command to enable all the deployments.
				</p><pre class="screen">deployment enable-all</pre><h5 id="list_deployments">List Deployments</h5><p>
					From the management CLI, use the <code class="literal">deployment info</code> command to list deployment information.
				</p><pre class="screen">deployment info</pre><p>
					The output will show details about each deployment, such as the runtime name, status, and whether it is enabled.
				</p><pre class="screen">NAME                 RUNTIME-NAME         PERSISTENT ENABLED STATUS
helloworld.war       helloworld.war       true       true    OK
test-application.war test-application.war true       true    OK</pre><p>
					To display deployment information by name:
				</p><pre class="screen">deployment info helloworld.war</pre><p>
					You can also list all the deployments using the <code class="literal">deployment list</code> command.
				</p></section><section class="section" id="deploy_app_managed_domain_cli"><div class="titlepage"><div><div><h3 class="title">7.1.2. Deploy an Application in a Managed Domain Using the Management CLI</h3></div></div></div><h5 id="deploy_an_application_2">Deploy an Application</h5><p>
					From the management CLI, use the <code class="literal">deployment deploy-file</code> command and specify the path to the application deployment. You must also specify the server groups to which the application should be deployed.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To deploy the application to all server groups.
						</p><pre class="screen">deployment deploy-file <span class="emphasis"><em>/path/to</em></span>/test-application.war --all-server-groups</pre></li><li class="listitem"><p class="simpara">
							To deploy the application to specific server groups.
						</p><pre class="screen">deployment deploy-file <span class="emphasis"><em>/path/to</em></span>/test-application.war --server-groups=main-server-group,other-server-group</pre></li></ul></div><p>
					A successful deployment does not produce any output to the management CLI, but the server log displays deployment messages for each affected server.
				</p><pre class="screen">[Server:server-one] WFLYSRV0027: Starting deployment of "test-application.war" (runtime-name: "test-application.war")
[Server:server-one] WFLYUT0021: Registered web context: /test-application
[Server:server-one] WFLYSRV0010: Deployed "test-application.war" (runtime-name : "test-application.war")</pre><p>
					Similarly, you can use the following <code class="literal">deployment</code> commands:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Use the <code class="literal">deployment deploy-cli-archive</code> command to deploy the content from a <code class="literal">.cli</code> archive file. A CLI deployment archive is a <code class="literal">JAR</code> file with the <code class="literal">.cli</code> extension. It contains application archives that should be deployed and the CLI script files, <code class="literal">deploy.scr</code> and <code class="literal">undeploy.scr</code>, containing commands and operations. One script file, <code class="literal">deploy.scr</code>, contains the commands and operations that deploy the application archives and set up the environment; the other script file, <code class="literal">undeploy.scr</code>, contains the commands to undeploy the application archives and clean up the environment.
						</li><li class="listitem">
							Use the <code class="literal">deployment deploy-url</code> command to deploy the content referenced by a URL.
						</li></ul></div><p>
					You can also enable the <a class="link" href="#disable_app_domain_cli" title="Disable an Application">disabled</a> applications using the <a class="link" href="#enable_app_domain_cli" title="Enable an Application"><code class="literal">deployment enable</code> command</a>.
				</p><h5 id="undeploy_an_application_2">Undeploy an Application</h5><p>
					From the management CLI, use the <code class="literal">deployment undeploy</code> command and specify the deployment name. You must also specify the server groups from which the application should be undeployed. See <a class="link" href="#disable_app_domain_cli" title="Disable an Application">Disable an Application</a> for undeploying from specific server groups.
				</p><p>
					Undeploy the application from all server groups with that deployment.
				</p><pre class="screen">deployment undeploy test-application.war --all-relevant-server-groups</pre><p>
					A successful undeployment does not produce any output to the management CLI, but the server log displays undeployment messages for each affected server.
				</p><pre class="screen">[Server:server-one] WFLYUT0022: Unregistered web context: /test-application
[Server:server-one] WFLYSRV0028: Stopped deployment test-application.war (runtime-name: test-application.war) in 74ms
[Server:server-one] WFLYSRV0009: Undeployed "test-application.war" (runtime-name: "test-application.war")</pre><p>
					Similarly, you can use the <code class="literal">deployment undeploy-cli-archive</code> command to undeploy the content from a <code class="literal">.cli</code> archive file. You can also undeploy all deployments using a wildcard (<code class="literal">*</code>).
				</p><pre class="screen">deployment undeploy * --all-relevant-server-groups</pre><h5 id="disable_app_domain_cli">Disable an Application</h5><p>
					Disable a deployed application from specific server groups and retain its content in the repository for other server groups with that deployment.
				</p><pre class="screen">deployment disable test-application.war --server-groups=other-server-group</pre><p>
					You can use the <code class="literal">deployment disable-all</code> command to disable all the deployments.
				</p><pre class="screen">deployment disable-all --server-groups=other-server-group</pre><h5 id="enable_app_domain_cli">Enable an Application</h5><p>
					Enable a disabled deployed application.
				</p><pre class="screen">deployment enable test-application.war</pre><p>
					You can use the <code class="literal">deployment enable-all</code> command to enable all the deployments.
				</p><pre class="screen">deployment enable-all --server-groups=other-server-group</pre><h5 id="list_deployments_2">List Deployments</h5><p>
					From the management CLI, use the <code class="literal">deployment info</code> command to list deployment information. You can list deployment information by deployment name or by server group.
				</p><p>
					To display deployment information by name:
				</p><pre class="screen">deployment info helloworld.war</pre><p>
					The output will list the deployment and its state in each server group.
				</p><pre class="screen">NAME               RUNTIME-NAME
helloworld.war     helloworld.war

SERVER-GROUP       STATE
main-server-group  enabled
other-server-group added</pre><p>
					To display deployment information by server group:
				</p><pre class="screen">deployment info --server-group=other-server-group</pre><p>
					The output will list the deployments and their state for the specified server group.
				</p><pre class="screen">NAME                 RUNTIME-NAME         STATE
helloworld.war       helloworld.war       added
test-application.war test-application.war enabled</pre><p>
					You can also list all deployments in the domain using the <code class="literal">deployment list</code> command.
				</p></section></section><section class="section" id="deploying_apps_using_console"><div class="titlepage"><div><div><h2 class="title">7.2. Deploying Applications Using the Management Console</h2></div></div></div><p>
				Deploying applications using the management console gives you the benefit of a graphical interface that is easy to use. You can see at a glance which applications are deployed to your server or server groups, and you can enable, disable or remove applications from the content repository as required.
			</p><section class="section" id="deploy_app_standalone_console"><div class="titlepage"><div><div><h3 class="title">7.2.1. Deploy an Application to a Standalone Server Using the Management Console</h3></div></div></div><p>
					Deployments can be viewed and managed from the <span class="strong strong"><strong>Deployments</strong></span> tab of the JBoss EAP management console.
				</p><h5 id="deploy_an_application_3">Deploy an Application</h5><p>
					Click the Add (<span class="strong strong"><strong>+</strong></span>) button. You can choose to deploy an application by <span class="emphasis"><em>uploading a deployment</em></span>, <span class="emphasis"><em>adding an unmanaged deployment</em></span>, or <span class="emphasis"><em>creating an empty deployment</em></span>. Deployments are enabled by default.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Upload a deployment
						</p><p class="simpara">
							Upload an application that will be copied to the server’s content repository and managed by JBoss EAP.
						</p></li><li class="listitem"><p class="simpara">
							Adding an unmanaged deployment
						</p><p class="simpara">
							Specify the location of a deployment. This deployment will not be copied to the server’s content repository and will not be managed by JBoss EAP.
						</p></li><li class="listitem"><p class="simpara">
							Creating an empty deployment
						</p><p class="simpara">
							Create an empty, exploded deployment. You can add files to the deployment after it has been created.
						</p></li></ul></div><h5 id="undeploy_an_application_3">Undeploy an Application</h5><p>
					Select the deployment and choose the <span class="strong strong"><strong>Undeploy</strong></span> option. JBoss EAP removes the deployment from the content repository.
				</p><h5 id="disable_an_application">Disable an Application</h5><p>
					Select the deployment and choose the <span class="strong strong"><strong>Disable</strong></span> option to disable the application. This undeploys the deployment, but does not remove it from the content repository.
				</p><h5 id="replace_an_application">Replace an Application</h5><p>
					Select the deployment and choose the <span class="strong strong"><strong>Replace</strong></span> option. Select the new version of the deployment, which must have the same name as the original, and click <span class="strong strong"><strong>Finish</strong></span>. This undeploys and removes the original version of the deployment, and then deploys the new version.
				</p></section><section class="section" id="deploy_app_domain_console"><div class="titlepage"><div><div><h3 class="title">7.2.2. Deploy an Application in a Managed Domain Using the Management Console</h3></div></div></div><p>
					From the <span class="strong strong"><strong>Deployments</strong></span> tab of the JBoss EAP management console, deployments can be viewed and managed by:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Content Repository
						</p><p class="simpara">
							All managed and unmanaged deployments are listed in the <span class="strong strong"><strong>Content Repository</strong></span> section. Deployments can be added and deployed to server groups here.
						</p></li><li class="listitem"><p class="simpara">
							Server Groups
						</p><p class="simpara">
							Deployments that have been deployed to one or more server groups are listed in the <span class="strong strong"><strong>Server Groups</strong></span> section. Deployments can be enabled and added directly to a server group here.
						</p></li></ul></div><h5 id="add_an_application">Add an Application</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							From <span class="strong strong"><strong>Content Repository</strong></span>, click the <span class="strong strong"><strong>Add</strong></span> button.
						</li><li class="listitem">
							Choose to add an application by <span class="emphasis"><em>uploading a deployment</em></span> or <span class="emphasis"><em>adding an unmanaged deployment</em></span>.
						</li><li class="listitem"><p class="simpara">
							Follow the prompts to deploy the application.
						</p><p class="simpara">
							Note that a deployment must be deployed to a server group before it can be enabled.
						</p></li></ol></div><h5 id="deploy_an_application_to_a_server_group">Deploy an Application to a Server Group</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							From <span class="strong strong"><strong>Content Repository</strong></span>, select a deployment and click the <span class="strong strong"><strong>Deploy</strong></span> button.
						</li><li class="listitem">
							Select one or more server groups to which this deployment should be deployed.
						</li><li class="listitem">
							Optionally, select the option to enable the deployment on the selected server groups.
						</li></ol></div><h5 id="undeploy_an_application_from_a_server_group">Undeploy an Application from a Server Group</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							From <span class="strong strong"><strong>Server Groups</strong></span>, select the appropriate server group.
						</li><li class="listitem">
							Select the desired deployment and click the <span class="strong strong"><strong>Undeploy</strong></span> button.
						</li></ol></div><p>
					Deployments can also be undeployed from multiple server groups at once by selecting the <span class="strong strong"><strong>Undeploy</strong></span> button for the deployment in <span class="strong strong"><strong>Content Repository</strong></span>.
				</p><h5 id="remove_an_application">Remove an Application</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							If the deployment is still deployed to any server groups, be sure to undeploy the deployment.
						</li><li class="listitem">
							From <span class="strong strong"><strong>Content Repository</strong></span>, select the deployment and click the <span class="strong strong"><strong>Remove</strong></span> button.
						</li></ol></div><p>
					This removes the deployment from the content repository.
				</p><h5 id="disable_an_application_2">Disable an Application</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							From <span class="strong strong"><strong>Server Groups</strong></span>, select the appropriate server group.
						</li><li class="listitem">
							Select the desired deployment and click the <span class="strong strong"><strong>Disable</strong></span> button.
						</li></ol></div><p>
					This undeploys the deployment, but does not remove it from the content repository.
				</p><h5 id="replace_an_application_2">Replace an Application</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							From <span class="strong strong"><strong>Content Repository</strong></span>, select the deployment and click the <span class="strong strong"><strong>Replace</strong></span> button.
						</li><li class="listitem">
							Select the new version of the deployment, which must have the same name as the original, and click <span class="strong strong"><strong>Replace</strong></span>.
						</li></ol></div><p>
					This undeploys and removes the original version of the deployment, and then deploys the new version.
				</p></section></section><section class="section" id="deploying_apps_using_scanner"><div class="titlepage"><div><div><h2 class="title">7.3. Deploying Applications Using the Deployment Scanner</h2></div></div></div><p>
				The deployment scanner monitors the deployment directory for applications to deploy. By default, the deployment scanner scans the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code> directory every five seconds for changes. Marker files are used to indicate the status of a deployment and to trigger actions against deployments, such as undeploying or redeploying.
			</p><p>
				While it is recommended to use the management console or management CLI for application deployment in a production environment, deploying using the deployment scanner is provided for the convenience of developers. This allows users to build and test applications in a manner suited for rapid development cycles. Additionally, the deployment scanner should not be used in conjunction with other deployment methods.
			</p><p>
				The deployment scanner is only available when running JBoss EAP as a standalone server.
			</p><section class="section" id="deploy_app_standalone_scanner"><div class="titlepage"><div><div><h3 class="title">7.3.1. Deploy an Application to a Standalone Server Using the Deployment Scanner</h3></div></div></div><p>
					The deployment scanner can be configured to allow or disallow automatic deployment of XML, zipped, and exploded content. If automatic deployment is disabled, you must manually create marker files to trigger deployment actions. For more information about the available marker file types and their purposes, see the <a class="link" href="#reference_deploy_scanner_marker_files" title="A.11. Deployment Scanner Marker Files">Deployment Scanner Marker Files</a> section.
				</p><p>
					By default, automatic deployment for XML and zipped content is enabled. For details on configuring automatic deployment for each content type, see <a class="link" href="#configure_deploy_scanner" title="7.3.2. Configure the Deployment Scanner">Configure the Deployment Scanner</a>.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Deploying using the deployment scanner is provided for the convenience of developers and is not recommended for use in a production environment. It should also not be used in conjunction with other deployment methods.
					</p></div></div><h5 id="deploy_an_application_4">Deploy an Application</h5><p>
					Copy the content to the deployment folder.
				</p><pre class="screen">$ cp <span class="emphasis"><em>/path/to</em></span>/test-application.war <span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</pre><p>
					If auto-deployment is enabled, this file will be picked up automatically, deployed, and a <code class="literal">.deployed</code> marker file will be created. If auto-deployment is not enabled, then you will need to manually add a <code class="literal">.dodeploy</code> marker file to trigger deployment.
				</p><pre class="screen">$ touch <span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/test-application.war.dodeploy</pre><h5 id="undeploy_an_application_4">Undeploy an Application</h5><p>
					Trigger an undeployment by removing the <code class="literal">.deployed</code> marker file.
				</p><pre class="screen">$ rm <span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/test-application.war.deployed</pre><p>
					If auto-deployment is enabled, you can also remove the <code class="literal">test-application.war</code> file, which will trigger the undeployment. Note that this does not apply for exploded deployments.
				</p><h5 id="redeploy_an_application">Redeploy an Application</h5><p>
					Create a <code class="literal">.dodeploy</code> marker file to initiate redeployment.
				</p><pre class="screen">$ touch <span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/test-application.war.dodeploy</pre></section><section class="section" id="configure_deploy_scanner"><div class="titlepage"><div><div><h3 class="title">7.3.2. Configure the Deployment Scanner</h3></div></div></div><p>
					The deployment scanner can be configured using the management console or the management CLI. You can configure the deployment scanner’s behavior, such as the scan interval, deployment folder location, and autodeployment of certain application file types. You can also disable the deployment scanner entirely.
				</p><p>
					For details on all available deployment scanner attributes, see the <a class="link" href="#reference_deploy_scanner_attr" title="A.12. Deployment Scanner Attributes">Deployment Scanner Attributes</a> section.
				</p><p>
					Use the below management CLI commands to configure the default deployment scanner.
				</p><h5 id="disable_the_deployment_scanner">Disable the Deployment Scanner</h5><pre class="screen">/subsystem=deployment-scanner/scanner=default:write-attribute(name=scan-enabled,value=false)</pre><p>
					This disables the <code class="literal">default</code> deployment scanner.
				</p><h5 id="change_the_scan_interval">Change the Scan Interval</h5><pre class="screen">/subsystem=deployment-scanner/scanner=default:write-attribute(name=scan-interval,value=10000)</pre><p>
					This updates the scan interval time from <code class="literal">5000</code> milliseconds (five seconds) to <code class="literal">10000</code> milliseconds (ten seconds).
				</p><h5 id="change_the_deployment_folder">Change the Deployment Folder</h5><pre class="screen">/subsystem=deployment-scanner/scanner=default:write-attribute(name=path,value=<span class="emphasis"><em>/path/to</em></span>/deployments)</pre><p>
					This changes the location of the deployment folder from the default location of <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments</code> to <code class="literal"><span class="emphasis"><em>/path/to</em></span>/deployments</code>.
				</p><p>
					The <code class="literal">path</code> value will be treated as an absolute path unless the <code class="literal">relative-to</code> attribute is specified, in which case it will be relative to that path.
				</p><h5 id="enable_the_automatic_deployment_of_exploded_content">Enable the Automatic Deployment of Exploded Content</h5><pre class="screen">/subsystem=deployment-scanner/scanner=default:write-attribute(name=auto-deploy-exploded,value=true)</pre><p>
					This enables the automatic deployment of exploded content, which is disabled by default.
				</p><h5 id="disable_the_automatic_deployment_of_zipped_content">Disable the Automatic Deployment of Zipped Content</h5><pre class="screen">/subsystem=deployment-scanner/scanner=default:write-attribute(name=auto-deploy-zipped,value=false)</pre><p>
					This disables the automatic deployment of zipped content, which is enabled by default.
				</p><h5 id="disable_the_automatic_deployment_of_xml_content">Disable the Automatic Deployment of XML Content</h5><pre class="screen">/subsystem=deployment-scanner/scanner=default:write-attribute(name=auto-deploy-xml,value=false)</pre><p>
					This disables the automatic deployment of XML content, which is enabled by default.
				</p></section><section class="section" id="define_custom_deployment_scanner"><div class="titlepage"><div><div><h3 class="title">7.3.3. Define a Custom Deployment Scanner</h3></div></div></div><p>
					A new deployment scanner can be added using the management CLI or by navigating to the <span class="strong strong"><strong>Deployment Scanners</strong></span> subsystem from the <span class="strong strong"><strong>Configuration</strong></span> tab in the management console. This will define a new directory to scan for deployments. The default deployment scanner monitors <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments</code>. See <a class="link" href="#configure_deploy_scanner" title="7.3.2. Configure the Deployment Scanner">Configure the Deployment Scanner</a> for details on configuring an existing deployment scanner.
				</p><p>
					The following management CLI command adds a new deployment scanner that will check <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/new_deployment_dir</code> every five seconds for deployments.
				</p><pre class="screen">/subsystem=deployment-scanner/scanner=new-scanner:add(path=new_deployment_dir,relative-to=jboss.server.base.dir,scan-interval=5000)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The specified directory must already exist or this command will fail with an error.
					</p></div></div><p>
					A new deployment scanner has been defined and the specified directory will be monitored for deployments.
				</p></section></section><section class="section" id="deploying_apps_using_maven"><div class="titlepage"><div><div><h2 class="title">7.4. Deploying Applications Using Maven</h2></div></div></div><p>
				Deploying applications using Apache Maven allows you to easily incorporate deployment to JBoss EAP into your existing development workflow.
			</p><p>
				You can use Maven to deploy applications to JBoss EAP using the <a class="link mimir-link-warn" href="https://docs.jboss.org/wildfly/plugins/maven/latest/" title="Mimir does not include content from: docs.jboss.org">WildFly Maven Plugin</a>, which provides simple operations to deploy and undeploy applications to the application server.
			</p><section class="section" id="deploy_app_standalone_maven"><div class="titlepage"><div><div><h3 class="title">7.4.1. Deploy an Application to a Standalone Server Using Maven</h3></div></div></div><p>
					The following instructions show how to deploy and undeploy the JBoss EAP <code class="literal">helloworld</code> quickstart to a standalone server using Maven.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/getting_started_guide/#using_the_quickstart_examples" title="This content is not included in Mimir.">Using the Quickstart Examples</a> in the JBoss EAP <span class="emphasis"><em>Getting Started Guide</em></span> for more information on the JBoss EAP quickstarts.
				</p><h5 id="deploy_an_application_5">Deploy an Application</h5><p>
					Initialize the WildFly Maven Plugin in your Maven <code class="literal">pom.xml</code> file. This should already be configured in the JBoss EAP quickstart <code class="literal">pom.xml</code> files.
				</p><pre class="programlisting language-xml">&lt;plugin&gt;
  &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;${version.wildfly.maven.plugin}&lt;/version&gt;
&lt;/plugin&gt;</pre><p>
					From the <code class="literal">helloworld</code> quickstart directory, execute the following Maven command.
				</p><pre class="screen">$ mvn clean install wildfly:deploy</pre><p>
					After issuing the Maven command to deploy, the terminal window shows the following output indicating a successful deployment.
				</p><pre class="screen">[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2.981 s
[INFO] Finished at: 2015-12-23T15:06:13-05:00
[INFO] Final Memory: 21M/231M
[INFO] ------------------------------------------------------------------------</pre><p>
					The deployment can also be confirmed by viewing the server log of the active server instance.
				</p><pre class="screen">WFLYSRV0027: Starting deployment of "helloworld.war" (runtime-name: "helloworld.war")
WFLYUT0021: Registered web context: /helloworld
WFLYSRV0010: Deployed "helloworld.war" (runtime-name : "helloworld.war")</pre><h5 id="undeploy_an_application_5">Undeploy an Application</h5><p>
					From the <code class="literal">helloworld</code> quickstart directory, execute the following Maven command.
				</p><pre class="screen">$ mvn wildfly:undeploy</pre><p>
					After issuing the Maven command to undeploy, the terminal window shows the following output indicating a successful undeployment.
				</p><pre class="screen">[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.237 s
[INFO] Finished at: 2015-12-23T15:09:10-05:00
[INFO] Final Memory: 10M/183M
[INFO] ------------------------------------------------------------------------</pre><p>
					The undeployment can also be confirmed by viewing the server log of the active server instance.
				</p><pre class="screen">WFLYUT0022: Unregistered web context: /helloworld
WFLYSRV0028: Stopped deployment helloworld.war (runtime-name: helloworld.war) in 27ms
WFLYSRV0009: Undeployed "helloworld.war" (runtime-name: "helloworld.war")</pre></section><section class="section" id="deploy_app_domain_maven"><div class="titlepage"><div><div><h3 class="title">7.4.2. Deploy an Application in a Managed Domain Using Maven</h3></div></div></div><p>
					The following instructions show how to deploy and undeploy the JBoss EAP <code class="literal">helloworld</code> quickstart in a managed domain using Maven.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/getting_started_guide/#using_the_quickstart_examples" title="This content is not included in Mimir.">Using the Quickstart Examples</a> in the JBoss EAP <span class="emphasis"><em>Getting Started Guide</em></span> for more information on the JBoss EAP quickstarts.
				</p><h5 id="deploy_an_application_6">Deploy an Application</h5><p>
					When deploying an application in a managed domain, you must specify the server groups to which the application should be deployed. This is configured in the Maven <code class="literal">pom.xml</code> file.
				</p><p>
					The following configuration in the <code class="literal">pom.xml</code> initializes the WildFly Maven Plugin and specifies <code class="literal">main-server-group</code> as the server group to which the application should be deployed.
				</p><pre class="programlisting language-xml">&lt;plugin&gt;
  &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;${version.wildfly.maven.plugin}&lt;/version&gt;
  &lt;configuration&gt;
    &lt;domain&gt;
      &lt;server-groups&gt;
        &lt;server-group&gt;main-server-group&lt;/server-group&gt;
      &lt;/server-groups&gt;
    &lt;/domain&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;</pre><p>
					From the <code class="literal">helloworld</code> quickstart directory, execute the following Maven command.
				</p><pre class="screen">$ mvn clean install wildfly:deploy</pre><p>
					After issuing the Maven command to deploy, the terminal window shows the following output indicating a successful deployment.
				</p><pre class="screen">[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 4.005 s
[INFO] Finished at: 2016-09-02T14:36:17-04:00
[INFO] Final Memory: 21M/226M
[INFO] ------------------------------------------------------------------------</pre><p>
					The deployment can also be confirmed by viewing the server log of the active server instance.
				</p><pre class="screen">WFLYSRV0027: Starting deployment of "helloworld.war" (runtime-name: "helloworld.war")
WFLYUT0021: Registered web context: /helloworld
WFLYSRV0010: Deployed "helloworld.war" (runtime-name : "helloworld.war")</pre><h5 id="undeploy_an_application_6">Undeploy an Application</h5><p>
					From the <code class="literal">helloworld</code> quickstart directory, execute the following Maven command.
				</p><pre class="screen">$ mvn wildfly:undeploy</pre><p>
					After issuing the Maven command to undeploy, the terminal window shows the following output indicating a successful undeployment.
				</p><pre class="screen">[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.750 s
[INFO] Finished at: 2016-09-02T14:45:10-04:00
[INFO] Final Memory: 10M/184M
[INFO] ------------------------------------------------------------------------</pre><p>
					The undeployment can also be confirmed by viewing the server log of the active server instance.
				</p><pre class="screen">WFLYUT0022: Unregistered web context: /helloworld
WFLYSRV0028: Stopped deployment helloworld.war (runtime-name: helloworld.war) in 106ms
WFLYSRV0009: Undeployed "helloworld.war" (runtime-name: "helloworld.war")</pre></section></section><section class="section" id="deploying_apps_using_http_api"><div class="titlepage"><div><div><h2 class="title">7.5. Deploying Applications Using the HTTP API</h2></div></div></div><p>
				Applications can be deployed to JBoss EAP using the HTTP API with the <code class="literal">curl</code> command. For more information on using the HTTP API, see the <a class="link" href="#http_api" title="3.5.1. HTTP API">HTTP API</a> section.
			</p><section class="section" id="deploy_app_standalone_http_api"><div class="titlepage"><div><div><h3 class="title">7.5.1. Deploy an Application to a Standalone Server Using the HTTP API</h3></div></div></div><p>
					By default, the HTTP API is accessible at <code class="literal">http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management</code>, for example, <code class="literal">http://localhost:9990/management</code>.
				</p><h5 id="deploy_an_application_7">Deploy an Application</h5><pre class="screen">$ curl --digest -L -D - http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USER</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation" : "composite", "address" : [], "steps" : [{"operation" : "add", "address" : {"deployment" : "test-application.war"}, "content" : [{"url" : "file:/path/to/test-application.war"}]},{"operation" : "deploy", "address" : {"deployment" : "test-application.war"}}],"json.pretty":1}'</pre><h5 id="undeploy_an_application_7">Undeploy an Application</h5><pre class="screen">$ curl --digest -L -D - http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USER</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation" : "composite", "address" : [], "steps" : [{"operation" : "undeploy", "address" : {"deployment" : "test-application.war"}},{"operation" : "remove", "address" : {"deployment" : "test-application.war"}}],"json.pretty":1}'</pre><p>
					See this <a class="link mimir-link-warn" href="https://access.redhat.com/solutions/82463" title="This content is not included in Mimir.">Red Hat Knowledgebase article</a> to learn more about programmatically generating the JSON requests.
				</p></section><section class="section" id="deploy_app_domain_http_api"><div class="titlepage"><div><div><h3 class="title">7.5.2. Deploy an Application in a Managed Domain Using the HTTP API</h3></div></div></div><p>
					By default, the HTTP API is accessible at <code class="literal">http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management</code>, for example, <code class="literal">http://localhost:9990/management</code>.
				</p><h5 id="deploy_an_application_8">Deploy an Application</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the deployment to the content repository.
						</p><pre class="screen">$ curl --digest -L -D - http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USER</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation" : "add", "address" : {"deployment" : "test-application.war"}, "content" : [{"url" : "file:<span class="emphasis"><em>/path/to</em></span>/test-application.war"}],"json.pretty":1}'</pre></li><li class="listitem"><p class="simpara">
							Add the deployment to the desired server group.
						</p><pre class="screen">$ curl --digest -L -D - http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USER</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation" : "add", "address" : {"server-group" : "main-server-group","deployment":"test-application.war"},"json.pretty":1}'</pre></li><li class="listitem"><p class="simpara">
							Deploy the application to the server group.
						</p><pre class="screen">$ curl --digest -L -D - http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USER</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation" : "deploy", "address" : {"server-group" : "main-server-group","deployment":"test-application.war"},"json.pretty":1}'</pre></li></ol></div><h5 id="undeploy_an_application_8">Undeploy an Application</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Remove the deployment from all server groups to which it is assigned.
						</p><pre class="screen">$ curl --digest -L -D - http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USER</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation" : "remove", "address" : {"server-group" : "main-server-group","deployment":"test-application.war"},"json.pretty":1}'</pre></li><li class="listitem"><p class="simpara">
							Remove the deployment from the content repository.
						</p><pre class="screen">$ curl --digest -L -D - http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>PORT</em></span>/management --header "Content-Type: application/json" -u <span class="emphasis"><em>USER</em></span>:<span class="emphasis"><em>PASSWORD</em></span> -d '{"operation" : "remove", "address" : {"deployment" : "test-application.war"}, "json.pretty":1}'</pre></li></ol></div></section></section><section class="section" id="customizing_deploy_behavior"><div class="titlepage"><div><div><h2 class="title">7.6. Customizing Deployment Behavior</h2></div></div></div><section class="section" id="define_custom_dir_deploy_content"><div class="titlepage"><div><div><h3 class="title">7.6.1. Define a Custom Directory for Deployment Content</h3></div></div></div><p>
					You can define a custom location for JBoss EAP to store deployed content.
				</p><h5 id="define_a_custom_directory_for_a_standalone_server">Define a Custom Directory for a Standalone Server</h5><p>
					By default, deployed content for a standalone server is stored in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/data/content</code> directory. This location can be changed by passing in the <code class="literal">-Djboss.server.deploy.dir</code> argument when starting the server.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh -Djboss.server.deploy.dir=<span class="emphasis"><em>/path/to</em></span>/new_deployed_content</pre><p>
					The chosen location should be unique among JBoss EAP instances.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">jboss.server.deploy.dir</code> property specifies the directory to be used for storing content that has been deployed using the management console or management CLI. To define a custom deployment directory to be monitored by the deployment scanner, see <a class="link" href="#configure_deploy_scanner" title="7.3.2. Configure the Deployment Scanner">Configure the Deployment Scanner</a>.
					</p></div></div><h5 id="define_a_custom_directory_for_a_managed_domain">Define a Custom Directory for a Managed Domain</h5><p>
					By default, deployed content for a managed domain is stored in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/data/content</code> directory. This location can be changed by passing in the <code class="literal">-Djboss.domain.deployment.dir</code> argument when starting the domain.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh -Djboss.domain.deployment.dir=<span class="emphasis"><em>/path/to</em></span>/new_deployed_content</pre><p>
					The chosen location should be unique among JBoss EAP instances.
				</p></section><section class="section" id="control_order_deployments"><div class="titlepage"><div><div><h3 class="title">7.6.2. Control the Order of Deployments</h3></div></div></div><p>
					JBoss EAP offers fine-grained control over the order of deployments when the server is started. Strict order of the deployment of applications present in multiple EAR files can be specified along with persistence of the order after a restart.
				</p><p>
					You can use the <code class="literal">jboss-all.xml</code> deployment descriptor to declare dependencies between top-level deployments.
				</p><p>
					For example, if you have an <code class="literal">app.ear</code> that depends on <code class="literal">framework.ear</code> being deployed first, then you can create an <code class="literal">app.ear/META-INF/jboss-all.xml</code> file as shown below.
				</p><pre class="programlisting language-xml">&lt;jboss xmlns="urn:jboss:1.0"&gt;
  &lt;jboss-deployment-dependencies xmlns="urn:jboss:deployment-dependencies:1.0"&gt;
    &lt;dependency name="framework.ear" /&gt;
  &lt;/jboss-deployment-dependencies&gt;
&lt;/jboss&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You can use the deployment’s runtime name as the dependency name in the <code class="literal">jboss-all.xml</code> file.
					</p></div></div><p>
					This ensures that <code class="literal">framework.ear</code> is deployed before <code class="literal">app.ear</code>.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Although the <code class="literal">jboss-all.xml</code> file and other deployment descriptors allow you to declare dependencies that the server does not otherwise detect, it is not a strict ordering feature. JBoss EAP assumes that all dependencies specified in the deployment descriptor have already been deployed or are available. If there are missing dependencies, JBoss EAP does not automatically deploy them, and the deployment fails.
					</p></div></div></section><section class="section" id="override_deployment_content"><div class="titlepage"><div><div><h3 class="title">7.6.3. Override Deployment Content</h3></div></div></div><p>
					A <span class="emphasis"><em>deployment overlay</em></span> can be used to overlay content into an existing deployment without physically modifying the contents of the deployment archive. It allows you to override deployment descriptors, library JAR files, classes, JSP pages, and other files at runtime without rebuilding the archive.
				</p><p>
					This can be useful if you need to adapt a deployment for different environments that need different configurations or settings. For example, when moving a deployment through the application lifecycle from development, to testing, to stage, and finally into production, you might want to swap deployment descriptors, modify static web resources to change the branding of the application, or even replace JAR libraries with different versions depending on the target environment. It is also a useful feature for installations that need to change a configuration but can not modify or crack an archive due to policy or security restrictions.
				</p><p>
					When defining a deployment overlay, you specify the file on a file system that will replace the file in the deployment archive. You must also specify which deployments should be affected by the deployment overlay. Any affected deployments must be redeployed in order for the changes to take effect.
				</p><p>
					Use the <code class="literal">deployment-overlay add</code> management CLI command to add a deployment overlay.
				</p><pre class="screen">deployment-overlay add --name=new-deployment-overlay --content=WEB-INF/web.xml=<span class="emphasis"><em>/path/to</em></span>/other/web.xml --deployments=test-application.war --redeploy-affected</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, specify the applicable server groups by using <code class="literal">--server-groups</code> or specify all server groups with <code class="literal">--all-server-groups</code>.
					</p></div></div><p>
					Once created, you can add content to an existing overlay, link the overlay to a deployment, or remove the overlay. For full usage details, execute <code class="literal">deployment-overlay --help</code>.
				</p><div class="variablelist"><p class="title"><strong>Parameters</strong></p><dl class="variablelist"><dt><span class="term"><code class="literal">name</code></span></dt><dd>
								The name of the deployment overlay.
							</dd><dt><span class="term"><code class="literal">content</code></span></dt><dd>
								Comma-separated list that maps the file on the file system to the file in the archive that it will replace. The format for each entry is <code class="literal"><span class="emphasis"><em>ARCHIVE_PATH</em></span>=<span class="emphasis"><em>FILESYSTEM_PATH</em></span></code>.
							</dd><dt><span class="term"><code class="literal">deployments</code></span></dt><dd>
								Comma-separated list of deployments to which this overlay will be linked.
							</dd><dt><span class="term"><code class="literal">redeploy-affected</code></span></dt><dd>
								Redeploys all affected deployments.
							</dd></dl></div></section><section class="section" id="rollout_plans"><div class="titlepage"><div><div><h3 class="title">7.6.4. Using Rollout Plans</h3></div></div></div><h5 id="about_rollout_plans">About Rollout Plans</h5><p>
					In a managed domain, operations targeted at domain or host level resources can potentially impact multiple servers. Such operations can include a roll out plan detailing the sequence in which the operation would be applied to the servers, as well as the policies for detailing whether the operation could be reverted if it fails to execute successfully on some servers. If no rollout plan is specified, the <a class="link" href="#default_rollout_plan" title="Default Rollout Plan">default rollout plan</a> is used.
				</p><p>
					Below is an example rollout plan involving five server groups. Operations can be applied to server groups serially, <code class="literal">in-series</code>, or concurrently, <code class="literal">concurrent-groups</code>. The syntax is described in more detail in <a class="link" href="#rollout_plan_syntax" title="Rollout Plan Syntax">Rollout Plan Syntax</a>.
				</p><pre class="screen">{"my-rollout-plan" =&gt; {"rollout-plan" =&gt; {
    "in-series" =&gt; [
        {"concurrent-groups" =&gt; {
            "group-A" =&gt; {
                "max-failure-percentage" =&gt; "20",
                "rolling-to-servers" =&gt; "true"
            },
            "group-B" =&gt; undefined
        }},
        {"server-group" =&gt; {"group-C" =&gt; {
            "rolling-to-servers" =&gt; "false",
            "max-failed-servers" =&gt; "1"
        }}},
        {"concurrent-groups" =&gt; {
            "group-D" =&gt; {
                "max-failure-percentage" =&gt; "20",
                "rolling-to-servers" =&gt; "true"
            },
            "group-E" =&gt; undefined
        }}
    ],
    "rollback-across-groups" =&gt; "true"
}}}</pre><p>
					Looking at the example above, applying the operation to the servers in the domain is done in three phases. If the policy for any server group triggers a rollback of the operation across the server group, all other server groups will be rolled back as well.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Server groups <span class="emphasis"><em>group-A</em></span> and <span class="emphasis"><em>group-B</em></span> will have the operation applied concurrently. The operation will be applied to the servers in <span class="emphasis"><em>group-A</em></span> in series, while all servers in <span class="emphasis"><em>group-B</em></span> will handle the operation concurrently. If more than 20% of the servers in <span class="emphasis"><em>group-A</em></span> fail to apply the operation, it will be rolled back across that group. If any servers in <span class="emphasis"><em>group-B</em></span> fail to apply the operation it will be rolled back across that group.
						</li><li class="listitem">
							Once all servers in <span class="emphasis"><em>group-A</em></span> and <span class="emphasis"><em>group-B</em></span> are complete, the operation will be applied to the servers in <span class="emphasis"><em>group-C</em></span>. Those servers will handle the operation concurrently. If more than one server in <span class="emphasis"><em>group-C</em></span> fails to apply the operation it will be rolled back across that group.
						</li><li class="listitem">
							Once all servers in <span class="emphasis"><em>group-C</em></span> are complete, server groups <span class="emphasis"><em>group-D</em></span> and <span class="emphasis"><em>group-E</em></span> will have the operation applied concurrently. The operation will be applied to the servers in <span class="emphasis"><em>group-D</em></span> in series, while all servers in <span class="emphasis"><em>group-E</em></span> will handle the operation concurrently. If more than 20% of the servers in <span class="emphasis"><em>group-D</em></span> fail to apply the operation, it will be rolled back across that group. If any servers in <span class="emphasis"><em>group-E</em></span> fail to apply the operation it will be rolled back across that group.
						</li></ol></div><h5 id="rollout_plan_syntax">Rollout Plan Syntax</h5><p>
					You can specify a rollout plan in either of the following ways.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							By defining the rollout plan in the <code class="literal">deploy</code> command operation headers. See <a class="link" href="#deploy_rollout_plan" title="Deploy Using a Rollout Plan">Deploy Using a Rollout Plan</a> for details.
						</li><li class="listitem">
							By storing the rollout plan using the <code class="literal">rollout-plan</code> command and then referencing the plan name in the <code class="literal">deploy</code> command operation headers. See <a class="link" href="#deploy_stored_rollout_plan" title="Deploy Using a Stored Rollout Plan">Deploy Using a Stored Rollout Plan</a> for details.
						</li></ul></div><p>
					Although each method has a different initial command, both methods use the <code class="literal">rollout</code> operation header to define the rollout plan. This uses the following syntax.
				</p><pre class="screen">rollout (id=<span class="emphasis"><em>PLAN_NAME</em></span> | <span class="emphasis"><em>SERVER_GROUP_LIST</em></span>) [rollback-across-groups]</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>PLAN_NAME</em></span></code> is the name for the rollout plan that was stored using the <code class="literal">rollout-plan</code> command.
						</li><li class="listitem"><p class="simpara">
							<code class="literal"><span class="emphasis"><em>SERVER_GROUP_LIST</em></span></code> is the list of server groups. Use a comma (<code class="literal">,</code>) to separate multiple server groups to indicate that operations should be performed on each server group sequentially. Use a caret (<code class="literal">^</code>) separator to indicate that operations should be performed on each server group concurrently.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									For each server group, set any of the following policies in parentheses. Use a comma to separate multiple policies.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
											<code class="literal">rolling-to-servers</code>: A boolean that, if set to <code class="literal">true</code>, applies the operation to each server in the group in series. If the value is <code class="literal">false</code> or not specified, the operation will be applied to the servers in the group concurrently.
										</li><li class="listitem">
											<code class="literal">max-failed-servers</code>: An integer which takes the maximum number of servers in the group that can fail to apply the operation before it should be reverted on all servers in the group. The default value if not specified is <code class="literal">0</code>, meaning that a failure on any server will trigger rollback across the group.
										</li><li class="listitem"><p class="simpara">
											<code class="literal">max-failure-percentage</code>: An integer between <code class="literal">0</code> and <code class="literal">100</code> that represents the maximum percentage of the total number of servers in the group that can fail to apply the operation before it should be reverted on all servers in the group. The default value if not specified is <code class="literal">0</code>, meaning that a failure on any server will trigger rollback across the group.
										</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												If both <code class="literal">max-failed-servers</code> and <code class="literal">max-failure-percentage</code> are set to non-zero values, <code class="literal">max-failure-percentage</code> takes precedence.
											</p></div></div></li></ul></div></li></ul></div></li><li class="listitem">
							<code class="literal">rollback-across-groups</code>: A boolean that indicates whether the need to rollback the operation on all the servers in one server group triggers a rollback across all the server groups. This defaults to <code class="literal">false</code>.
						</li></ul></div><h5 id="deploy_rollout_plan">Deploy Using a Rollout Plan</h5><p>
					You can provide the full details of a rollout plan directly to the <code class="literal">deploy</code> command by passing the <code class="literal">rollout</code> settings into the <code class="literal">headers</code> argument. See the <a class="link" href="#rollout_plan_syntax" title="Rollout Plan Syntax">Rollout Plan Syntax</a> for more information on the format.
				</p><p>
					The following management CLI command deploys an application to the <code class="literal">main-server-group</code> server group using a deployment plan that specifies <code class="literal">rolling-to-servers=true</code> for serial deployment.
				</p><pre class="screen">deploy <span class="emphasis"><em>/path/to</em></span>/test-application.war --server-groups=main-server-group --headers={rollout main-server-group(rolling-to-servers=true)}</pre><h5 id="deploy_stored_rollout_plan">Deploy Using a Stored Rollout Plan</h5><p>
					Since rollout plans can be complex, you have the option to store the details of a rollout plan. This allows you to reference the rollout plan name when you want to use it instead of requiring the full details of the rollout plan each time.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Use the <code class="literal">rollout-plan</code> management CLI command to store a rollout plan. See the <a class="link" href="#rollout_plan_syntax" title="Rollout Plan Syntax">Rollout Plan Syntax</a> for more information on the format.
						</p><pre class="screen">rollout-plan add --name=my-rollout-plan --content={rollout main-server-group(rolling-to-servers=false,max-failed-servers=1),other-server-group(rolling-to-servers=true,max-failure-percentage=20) rollback-across-groups=true}</pre><p class="simpara">
							This creates the following deployment plan.
						</p><pre class="screen">"rollout-plan" =&gt; {
    "in-series" =&gt; [
        {"server-group" =&gt; {"main-server-group" =&gt; {
            "rolling-to-servers" =&gt; false,
            "max-failed-servers" =&gt; 1
        }}},
        {"server-group" =&gt; {"other-server-group" =&gt; {
            "rolling-to-servers" =&gt; true,
            "max-failure-percentage" =&gt; 20
        }}}
    ],
    "rollback-across-groups" =&gt; true
}</pre></li><li class="listitem"><p class="simpara">
							Specify the stored rollout plan name when deploying the application.
						</p><p class="simpara">
							The following management CLI command deploys an application to all server groups using the <code class="literal">my-rollout-plan</code> stored rollout plan.
						</p><pre class="screen">deploy <span class="emphasis"><em>/path/to</em></span>/test-application.war --all-server-groups --headers={rollout id=my-rollout-plan}</pre></li></ol></div><h5 id="remove_stored_rollout_plan">Remove a Stored Rollout Plan</h5><p>
					You can remove a stored rollout plan using the <code class="literal">rollout-plan</code> management CLI command by specifying the name of the rollout plan to remove.
				</p><pre class="screen">rollout-plan remove --name=my-rollout-plan</pre><h5 id="default_rollout_plan">Default Rollout Plan</h5><p>
					All operations that impact multiple servers will be executed with a rollout plan. If no rollout plan is specified in the operation request, a default rollout plan will be generated. The plan will have the following characteristics.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							There will only be a single high-level phase. All server groups affected by the operation will have the operation applied concurrently.
						</li><li class="listitem">
							Within each server group, the operation will be applied to all servers concurrently.
						</li><li class="listitem">
							Failure on any server in a server group will cause rollback across the group.
						</li><li class="listitem">
							Failure of any server group will result in rollback of all other server groups.
						</li></ul></div></section></section><section class="section" id="managing_exploded_deployments"><div class="titlepage"><div><div><h2 class="title">7.7. Managing Exploded Deployments</h2></div></div></div><p>
				Prior to JBoss EAP 7.1, you could only manage exploded deployments by manipulating files on the file system. Starting with JBoss EAP 7.1, you can manage exploded deployments using the management interfaces. This allows you to change the contents of an exploded application without deploying a new version of the application.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Updates to static files in a deployment, such as JavaScript and CSS files, take effect immediately. Changes to other files, such as Java classes, might require an application redeployment for the changes to take effect.
				</p></div></div><p>
				You can either start with an <a class="link" href="#create_empty_deployment" title="Create an Empty Exploded Deployment">empty deployment</a> or <a class="link" href="#explode_archive_deployment" title="Explode an Existing Archive Deployment">explode an existing archive deployment</a> and then <a class="link" href="#add_remove_content_deployment" title="Add Content to an Exploded Deployment">add or remove content</a>.
			</p><p>
				See <a class="link" href="#viewing_deployment_content" title="7.8. Viewing Deployment Content">Viewing Deployment Content</a> to browse the files in a deployment or read the contents of the files.
			</p><h4 id="create_empty_deployment">Create an Empty Exploded Deployment</h4><p>
				You can create an empty exploded deployment to which you can later add content as necessary. Use the following management CLI command to create an empty exploded deployment.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>.war:add(content=[{empty=true}])</pre><p>
				The <code class="literal">empty=true</code> option is required to confirm that you intended to create an empty deployment.
			</p><h4 id="explode_archive_deployment">Explode an Existing Archive Deployment</h4><p>
				You can explode an existing archive deployment to be able to update its contents. Note that a <a class="link" href="#disable_app_standalone_cli" title="Disable an Application">deployment must be disabled</a> before it can be exploded. Use the following management CLI command to explode a deployment.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>ARCHIVE_DEPLOYMENT_NAME</em></span>.ear:explode</pre><p>
				You can now <a class="link" href="#add_remove_content_deployment" title="Add Content to an Exploded Deployment">add or remove content</a> from this deployment.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can also explode an existing archive deployment from the management console. From the <span class="strong strong"><strong>Deployments</strong></span> tab, select the deployment and select the <span class="strong strong"><strong>Explode</strong></span> drop down option.
				</p></div></div><h4 id="add_remove_content_deployment">Add Content to an Exploded Deployment</h4><p>
				To add content to a deployment, use the <code class="literal">add-content</code> management CLI operation. Provide the path to the location in the deployment where the content should be added, and provide the content to be uploaded. The content to upload can be provided as a local file stream, URL, hash of content that already exists in the JBoss EAP content repository, or a byte array of the content. The following management CLI command uses the <code class="literal">input-stream-index</code> option to upload the contents of a local file to the deployment.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>.war:add-content(content=[{target-path=<span class="emphasis"><em>/path/to/FILE_IN_DEPLOYMENT</em></span>, input-stream-index=<span class="emphasis"><em>/path/to/LOCAL_FILE_TO_UPLOAD</em></span>}]</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When adding content to a deployment using the <code class="literal">add-content</code> operation, content in the deployment is overwritten by default. You can change this behavior by setting the <code class="literal">overwrite</code> option to <code class="literal">false</code>.
				</p></div></div><h4 id="remove_content_from_an_exploded_deployment">Remove Content from an Exploded Deployment</h4><p>
				To remove content from a deployment, use the <code class="literal">remove-content</code> management CLI operation and provide the path of the content in the deployment to remove.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>.war:remove-content(paths=[<span class="emphasis"><em>/path/to/FILE_1</em></span>, <span class="emphasis"><em>/path/to/FILE_2</em></span>])</pre></section><section class="section" id="viewing_deployment_content"><div class="titlepage"><div><div><h2 class="title">7.8. Viewing Deployment Content</h2></div></div></div><p>
				You can <a class="link" href="#browse_deployment_content" title="7.8.1. Browse Files in a Deployment">browse information</a> about files in a managed deployment and <a class="link" href="#read_deployment_content" title="7.8.2. Read Deployment Content">read the contents</a> of the files using the JBoss EAP management interfaces.
			</p><section class="section" id="browse_deployment_content"><div class="titlepage"><div><div><h3 class="title">7.8.1. Browse Files in a Deployment</h3></div></div></div><p>
					Use the <code class="literal">browse-content</code> operation to view the files and directories in a managed deployment. Provide no arguments to return the entire deployment structure or use the <code class="literal">path</code> argument to provide the path to a specific directory.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You can also browse contents of a deployment from the management console by navigating to the <span class="strong strong"><strong>Deployments</strong></span> tab, selecting the deployment, and selecting <span class="strong strong"><strong>View</strong></span> from the drop down.
					</p></div></div><pre class="screen">/deployment=helloworld.war:browse-content(path=META-INF/)</pre><p>
					This displays the files and directories in the <code class="literal">META-INF/</code> directory of the <code class="literal">helloworld.war</code> deployment.
				</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; [
        {
            "path" =&gt; "MANIFEST.MF",
            "directory" =&gt; false,
            "file-size" =&gt; 827L
        },
        {
            "path" =&gt; "maven/org.jboss.eap.quickstarts/helloworld/pom.properties",
            "directory" =&gt; false,
            "file-size" =&gt; 106L
        },
        {
            "path" =&gt; "maven/org.jboss.eap.quickstarts/helloworld/pom.xml",
            "directory" =&gt; false,
            "file-size" =&gt; 2713L
        },
        {
            "path" =&gt; "maven/org.jboss.eap.quickstarts/helloworld/",
            "directory" =&gt; true
        },
        {
            "path" =&gt; "maven/org.jboss.eap.quickstarts/",
            "directory" =&gt; true
        },
        {
            "path" =&gt; "maven/",
            "directory" =&gt; true
        },
        {
            "path" =&gt; "INDEX.LIST",
            "directory" =&gt; false,
            "file-size" =&gt; 251L
        }
    ]
}</pre><p>
					You can also specify the following arguments to the <code class="literal">browse-content</code> operation.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">archive</span></dt><dd>
								Whether to only return archive files.
							</dd><dt><span class="term">depth</span></dt><dd>
								Specify the depth of files to return.
							</dd></dl></div></section><section class="section" id="read_deployment_content"><div class="titlepage"><div><div><h3 class="title">7.8.2. Read Deployment Content</h3></div></div></div><p>
					You can read the contents of a file in a managed deployment using the <code class="literal">read-content</code> operation. Provide no arguments to return the entire deployment or use the <code class="literal">path</code> argument to provide the path to a specific file. For example:
				</p><pre class="screen">/deployment=helloworld.war:read-content(path=META-INF/MANIFEST.MF)</pre><p>
					This returns a file stream, which can be <a class="link" href="#display_contents_file_stream" title="7.8.2.1. Display the Contents of a File">displayed in the management CLI</a> or <a class="link" href="#save_contents_file_stream" title="7.8.2.2. Save the Contents of a File">saved to the file system</a>.
				</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; {"uuid" =&gt; "24ba8e06-21bd-4505-b4d4-bdfb16451b95"},
    "response-headers" =&gt; {"attached-streams" =&gt; [{
        "uuid" =&gt; "24ba8e06-21bd-4505-b4d4-bdfb16451b95",
        "mime-type" =&gt; "text/plain"
    }]}
}</pre><section class="section" id="display_contents_file_stream"><div class="titlepage"><div><div><h4 class="title">7.8.2.1. Display the Contents of a File</h4></div></div></div><p>
						Use the <code class="literal">attachment display</code> command to read the contents of the <code class="literal">MANIFEST.MF</code> file.
					</p><pre class="screen">attachment display --operation=/deployment=helloworld.war:read-content(path=META-INF/MANIFEST.MF)</pre><p>
						This displays the contents of the <code class="literal">MANIFEST.MF</code> file from the <code class="literal">helloworld.war</code> deployment to the management CLI.
					</p><pre class="screen">ATTACHMENT 8af87836-2abd-423a-8e44-e731cc57bd80:
Manifest-Version: 1.0
Implementation-Title: Quickstart: helloworld
Implementation-Version: 7.3.0.GA
Java-Version: 1.8.0_131
Built-By: username
Scm-Connection: scm:git:git@github.com:jboss/jboss-parent-pom.git/quic
 kstart-parent/helloworld
Specification-Vendor: JBoss by Red Hat
...</pre></section><section class="section" id="save_contents_file_stream"><div class="titlepage"><div><div><h4 class="title">7.8.2.2. Save the Contents of a File</h4></div></div></div><p>
						Use the <code class="literal">attachment save</code> command to save the contents of the <code class="literal">MANIFEST.MF</code> file to the file system.
					</p><pre class="screen">attachment save --operation=/deployment=helloworld.war:read-content(path=META-INF/MANIFEST.MF) --file=<span class="emphasis"><em>/path/to</em></span>/MANIFEST.MF</pre><p>
						This saves the <code class="literal">MANIFEST.MF</code> file from the <code class="literal">helloworld.war</code> deployment to the file system at <code class="literal"><span class="emphasis"><em>path/to</em></span>/MANIFEST.MF</code>. If you do not specify a file path using the <code class="literal">--file</code> argument, the file will be named using its unique attachment ID and saved in the working directory of the management CLI, which by default is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/</code>.
					</p></section></section></section></section><section class="chapter" id="domain_management"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Domain Management</h1></div></div></div><p>
			This section discusses concepts and configuration specific to the managed domain operating mode.
		</p><p>
			For information on securing a managed domain, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#securing_managed_domain" title="This content is not included in Mimir.">Securing a Managed Domain</a> section of JBoss EAP <span class="emphasis"><em>How to Configure Server Security</em></span>.
		</p><section class="section" id="about_managed_domains"><div class="titlepage"><div><div><h2 class="title">8.1. About Managed Domains</h2></div></div></div><p>
				The managed domain operating mode allows for the management of multiple JBoss EAP instances from a single control point.
			</p><p>
				Centrally-managed JBoss EAP server collections are known as members of a domain. All JBoss EAP instances in a domain share a common management policy.
			</p><p>
				A domain consists of one domain controller, one or more host controllers, and zero or more server groups per host.
			</p><div class="informalfigure"><div class="mediaobject"><img src="/webassets/avalon/d/JBoss_Enterprise_Application_Platform_Continuous_Delivery-18-Configuration_Guide-en-US/images/8722b1d89f332fb2c466cbb65d72a495/62.png" alt="A managed domain." /></div></div><p>
				A <a class="link" href="#about_domain_controller" title="8.1.1. About the Domain Controller">domain controller</a> is the central point from which the domain is controlled. It ensures that each server is configured according to the management policy of the domain. The domain controller is also a host controller.
			</p><p>
				A <a class="link" href="#about_host_controllers" title="8.1.2. About Host Controllers">host controller</a> is a physical or virtual host that interacts with the domain controller to control the lifecycle of the application server instances running on its host and to assist the domain controller to manage them. Each host can contain multiple server groups.
			</p><p>
				A <a class="link" href="#about_server_groups" title="8.1.4. About Server Groups">server group</a> is a set of <a class="link" href="#about_servers" title="8.1.5. About Servers">server</a> instances which have JBoss EAP installed on them and are managed and configured as one. The domain controller manages the configuration of and applications deployed onto server groups. Consequently, each server in a server group shares the same configuration and deployments.
			</p><p>
				Host controllers are tied to specific physical, or virtual, hosts. You can run multiple host controllers on the same hardware if you use different configurations, ensuring their ports and other resources do not conflict. It is possible for a domain controller, a single host controller, and multiple servers to run within the same JBoss EAP instance, on the same physical system.
			</p><section class="section" id="about_domain_controller"><div class="titlepage"><div><div><h3 class="title">8.1.1. About the Domain Controller</h3></div></div></div><p>
					A domain controller is the JBoss EAP server instance that acts as a central management point for a domain. One host controller instance is configured to act as a domain controller.
				</p><p>
					The primary responsibilities of the domain controller are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Maintain the domain’s central management policy.
						</li><li class="listitem">
							Ensure all host controllers are aware of its current contents.
						</li><li class="listitem">
							Assist the host controllers in ensuring that all running JBoss EAP server instances are configured in accordance with this policy.
						</li></ul></div><p>
					By default, the central management policy is stored in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/domain.xml</code> file. This file is required in this directory of the host controller that is set to run as the domain controller.
				</p><p>
					The <code class="literal">domain.xml</code> file contains profile configurations available for use by the servers in the domain. A <a class="link" href="#about_profiles" title="8.8.1. About Profiles">profile</a> contains the detailed settings of the various subsystems available in that profile. The domain configuration also includes the definition of socket groups and the server group definitions.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						It is possible for a JBoss EAP 7 domain controller to administer JBoss EAP 6 hosts and servers, as long as the hosts and servers are running JBoss EAP 6.2 or later. For more information, see <a class="link" href="#configure_eap7_administer_eap6" title="8.7.1. Configure a JBoss EAP 7.x Domain Controller to Administer JBoss EAP 6 Instances">Configure a JBoss EAP 7.x Domain Controller to Administer JBoss EAP 6 Instances</a>.
					</p></div></div><p>
					For more information, see the <a class="link" href="#start_managed_domain" title="8.3.1. Start a Managed Domain">Start a Managed Domain</a> and <a class="link" href="#domain_controller_configuration" title="8.3.2. Domain Controller Configuration">Domain Controller Configuration</a> sections.
				</p></section><section class="section" id="about_host_controllers"><div class="titlepage"><div><div><h3 class="title">8.1.2. About Host Controllers</h3></div></div></div><p>
					The primary responsibility of a host controller is server management. It delegates domain management tasks and is responsible for starting and stopping the individual application server processes that run on its host.
				</p><p>
					It interacts with the domain controller to help manage the communication between the servers and the domain controller. Multiple host controllers of a domain can interact with only a single domain controller. Hence, all the host controllers and server instances running on a single domain mode have a single domain controller and must belong to the same domain.
				</p><p>
					By default, each host controller reads its configuration from the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/host.xml</code> file located in the unzipped JBoss EAP installation file on its host’s file system. The <code class="literal">host.xml</code> file contains the following configuration information that is specific to the particular host:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The names of the server instances meant to run from this installation.
						</li><li class="listitem">
							Configurations specific to the local physical installation. For example, named interface definitions declared in <code class="literal">domain.xml</code> can be mapped to an actual machine-specific IP address in <code class="literal">host.xml</code>. And abstract path names in domain.xml can be mapped to actual file system paths in <code class="literal">host.xml</code>.
						</li><li class="listitem"><p class="simpara">
							Any of the following configurations:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									How the host controller contacts the domain controller to register itself and access the domain configuration.
								</li><li class="listitem">
									How to find and contact a remote domain controller.
								</li><li class="listitem">
									Whether the host controller is to act as the domain controller
								</li></ul></div></li></ul></div><p>
					For more information, see the <a class="link" href="#start_managed_domain" title="8.3.1. Start a Managed Domain">Start a Managed Domain</a> and <a class="link" href="#host_controller_configuration" title="8.3.3. Host Controller Configuration">Host Controller Configuration</a> sections.
				</p></section><section class="section" id="process_controllers"><div class="titlepage"><div><div><h3 class="title">8.1.3. About Process Controllers</h3></div></div></div><p>
					A process controller is a small, lightweight process that is responsible for spawning the host controller process and monitoring its lifecycle. If the host controller crashes, the process controller will restart it. It also starts server processes as directed by the host controller; however, it will not automatically restart server processes that crash.
				</p><p>
					The process controller logs to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/log/process-controller.log</code> file. You can set JVM options for the process controller in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> file using the <code class="literal">PROCESS_CONTROLLER_JAVA_OPTS</code> variable.
				</p></section><section class="section" id="about_server_groups"><div class="titlepage"><div><div><h3 class="title">8.1.4. About Server Groups</h3></div></div></div><p>
					A server group is a collection of server instances that are managed and configured as one. In a managed domain, every application server instance belongs to a server group, even if it is the only member. The server instances in a group share the same profile configuration and deployed content.
				</p><p>
					A domain controller and a host controller enforce the standard configuration on all server instances of every server group in its domain.
				</p><p>
					A domain can consist of multiple server groups. Different server groups can be configured with different profiles and deployments. For example, a domain can be configured with different server tiers providing different services.
				</p><p>
					Different server groups can also have the same profile and deployments. This can, for example, allow for rolling application upgrades where the application is upgraded on one server group and then updated on a second server group, avoiding a complete service outage.
				</p><p>
					For more information, see the <a class="link" href="#configuring_server_groups" title="8.4.1. Configure Server Groups">Configuring Server Groups</a> section.
				</p></section><section class="section" id="about_servers"><div class="titlepage"><div><div><h3 class="title">8.1.5. About Servers</h3></div></div></div><p>
					A server represents an application server instance. In a managed domain, all server instances are members of a server group. The host controller launches each server instance in its own JVM process.
				</p><p>
					For more information, see the <a class="link" href="#configuring_servers" title="8.4.2. Configure Servers">Configuring Servers</a> section.
				</p></section></section><section class="section" id="navigating_domain_configs"><div class="titlepage"><div><div><h2 class="title">8.2. Navigating Domain Configurations</h2></div></div></div><p>
				JBoss EAP provides scalable management interfaces to support both small and large-scale managed domains.
			</p><h4 id="management_console">Management Console</h4><p>
				The JBoss EAP management console provides a graphical view of your domain and allows you to easily manage hosts, servers, deployments, and profiles for your domain.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Configuration</span></dt><dd><p class="simpara">
							From the <span class="strong strong"><strong>Configuration</strong></span> tab, you can configure the subsystems for each profile used in your domain. Different server groups in your domain may use different profiles depending the capabilities needed.
						</p><p class="simpara">
							Once you select the desired profile, all available subsystems for that profile are listed. For more information on configuring profiles, see <a class="link" href="#managing_jboss_eap_profiles" title="8.8. Managing JBoss EAP Profiles">Managing JBoss EAP Profiles</a>.
						</p></dd><dt><span class="term">Runtime</span></dt><dd><p class="simpara">
							From the <span class="strong strong"><strong>Runtime</strong></span> tab, you can manage servers and server groups as well as host configuration. You can browse the domain by host or by server group.
						</p><p class="simpara">
							From <span class="strong strong"><strong>Hosts</strong></span>, you can configure host properties and JVM settings as well as add and configure servers for that host.
						</p><p class="simpara">
							From <span class="strong strong"><strong>Server Groups</strong></span>, you can add new server groups and configure properties and JVM settings as well as add and configure servers for that server group. You can perform operations such as starting, stopping, suspending, and reloading all servers in the selected server group.
						</p><p class="simpara">
							From either <span class="strong strong"><strong>Hosts</strong></span> or <span class="strong strong"><strong>Server Groups</strong></span>, you can add new servers and configure server properties and JVM settings. You can perform operations such as starting, stopping, suspending, and reloading the selected server. You can also view runtime information, such as JVM usage, server logs, and subsystem-specific information.
						</p><p class="simpara">
							From <span class="strong strong"><strong>Topology</strong></span>, you can see an overview and view detailed information for the hosts, server groups, and servers in your domain. You can perform operations on each of them, such as reloading or suspending.
						</p></dd><dt><span class="term">Deployments</span></dt><dd><p class="simpara">
							From the <span class="strong strong"><strong>Deployments</strong></span> tab, you can add and deploy deployments to server groups. You can view all deployments in the content repository or view deployments deployed to a particular server group.
						</p><p class="simpara">
							For more information on deploying applications using the management console, see <a class="link" href="#deploy_app_domain_console" title="7.2.2. Deploy an Application in a Managed Domain Using the Management Console">Deploy an Application in a Managed Domain</a>
						</p></dd></dl></div><h4 id="management_cli">Management CLI</h4><p>
				The JBoss EAP management CLI provides a command-line interface to manage hosts, servers, deployments and profiles for your domain.
			</p><p>
				Subsystem configuration can be accessed once the appropriate profile is selected.
			</p><pre class="screen">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/subsystem=<span class="emphasis"><em>SUBSYSTEM_NAME</em></span>:read-resource(recursive=true)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Instructions and examples throughout this guide may contain management CLI commands for subsystem configuration that apply when running as a standalone server, for example:
				</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS:read-resource</pre><p>
					To adjust these management CLI commands to be run in a managed domain, you must specify the appropriate profile to configure, for example:
				</p><pre class="screen">/profile=default/subsystem=datasources/data-source=ExampleDS:read-resource</pre></div></div><p>
				After specifying the appropriate host, you can configure host settings and perform operations on servers on that host.
			</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span>:read-resource</pre><p>
				After specifying the appropriate host, you can configure servers for that host.
			</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:write-attribute(name=<span class="emphasis"><em>ATTRIBUTE_NAME</em></span>,value=<span class="emphasis"><em>VALUE</em></span>)</pre><p>
				After specifying the appropriate server group, you can configure server group settings and perform operations on all servers in the selected server group.
			</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:read-resource</pre><p>
				You can deploy applications in a managed domain by using the <code class="literal">deploy</code> management CLI command and specifying the appropriate server groups. For instructions, see <a class="link" href="#deploy_app_managed_domain_cli" title="7.1.2. Deploy an Application in a Managed Domain Using the Management CLI">Deploy an Application in a Managed Domain</a>.
			</p></section><section class="section" id="launching_a_managed_domain"><div class="titlepage"><div><div><h2 class="title">8.3. Launching a Managed Domain</h2></div></div></div><section class="section" id="start_managed_domain"><div class="titlepage"><div><div><h3 class="title">8.3.1. Start a Managed Domain</h3></div></div></div><p>
					Domain and host controllers can be started using the <code class="literal">domain.sh</code> or <code class="literal">domain.bat</code> script provided with JBoss EAP. For a complete listing of all available startup script arguments and their purposes, use the <code class="literal">--help</code> argument or see the <a class="link" href="#reference_of_switches_and_arguments_to_pass_at_server_runtime" title="A.1. Server Runtime Arguments">Server Runtime Arguments</a> section.
				</p><p>
					The domain controller must be started before any slave servers in any server groups in the domain. Start the domain controller first, then start any other associated host controllers in the domain.
				</p><h5 id="start_the_domain_controller">Start the Domain Controller</h5><p>
					Start the domain controller with the <code class="literal">host-master.xml</code> configuration file, which is preconfigured for a dedicated domain controller.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-master.xml</pre><p>
					Depending on your domain setup, you will need to make additional configurations to allow host controllers to connect. Also see the following example domain setups:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#set_up_domain_single_machine" title="8.6.1. Set Up a Managed Domain on a Single Machine">Set Up a Managed Domain on a Single Machine</a>
						</li><li class="listitem">
							<a class="link" href="#set_up_domain_two_machines" title="8.6.2. Set Up a Managed Domain on Two Machines">Set Up a Managed Domain on Two Machines</a>
						</li></ul></div><h5 id="start_a_host_controller">Start a Host Controller</h5><p>
					Start the host controller with the <code class="literal">host-slave.xml</code> configuration file, which is preconfigured for a slave host controller.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh  --host-config=host-slave.xml</pre><p>
					Depending on your domain setup, you will need to make additional configurations connect to, and not conflict with, the domain controller. Also see the following example domain setups:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#set_up_domain_single_machine" title="8.6.1. Set Up a Managed Domain on a Single Machine">Set Up a Managed Domain on a Single Machine</a>
						</li><li class="listitem">
							<a class="link" href="#set_up_domain_two_machines" title="8.6.2. Set Up a Managed Domain on Two Machines">Set Up a Managed Domain on Two Machines</a>
						</li></ul></div></section><section class="section" id="domain_controller_configuration"><div class="titlepage"><div><div><h3 class="title">8.3.2. Domain Controller Configuration</h3></div></div></div><p>
					You must configure one host in the domain as the domain controller.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						It is not supported to configure multiple domain or host controllers on the same machine when using the RPM installation method to install JBoss EAP.
					</p></div></div><p>
					Configure a host as the domain controller by adding the <code class="literal">&lt;local/&gt;</code> element in the <code class="literal">&lt;domain-controller&gt;</code> declaration. The <code class="literal">&lt;domain-controller&gt;</code> should include no other content.
				</p><pre class="programlisting language-xml">&lt;domain-controller&gt;
  &lt;local/&gt;
&lt;/domain-controller&gt;</pre><p>
					The host acting as the domain controller must expose a management interface that is accessible to other hosts in the domain. The HTTP interface is the standard management interface.
				</p><pre class="programlisting language-xml">&lt;management-interfaces&gt;
  &lt;http-interface security-realm="ManagementRealm" http-upgrade-enabled="true"&gt;
    &lt;socket interface="management" port="${jboss.management.http.port:9990}"/&gt;
  &lt;/http-interface&gt;
&lt;/management-interfaces&gt;</pre><p>
					The sample minimal domain controller configuration file, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/host-master.xml</code>, includes these configuration settings.
				</p></section><section class="section" id="host_controller_configuration"><div class="titlepage"><div><div><h3 class="title">8.3.3. Host Controller Configuration</h3></div></div></div><p>
					A host controller must be configured to connect to the domain controller so that the host controller can register itself with the domain.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						It is not supported to configure multiple domain or host controllers on the same machine when using the RPM installation method to install JBoss EAP.
					</p></div></div><p>
					Use the <code class="literal">&lt;domain-controller&gt;</code> element of the configuration to configure a connection to the domain controller.
				</p><pre class="programlisting language-xml">&lt;domain-controller&gt;
  &lt;remote security-realm="ManagementRealm"&gt;
    &lt;discovery-options&gt;
      &lt;static-discovery name="primary" protocol="${jboss.domain.master.protocol:remote}" host="${jboss.domain.master.address}" port="${jboss.domain.master.port:9990}"/&gt;
    &lt;/discovery-options&gt;
  &lt;/remote&gt;
&lt;/domain-controller&gt;</pre><p>
					The sample minimal host controller configuration file, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/host-slave.xml</code>, includes the configuration settings to connect to a domain controller. The configuration assumes that you provide the <code class="literal">jboss.domain.master.address</code> property when starting the host controller.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml -Djboss.domain.master.address=<span class="emphasis"><em>IP_ADDRESS</em></span></pre><p>
					For more information on domain controller discovery, see the <a class="link" href="#domain_controller_discovery_failover" title="8.5. Domain Controller Discovery and Failover">Domain Controller Discovery and Failover</a> section.
				</p><p>
					Depending on your domain setup, you may also need to provide authentication for the host controller to be authenticated by the domain controller. See <a class="link" href="#set_up_domain_two_machines" title="8.6.2. Set Up a Managed Domain on Two Machines">Set Up a Managed Domain on Two Machines</a> for details on generating a management user with a secret value and updating the host controller configuration with that value.
				</p></section><section class="section" id="configure_name_of_host"><div class="titlepage"><div><div><h3 class="title">8.3.4. Configure the Name of a Host</h3></div></div></div><p>
					Every host running in a managed domain must have a unique host name. To ease administration and allow for the use of the same host configuration files on multiple hosts, the server uses the following precedence for determining the host name.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							If set, the host element name attribute in the <code class="literal">host.xml</code> configuration file.
						</li><li class="listitem">
							The value of the <code class="literal">jboss.host.name</code> system property.
						</li><li class="listitem">
							The value that follows the final period (<code class="literal">.</code>) character in the <code class="literal">jboss.qualified.host.name</code> system property, or the entire value if there is no final period (<code class="literal">.</code>) character.
						</li><li class="listitem">
							The value that follows the period (<code class="literal">.</code>) character in the <code class="literal">HOSTNAME</code> environment variable for POSIX-based operating systems, the <code class="literal">COMPUTERNAME</code> environment variable for Microsoft Windows, or the entire value if there is no final period (<code class="literal">.</code>) character.
						</li></ol></div><p>
					A host controller’s name is configured in the <code class="literal">host</code> element at the top of the relevant <code class="literal">host.xml</code> configuration file, for example:
				</p><pre class="programlisting language-xml">&lt;host xmlns="urn:jboss:domain:8.0" name="host1"&gt;</pre><p>
					Use the following procedure to update the host name using the management CLI.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Start the JBoss EAP host controller.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml</pre></li><li class="listitem"><p class="simpara">
							Launch the management CLI, connecting to the domain controller.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --controller=<span class="emphasis"><em>DOMAIN_CONTROLLER_IP_ADDRESS</em></span></pre></li><li class="listitem"><p class="simpara">
							Use the following command to set a new host name.
						</p><pre class="screen">/host=<span class="emphasis"><em>EXISTING_HOST_NAME</em></span>:write-attribute(name=name,value=<span class="emphasis"><em>NEW_HOST_NAME</em></span>)</pre><p class="simpara">
							This modifies the host name attribute in the <code class="literal">host-slave.xml</code> file as follows:
						</p><pre class="programlisting language-xml">&lt;host name="<span class="emphasis"><em>NEW_HOST_NAME</em></span>" xmlns="urn:jboss:domain:8.0"&gt;</pre></li><li class="listitem"><p class="simpara">
							Reload the host controller in order for the changes to take effect.
						</p><pre class="screen">reload --host=<span class="emphasis"><em>EXISTING_HOST_NAME</em></span></pre></li></ol></div><p>
					If a host controller does not have a name set in the configuration file, you can also pass in the host name at runtime.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml  -Djboss.host.name=<span class="emphasis"><em>HOST_NAME</em></span></pre></section></section><section class="section" id="managing_servers"><div class="titlepage"><div><div><h2 class="title">8.4. Managing Servers</h2></div></div></div><section class="section" id="configuring_server_groups"><div class="titlepage"><div><div><h3 class="title">8.4.1. Configure Server Groups</h3></div></div></div><p>
					The following is an example of a server group definition:
				</p><pre class="programlisting language-xml">&lt;server-group name="main-server-group" profile="full"&gt;
  &lt;jvm name="default"&gt;
    &lt;heap size="64m" max-size="512m"/&gt;
  &lt;/jvm&gt;
  &lt;socket-binding-group ref="full-sockets"/&gt;
  &lt;deployments&gt;
    &lt;deployment name="test-application.war" runtime-name="test-application.war"/&gt;
    &lt;deployment name="helloworld.war" runtime-name="helloworld.war" enabled="false"/&gt;
  &lt;/deployments&gt;
&lt;/server-group&gt;</pre><p>
					Server groups can be configured using the management CLI or from the management console <span class="strong strong"><strong>Runtime</strong></span> tab.
				</p><h5 id="add_a_server_group">Add a Server Group</h5><p>
					The following management CLI command can be used to add a server group.
				</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:add(profile=<span class="emphasis"><em>PROFILE_NAME</em></span>,socket-binding-group=<span class="emphasis"><em>SOCKET_BINDING_GROUP_NAME</em></span>)</pre><h5 id="update_a_server_group">Update a Server Group</h5><p>
					The following management CLI command can be used to update server group attributes.
				</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:write-attribute(name=<span class="emphasis"><em>ATTRIBUTE_NAME</em></span>,value=<span class="emphasis"><em>VALUE</em></span>)</pre><h5 id="remove_a_server_group">Remove a Server Group</h5><p>
					The following management CLI command can be used to remove a server group.
				</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:remove</pre><h5 id="server_group_attributes">Server Group Attributes</h5><p>
					A server group requires the following attributes:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">name</code>: The server group name.
						</li><li class="listitem">
							<code class="literal">profile</code>: The server group profile name.
						</li><li class="listitem">
							<code class="literal">socket-binding-group</code>: The default socket binding group used for servers in the group. This can be overridden on a per-server basis.
						</li></ul></div><p>
					A server group includes the following optional attributes:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">management-subsystem-endpoint</code>: Set to <code class="literal">true</code> to have servers belonging to the server group connect back to the host controller using the endpoint from their <code class="literal">remoting</code> subsystem. The <code class="literal">remoting</code> subsystem must be present for this to work.
						</li><li class="listitem">
							<code class="literal">socket-binding-default-interface</code>: The socket binding group default interface for this server.
						</li><li class="listitem">
							<code class="literal">socket-binding-port-offset</code>: The default offset to be added to the port values given by the socket binding group.
						</li><li class="listitem">
							<code class="literal">deployments</code>: The deployment content to be deployed on the servers in the group.
						</li><li class="listitem">
							<code class="literal">jvm</code>: The default JVM settings for all servers in the group. The host controller merges these settings with any other configuration provided in <code class="literal">host.xml</code> to derive the settings used to launch the server’s JVM.
						</li><li class="listitem">
							<code class="literal">deployment-overlays</code>: Links between a defined deployment overlay and deployments in this server group.
						</li><li class="listitem">
							<code class="literal">system-properties</code>: The system properties to be set on servers in the group.
						</li></ul></div></section><section class="section" id="configuring_servers"><div class="titlepage"><div><div><h3 class="title">8.4.2. Configure Servers</h3></div></div></div><p>
					The default <code class="literal">host.xml</code> configuration file defines three servers:
				</p><pre class="programlisting language-xml">&lt;servers&gt;
  &lt;server name="server-one" group="main-server-group"&gt;
  &lt;/server&gt;
  &lt;server name="server-two" group="main-server-group" auto-start="true"&gt;
    &lt;socket-bindings port-offset="150"/&gt;
  &lt;/server&gt;
  &lt;server name="server-three" group="other-server-group" auto-start="false"&gt;
    &lt;socket-bindings port-offset="250"/&gt;
  &lt;/server&gt;
&lt;/servers&gt;</pre><p>
					A server instance named <code class="literal">server-one</code> is associated with <code class="literal">main-server-group</code> and inherits the subsystem configuration and socket bindings specified by that server group. A server instance named <code class="literal">server-two</code> is also associated with <code class="literal">main-server-group</code>, but also defines a socket binding <code class="literal">port-offset</code> value, so as not to conflict with the port values used by <code class="literal">server-one</code>. A server instance named <code class="literal">server-three</code> is associated with <code class="literal">other-server-group</code> and uses that group’s configurations. It also defines a <code class="literal">port-offset</code> value and sets <code class="literal">auto-start</code> to <code class="literal">false</code> so that this server does not start when the host controller starts.
				</p><p>
					Servers can be configured using the management CLI or from the management console <span class="strong strong"><strong>Runtime</strong></span> tab.
				</p><h5 id="add_a_server">Add a Server</h5><p>
					The following management CLI command can be used to add a server.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:add(group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>)</pre><h5 id="update_a_server">Update a Server</h5><p>
					The following management CLI command can be used to update server attributes.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:write-attribute(name=<span class="emphasis"><em>ATTRIBUTE_NAME</em></span>,value=<span class="emphasis"><em>VALUE</em></span>)</pre><h5 id="remove_a_server">Remove a Server</h5><p>
					The following management CLI command can be used to remove a server.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:remove</pre><h5 id="server_attributes-1">Server Attributes</h5><p>
					A server requires the following attributes:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">name</code>: The name of the server.
						</li><li class="listitem">
							<code class="literal">group</code>: The name of a server group from the domain model.
						</li></ul></div><p>
					A server includes the following optional attributes:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">auto-start</code>: Whether or not this server should be started when the host controller starts.
						</li><li class="listitem">
							<code class="literal">socket-binding-group</code>: The socket binding group to which this server belongs.
						</li><li class="listitem">
							<code class="literal">socket-binding-port-offset</code>: An offset to be added to the port values given by the socket binding group for this server.
						</li><li class="listitem">
							<code class="literal">update-auto-start-with-server-status</code>: Update the <code class="literal">auto-start</code> attribute with the status of the server.
						</li><li class="listitem">
							<code class="literal">interface</code>: A list of fully-specified named network interfaces available for use on the server.
						</li><li class="listitem">
							<code class="literal">jvm</code>: The JVM settings for this server. If not declared, the settings are inherited from the parent server group or host.
						</li><li class="listitem">
							<code class="literal">path</code>: A list of named file system paths.
						</li><li class="listitem">
							<code class="literal">system-property</code>: A list of system properties to set on this server.
						</li></ul></div></section><section class="section" id="start_stop_servers"><div class="titlepage"><div><div><h3 class="title">8.4.3. Start and Stop Servers</h3></div></div></div><p>
					You can perform operations on servers, such as starting, stopping, and reloading, from the management console by navigating to the <span class="strong strong"><strong>Runtime</strong></span> tab and selecting the appropriate host or server group.
				</p><p>
					See the below commands for performing these operations using the management CLI.
				</p><h5 id="start_servers_2">Start Servers</h5><p>
					You can start a single server on a particular host.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:start</pre><p>
					You can start all servers in a specified server group.
				</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:start-servers</pre><h5 id="stop_servers">Stop Servers</h5><p>
					You can stop a single server on a particular host.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:stop</pre><p>
					You can stop all servers in a specified server group.
				</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:stop-servers</pre><h5 id="reload_servers">Reload Servers</h5><p>
					You can reload a single server on a particular host.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=<span class="emphasis"><em>SERVER_NAME</em></span>:reload</pre><p>
					You can reload all servers in a specified server group.
				</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:reload-servers</pre><h5 id="kill_servers">Kill Servers</h5><p>
					You can kill all server processes in a specified server group.
				</p><pre class="screen">/server-group=<span class="emphasis"><em>SERVER_GROUP_NAME</em></span>:kill-servers</pre></section></section><section class="section" id="domain_controller_discovery_failover"><div class="titlepage"><div><div><h2 class="title">8.5. Domain Controller Discovery and Failover</h2></div></div></div><p>
				When setting up a managed domain, each host controller must be configured with information needed to contact the domain controller. In JBoss EAP, each host controller can be configured with <a class="link" href="#configure_domain_discovery_options" title="8.5.1. Configure Domain Discovery Options">multiple options</a> for finding the domain controller. Host controllers iterate through the list of options until one succeeds.
			</p><p>
				A backup host controller can be <a class="link" href="#promote_hc_to_dc" title="8.5.3. Promote a Host Controller to Act as Domain Controller">promoted to domain contoller</a> if there is a problem with the primary domain controller. This allows host controllers to automatically fail over to the new domain controller once it has been promoted.
			</p><section class="section" id="configure_domain_discovery_options"><div class="titlepage"><div><div><h3 class="title">8.5.1. Configure Domain Discovery Options</h3></div></div></div><p>
					The following is an example of how to configure a host controller with multiple options for finding the domain controller.
				</p><div class="formalpara"><p class="title"><strong>Example: A Host Controller with Multiple Domain Controller Options</strong></p><p>
						
<pre class="programlisting language-xml">&lt;domain-controller&gt;
  &lt;remote security-realm="ManagementRealm"&gt;
    &lt;discovery-options&gt;
      &lt;static-discovery name="primary" protocol="${jboss.domain.master.protocol:remote}" host="172.16.81.100" port="${jboss.domain.master.port:9990}"/&gt;
      &lt;static-discovery name="backup" protocol="${jboss.domain.master.protocol:remote}" host="172.16.81.101" port="${jboss.domain.master.port:9990}"/&gt;
    &lt;/discovery-options&gt;
  &lt;/remote&gt;
&lt;/domain-controller&gt;</pre>

					</p></div><p>
					A static discovery option includes the following required attributes:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">name</span></dt><dd>
								The name for this domain controller discovery option.
							</dd><dt><span class="term">host</span></dt><dd>
								The remote domain controller’s host name.
							</dd><dt><span class="term">port</span></dt><dd>
								The remote domain controller’s port.
							</dd></dl></div><p>
					In the example above, the first discovery option is the one expected to succeed. The second can be used in failover situations.
				</p></section><section class="section" id="boot_hc_cached_config"><div class="titlepage"><div><div><h3 class="title">8.5.2. Start a Host Controller with a Cached Domain Configuration</h3></div></div></div><p>
					A host controller can be started without a connection to the domain controller by using the <code class="literal">--cached-dc</code> option; however, the host controller must have previously cached its domain configuration locally from the domain controller. Starting a host controller with this <code class="literal">--cached-dc</code> option will cache the host controller’s domain configuration from the domain controller.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml --cached-dc</pre><p>
					This creates a <code class="literal">domain.cached-remote.xml</code> file in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/</code> directory that contains the information necessary for this host controller to temporarily manage its current servers without a domain controller connection.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						By default, using the <code class="literal">--cached-dc</code> option only caches configuration used by this host controller, which means that it cannot be promoted to domain controller for the entire domain. See <a class="link" href="#cache_domain_config" title="Cache the Domain Configuration">Cache the Domain Configuration</a> for information on caching the entire domain configuration to allow a host controller to act as the domain controller.
					</p></div></div><p>
					If the domain controller is unavailable when starting this host controller with <code class="literal">--cached-dc</code>, the host controller will start using the cached configuration saved in the <code class="literal">domain.cached-remote.xml</code> file. Note that this file must exist or the host controller will fail to start.
				</p><p>
					While in this state, the host controller cannot modify the domain configuration, but can launch servers and manage deployments.
				</p><p>
					Once started with the cached configuration, the host controller will continue to attempt to reconnect to the domain controller. Once the domain controller becomes available, the host controller will automatically reconnect to it and synchronize the domain configuration. Note that some configuration changes may require you to reload the host controller to take effect. A warning will be logged on the host controller if this occurs.
				</p></section><section class="section" id="promote_hc_to_dc"><div class="titlepage"><div><div><h3 class="title">8.5.3. Promote a Host Controller to Act as Domain Controller</h3></div></div></div><p>
					You can promote a host controller to act as the domain controller if a problem arises with the primary domain controller. The host controller must first <a class="link" href="#cache_domain_config" title="Cache the Domain Configuration">cache the domain configuration locally</a> from the domain controller before it can be <a class="link" href="#promote_hc" title="Promote a Host Controller to Be the Domain Controller">promoted</a>.
				</p><h5 id="cache_domain_config">Cache the Domain Configuration</h5><p>
					Use the <code class="literal">--backup</code> option for any host controller that you might want to become the domain controller.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml --backup</pre><p>
					This creates a <code class="literal">domain.cached-remote.xml</code> file in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/</code> directory that contains a copy of the entire domain configuration. This configuration will be used if the host controller is reconfigured to act as the domain controller.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">ignore-unused-configuration</code> attribute is used to determine how much configuration to cache for a particular host. A value of <code class="literal">true</code> means that only the configuration relevant to this host controller is cached, which would not allow it to take over as domain controller. A value of <code class="literal">false</code> means that the entire domain configuration is cached.
					</p><p>
						The <code class="literal">--backup</code> argument defaults this attribute to <code class="literal">false</code> to cache the entire domain. However, if you set this attribute in the <code class="literal">host.xml</code> file, that value is used.
					</p><p>
						You can also use the <code class="literal">--cached-dc</code> option alone to create a copy of the domain configuration, but must set <code class="literal">ignore-unused-configuration</code> to <code class="literal">false</code> in the <code class="literal">host.xml</code> to cache the entire domain. For example:
					</p><pre class="programlisting language-xml">&lt;domain-controller&gt;
  &lt;remote username="$local" security-realm="ManagementRealm" ignore-unused-configuration="false"&gt;
    &lt;discovery-options&gt;
      ...
    &lt;/discovery-options&gt;
  &lt;/remote&gt;
&lt;/domain-controller&gt;</pre></div></div><h5 id="promote_hc">Promote a Host Controller to Be the Domain Controller</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Ensure the original domain controller is stopped.
						</li><li class="listitem">
							Use the management CLI to connect to the host controller that is to become the new domain controller.
						</li><li class="listitem"><p class="simpara">
							Execute the following command to configure the host controller to act as the new domain controller.
						</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>:write-local-domain-controller</pre></li><li class="listitem"><p class="simpara">
							Execute the following command to reload the host controller.
						</p><pre class="screen">reload --host=<span class="emphasis"><em>HOST_NAME</em></span></pre></li></ol></div><p>
					This host controller will now act as the domain controller.
				</p></section></section><section class="section" id="managed_domain_setups"><div class="titlepage"><div><div><h2 class="title">8.6. Managed Domain Setups</h2></div></div></div><section class="section" id="set_up_domain_single_machine"><div class="titlepage"><div><div><h3 class="title">8.6.1. Set Up a Managed Domain on a Single Machine</h3></div></div></div><p>
					You can run multiple host controllers on a single machine by using the <code class="literal">jboss.domain.base.dir</code> property.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						It is not supported to configure more than one JBoss EAP host controller as a system service on a single machine.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Copy the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain</code> directory for the domain controller.
						</p><pre class="screen">$ cp -r <span class="emphasis"><em>EAP_HOME</em></span>/domain <span class="emphasis"><em>/path/to</em></span>/domain1</pre></li><li class="listitem"><p class="simpara">
							Copy the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain</code> directory for a host controller.
						</p><pre class="screen">$ cp -r <span class="emphasis"><em>EAP_HOME</em></span>/domain <span class="emphasis"><em>/path/to</em></span>/host1</pre></li><li class="listitem"><p class="simpara">
							Start the domain controller using <code class="literal"><span class="emphasis"><em>/path/to</em></span>/domain1</code>.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-master.xml -Djboss.domain.base.dir=<span class="emphasis"><em>/path/to</em></span>/domain1</pre></li><li class="listitem"><p class="simpara">
							Start the host controller using <code class="literal"><span class="emphasis"><em>/path/to</em></span>/host1</code>.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml -Djboss.domain.base.dir=<span class="emphasis"><em>/path/to</em></span>/host1 -Djboss.domain.master.address=<span class="emphasis"><em>IP_ADDRESS</em></span> -Djboss.management.http.port=<span class="emphasis"><em>PORT</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When starting a host controller, you must specify the address of the domain controller using the <code class="literal">jboss.domain.master.address</code> property.
							</p><p>
								Additionally, since this host controller is running on the same machine as the domain controller, you must change the management interface so that it does not conflict with the domain controller’s management interface. This command sets the <code class="literal">jboss.management.http.port</code> property.
							</p></div></div></li></ol></div><p>
					Each instance started in this manner will share the rest of the resources in the base installation directory, for example, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code>, but use the domain configuration from the directory specified by <code class="literal">jboss.domain.base.dir</code>.
				</p></section><section class="section" id="set_up_domain_two_machines"><div class="titlepage"><div><div><h3 class="title">8.6.2. Set Up a Managed Domain on Two Machines</h3></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You may need to configure your firewall to run this example.
					</p></div></div><p>
					You can create managed domain on two machines, where one machine is a domain controller and the other machine is a host. For more information, see <a class="link" href="#about_domain_controller" title="8.1.1. About the Domain Controller">About the Domain Controller</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>IP1</em></span></code> = IP address of the domain controller (Machine 1)
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>IP2</em></span></code> = IP address of the host (Machine 2)
						</li></ul></div><h5 id="create_a_managed_domain_on_two_machines">Create a Managed Domain on Two Machines</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On Machine 1
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add a management user so that the host can be authenticated by the domain controller.
								</p><p class="simpara">
									Use the <code class="literal">add-user.sh</code> script to add the management user for the host controller, <code class="literal"><span class="emphasis"><em>HOST_NAME</em></span></code>. Make sure to answer <code class="literal">yes</code> to the last prompt and note the secret value provided. This secret value will be used in the host controller configuration, and will appear similar to the line below:
								</p><pre class="programlisting language-xml">&lt;secret value="<span class="emphasis"><em>SECRET_VALUE</em></span>" /&gt;</pre></li><li class="listitem"><p class="simpara">
									Start the domain controller.
								</p><p class="simpara">
									Specify the <code class="literal">host-master.xml</code> configuration file, which is preconfigured for a dedicated domain controller. Also, set the <code class="literal">jboss.bind.address.management</code> property to make the domain controller visible to other machines.
								</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-master.xml -Djboss.bind.address.management=<span class="emphasis"><em>IP1</em></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
							On Machine 2
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Update the host configuration with the user credentials.
								</p><p class="simpara">
									Edit <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/host-slave.xml</code> and set the host name, <code class="literal"><span class="emphasis"><em>HOST_NAME</em></span></code>, and secret value, <code class="literal"><span class="emphasis"><em>SECRET_VALUE</em></span></code>.
								</p><pre class="programlisting language-xml">&lt;host xmlns="urn:jboss:domain:8.0" name="<span class="emphasis"><em>HOST_NAME</em></span>"&gt;
  &lt;management&gt;
    &lt;security-realms&gt;
      &lt;security-realm name="ManagementRealm"&gt;
        &lt;server-identities&gt;
          &lt;secret value="<span class="emphasis"><em>SECRET_VALUE</em></span>" /&gt;
        &lt;/server-identities&gt;
        ...</pre></li><li class="listitem"><p class="simpara">
									Start the host controller.
								</p><p class="simpara">
									Specify the <code class="literal">host-slave.xml</code> configuration file, which is preconfigured for a slave host controller. Also, set the <code class="literal">jboss.domain.master.address</code> property to connect to the domain controller and the <code class="literal">jboss.bind.address</code> property to set the host controller bind address.
								</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml  -Djboss.domain.master.address=<span class="emphasis"><em>IP1</em></span>  -Djboss.bind.address=<span class="emphasis"><em>IP2</em></span></pre></li></ol></div></li></ol></div><p>
					You can now manage the domain from the management CLI by specifying the domain controller address with the <code class="literal">--controller</code> parameter when launching.
				</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --controller=<span class="emphasis"><em>IP1</em></span></pre><p>
					Or you can manage the domain from the management console at <code class="literal">http://<span class="emphasis"><em>IP1</em></span>:9990</code>.
				</p></section></section><section class="section" id="managing_multiple_jboss_eap_versions"><div class="titlepage"><div><div><h2 class="title">8.7. Managing Multiple JBoss EAP Versions</h2></div></div></div><p>
				The latest version of JBoss EAP can manage JBoss EAP servers and host that are running an earlier version. See the appropriate section depending on which versions of JBoss EAP you need to manage.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#configure_eap7_administer_eap6" title="8.7.1. Configure a JBoss EAP 7.x Domain Controller to Administer JBoss EAP 6 Instances">Configure a JBoss EAP 7.x Domain Controller to Administer JBoss EAP 6 Instances</a>
					</li><li class="listitem">
						<a class="link" href="#configure_eap71_administer_eap70" title="8.7.2. Configure a JBoss EAP 7.1 Domain Controller to Administer JBoss EAP 7.0 Instances">Configure a JBoss EAP 7.1 Domain Controller to Administer JBoss EAP 7.0 Instances</a>
					</li></ul></div><section class="section" id="configure_eap7_administer_eap6"><div class="titlepage"><div><div><h3 class="title">8.7.1. Configure a JBoss EAP 7.x Domain Controller to Administer JBoss EAP 6 Instances</h3></div></div></div><p>
					A JBoss EAP 7.1 domain controller can manage hosts and servers running JBoss EAP 6 as long as they are JBoss EAP 6.2 or later.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For a JBoss EAP 7.0 domain controller managing JBoss EAP 7.0 hosts that are on a different patch release, there are no configuration changes needed. However, the JBoss EAP 7.0 domain controller must be running a patch release that is equal to or higher than the versions on the host controllers that it manages.
					</p></div></div><p>
					Complete the following tasks to successfully manage JBoss EAP 6 instances in a JBoss EAP 7 managed domain.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							<a class="link" href="#add_eap6_config_to_eap7" title="8.7.1.1. Add the JBoss EAP 6 Configuration to the JBoss EAP 7 Domain Controller">Add the JBoss EAP 6 configuration to the JBoss EAP 7 domain controller</a>.
						</li><li class="listitem">
							<a class="link" href="#adjust_eap6_profiles" title="8.7.1.2. Update the Behavior for the JBoss EAP 6 Profiles">Update the behavior for the JBoss EAP 6 profiles</a>.
						</li><li class="listitem">
							<a class="link" href="#update_eap6_servers_eap7_server_group" title="8.7.1.3. Set the Server Group for the JBoss EAP 6 Servers">Set the server group for the JBoss EAP 6 servers</a>.
						</li><li class="listitem">
							<a class="link" href="#prevent_eap6_servers_from_eap7_updates" title="8.7.1.4. Prevent the JBoss EAP 6 Instances from Receiving JBoss EAP 7 Updates">Prevent the JBoss EAP 6 instances from receiving JBoss EAP 7 updates</a>.
						</li></ol></div><p>
					Once these tasks are complete, you can manage your JBoss EAP 6 servers and configurations from the JBoss EAP 7 domain controller using the management CLI. Note that JBoss EAP 6 hosts will not be able to take advantage of new JBoss EAP 7 features, such as batch processing.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Because the management console is optimized for the latest version of JBoss EAP, you should not use it to update your JBoss EAP 6 hosts, servers, and profiles. Use the management CLI instead when managing your JBoss EAP 6 configurations from a JBoss EAP 7 managed domain.
					</p></div></div><section class="section" id="add_eap6_config_to_eap7"><div class="titlepage"><div><div><h4 class="title">8.7.1.1. Add the JBoss EAP 6 Configuration to the JBoss EAP 7 Domain Controller</h4></div></div></div><p>
						To allow the domain controller to manage your JBoss EAP 6 servers, you must provide the JBoss EAP 6 configuration details in the JBoss EAP 7 domain configuration. You can do this by copying the JBoss EAP 6 profiles, socket binding groups, and server groups to the JBoss EAP 7 <code class="literal">domain.xml</code> configuration file.
					</p><p>
						You will need to rename resources if any conflict with the existing names in the JBoss EAP 7 configuration. There are also some additional <a class="link" href="#adjust_eap6_profiles" title="8.7.1.2. Update the Behavior for the JBoss EAP 6 Profiles">adjustments</a> to make to ensure the proper behavior.
					</p><p>
						The following procedure uses the JBoss EAP 6 <code class="literal">default</code> profile, <code class="literal">standard-sockets</code> socket binding group, and <code class="literal">main-server-group</code> server group.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Edit the JBoss EAP 7 <code class="literal">domain.xml</code> configuration file. It is recommended to back up this file before editing.
							</li><li class="listitem"><p class="simpara">
								Copy the applicable JBoss EAP 6 profiles to the JBoss EAP 7 <code class="literal">domain.xml</code> file.
							</p><p class="simpara">
								This procedure assumes that the JBoss EAP 6 <code class="literal">default</code> profile was copied and renamed to <code class="literal">eap6-default</code>.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 <code class="literal">domain.xml</code></strong></p><p>
									
<pre class="programlisting language-xml">&lt;profiles&gt;
  ...
  &lt;profile name="eap6-default"&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Add the necessary extensions used by this profile.
							</p><p class="simpara">
								If your JBoss EAP 6 profile uses subsystems that are no longer present in JBoss EAP 7, you must add the appropriate extensions to the JBoss EAP domain configuration.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 <code class="literal">domain.xml</code></strong></p><p>
									
<pre class="programlisting language-xml">&lt;extensions&gt;
  ...
  &lt;extension module="org.jboss.as.configadmin"/&gt;
  &lt;extension module="org.jboss.as.threads"/&gt;
  &lt;extension module="org.jboss.as.web"/&gt;
&lt;extensions&gt;</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Copy the applicable JBoss EAP 6 socket binding groups to the JBoss EAP 7 <code class="literal">domain.xml</code> file.
							</p><p class="simpara">
								This procedure assumes that the JBoss EAP 6 <code class="literal">standard-sockets</code> socket binding group was copied and renamed to <code class="literal">eap6-standard-sockets</code>.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 <code class="literal">domain.xml</code></strong></p><p>
									
<pre class="programlisting language-xml">&lt;socket-binding-groups&gt;
  ...
  &lt;socket-binding-group name="eap6-standard-sockets" default-interface="public"&gt;
    ...
  &lt;/socket-binding-group&gt;
&lt;/socket-binding-groups&gt;</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Copy the applicable JBoss EAP 6 server groups to the JBoss EAP 7 <code class="literal">domain.xml</code> file.
							</p><p class="simpara">
								This procedure assumes that the JBoss EAP 6 <code class="literal">main-server-group</code> server group was copied and renamed to <code class="literal">eap6-main-server-group</code>. You must also update this server group to use the JBoss EAP 6 profile, <code class="literal">eap6-default</code>, and the JBoss EAP 6 socket binding group, <code class="literal">eap6-standard-sockets</code>.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 <code class="literal">domain.xml</code></strong></p><p>
									
<pre class="programlisting language-xml">&lt;server-groups&gt;
  ...
  &lt;server-group name="eap6-main-server-group" profile="eap6-default"&gt;
    ...
    &lt;socket-binding-group ref="eap6-standard-sockets"/&gt;
  &lt;/server-group&gt;
&lt;/server-groups&gt;</pre>

								</p></div></li></ol></div></section><section class="section" id="adjust_eap6_profiles"><div class="titlepage"><div><div><h4 class="title">8.7.1.2. Update the Behavior for the JBoss EAP 6 Profiles</h4></div></div></div><p>
						Additional updates to the profiles used by your JBoss EAP 6 instances are necessary depending on the JBoss EAP version and desired behavior. You may require additional changes depending on the subsystems and configuration that your existing JBoss EAP 6 instances use.
					</p><p>
						Start the JBoss EAP 7 domain controller and launch its management CLI to perform the following updates. These examples assume that the JBoss EAP 6 profile is <code class="literal">eap6-default</code>.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Remove the <code class="literal">bean-validation</code> subsystem.
							</p><p class="simpara">
								JBoss EAP 7 moved bean validation functionality from the <code class="literal">ee</code> subsystem into its own subsystem, <code class="literal">bean-validation</code>. If a JBoss EAP 7 domain controller sees a legacy <code class="literal">ee</code> subsystem, it adds the new <code class="literal">bean-validation</code> subsystem. However, the JBoss EAP 6 hosts will not recognize this subsystem, so it must be removed.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 Domain Controller CLI</strong></p><p>
									
<pre class="screen">/profile=eap6-default/subsystem=bean-validation:remove</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Set CDI 1.0 behavior.
							</p><p class="simpara">
								This is only necessary if you want CDI 1.0 behavior for your JBoss EAP 6 servers, as opposed to behavior of later CDI versions used in JBoss EAP 7. If you want CDI 1.0 behavior, make the following updates to the <code class="literal">weld</code> subsystem.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 Domain Controller CLI</strong></p><p>
									
<pre class="screen">/profile=eap6-default/subsystem=weld:write-attribute(name=require-bean-descriptor,value=true)

/profile=eap6-default/subsystem=weld:write-attribute(name=non-portable-mode,value=true)</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Enable datasource statistics for JBoss EAP 6.2.
							</p><p class="simpara">
								This is only necessary if your profile is being used by JBoss EAP 6.2 servers. JBoss EAP 6.3 introduced the <code class="literal">statistics-enabled</code> attribute, which defaults to <code class="literal">false</code> to not collect statistics; however, the JBoss EAP 6.2 behavior was to collect statistics. If this profile is used by a JBoss EAP 6.2 host and a host running a newer JBoss EAP version, the behavior would be inconsistent between hosts, which is not allowed. Therefore, profiles intended for use by a JBoss EAP 6.2 host should make the following change for their datasources.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 Domain Controller CLI</strong></p><p>
									
<pre class="screen">/profile=eap6-default/subsystem=datasources/data-source=ExampleDS:write-attribute(name=statistics-enabled,value=true)</pre>

								</p></div></li></ul></div></section><section class="section" id="update_eap6_servers_eap7_server_group"><div class="titlepage"><div><div><h4 class="title">8.7.1.3. Set the Server Group for the JBoss EAP 6 Servers</h4></div></div></div><p>
						If you renamed the server groups, you need to update the JBoss EAP 6 host configuration to use the new server groups specified in the JBoss EAP 7 configuration. This example uses the <code class="literal">eap6-main-server-group</code> server group specified in the JBoss EAP 7 <code class="literal">domain.xml</code>.
					</p><div class="formalpara"><p class="title"><strong>JBoss EAP 6 host-slave.xml</strong></p><p>
							
<pre class="programlisting language-xml">&lt;servers&gt;
    &lt;server name="server-one" group="eap6-main-server-group"/&gt;
    &lt;server name="server-two" group="eap6-main-server-group"&gt;
        &lt;socket-bindings port-offset="150"/&gt;
    &lt;/server&gt;
&lt;/servers&gt;</pre>

						</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							A host cannot use features or configuration settings that were introduced in a newer version of JBoss EAP than the one the host is running.
						</p></div></div></section><section class="section" id="prevent_eap6_servers_from_eap7_updates"><div class="titlepage"><div><div><h4 class="title">8.7.1.4. Prevent the JBoss EAP 6 Instances from Receiving JBoss EAP 7 Updates</h4></div></div></div><p>
						The domain controller in a managed domain forwards configuration updates to its host controllers. You must use the <code class="literal">host-exclude</code> configuration to specify the resources that should be hidden from particular versions. Choose the appropriate preconfigured <code class="literal">host-exclude</code> option for your JBoss EAP 6 version: <code class="literal">EAP62</code>, <code class="literal">EAP63</code>, <code class="literal">EAP64</code>, or <code class="literal">EAP64z</code>.
					</p><p>
						The <code class="literal">active-server-groups</code> attribute of the <code class="literal">host-exclude</code> configuration specifies the list of server groups that are used by a particular version. These server groups and their associated profiles, socket binding groups, and deployment resources will be available to hosts of this version, but all others will be hidden from these hosts.
					</p><p>
						This example assumes that the version is JBoss EAP 6.4.z and adds the JBoss EAP 6 server group <code class="literal">eap6-main-server-group</code> as an active server group.
					</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7 Domain Controller CLI</strong></p><p>
							
<pre class="programlisting language-xml">/host-exclude=EAP64z:write-attribute(name=active-server-groups,value=[eap6-main-server-group])</pre>

						</p></div><p>
						If necessary, you can specify additional socket binding groups used by your servers using the <code class="literal">active-socket-binding-groups</code> attribute. This is only required for socket binding groups that are not associated with the server groups specified in <code class="literal">active-server-groups</code>.
					</p></section></section><section class="section" id="configure_eap71_administer_eap70"><div class="titlepage"><div><div><h3 class="title">8.7.2. Configure a JBoss EAP 7.1 Domain Controller to Administer JBoss EAP 7.0 Instances</h3></div></div></div><p>
					A JBoss EAP 7.1 domain controller can manage hosts and servers running JBoss EAP 7.0.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For a JBoss EAP 7.1 domain controller managing JBoss EAP 7.1 hosts that are on a different patch release, there are no configuration changes needed. However, the JBoss EAP 7.1 domain controller must be running a patch release that is equal to or higher than the versions on the host controllers that it manages.
					</p></div></div><p>
					Complete the following tasks to successfully manage JBoss EAP 7.0 instances in a JBoss EAP 7.1 managed domain.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							<a class="link" href="#add_eap70_config_to_eap71" title="8.7.2.1. Add the JBoss EAP 7.0 Configuration to the JBoss EAP 7.1 Domain Controller">Add the JBoss EAP 7.0 configuration to the JBoss EAP 7.1 domain controller</a>.
						</li><li class="listitem">
							<a class="link" href="#update_eap70_servers_eap71_server_group" title="8.7.2.2. Set the Server Group for the JBoss EAP 7.0 Servers">Set the server group for the JBoss EAP 7.0 servers</a>.
						</li><li class="listitem">
							<a class="link" href="#prevent_eap70_servers_from_eap71_updates" title="8.7.2.3. Prevent the JBoss EAP 7.0 Instances from Receiving JBoss EAP 7.1 Updates">Prevent the JBoss EAP 7.0 instances from receiving JBoss EAP 7.1 updates</a>.
						</li></ol></div><p>
					Once these tasks are complete, you can manage your JBoss EAP 7.0 servers and configurations from the JBoss EAP 7.1 domain controller using the management CLI. Note that JBoss EAP 7.0 hosts will not be able to take advantage of new JBoss EAP 7.1 features, such as the <code class="literal">elytron</code> subsystem.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Because the management console is optimized for the latest version of JBoss EAP, you should not use it to update your JBoss EAP 7.0 hosts, servers, and profiles. Use the management CLI instead when managing your JBoss EAP 7.0 configurations from a JBoss EAP 7.1 managed domain.
					</p></div></div><section class="section" id="add_eap70_config_to_eap71"><div class="titlepage"><div><div><h4 class="title">8.7.2.1. Add the JBoss EAP 7.0 Configuration to the JBoss EAP 7.1 Domain Controller</h4></div></div></div><p>
						To allow the domain controller to manage your JBoss EAP 7.0 servers, you must provide the JBoss EAP 7.0 configuration details in the JBoss EAP 7.1 domain configuration. You can do this by copying the JBoss EAP 7.0 profiles, socket binding groups, and server groups to the JBoss EAP 7.1 <code class="literal">domain.xml</code> configuration file.
					</p><p>
						You will need to rename resources if any conflict with the existing names in the JBoss EAP 7.1 configuration.
					</p><p>
						The following procedure uses the JBoss EAP 7.0 <code class="literal">default</code> profile, <code class="literal">standard-sockets</code> socket binding group, and <code class="literal">main-server-group</code> server group.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Edit the JBoss EAP 7.1 <code class="literal">domain.xml</code> configuration file. It is recommended to back up this file before editing.
							</li><li class="listitem"><p class="simpara">
								Copy the applicable JBoss EAP 7.0 profiles to the JBoss EAP 7.1 <code class="literal">domain.xml</code> file.
							</p><p class="simpara">
								This procedure assumes that the JBoss EAP 7.0 <code class="literal">default</code> profile was copied and renamed to <code class="literal">eap70-default</code>.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7.1 <code class="literal">domain.xml</code></strong></p><p>
									
<pre class="programlisting language-xml">&lt;profiles&gt;
  ...
  &lt;profile name="eap70-default"&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Copy the applicable JBoss EAP 7.0 socket binding groups to the JBoss EAP 7.1 <code class="literal">domain.xml</code> file.
							</p><p class="simpara">
								This procedure assumes that the JBoss EAP 7.0 <code class="literal">standard-sockets</code> socket binding group was copied and renamed to <code class="literal">eap70-standard-sockets</code>.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7.1 <code class="literal">domain.xml</code></strong></p><p>
									
<pre class="programlisting language-xml">&lt;socket-binding-groups&gt;
  ...
  &lt;socket-binding-group name="eap70-standard-sockets" default-interface="public"&gt;
    ...
  &lt;/socket-binding-group&gt;
&lt;/socket-binding-groups&gt;</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Copy the applicable JBoss EAP 7.0 server groups to the JBoss EAP 7.1 <code class="literal">domain.xml</code> file.
							</p><p class="simpara">
								This procedure assumes that the JBoss EAP 7.0 <code class="literal">main-server-group</code> server group was copied and renamed to <code class="literal">eap70-main-server-group</code>. You must also update this server group to use the JBoss EAP 7.0 profile, <code class="literal">eap70-default</code>, and the JBoss EAP 7.0 socket binding group, <code class="literal">eap70-standard-sockets</code>.
							</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7.1 <code class="literal">domain.xml</code></strong></p><p>
									
<pre class="programlisting language-xml">&lt;server-groups&gt;
  ...
  &lt;server-group name="eap70-main-server-group" profile="eap70-default"&gt;
    ...
    &lt;socket-binding-group ref="eap70-standard-sockets"/&gt;
  &lt;/server-group&gt;
&lt;/server-groups&gt;</pre>

								</p></div></li></ol></div></section><section class="section" id="update_eap70_servers_eap71_server_group"><div class="titlepage"><div><div><h4 class="title">8.7.2.2. Set the Server Group for the JBoss EAP 7.0 Servers</h4></div></div></div><p>
						If you renamed the server groups, you need to update the JBoss EAP 7.0 host configuration to use the new server groups specified in the JBoss EAP 7.1 configuration. This example uses the <code class="literal">eap70-main-server-group</code> server group specified in the JBoss EAP 7.1 <code class="literal">domain.xml</code>.
					</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7.0 host-slave.xml</strong></p><p>
							
<pre class="programlisting language-xml">&lt;servers&gt;
    &lt;server name="server-one" group="eap70-main-server-group"/&gt;
    &lt;server name="server-two" group="eap70-main-server-group"&gt;
        &lt;socket-bindings port-offset="150"/&gt;
    &lt;/server&gt;
&lt;/servers&gt;</pre>

						</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							A host cannot use features or configuration settings that were introduced in a newer version of JBoss EAP than the one the host is running.
						</p></div></div></section><section class="section" id="prevent_eap70_servers_from_eap71_updates"><div class="titlepage"><div><div><h4 class="title">8.7.2.3. Prevent the JBoss EAP 7.0 Instances from Receiving JBoss EAP 7.1 Updates</h4></div></div></div><p>
						The domain controller in a managed domain forwards configuration updates to its host controllers. So that a JBoss EAP 7.0 host does not get configuration and resources that are specific to JBoss EAP 7.1, you must configure the JBoss EAP 7.0 host to ignore those resources. You can do this by setting the <code class="literal">ignore-unused-configuration</code> attribute on the JBoss EAP 7.0 host.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You can also use the <code class="literal">host-exclude</code> configuration to instruct the domain controller to hide certain resources from hosts running certain JBoss EAP versions. To see an example of how to use the <code class="literal">host-exclude</code> configuration, see <a class="link" href="#prevent_eap6_servers_from_eap7_updates" title="8.7.1.4. Prevent the JBoss EAP 6 Instances from Receiving JBoss EAP 7 Updates">Prevent the JBoss EAP 6 Instances from Receiving JBoss EAP 7 Updates</a>. For JBoss EAP 7.0 hosts, you use the <code class="literal">EAP70</code> <code class="literal">host-exclude</code> option.
						</p></div></div><p>
						Set the <code class="literal">ignore-unused-configuration</code> attribute to <code class="literal">true</code> in the JBoss EAP 7.0 host controller’s connection configuration to the remote domain controller.
					</p><div class="formalpara"><p class="title"><strong>JBoss EAP 7.0 host-slave.xml</strong></p><p>
							
<pre class="programlisting language-xml">&lt;domain-controller&gt;
    &lt;remote security-realm="ManagementRealm" ignore-unused-configuration="true"&gt;
        &lt;discovery-options&gt;
            &lt;static-discovery name="primary" protocol="${jboss.domain.master.protocol:remote}" host="${jboss.domain.master.address}" port="${jboss.domain.master.port:9990}"/&gt;
        &lt;/discovery-options&gt;
    &lt;/remote&gt;
&lt;/domain-controller&gt;</pre>

						</p></div><p>
						With this setting, only the server groups used by this host, and their associated profiles, socket binding groups, and deployment resources will be made available to the host. All others will be ignored.
					</p></section></section></section><section class="section" id="managing_jboss_eap_profiles"><div class="titlepage"><div><div><h2 class="title">8.8. Managing JBoss EAP Profiles</h2></div></div></div><section class="section" id="about_profiles"><div class="titlepage"><div><div><h3 class="title">8.8.1. About Profiles</h3></div></div></div><p>
					JBoss EAP uses <span class="emphasis"><em>profiles</em></span> as a way to organize which subsystems are available to a server. A profile consists of a collection of available subsystems along with each subsystem’s specific configuration. A profile with a large number of subsystems results in a server with a large set of capabilities. A profile with a small, focused set of subsystems will have fewer capabilities but a smaller footprint.
				</p><p>
					JBoss EAP comes with five predefined profiles that should satisfy most use cases:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">default</span></dt><dd>
								Includes commonly used subsystems, such as <code class="literal">logging</code>, <code class="literal">security</code>, <code class="literal">datasources</code>, <code class="literal">infinispan</code>, <code class="literal">webservices</code>, <code class="literal">ee</code>, <code class="literal">ejb3</code>, <code class="literal">transactions</code>, and so on.
							</dd><dt><span class="term">ha</span></dt><dd>
								Includes the subsystems provided in the <span class="emphasis"><em>default</em></span> profile with the addition of the <code class="literal">jgroups</code> and <code class="literal">modcluster</code> subsystems for high availability
							</dd><dt><span class="term">full</span></dt><dd>
								Includes the subsystems provided in the <span class="emphasis"><em>default</em></span> profile with the addition of the <code class="literal">messaging-activemq</code> and <code class="literal">iiop-openjdk</code> subsystems
							</dd><dt><span class="term">full-ha</span></dt><dd>
								Includes the subsystems provided in the <span class="emphasis"><em>full</em></span> profile with the addition of the <code class="literal">jgroups</code> and <code class="literal">modcluster</code> subsystems for high availability
							</dd><dt><span class="term">load-balancer</span></dt><dd>
								Includes the minimum subsystems necessary to use the built-in mod_cluster front-end load balancer to load balance other JBoss EAP instances.
							</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						JBoss EAP offers the ability to disable extensions or unload drivers and other services manually by removing the subsystems from the configuration of existing profiles. However, for most cases this is unnecessary. Since JBoss EAP dynamically loads subsystems as they are needed, if the server or an application never use a subsystem, it will not be loaded.
					</p></div></div><p>
					In cases where the existing profiles do not provide the necessary capabilities, JBoss EAP also provides the ability to define custom profiles as well.
				</p></section><section class="section" id="cloning_a_profile"><div class="titlepage"><div><div><h3 class="title">8.8.2. Cloning a Profile</h3></div></div></div><p>
					JBoss EAP allows you to create a new profile in a managed domain by cloning an existing profile. This will create a copy of the original profile’s configuration and subsystems.
				</p><p>
					A profile can be cloned using the management CLI by using the <code class="literal">clone</code> operation on the desired profile to clone.
				</p><pre class="screen">/profile=full-ha:clone(to-profile=cloned-profile)</pre><p>
					You can also clone a profile from the management console by selecting the desired profile to clone and clicking <span class="strong strong"><strong>Clone</strong></span>.
				</p></section><section class="section" id="creating_hierarchical_profiles"><div class="titlepage"><div><div><h3 class="title">8.8.3. Creating Hierarchical Profiles</h3></div></div></div><p>
					In a managed domain, you can create a hierarchy of profiles. This allows you to create a base profile with common extensions that other profiles can inherit.
				</p><p>
					The managed domain defines several profiles in <code class="literal">domain.xml</code>. If multiple profiles use the same configuration for a particular subsystem, you can configure it in just one place instead of different profiles. The values in parent profiles cannot be overridden.
				</p><p>
					In addition, each profile must be self-sufficient. If an element or subsystem is referenced, then it must be defined in the profile where it is referenced.
				</p><p>
					A profile can include other profiles in a hierarchy using the management CLI by using the <code class="literal">list-add</code> operation and providing the profile to include.
				</p><pre class="screen">/profile=new-profile:list-add(name=includes, value=<span class="emphasis"><em>PROFILE_NAME</em></span>)</pre></section></section></section><section class="chapter" id="configuring_jvm_settings"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Configuring JVM Settings</h1></div></div></div><p>
			Configuration of Java Virtual Machine (JVM) settings is different for a standalone JBoss EAP server, or a JBoss EAP server in a managed domain.
		</p><p>
			For a standalone JBoss EAP server instance, the server startup processes pass JVM settings to the JBoss EAP server at startup. These can be declared from the command line before launching JBoss EAP, or using the <span class="strong strong"><strong>System Properties</strong></span> page under <span class="strong strong"><strong>Configuration</strong></span> in the management console.
		</p><p>
			In a managed domain, JVM settings are declared in the <code class="literal">host.xml</code> and <code class="literal">domain.xml</code> configuration files, and can be configured at host, server group, or server levels.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				System properties must be configured in <code class="literal">JAVA_OPTS</code> to be used by JBoss EAP modules (such as the logging manager) during startup.
			</p></div></div><section class="section" id="jvm_settings_standalone_server"><div class="titlepage"><div><div><h2 class="title">9.1. Configuring JVM Settings for a Standalone Server</h2></div></div></div><p>
				JVM settings for standalone JBoss EAP server instances can be declared at runtime by setting the <code class="literal">JAVA_OPTS</code> environment variable before starting the server.
			</p><p>
				An example of setting the <code class="literal">JAVA_OPTS</code> environment variable on Linux is shown below.
			</p><pre class="screen">$ export JAVA_OPTS="-Xmx1024M"</pre><p>
				The same setting can be used in a Microsoft Windows environment:
			</p><pre class="screen">set JAVA_OPTS="Xmx1024M"</pre><p>
				Alternatively, JVM settings can be added to the <code class="literal">standalone.conf</code> file, or <code class="literal">standalone.conf.bat</code> for Windows Server, in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin</code> folder, which contains examples of options to pass to the JVM.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Setting the <code class="literal">JAVA_OPTS</code> environment variable will override the default values from <code class="literal">standalone.conf</code>, which may cause JBoss EAP startup issues.
				</p></div></div></section><section class="section" id="jvm_settings_managed_domain"><div class="titlepage"><div><div><h2 class="title">9.2. Configuring JVM Settings for a Managed Domain</h2></div></div></div><p>
				In a JBoss EAP managed domain, you can define JVM settings at multiple levels. You can define custom JVM settings on a particular host, and then apply those settings to server groups, or to individual server instances.
			</p><p>
				By default, server groups and individual servers will inherit the JVM settings from their parent, but you can choose to override JVM settings at each level.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The JVM settings in <code class="literal">domain.conf</code>, or <code class="literal">domain.conf.bat</code> for Windows Server, are applied to the Java process of the JBoss EAP host controller, and not the individual JBoss EAP server instances controlled by that host controller.
				</p></div></div><section class="section" id="jvm_host_controller"><div class="titlepage"><div><div><h3 class="title">9.2.1. Defining JVM Settings on a Host Controller</h3></div></div></div><p>
					You can define JVM settings on a host controller, and apply those settings to server groups or individual servers. JBoss EAP comes with a <code class="literal">default</code> JVM setting, but the following management CLI command demonstrates creating a new JVM setting named <code class="literal">production_jvm</code> with some custom JVM settings and options.
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/jvm=production_jvm:add(heap-size=2048m, max-heap-size=2048m, max-permgen-size=512m, stack-size=1024k, jvm-options=["-XX:-UseParallelGC"])</pre><p>
					See <a class="link" href="#jvm_config_attributes" title="A.13. Managed Domain JVM Configuration Attributes">Managed Domain JVM Configuration Attributes</a> for descriptions of all available options.
				</p><p>
					You can also create and edit JVM settings in the JBoss EAP management console by navigating to <span class="strong strong"><strong>Runtime</strong></span> → <span class="strong strong"><strong>Hosts</strong></span>, choosing a host and clicking <span class="strong strong"><strong>View</strong></span>, and selecting the <span class="strong strong"><strong>JVMs</strong></span> tab.
				</p><p>
					These settings are stored in the within the <code class="literal">&lt;jvm&gt;</code> tag in <code class="literal">host.xml</code>.
				</p></section><section class="section" id="jvm_server_group"><div class="titlepage"><div><div><h3 class="title">9.2.2. Applying JVM Settings to a Server Group</h3></div></div></div><p>
					When creating a server group, you can specify a JVM configuration that all servers in the group will use. The following management CLI commands demonstrate creating a server group name <code class="literal">groupA</code> that uses the <code class="literal">production_jvm</code> JVM settings that were shown in <a class="link" href="#jvm_host_controller" title="9.2.1. Defining JVM Settings on a Host Controller">the previous example</a>.
				</p><pre class="screen">/server-group=groupA:add(profile=default, socket-binding-group=standard-sockets)
/server-group=groupA/jvm=production_jvm:add</pre><p>
					All servers in the server group will inherit JVM settings from <code class="literal">production_jvm</code>.
				</p><p>
					You can also override specific JVM settings at the server group level. For example, to set a different heap size, you can use the following command:
				</p><pre class="screen">/server-group=groupA/jvm=production_jvm:write-attribute(name=heap-size,value="1024m")</pre><p>
					After applying the above command, the server group <code class="literal">groupA</code> will inherit the JVM settings from <code class="literal">production_jvm</code>, except for the heap size which has an overridden value of <code class="literal">1024m</code>.
				</p><p>
					See <a class="link" href="#jvm_config_attributes" title="A.13. Managed Domain JVM Configuration Attributes">Managed Domain JVM Configuration Attributes</a> for descriptions of all available options.
				</p><p>
					You can also edit server group JVM settings in the JBoss EAP management console by navigating to <span class="strong strong"><strong>Runtime</strong></span> → <span class="strong strong"><strong>Server Groups</strong></span>, choosing a server group and clicking <span class="strong strong"><strong>View</strong></span>, and selecting the <span class="strong strong"><strong>JVMs</strong></span> tab.
				</p><p>
					These settings for a server group are stored in <code class="literal">domain.xml</code>.
				</p></section><section class="section" id="applying_jvm_settings_to_an_individual_server"><div class="titlepage"><div><div><h3 class="title">9.2.3. Applying JVM Settings to an Individual Server</h3></div></div></div><p>
					By default, an individual JBoss EAP server instance will inherit the JVM settings of the server group it belongs to. However, you can choose to override the inherited settings with another complete JVM setting definition from the host controller, or choose to override specific JVM settings.
				</p><p>
					For example, the following command overrides the JVM definition of the <a class="link" href="#jvm_server_group" title="9.2.2. Applying JVM Settings to a Server Group">server group in the previous example</a>, and sets the JVM settings for <code class="literal">server-one</code> to the <code class="literal">default</code> JVM definition:
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=server-one/jvm=default:add</pre><p>
					Also, similar to server groups, you can override specific JVM settings at the server level. For example, to set a different heap size, you can use the following command:
				</p><pre class="screen">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server-config=server-one/jvm=default:write-attribute(name=heap-size,value="1024m")</pre><p>
					See <a class="link" href="#jvm_config_attributes" title="A.13. Managed Domain JVM Configuration Attributes">Managed Domain JVM Configuration Attributes</a> for descriptions of all available options.
				</p><p>
					You can also edit server JVM settings in the JBoss EAP management console by navigating to <span class="strong strong"><strong>Runtime</strong></span> → <span class="strong strong"><strong>Hosts</strong></span>, choosing the host, clicking <span class="strong strong"><strong>View</strong></span> on the server, and selecting the <span class="strong strong"><strong>JVMs</strong></span> tab.
				</p><p>
					These settings for an individual server are stored in <code class="literal">host.xml</code>.
				</p></section></section><section class="section" id="displaying_the_jvm_status"><div class="titlepage"><div><div><h2 class="title">9.3. Displaying the JVM Status</h2></div></div></div><p>
				You can view the status of JVM resources, such as heap and thread usage, for standalone or managed domain servers from the management console. While statistics are not displayed in real time, you can click <span class="strong strong"><strong>Refresh</strong></span> to provide an up-to-date overview of JVM resources.
			</p><p>
				To display the JVM status for a standalone JBoss EAP server:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Navigate to the <span class="strong strong"><strong>Runtime</strong></span> tab, select the server, and select <span class="strong strong"><strong>Status</strong></span>.
					</li></ul></div><p>
				To display the JVM status for a JBoss EAP server in a managed domain:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Navigate to <span class="strong strong"><strong>Runtime</strong></span> → <span class="strong strong"><strong>Hosts</strong></span>, select the host and server, and select <span class="strong strong"><strong>Status</strong></span>.
					</li></ul></div><p>
				This shows the following heap usage information:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Max</span></dt><dd>
							The maximum amount of memory that can be used for memory management.
						</dd><dt><span class="term">Used</span></dt><dd>
							The amount of used memory.
						</dd><dt><span class="term">Committed</span></dt><dd>
							The amount of memory that is committed for the Java Virtual Machine to use.
						</dd></dl></div><p>
				Other information, such as JVM uptime and thread usage, is also available.
			</p></section><section class="section" id="tuning_jvm"><div class="titlepage"><div><div><h2 class="title">9.4. Tuning the JVM</h2></div></div></div><p>
				For tips on optimizing JVM performance, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#jvm_tuning" title="This content is not included in Mimir.">JVM Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></section></section><section class="chapter" id="mail_subsystem"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Mail Subsystem</h1></div></div></div><section class="section" id="configuring_the_mail_subsystem"><div class="titlepage"><div><div><h2 class="title">10.1. Configuring the Mail Subsystem</h2></div></div></div><p>
				The <code class="literal">mail</code> subsystem allows you to configure mail sessions in JBoss EAP and then inject those sessions into applications using JNDI. It also supports configuration using the Java EE <code class="literal">@MailSessionDefinition</code> and <code class="literal">@MailSessionDefinitions</code> annotations.
			</p><h4 id="configuring_smtp_server_for_use_in_an_application">Configuring SMTP server for use in an application</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Configure the SMTP server and the outbound socket binding using the following CLI commands, for example:
					</p><pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=my-smtp:add(host=localhost, port=25)</pre><pre class="screen">/subsystem=mail/mail-session=mySession:add(jndi-name=java:jboss/mail/MySession)</pre><pre class="screen">/subsystem=mail/mail-session=mySession/server=smtp:add(outbound-socket-binding-ref=my-smtp, username=user, password=pass, tls=true)</pre></li><li class="listitem"><p class="simpara">
						Call the configured mail session within an application
					</p><pre class="programlisting language-java">@Resource(lookup="java:jboss/mail/MySession")
private Session session;</pre></li></ol></div><p>
				For a full list of the attributes available for configuring mail sessions and servers, see <a class="link" href="#mail_attributes" title="A.14. Mail Subsystem Attributes">Mail Subsystem Attributes</a>.
			</p></section><section class="section" id="configuring_custom_transports"><div class="titlepage"><div><div><h2 class="title">10.2. Configuring Custom Transports</h2></div></div></div><p>
				When using a standard mail server, such as POP3 or IMAP, the mail server has a set of attributes that can be defined. Some of these attributes are mandatory. The most important of these is the <code class="literal">outbound-socket-binding-ref</code>, which is a reference to the outbound mail socket binding and is defined with a host address and port number.
			</p><p>
				Defining the <code class="literal">outbound-socket-binding-ref</code> may not be the most effective solution for users who have their host configuration using multiple hosts for load balancing purposes. Standard JavaMail does not support host configuration using multiple hosts for load balancing. Therefore, users who have this configuration using multiple hosts are required to implement custom mail transports. These custom mail transports do not require the <code class="literal">outbound-socket-binding-ref</code> and allow custom host property formats.
			</p><p>
				You can configure custom mail transports from the management CLI.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add a new mail session and specify the JNDI name.
					</p><pre class="screen">/subsystem=mail/mail-session=mySession:add(jndi-name=java:jboss/mail/MySession)</pre></li><li class="listitem"><p class="simpara">
						Add an outbound socket binding and specify the host and port.
					</p><pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=my-smtp-binding:add(host=localhost, port=25)</pre></li><li class="listitem"><p class="simpara">
						Add an SMTP server and specify the outbound socket binding, username, and password.
					</p><pre class="screen">/subsystem=mail/mail-session=mySession/server=smtp:add(outbound-socket-binding-ref=my-smtp-binding, username=user, password=pass, tls=true)</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can configure a POP3 or IMAP server using similar steps.
				</p><div class="formalpara"><p class="title"><strong>POP3 Server</strong></p><p>
						
<pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=my-pop3-binding:add(host=localhost, port=110)
/subsystem=mail/mail-session=mySession/server=pop3:add(outbound-socket-binding-ref=my-pop3-binding, username=user, password=pass)</pre>

					</p></div><div class="formalpara"><p class="title"><strong>IMAP Server</strong></p><p>
						
<pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=my-imap-binding:add(host=localhost, port=143)
/subsystem=mail/mail-session=mySession/server=imap:add(outbound-socket-binding-ref=my-imap-binding, username=user, password=pass)</pre>

					</p></div></div></div><p>
				To use a custom server, create a custom mail server without an outbound socket binding. You can specify the host information in the properties definition of the custom mail server. For example:
			</p><pre class="screen">/subsystem=mail/mail-session=mySession/custom=myCustomServer:add(username=user,password=pass, properties={"host" =&gt; "myhost", "my-property" =&gt;"value"})</pre><p>
				If you define a custom protocol, any property name that includes a period (<code class="literal">.</code>) is considered a fully-qualified name and is passed directly. Any other format, such as <code class="literal">my-property</code>, is translated in the following format: <code class="literal">mail.server-name.my-property</code>.
			</p><p>
				The following XML is an example mail configuration that includes custom servers.
			</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:mail:3.0"&gt;
   &lt;mail-session name="default" jndi-name="java:jboss/mail/Default"&gt;
        &lt;smtp-server outbound-socket-binding-ref="mail-smtp"/&gt;
   &lt;/mail-session&gt;
    &lt;mail-session name="myMail" from="user.name@domain.org" jndi-name="java:/Mail"&gt;
        &lt;smtp-server password="password" username="user" tls="true" outbound-socket-binding-ref="mail-smtp"/&gt;
        &lt;pop3-server outbound-socket-binding-ref="mail-pop3"/&gt;
        &lt;imap-server password="password" username="nobody" outbound-socket-binding-ref="mail-imap"/&gt;
    &lt;/mail-session&gt;
    &lt;mail-session name="custom" jndi-name="java:jboss/mail/Custom" debug="true"&gt;
        &lt;custom-server name="smtp" password="password" username="username"&gt;
            &lt;property name="host" value="mail.example.com"/&gt;
        &lt;/custom-server&gt;
    &lt;/mail-session&gt;
    &lt;mail-session name="custom2" jndi-name="java:jboss/mail/Custom2" debug="true"&gt;
        &lt;custom-server name="pop3" outbound-socket-binding-ref="mail-pop3"&gt;
            &lt;property name="custom-prop" value="some-custom-prop-value"/&gt;
        &lt;/custom-server&gt;
    &lt;/mail-session&gt;
&lt;/subsystem&gt;</pre></section><section class="section" id="mail_subsystem_cred_store"><div class="titlepage"><div><div><h2 class="title">10.3. Use a Credential Store for Passwords</h2></div></div></div><p>
				In addition to providing clear-text passwords in the <code class="literal">mail</code> subsystem, you can also use a credential store to provide passwords. The <code class="literal">elytron</code> subsystem provides the ability to create credential stores to securely house and use your passwords throughout JBoss EAP. You can find more details on creating and using credential stores in the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#credential_store" title="This content is not included in Mimir.">Credential Store</a> section of <span class="emphasis"><em>How to Configure Server Security</em></span>.
			</p><div class="formalpara"><p class="title"><strong>Using a Credential Store Using the Management CLI</strong></p><p>
					
<pre class="screen">/subsystem=mail/mail-session=mySession/server=smtp:add(outbound-socket-binding-ref=my-smtp-binding, username=user, credential-reference={store=exampleCS, alias=mail-session-pw}, tls=true)</pre>

				</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The following is an example of how to specify a <code class="literal">credential-reference</code> attribute that uses a clear-text password.
				</p><pre class="screen">credential-reference={clear-text="MASK-Ewcyuqd/nP9;A1B2C3D4;351"}</pre></div></div><div class="orderedlist"><p class="title"><strong>Using a Credential Store Using the Management Console</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Access the management console. For more information, see the <a class="link" href="#management_console_overview" title="3.4.2. Management Console">Management Console</a>.
					</li><li class="listitem">
						Navigate to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Mail</strong></span>.
					</li><li class="listitem">
						Select the appropriate mail session and click <span class="strong strong"><strong>View</strong></span>.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Server</strong></span> and choose the appropriate mail session server. You can configure the credential reference in the <span class="strong strong"><strong>Credential Reference</strong></span> tab and edit other attributes in the <span class="strong strong"><strong>Attributes</strong></span> tab.
					</li></ol></div></section></section><section class="chapter" id="logging_with_jboss_eap"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Logging with JBoss EAP</h1></div></div></div><p>
			JBoss EAP provides highly-configurable logging facilities for both its own internal use and for use by deployed applications. The <code class="literal">logging</code> subsystem is based on JBoss LogManager and supports several third-party application logging frameworks in addition to JBoss Logging.
		</p><section class="section" id="about_server_logging"><div class="titlepage"><div><div><h2 class="title">11.1. About Server Logging</h2></div></div></div><section class="section" id="server_logging"><div class="titlepage"><div><div><h3 class="title">11.1.1. Server Logging</h3></div></div></div><p>
					By default, all JBoss EAP log entries are written to the <code class="literal">server.log</code> file. The location of this file depends on your operating mode.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Standalone server: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/server.log</code>
						</li><li class="listitem">
							Managed domain: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/log/server.log</code>
						</li></ul></div><p>
					This file is often referred to as the server log. For more information, see the <a class="link" href="#root_logger" title="11.3.1. Root Logger">Root Logger</a> section.
				</p></section><section class="section" id="bootup_logging"><div class="titlepage"><div><div><h3 class="title">11.1.2. Bootup Logging</h3></div></div></div><p>
					During bootup, JBoss EAP logs information about the Java environment and the startup of each service. This log can be useful when troubleshooting. By default, all log entries are written to the <a class="link" href="#server_logging" title="11.1.1. Server Logging">server log</a>.
				</p><p>
					Bootup logging configuration is specified in the <code class="literal">logging.properties</code> configuration file, which is active until the JBoss EAP <code class="literal">logging</code> subsystem is started and takes over. The location of this file depends on your operating mode.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Standalone server: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/logging.properties</code>
						</li><li class="listitem"><p class="simpara">
							Managed domain:
						</p><p class="simpara">
							There is a <code class="literal">logging.properties</code> file for the domain controller and for each server.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Domain controller: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/logging.properties</code>
								</li><li class="listitem">
									Server: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/data/logging.properties</code>
								</li></ul></div></li></ul></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						It is recommended that you do not directly edit the <code class="literal">logging.properties</code> file unless you know of a specific use case that requires it. Before doing so, it is recommended that you open a support case from the <a class="link" href="/">Red Hat Customer Portal</a>.
					</p><p>
						Changes made manually to the <code class="literal">logging.properties</code> file are overwritten on startup.
					</p></div></div><section class="section" id="view_bootup_errors"><div class="titlepage"><div><div><h4 class="title">11.1.2.1. View Bootup Errors</h4></div></div></div><p>
						When troubleshooting JBoss EAP, checking for errors that occurred during bootup should be one of the first steps taken. You can then use the information provided to diagnose and resolve their causes. Open a support case for assistance in troubleshooting bootup errors.
					</p><p>
						There are two methods of viewing bootup errors, each with its advantages. You can examine the <a class="link" href="#examine_server_log" title="Examine the Server Log File"><code class="literal">server.log</code> file</a> or read the boot errors using the <a class="link" href="#read_boot_errors_cli" title="Read the Boot Errors from the Management CLI"><code class="literal">read-boot-errors</code> management CLI command</a>.
					</p><h5 id="examine_server_log">Examine the Server Log File</h5><p>
						You can open the <code class="literal">server.log</code> file to view any errors that occurred during bootup.
					</p><p>
						This method allows you to see each error message together with possibly related messages, allowing you to get more information about <span class="emphasis"><em>why</em></span> an error might have occurred. It also allows you to see error messages in plain text format.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Open the file <code class="literal">server.log</code> in a file viewer.
							</li><li class="listitem">
								Navigate to the end of the file.
							</li><li class="listitem">
								Search backward for the <code class="literal">WFLYSRV0049</code> message identifier, which marks the start of the latest bootup sequence.
							</li><li class="listitem">
								Search the log from that point onward for instances of <code class="literal">ERROR</code>. Each instance will include a description of the error and list the modules involved.
							</li></ol></div><p>
						The following is an example error description from the <code class="literal">server.log</code> log file.
					</p><pre class="screen">2016-03-16 14:32:01,627 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.undertow.listener.default: org.jboss.msc.service.StartException in service jboss.undertow.listener.default: Could not start http listener
        at org.wildfly.extension.undertow.ListenerService.start(ListenerService.java:142)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.BindException: Address already in use
        ...</pre><h5 id="read_boot_errors_cli">Read the Boot Errors from the Management CLI</h5><p>
						You can use the <code class="literal">read-boot-errors</code> management CLI command to view errors if a server starts but reported errors during bootup.
					</p><p>
						This method does not require access to the server’s file system, which is useful for anyone responsible for monitoring for errors who does not have file system access. Since it is a management CLI command, it can be used in a script. For example, you could write a script that starts multiple JBoss EAP instances, then checks for errors that occurred on bootup.
					</p><p>
						Run the following management CLI command.
					</p><pre class="screen">/core-service=management:read-boot-errors</pre><p>
						Any errors that occurred during bootup will be listed.
					</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; [
        {
            "failed-operation" =&gt; {
                "operation" =&gt; "add",
                "address" =&gt; [
                    ("subsystem" =&gt; "undertow"),
                    ("server" =&gt; "default-server"),
                    ("http-listener" =&gt; "default")
                ]
            },
            "failure-description" =&gt; "{\"WFLYCTL0080: Failed services\" =&gt; {\"jboss.undertow.listener.default\" =&gt; \"org.jboss.msc.service.StartException in service jboss.undertow.listener.default: Could not start http listener
    Caused by: java.net.BindException: Address already in use\"}}",
            "failed-services" =&gt; {"jboss.undertow.listener.default" =&gt; "org.jboss.msc.service.StartException in service jboss.undertow.listener.default: Could not start http listener
    Caused by: java.net.BindException: Address already in use"}
        }
        ...
    ]
}</pre></section></section><section class="section" id="garbage_colleciton_logging"><div class="titlepage"><div><div><h3 class="title">11.1.3. Garbage Collection Logging</h3></div></div></div><p>
					Garbage collection logging logs all garbage collection activity to plain text log files. These log files can be useful for diagnostic purposes. Garbage collection logging is enabled by default for a JBoss EAP standalone server on all supported configurations <span class="emphasis"><em>except</em></span> IBM Java development kit.
				</p><p>
					The location of the garbage collection log is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/gc.log.DIGIT.current</code>. Garbage collection logs are limited to 3 MB each, and up to five files are rotated.
				</p><p>
					It is strongly recommended to leave garbage collection logging enabled as it can be useful in troubleshooting and should have minimal overhead. However, you can disable garbage collection logging for a standalone server by setting the <code class="literal">GC_LOG</code> variable to <code class="literal">false</code> before starting the server. For example:
				</p><pre class="screen">$ export GC_LOG=false
$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh</pre></section><section class="section" id="default_log_file_locations"><div class="titlepage"><div><div><h3 class="title">11.1.4. Default Log File Locations</h3></div></div></div><p>
					The following log files are created for the default logging configurations. The default configuration writes the server log files using periodic log handlers.
				</p><div class="table" id="idm140321711568544"><p class="title"><strong>Table 11.1. Default Log File for a Standalone Server</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321722382752" scope="col">Log File</th><th align="left" valign="top" id="idm140321722381664" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321722382752"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/server.log
								</p>
								 </td><td align="left" valign="top" headers="idm140321722381664"> <p>
									Contains server log messages, including server startup messages.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321722382752"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/gc.log.DIGIT.current
								</p>
								 </td><td align="left" valign="top" headers="idm140321722381664"> <p>
									Contains garbage collection details.
								</p>
								 </td></tr></tbody></table></div></div><div class="table" id="idm140321724959472"><p class="title"><strong>Table 11.2. Default Log Files for a Managed Domain</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321716848128" scope="col">Log File</th><th align="left" valign="top" id="idm140321716847040" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321716848128"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/domain/log/host-controller.log
								</p>
								 </td><td align="left" valign="top" headers="idm140321716847040"> <p>
									Contains log messages related to the startup of the host controller.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321716848128"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/domain/log/process-controller.log
								</p>
								 </td><td align="left" valign="top" headers="idm140321716847040"> <p>
									Contains log messages related to the startup of the process controller.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321716848128"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/log/server.log
								</p>
								 </td><td align="left" valign="top" headers="idm140321716847040"> <p>
									Contains log messages for the named server, including server startup messages.
								</p>
								 </td></tr></tbody></table></div></div></section><section class="section" id="default_locale_server"><div class="titlepage"><div><div><h3 class="title">11.1.5. Set the Default Locale of the Server</h3></div></div></div><p>
					You can configure the default locale for JBoss EAP by setting JVM properties in the appropriate startup configuration file. The startup configuration file is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> for a standalone server or <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> for a managed domain.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For Windows Server, the JBoss EAP startup configuration files are <code class="literal">standalone.conf.bat</code> and <code class="literal">domain.conf.bat</code>.
					</p></div></div><p>
					Log messages that have been internationalized and localized will use this default locale. See the JBoss EAP <span class="emphasis"><em>Development Guide</em></span> for information on <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#internationalization_and_localization">creating internationalized log messages</a>.
				</p><h5 id="set_the_language">Set the Language</h5><p>
					Specify the language by setting the <code class="literal">user.language</code> property using the <code class="literal">JAVA_OPTS</code> variable. For example, add the following line to the startup configuration file to set a French locale.
				</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Duser.language=fr"</pre><p>
					Log messages that have been internationalized and localized will now output in French.
				</p><h5 id="set_the_language_and_country">Set the Language and Country</h5><p>
					In addition to the language, it may also be necessary to specify the country by setting the <code class="literal">user.country</code> property. For example, add the following line to the startup configuration file to set the Portuguese locale for Brazil.
				</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Duser.language=pt -Duser.country=BR"</pre><p>
					Log messages that have been internationalized and localized will now output in Brazilian Portuguese.
				</p><h5 id="server_locale_property">Set the Server Locale Using the org.jboss.logging.locale Property</h5><p>
					You can configure the <code class="literal">org.jboss.logging.locale</code> property to override the locale for messages logged using JBoss Logging, including any messages from JBoss EAP and its owned dependencies. Other dependencies, such as JSF, cannot get an overridden locale.
				</p><p>
					To start the JBoss EAP server with a different locale than the system default, you can edit <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> or the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> file, depending on your operating mode, and append the following command to set the JVM parameter for the required locale. The value of the property must be specified in the BCP 47 format. For example, to set Brazilian Portuguese, use pt-BR.
				</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Dorg.jboss.logging.locale=pt-BR"</pre></section></section><section class="section" id="viewing_log_files"><div class="titlepage"><div><div><h2 class="title">11.2. Viewing Log Files</h2></div></div></div><p>
				Viewing server and application logs is important in order to help diagnose errors, performance problems, and other issues. Some users may prefer to view logs directly on the server file system. For those who do not have direct access to the file system, or who prefer a graphical interface, JBoss EAP allows you to view logs from the management console. You can also view logs using the management CLI.
			</p><p>
				For a log to be accessible from one of the management interfaces, it must be located in the directory specified by the server’s <code class="literal">jboss.server.log.dir</code> property and be defined as a file, periodic rotating, size rotating, or periodic size rotating log handler. RBAC role assignments are also honored, so a user logged in to the management console or CLI can only view logs that they are authorized to access.
			</p><h4 id="view_logs_management_console">View Logs from the Management Console</h4><p>
				You can view logs directly from the management console.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Select the <span class="strong strong"><strong>Runtime</strong></span> tab and select the appropriate server.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Log Files</strong></span> and choose a log file from the list.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>View</strong></span> to view and search log contents, or choose <span class="strong strong"><strong>Download</strong></span> from the drop down to download the log file to your local file system.
					</li></ol></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					The management console log viewer is not intended to be a text editor replacement for viewing very large log files, for example, greater than 100MB. You will be prompted for confirmation if you attempt to open a log file that is larger than 15MB. Opening a very large file in the management console could crash your browser, so you should always download large log files locally and open them in a text editor.
				</p></div></div><h4 id="view_logs_management_cli">View Logs from the Management CLI</h4><p>
				You can read the contents of log files from the management CLI using the <code class="literal">read-log-file</code> command. By default, this displays the last <code class="literal">10</code> lines of the specified log file.
			</p><pre class="screen">/subsystem=logging/log-file=<span class="emphasis"><em>LOG_FILE_NAME</em></span>:read-log-file</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In a managed domain, precede this command with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span></code>.
				</p></div></div><p>
				You can use the following parameters to customize the log output.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">encoding</span></dt><dd>
							The character encoding used to read the file.
						</dd><dt><span class="term">lines</span></dt><dd>
							The number of lines to read from the file. A value of <code class="literal">-1</code> will read all log lines. The default is <code class="literal">10</code>.
						</dd><dt><span class="term">skip</span></dt><dd>
							The number of lines to skip before reading. The default is <code class="literal">0</code>.
						</dd><dt><span class="term">tail</span></dt><dd>
							Whether to read from the end of the file. Defaults to <code class="literal">true</code>.
						</dd></dl></div><p>
				For example, the following management CLI command reads the first <code class="literal">5</code> lines from the top of the <code class="literal">server.log</code> log file.
			</p><pre class="screen">/subsystem=logging/log-file=server.log:read-log-file(lines=5,tail=false)</pre><p>
				This produces the following output.
			</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; [
        "2016-03-24 08:49:26,612 INFO  [org.jboss.modules] (main) JBoss Modules version 1.5.1.Final-redhat-1",
        "2016-03-24 08:49:26,788 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final-redhat-1",
        "2016-03-24 08:49:26,863 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0049: JBoss EAP 7.0.0.GA (WildFly Core 2.0.13.Final-redhat-1) starting",
        "2016-03-24 08:49:27,973 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)",
        "2016-03-24 08:49:27,994 INFO  [org.xnio] (MSC service thread 1-1) XNIO version 3.3.4.Final-redhat-1"
    ]
}</pre></section><section class="section" id="about_logging_subsystem"><div class="titlepage"><div><div><h2 class="title">11.3. About the Logging Subsystem</h2></div></div></div><p>
				The JBoss EAP <code class="literal">logging</code> subsystem is configured using a system of <a class="link" href="#log_categories" title="11.3.2. Log Categories">log categories</a> and <a class="link" href="#log_handlers" title="11.3.3. Log Handlers">log handlers</a>. Log categories define what messages to capture. Log handlers define how to deal with those messages, for example, writing to a disk or sending to the console.
			</p><p>
				<a class="link" href="#logging_profiles" title="11.8.2. Logging Profiles">Logging profiles</a> allow uniquely-named sets of logging configuration to be created and assigned to applications independent of any other logging configuration. The configuration of logging profiles is almost identical to the main <code class="literal">logging</code> subsystem.
			</p><section class="section" id="root_logger"><div class="titlepage"><div><div><h3 class="title">11.3.1. Root Logger</h3></div></div></div><p>
					The JBoss EAP root logger captures all log messages, of the specified log level or higher, sent to the server that are not captured by a log category.
				</p><p>
					By default, the root logger is configured to use a console and a periodic log handler. The periodic log handler is configured to write to the <code class="literal">server.log</code> file. This file is often referred to as the server log.
				</p><p>
					See <a class="link" href="#configure_root_logger" title="11.6. Configuring the Root Logger">Configuring the Root Logger</a> for more information.
				</p></section><section class="section" id="log_categories"><div class="titlepage"><div><div><h3 class="title">11.3.2. Log Categories</h3></div></div></div><p>
					A log category defines a set of log messages to capture and one or more log handlers that will process the messages.
				</p><p>
					The log messages to capture are defined by the specified Java package of origin and log level. Messages from classes in that package and of that log level or higher are captured by the log category and sent to the specified log handlers.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Although the log category is typically the Java package and class name, it can be any name specified by the <code class="literal">Logger.getLogger(<span class="emphasis"><em>LOGGER_NAME</em></span>)</code> method.
					</p></div></div><p>
					Log categories can optionally use the log handlers of the root logger instead of their own handlers.
				</p><p>
					See <a class="link" href="#configure_log_category" title="11.4. Configuring Log Categories">Configuring Log Categories</a> for more information.
				</p></section><section class="section" id="log_handlers"><div class="titlepage"><div><div><h3 class="title">11.3.3. Log Handlers</h3></div></div></div><p>
					Log handlers define how captured log messages are recorded. The available log handler types are <span class="emphasis"><em>console</em></span>, <span class="emphasis"><em>file</em></span>, <span class="emphasis"><em>periodic</em></span>, <span class="emphasis"><em>size</em></span>, <span class="emphasis"><em>periodic size</em></span>, <span class="emphasis"><em>syslog</em></span>, <span class="emphasis"><em>custom</em></span>, and <span class="emphasis"><em>async</em></span>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						A log handler must be added to at least one logger in order to be active.
					</p></div></div><h5 id="log_handler_types">Log Handler Types</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">Console</span></dt><dd>
								A console log handler writes log messages to either the host operating system’s standard out, <code class="literal">stdout</code>, or standard error, <code class="literal">stderr</code>, stream. These messages are displayed when JBoss EAP is run from a command line prompt. The messages from a console log handler are not saved unless the operating system is configured to capture the standard out or standard error stream.
							</dd><dt><span class="term">File</span></dt><dd>
								A file log handler writes log messages to a specified file.
							</dd><dt><span class="term">Periodic</span></dt><dd>
								A periodic log handler writes log messages to a named file until a specified period of time has elapsed. Once the time period has passed, the file is renamed by appending the specified timestamp and the handler continues to write into a newly created log file with the original name.
							</dd><dt><span class="term">Size</span></dt><dd>
								A size log handler writes log messages to a named file until the file reaches a specified size. When the file reaches a specified size, it is renamed with a numeric suffix and the handler continues to write into a newly created log file with the original name. Each size log handler must specify the maximum number of files to be kept in this fashion.
							</dd><dt><span class="term">Periodic Size</span></dt><dd><p class="simpara">
								A periodic size log handler writes log messages to a named file until the file reaches the specified size <span class="emphasis"><em>or</em></span> the specified time period has passed. Then, the file is renamed and the handler continues to write to a newly created log file with the original name.
							</p><p class="simpara">
								This is a combination of the periodic and size log handlers and supports their combined attributes.
							</p></dd><dt><span class="term">Syslog</span></dt><dd>
								A syslog handler can be used to send messages to a remote logging server. This allows multiple applications to send their log messages to the same server, where they can all be parsed together.
							</dd><dt><span class="term">Socket</span></dt><dd>
								A socket log handler can be used to send log messages over a socket to a remote logging server. This can be a TCP or UDP socket.
							</dd><dt><span class="term">Custom</span></dt><dd>
								A custom log handler enables you to configure new types of log handlers that have been implemented. A custom handler must be implemented as a Java class that extends <code class="literal">java.util.logging.Handler</code> and be contained in a module. You can also use a Log4J appender as a custom log handler.
							</dd><dt><span class="term">Async</span></dt><dd>
								An async log handler is a wrapper log handler that provides asynchronous behavior for one or more other log handlers. This is useful for log handlers that may have high latency or other performance problems such as writing a log file to a network file system.
							</dd></dl></div><p>
					For details on configuring each of these log handlers, see the <a class="link" href="#configuring_log_handlers" title="11.5. Configuring Log Handlers">Configuring Log Handlers</a> section.
				</p></section><section class="section" id="log_levels"><div class="titlepage"><div><div><h3 class="title">11.3.4. Log Levels</h3></div></div></div><p>
					A log level is an enumerated value that indicates the nature and severity of a log message. As a developer, you can specify the level of a given log message using the appropriate method of your chosen logging framework to send the message.
				</p><p>
					JBoss EAP supports all the log levels used by the supported application logging frameworks. The most commonly used log levels from lowest to highest are <code class="literal">TRACE</code>, <code class="literal">DEBUG</code>, <code class="literal">INFO</code>, <code class="literal">WARN</code>, <code class="literal">ERROR</code>, and <code class="literal">FATAL</code>.
				</p><p>
					Log levels are used by log categories and handlers to limit the messages they are responsible for. Each log level has an assigned numeric value that indicates its order relative to other log levels. Log categories and handlers are assigned a log level, and they only process log messages of that level or higher. For example a log handler with the level of <code class="literal">WARN</code> will only record messages of the levels <code class="literal">WARN</code>, <code class="literal">ERROR</code>, and <code class="literal">FATAL</code>.
				</p><h5 id="supported_log_levels">Supported Log Levels</h5><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"><!--Empty--></col><col style="width: 15%; " class="col_2"><!--Empty--></col><col style="width: 70%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321701434928" scope="col">Log Level</th><th align="left" valign="top" id="idm140321720099696" scope="col">Value</th><th align="left" valign="top" id="idm140321720098608" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									ALL
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									Integer.MIN_VALUE
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									Provides all log messages.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									FINEST
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									300
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									-
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									FINER
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									400
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									-
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									TRACE
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									400
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									<code class="literal">TRACE</code> level log messages provide detailed information about the running state of an application and are usually only captured during debugging.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									DEBUG
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									500
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									<code class="literal">DEBUG</code> level log messages indicate the progress of individual requests or application activities and are usually only captured during debugging.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									FINE
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									500
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									-
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									CONFIG
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									700
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									-
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									INFO
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									800
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									<code class="literal">INFO</code> level log messages indicate the overall progress of the application. Often used for application startup, shutdown, and other major lifecycle events.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									WARN
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									900
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									<code class="literal">WARN</code> level log messages indicate a situation that is not in error, but is not considered ideal. <code class="literal">WARN</code> log messages can indicate circumstances that could lead to errors in the future.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									WARNING
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									900
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									-
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									ERROR
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									1000
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									<code class="literal">ERROR</code> level log messages indicate an error that has occurred that could prevent the current activity or request from completing but will not prevent the application from running.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									SEVERE
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									1000
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									-
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									FATAL
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									1100
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									<code class="literal">FATAL</code> level log messages indicate events that could cause critical service failure and application shutdown and could cause JBoss EAP to shutdown.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321701434928"> <p>
									OFF
								</p>
								 </td><td align="left" valign="top" headers="idm140321720099696"> <p>
									Integer.MAX_VALUE
								</p>
								 </td><td align="left" valign="top" headers="idm140321720098608"> <p>
									Does not display any log message.
								</p>
								 </td></tr></tbody></table></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						<code class="literal">ALL</code> is the lowest log level and includes messages of all log levels. This provides the most amount of logging.
					</p><p>
						<code class="literal">FATAL</code> is the highest log level and only includes messages of that level. This provides the least amount of logging.
					</p></div></div></section><section class="section" id="log_formatters"><div class="titlepage"><div><div><h3 class="title">11.3.5. Log Formatters</h3></div></div></div><p>
					Formatters are used to format a log message. A formatter can be assigned to a logging handler using the <code class="literal">named-formatter</code> attribute. For more information on logging handler configuration, see <a class="link" href="#configuring_log_handlers" title="11.5. Configuring Log Handlers">Configuring Log Handlers</a>.
				</p><p>
					The logging subsystem includes four types of formatters:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#pattern_formatter" title="Pattern Formatter">Pattern Formatter</a>
						</li><li class="listitem">
							<a class="link" href="#json_formatter" title="JSON Formatter">JSON Formatter</a>
						</li><li class="listitem">
							<a class="link" href="#xml_formatter" title="XML Formatter">XML Formatter</a>
						</li><li class="listitem">
							<a class="link" href="#custom_formatter" title="Custom Formatter">Custom Formatter</a>
						</li></ul></div><h5 id="pattern_formatter">Pattern Formatter</h5><p>
					A pattern formatter is used to format log messages in plain text. In addition to using the formatter as the <code class="literal">named-formatter</code> attribute of log handlers, it can also be used as a <code class="literal">formatter</code> attribute, without the need to create the formatter resource first. See <a class="link" href="#format_characters_for_pattern_formatter" title="Table A.40. Format Characters for Pattern Formatter">Format Characters for Pattern Formatter</a> for more information on the pattern syntax.
				</p><p>
					See <a class="link" href="#configure_pattern_formatter" title="11.7.1. Configure a Pattern Formatter">Configure a Pattern Formatter</a> for information on how to configure a pattern formatter.
				</p><h5 id="json_formatter">JSON Formatter</h5><p>
					A JSON formatter is used to format log messages in JSON.
				</p><p>
					See <a class="link" href="#configure_json_log_formatter" title="11.7.2. Configure a JSON Log Formatter">Configure a JSON Log Formatter</a> for information on how to configure a JSON formatter.
				</p><h5 id="xml_formatter">XML Formatter</h5><p>
					The XML log formatter is used to format log messages in XML.
				</p><p>
					See <a class="link" href="#configure_xml_log_formatter" title="11.7.3. Configure an XML Log Formatter">Configure an XML Log Formatter</a> for information on how to configure an XML log formatter.
				</p><h5 id="custom_formatter">Custom Formatter</h5><p>
					A custom formatter to be used with handlers. Note that most log records are formatted in the printf format. Formatters may require invocation of the <code class="literal">org.jboss.logmanager.ExtLogRecord#getFormattedMessage()</code> for the message to be properly formatted.
				</p><p>
					See <a class="link" href="#configure_custom_log_formatter" title="11.7.4. Configure a Custom Log Formatter">Configure a Custom Log Formatter</a> for information on how to configure a custom log formatter.
				</p></section><section class="section" id="filter_expressions"><div class="titlepage"><div><div><h3 class="title">11.3.6. Filter Expressions</h3></div></div></div><p>
					Filter expressions, configured using the <code class="literal">filter-spec</code> attribute, are used to record log messages based on various criteria. Filter checking is always done on a raw unformatted message. You can include a filter for a logger or handler, but the logger filter takes precedence over the filter put on a handler.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						A <code class="literal">filter-spec</code> specified for the root logger is not inherited by other loggers. Instead a <code class="literal">filter-spec</code> must be specified per handler.
					</p></div></div><div class="table" id="idm140321704456624"><p class="title"><strong>Table 11.3. Filter Expressions for Logging</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321720002336" scope="col">Filter Expression</th><th align="left" valign="top" id="idm140321720001248" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									accept
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Accept all log messages.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									deny
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Deny all log messages.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									not[filter expression]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Returns the inverted value of a single filter expression. For example:
								</p>
								 <p>
									<code class="literal">not(match("WFLY"))</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									all[filter expression]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Returns concatenated value from a comma-separated list of filter expressions. For example:
								</p>
								 <p>
									<code class="literal">all(match("WFLY"),match("WELD"))</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									any[filter expression]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Returns one value from a comma-separated list of filter expressions. For example:
								</p>
								 <p>
									<code class="literal">any(match("WFLY"),match("WELD"))</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									levelChange[level]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Updates the log record with the specified level. For example:
								</p>
								 <p>
									<code class="literal">levelChange(WARN)</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									levels[levels]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Filters log messages with a level listed in the comma-separated list of levels. For example:
								</p>
								 <p>
									<code class="literal">levels(DEBUG,INFO,WARN,ERROR)</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									levelRange[minLevel,maxLevel]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Filters log messages within the specified level range. The <code class="literal">[</code> and <code class="literal">]</code> characters are used to indicate an inclusive level. The <code class="literal">(</code> and <code class="literal">)</code> characters are used to indicate an exclusive level. For example:
								</p>
								 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
											<code class="literal">levelRange[INFO,ERROR]</code>
										</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
													The minimum level must be greater than or equal to <code class="literal">INFO</code> and the maximum level must be less than or equal to <code class="literal">ERROR</code>.
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<code class="literal">levelRange[DEBUG,ERROR)</code>
										</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
													The minimum level must be greater than or equal to <code class="literal">DEBUG</code> and the maximum level must be less than <code class="literal">ERROR</code>.
												</li></ul></div></li></ul></div>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									match["pattern"]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									Filters log messages using the provided regular expression. For example:
								</p>
								 <p>
									<code class="literal">match("WFLY\d+")</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									substitute["pattern","replacement value"]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									A filter that replaces the first match to the pattern (first argument) with the replacement text (second argument). For example:
								</p>
								 <p>
									<code class="literal">substitute("WFLY","EAP")</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321720002336"> <p>
									substituteAll["pattern","replacement value"]
								</p>
								 </td><td align="left" valign="top" headers="idm140321720001248"> <p>
									A filter which replaces all matches of the pattern (first argument) with the replacement text (second argument). For example:
								</p>
								 <p>
									<code class="literal">substituteAll("WFLY","EAP")</code>
								</p>
								 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When configuring the filter expression using the management CLI, be sure to escape commas and quotation marks in the filter text so that the value is correctly processed as a string. You must precede commas and quotation marks with a backslash (<code class="literal">\</code>) and wrap the entire expression in quotation marks. Below is an example that properly escapes <code class="literal">substituteAll("WFLY","YLFW")</code>.
					</p><pre class="screen">/subsystem=logging/console-handler=CONSOLE:write-attribute(name=filter-spec, value="substituteAll(\"WFLY\"\,\"YLFW\")")</pre></div></div></section><section class="section" id="implicit_logging_api_dependencies"><div class="titlepage"><div><div><h3 class="title">11.3.7. Implicit Logging Dependencies</h3></div></div></div><p>
					By default, the JBoss EAP <code class="literal">logging</code> subsystem adds implicit logging API dependencies to deployments. You can control whether these implicit dependencies are added to deployments by using the <code class="literal">add-logging-api-dependencies</code> attribute, which is <code class="literal">true</code> by default.
				</p><p>
					Using the management CLI, you can set the <code class="literal">add-logging-api-dependencies</code> attribute to <code class="literal">false</code> so that the implicit logging API dependencies will not be added to deployments.
				</p><pre class="screen">/subsystem=logging:write-attribute(name=add-logging-api-dependencies, value=false)</pre><p>
					For information on the implicit dependencies for the <code class="literal">logging</code> subsystem, see the <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#implicit_module_dependencies">Implicit Module Dependencies</a> section in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
				</p></section></section><section class="section" id="configure_log_category"><div class="titlepage"><div><div><h2 class="title">11.4. Configuring Log Categories</h2></div></div></div><p>
				This section shows you how to configure log categories using the management CLI. You can also configure log categories using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Categories</strong></span>.
			</p><p>
				The main tasks you will perform to configure a log category are:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#add_log_category" title="Add a Log Category">Add a new log category</a>.
					</li><li class="listitem">
						<a class="link" href="#configure_log_category_settings" title="Configure Log Category Settings">Configure the log category settings</a>.
					</li><li class="listitem">
						<a class="link" href="#assign_log_handler_logger" title="Assign a Handler">Assign a log handler to the log category</a>.
					</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you are configuring this log category for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
				</p><p>
					Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p></div></div><h4 id="add_log_category">Add a Log Category</h4><p>
				The log category name is defined by the Java package of origin. Messages from classes in that package will be captured as long as they adhere to the other settings, for example, the log level.
			</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:add</pre><h4 id="configure_log_category_settings">Configure Log Category Settings</h4><p>
				Depending on your needs, you may need to set one or more of the following log category attributes. For a full list of available log category attributes and their descriptions, see <a class="link" href="#log_category_attributes" title="A.16. Log Category Attributes">Log Category Attributes</a>.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Set the log level.
					</p><p class="simpara">
						Set the appropriate log level for the log category. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
					</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
						Set whether this category should use the log handlers of the root logger.
					</p><p class="simpara">
						By default, log categories will use the handlers of the root logger in addition to its own. Set the <code class="literal">use-parent-handlers</code> attribute to <code class="literal">false</code> if the log category should use only its assigned handlers.
					</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:write-attribute(name=use-parent-handlers,value=<span class="emphasis"><em>USE_PARENT_HANDLERS</em></span>)</pre></li><li class="listitem"><p class="simpara">
						Set the filter expression.
					</p><p class="simpara">
						Set the expression for filtering log messages for the log category. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
					</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
						See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
					</p></li></ul></div><h4 id="assign_log_handler_logger">Assign a Handler</h4><p>
				Assign a log handler to the log category.
			</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>LOG_HANDLER_NAME</em></span>)</pre><h4 id="remove_log_category">Remove a Log Category</h4><p>
				A log category can be removed with the <code class="literal">remove</code> operation.
			</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:remove</pre></section><section class="section" id="configuring_log_handlers"><div class="titlepage"><div><div><h2 class="title">11.5. Configuring Log Handlers</h2></div></div></div><p>
				Log handlers define how captured log messages are recorded. See the appropriate section for configuring the type of log handler that you need.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#configure_console_log_handler" title="11.5.1. Configure a Console Log Handler">Console log handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_file_log_handler" title="11.5.2. Configure a File Log Handler">File log handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_periodic_log_handler" title="11.5.3. Configure a Periodic Rotating Log Handler">Periodic rotating log handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_size_log_handler" title="11.5.4. Configure a Size Rotating Log Handler">Size rotating log handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_periodic_size_log_handler" title="11.5.5. Configure a Periodic Size Rotating Log Handler">Periodic size rotating log handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_syslog_handler" title="11.5.6. Configure a Syslog Handler">Syslog handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_socket_log_handler" title="11.5.7. Configure a Socket Log Handler">Socket log handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_custom_log_handler" title="11.5.8. Configure a Custom Log Handler">Custom log handler</a>
					</li><li class="listitem">
						<a class="link" href="#configure_async_log_handler" title="11.5.9. Configure an Async Log Handler">Async log handler</a>
					</li></ul></div><section class="section" id="configure_console_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.1. Configure a Console Log Handler</h3></div></div></div><p>
					This section shows you how to configure a console log handler using the management CLI. You can also configure console log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Console Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a console log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_console_handler" title="Add a Console Log Handler">Add a new console log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_console_handler_settings" title="Configure Console Log Handler Settings">Configure the console log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_console_handler_logger" title="Assign the Console Log Handler to a Logger">Assign the console log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_console_handler">Add a Console Log Handler</h5><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:add</pre><h5 id="configure_console_handler_settings">Configure Console Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following console log handler attributes. For a full list of available console log handler attributes and their descriptions, see <a class="link" href="#console_log_handler_attributes" title="Table A.31. Console Log Handler Attributes">Console Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the target.
						</p><p class="simpara">
							Set the target for the handler, which can be one of <code class="literal">System.out</code>, <code class="literal">System.err</code>, or <code class="literal">console</code>. The default is <code class="literal">System.out</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=target,value=<span class="emphasis"><em>TARGET</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="#configuring_log_formatters" title="11.7. Configuring Log Formatters">saved formatter</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_console_handler_logger">Assign the Console Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the console log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the console log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>)</pre><h5 id="remove_console_handler">Remove a Console Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:remove</pre></section><section class="section" id="configure_file_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.2. Configure a File Log Handler</h3></div></div></div><p>
					This section shows you how to configure a file log handler using the management CLI. You can also configure file log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>File Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a file log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_file_handler" title="Add a File Log Handler">Add a new file log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_file_handler_settings" title="Configure File Log Handler Settings">Configure the file log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_file_handler_logger" title="Assign the File Log Handler to a Logger">Assign the file log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_file_handler">Add a File Log Handler</h5><p>
					When adding a file log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>})</pre><h5 id="configure_file_handler_settings">Configure File Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following file log handler attributes. For a full list of available file log handler attributes and their descriptions, see <a class="link" href="#file_log_handler_attributes" title="Table A.32. File Log Handler Attributes">File Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="#configure_pattern_formatter" title="11.7.1. Configure a Pattern Formatter">saved formatter</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_file_handler_logger">Assign the File Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the file log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the file log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>)</pre><h5 id="remove_file_handler">Remove a File Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:remove</pre></section><section class="section" id="configure_periodic_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.3. Configure a Periodic Rotating Log Handler</h3></div></div></div><p>
					This section shows you how to configure a periodic rotating log handler using the management CLI. You can also configure periodic log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Periodic Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a periodic log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_periodic_handler" title="Add a Periodic Log Handler">Add a new periodic log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_periodic_handler_settings" title="Configure Periodic Log Handler Settings">Configure the periodic log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_periodic_handler_logger" title="Assign the Periodic Log Handler to a Logger">Assign the periodic log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_periodic_handler">Add a Periodic Log Handler</h5><p>
					When adding a periodic log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><p>
					You must also set the suffix for rotated logs using the <code class="literal">suffix</code> attribute. This must be in a format that can be understood by <code class="literal">java.text.SimpleDateFormat</code>, for example <code class="literal">.yyyy-MM-dd-HH</code>. The period of the rotation is automatically calculated based on this suffix.
				</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>},suffix=<span class="emphasis"><em>SUFFIX</em></span>)</pre><h5 id="configure_periodic_handler_settings">Configure Periodic Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following periodic log handler attributes. For a full list of available periodic log handler attributes and their descriptions, see <a class="link" href="#periodic_log_handler_attributes" title="Table A.33. Periodic Log Handler Attributes">Periodic Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="#configure_pattern_formatter" title="11.7.1. Configure a Pattern Formatter">saved formatter</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_periodic_handler_logger">Assign the Periodic Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the periodic log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the periodic log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>)</pre><h5 id="remove_periodic_handler">Remove a Periodic Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:remove</pre></section><section class="section" id="configure_size_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.4. Configure a Size Rotating Log Handler</h3></div></div></div><p>
					This section shows you how to configure a size rotating log handler using the management CLI. You can also configure size log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Size Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a size log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_size_handler" title="Add a Size Log Handler">Add a new size log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_size_handler_settings" title="Configure Size Log Handler Settings">Configure the size log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_size_handler_logger" title="Assign the Size Log Handler to a Logger">Assign the size log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_size_handler">Add a Size Log Handler</h5><p>
					When adding a size log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>})</pre><h5 id="configure_size_handler_settings">Configure Size Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following size log handler attributes. For a full list of available size log handler attributes and their descriptions, see <a class="link" href="#size_log_handler_attributes" title="Table A.34. Size Log Handler Attributes">Size Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the suffix for rotated logs.
						</p><p class="simpara">
							Set the suffix string, which is in a format which can be understood by <code class="literal">java.text.SimpleDateFormat</code>, for example <code class="literal">.yyyy-MM-dd-HH</code> . The period of the rotation is automatically calculated based on this suffix.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=suffix, value=<span class="emphasis"><em>SUFFIX</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the rotation size.
						</p><p class="simpara">
							Set the maximum size that the file can reach before being rotated. The default is <code class="literal">2m</code> for 2 megabytes.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-size, value=<span class="emphasis"><em>ROTATE_SIZE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the maximum number of backup logs to keep.
						</p><p class="simpara">
							Set the number of backups to keep. The default is <code class="literal">1</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=max-backup-index, value=<span class="emphasis"><em>MAX_BACKUPS</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set whether to rotate the log on boot.
						</p><p class="simpara">
							By default, a new log file is not created on server restart. You can set this to <code class="literal">true</code> to rotate the log on server restart.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-on-boot, value=<span class="emphasis"><em>ROTATE_ON_BOOT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="#configure_pattern_formatter" title="11.7.1. Configure a Pattern Formatter">saved formatter</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_size_handler_logger">Assign the Size Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the size log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the size log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>)</pre><h5 id="remove_size_handler">Remove a Size Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:remove</pre></section><section class="section" id="configure_periodic_size_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.5. Configure a Periodic Size Rotating Log Handler</h3></div></div></div><p>
					This section shows you how to configure a periodic size rotating log handler using the management CLI. You can also configure periodic size log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Periodic Size Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a periodic size log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_periodic_size_handler" title="Add a Periodic Size Log Handler">Add a new periodic size log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_periodic_size_handler_settings" title="Configure Periodic Size Log Handler Settings">Configure the periodic size log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_periodic_size_handler_logger" title="Assign the Periodic Size Log Handler to a Logger">Assign the periodic size log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_periodic_size_handler">Add a Periodic Size Log Handler</h5><p>
					When adding a periodic size log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><p>
					You must also set the suffix for rotated logs using the <code class="literal">suffix</code> attribute. This must be in a format that can be understood by <code class="literal">java.text.SimpleDateFormat</code>, for example <code class="literal">.yyyy-MM-dd-HH</code>. The period of the rotation is automatically calculated based on this suffix.
				</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>},suffix=<span class="emphasis"><em>SUFFIX</em></span>)</pre><h5 id="configure_periodic_size_handler_settings">Configure Periodic Size Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following periodic size log handler attributes. For a full list of available periodic size log handler attributes and their descriptions, see <a class="link" href="#periodic_size_log_handler_attributes" title="Table A.35. Periodic Size Log Handler Attributes">Periodic Size Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the rotation size.
						</p><p class="simpara">
							Set the maximum size that the file can reach before being rotated. The default is <code class="literal">2m</code> for 2 megabytes.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-size, value=<span class="emphasis"><em>ROTATE_SIZE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the maximum number of backup logs to keep.
						</p><p class="simpara">
							Set the number of backups to keep. The default is <code class="literal">1</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=max-backup-index, value=<span class="emphasis"><em>MAX_BACKUPS</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set whether to rotate the log on boot.
						</p><p class="simpara">
							By default, a new log file is not created on server restart. You can set this to <code class="literal">true</code> to rotate the log on server restart.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-on-boot, value=<span class="emphasis"><em>ROTATE_ON_BOOT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="#configure_pattern_formatter" title="11.7.1. Configure a Pattern Formatter">saved formatter</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_periodic_size_handler_logger">Assign the Periodic Size Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the periodic size log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the periodic size log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>)</pre><h5 id="remove_periodic_size_handler">Remove a Periodic Size Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:remove</pre></section><section class="section" id="configure_syslog_handler"><div class="titlepage"><div><div><h3 class="title">11.5.6. Configure a Syslog Handler</h3></div></div></div><p>
					This section shows you how to configure a syslog handler using the management CLI, which can be used to send messages to a remote logging server that supports the Syslog protocol, either RFC-3164 or RFC-5424. You can also configure syslog handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Syslog Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a syslog handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_syslog_handler" title="Add a Syslog Handler">Add a new syslog handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_syslog_handler_settings" title="Configure Syslog Handler Settings">Configure the syslog handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_syslog_handler_logger" title="Assign the Syslog Handler to a Logger">Assign the syslog handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_syslog_handler">Add a Syslog Handler</h5><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:add</pre><h5 id="configure_syslog_handler_settings">Configure Syslog Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following syslog handler attributes. For a full list of available syslog handler attributes and their descriptions, see <a class="link" href="#syslog_handler_attributes" title="Table A.36. Syslog Handler Attributes">Syslog Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level for the handler. The default level is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the name of the application that is logging. The default name is <code class="literal">java</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=app-name,value=<span class="emphasis"><em>APP_NAME</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the address of the syslog server. The default address is <code class="literal">localhost</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=server-address,value=<span class="emphasis"><em>SERVER_ADDRESS</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the port of the syslog server. The default port is <code class="literal">514</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=port,value=<span class="emphasis"><em>PORT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the syslog format, as defined by an RFC specification. The default format is <code class="literal">RFC5424</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=syslog-format,value=<span class="emphasis"><em>SYSLOG_FORMAT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Specify the <code class="literal">named-formatter</code> attribute to format the message of the syslog payload.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=named-formatter, value=FORMATTER_NAME)</pre></li></ul></div><h5 id="assign_syslog_handler_logger">Assign the Syslog Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the syslog handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the syslog handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>)</pre><h5 id="remove_syslog_handler">Remove a Syslog Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:remove</pre></section><section class="section" id="configure_socket_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.7. Configure a Socket Log Handler</h3></div></div></div><p>
					This section shows you how to configure a socket log handler using the management CLI, which can be used to send messages over a socket. This can be a TCP or UDP socket. You can also configure socket log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Socket Handler</strong></span>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If the server is started in admin-only mode, log messages are discarded.
					</p></div></div><p>
					The main tasks you will perform to configure a socket log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_socket_binding" title="Add the Socket Binding">Add a socket binding</a>.
						</li><li class="listitem">
							<a class="link" href="#add_formatter" title="Add the Log Formatter">Add a log formatter</a>.
						</li><li class="listitem">
							<a class="link" href="#add_socket_handler" title="Add the Socket Log Handler">Add the socket log handler</a> and <a class="link" href="#configure_socket_handler_settings" title="Configure Socket Log Handler Settings">configure its settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_socket_handler_logger" title="Assign the Socket Log Handler to a Logger">Assign the socket log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_socket_binding">Add the Socket Binding</h5><p>
					Define either a <code class="literal">remote-destination-outbound-socket-binding</code> or <code class="literal">local-destination-outbound-socket-binding</code> as the <a class="link" href="#socket_bindings" title="4.2. Socket Bindings">socket binding</a> to use.
				</p><pre class="screen">/socket-binding-group=<span class="emphasis"><em>SOCKET_BINDING_GROUP</em></span>/remote-destination-outbound-socket-binding=<span class="emphasis"><em>SOCKET_BINDING_NAME</em></span>:add(host=<span class="emphasis"><em>HOST</em></span>, port=<span class="emphasis"><em>PORT</em></span>)</pre><h5 id="add_formatter">Add the Log Formatter</h5><p>
					Define a <a class="link" href="#configuring_log_formatters" title="11.7. Configuring Log Formatters">log formatter</a> to use, such as a JSON formatter.
				</p><pre class="screen">/subsystem=logging/json-formatter=<span class="emphasis"><em>FORMATTER</em></span>:add</pre><h5 id="add_socket_handler">Add the Socket Log Handler</h5><p>
					When adding the socket log handler, you must specify the socket binding and formatter to use.
				</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:add(outbound-socket-binding-ref=<span class="emphasis"><em>SOCKET_BINDING_NAME</em></span>,named-formatter=<span class="emphasis"><em>FORMATTER</em></span>)</pre><h5 id="configure_socket_handler_settings">Configure Socket Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following socket log handler attributes. For a full list of available socket log handler attributes and their descriptions, see <a class="link" href="#socket_log_handler_attributes" title="Table A.37. Socket Log Handler Attributes">Socket Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the protocol.
						</p><p class="simpara">
							Set the protocol to use. The default is <code class="literal">TCP</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=protocol,value=<span class="emphasis"><em>PROTOCOL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								During server startup, log messages handled by a socket log handler are queued until the socket binding is configured and the <code class="literal">logging</code> subsystem is initialized. If the log level is set to a low level, such as <code class="literal">TRACE</code> or <code class="literal">DEBUG</code>, this can result in large memory consumption during startup.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_socket_handler_logger">Assign the Socket Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the socket log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the socket log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>)</pre><h5 id="remove_socket_handler">Remove a Socket Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:remove</pre><h5 id="log_messages_socket_ssl">Send Log Messages Over a Socket Using SSL/TLS</h5><p>
					The following steps show an example of how to set up a socket log handler to send log messages over a socket using the <code class="literal">SSL_TCP</code> protocol. This example configures a keystore, trust manager, and client SSL context in the <code class="literal">elytron</code> subsystem to be used by the socket log handler. Log messages from the root logger are sent over the specified socket, formatted by a JSON formatter.
				</p><p>
					For more information on configuring Elytron components, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#elytron_subsystem" title="This content is not included in Mimir.">Elytron Subsystem</a> in <span class="emphasis"><em>How to Configure Server Security</em></span> for JBoss EAP.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Configure the Elytron settings.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add the keystore.
								</p><pre class="screen">/subsystem=elytron/key-store=log-server-ks:add(path=/path/to/keystore.jks, type=JKS, credential-reference={clear-text=mypassword})</pre></li><li class="listitem"><p class="simpara">
									Add the trust manager.
								</p><pre class="screen">/subsystem=elytron/trust-manager=log-server-tm:add(key-store=log-server-ks)</pre></li><li class="listitem"><p class="simpara">
									Add the client SSL context.
								</p><pre class="screen">/subsystem=elytron/client-ssl-context=log-server-context:add(trust-manager=log-server-tm, protocols=["TLSv1.2"])</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Add the socket binding.
						</p><pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=log-server:add(host=localhost, port=4560)</pre></li><li class="listitem"><p class="simpara">
							Add a JSON formatter.
						</p><pre class="screen">/subsystem=logging/json-formatter=json:add</pre></li><li class="listitem"><p class="simpara">
							Add the socket log handler.
						</p><pre class="screen">/subsystem=logging/socket-handler=log-server-handler:add(named-formatter=json, level=INFO, outbound-socket-binding-ref=log-server, protocol=SSL_TCP, ssl-context=log-server-context)</pre></li><li class="listitem"><p class="simpara">
							Assign the log handler to the root logger.
						</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=log-server-handler)</pre></li></ol></div></section><section class="section" id="configure_custom_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.8. Configure a Custom Log Handler</h3></div></div></div><p>
					This section shows you how to configure a custom log handler using the management CLI. You can also configure custom log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Custom Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a custom log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_custom_handler" title="Add a Custom Log Handler">Add a new custom log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_custom_handler_settings" title="Configure Custom Log Handler Settings">Configure the custom log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_custom_handler_logger" title="Assign the Custom Log Handler to a Logger">Assign the custom log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_custom_handler">Add a Custom Log Handler</h5><p>
					When adding a custom log handler, you must specify the Java class of the handler and the JBoss EAP module in which it is contained. The class must extend <code class="literal">java.util.logging.Handler</code>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You must have already <a class="link" href="#create_a_custom_module" title="6.3. Create a Custom Module">created a module</a> containing the custom logger or this command will fail.
					</p></div></div><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:add(class=<span class="emphasis"><em>CLASS_NAME</em></span>,module=<span class="emphasis"><em>MODULE_NAME</em></span>)</pre><h5 id="configure_custom_handler_settings">Configure Custom Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following custom log handler attributes. For a full list of available custom log handler attributes and their descriptions, see <a class="link" href="#custom_log_handler_attributes" title="Table A.38. Custom Log Handler Attributes">Custom Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the properties.
						</p><p class="simpara">
							Set the necessary properties for the log handler. The properties must be accessible using a setter method.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=properties.<span class="emphasis"><em>PROPERTY_NAME</em></span>,value=<span class="emphasis"><em>PROPERTY_VALUE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="#configure_pattern_formatter" title="11.7.1. Configure a Pattern Formatter">saved formatter</a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_custom_handler_logger">Assign the Custom Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the custom log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the custom log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>)</pre><h5 id="remove_custom_handler">Remove a Custom Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:remove</pre></section><section class="section" id="configure_async_log_handler"><div class="titlepage"><div><div><h3 class="title">11.5.9. Configure an Async Log Handler</h3></div></div></div><p>
					This section shows you how to configure an async log handler using the management CLI. You can also configure async log handlers using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Handler</strong></span> → <span class="strong strong"><strong>Async Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure an async log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#add_async_handler" title="Add an Async Log Handler">Add a new async log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#add_subhandlers" title="Add a Sub-handler">Add sub-handlers to the async log handler</a>.
						</li><li class="listitem">
							<a class="link" href="#configure_async_handler_settings" title="Configure Async Log Handler Settings">Configure the async log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="#assign_async_handler_logger" title="Assign the Async Log Handler to a Logger">Assign the async log handler to a logger</a>.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_async_handler">Add an Async Log Handler</h5><p>
					When adding an async log handler, you must specify the queue length. This is the maximum number of log requests that can be held in queue.
				</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:add(queue-length=<span class="emphasis"><em>QUEUE_LENGTH</em></span>)</pre><h5 id="add_subhandlers">Add a Sub-handler</h5><p>
					You can add one or more handlers as sub-handlers for this async log handler. Note that the handlers must already exist in the configuration or this command will fail.
				</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:add-handler(name=<span class="emphasis"><em>HANDLER_NAME</em></span>)</pre><h5 id="configure_async_handler_settings">Configure Async Log Handler Settings</h5><p>
					Depending on your needs, you may need to set one or more of the following async log handler attributes. For a full list of available async log handler attributes and their descriptions, see <a class="link" href="#async_log_handler_attributes" title="Table A.39. Async Log Handler Attributes">Async Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="#log_levels" title="11.3.4. Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the overflow action.
						</p><p class="simpara">
							Set the action to take when overflowing. The default value is <code class="literal">BLOCK</code>, which means that threads will block in the event of a full queue. You can change this value to <code class="literal">DISCARD</code>, which means that log messages will be discarded in the event of a full queue.
						</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:write-attribute(name=overflow-action,value=<span class="emphasis"><em>OVERFLOW_ACTION</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="#filter_expressions" title="11.3.6. Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h5 id="assign_async_handler_logger">Assign the Async Log Handler to a Logger</h5><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the async log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the async log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>)</pre><h5 id="remove_async_handler">Remove an Async Log Handler</h5><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger.
				</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:remove</pre></section></section><section class="section" id="configure_root_logger"><div class="titlepage"><div><div><h2 class="title">11.6. Configuring the Root Logger</h2></div></div></div><p>
				The root logger captures all log messages, of the specified log level or higher, sent to the server that are not captured by a log category.
			</p><p>
				This section shows you how to configure the root logger using the management CLI. You can also configure the root logger using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Configuration</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting <span class="strong strong"><strong>Root Logger</strong></span>.
			</p><h4 id="configure_the_root_logger">Configure the Root Logger</h4><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
				</p><p>
					Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Assign log handlers to the root logger.
					</p><p class="simpara">
						Add a log handler.
					</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>LOG_HANDLER_NAME</em></span>)</pre><p class="simpara">
						Remove a log handler.
					</p><pre class="screen">/subsystem=logging/root-logger=ROOT:remove-handler(name=<span class="emphasis"><em>LOG_HANDLER_NAME</em></span>)</pre></li><li class="listitem"><p class="simpara">
						Set the log level.
					</p><pre class="screen">/subsystem=logging/root-logger=ROOT:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li></ol></div><p>
				For a full list of available root logger attributes and their descriptions, see <a class="link" href="#root_logger_attributes" title="A.15. Root Logger Attributes">Root Logger Attributes</a>.
			</p></section><section class="section" id="configuring_log_formatters"><div class="titlepage"><div><div><h2 class="title">11.7. Configuring Log Formatters</h2></div></div></div><p>
				A log formatter defines the appearance of log messages from that handler. The <code class="literal">logging</code> subsystem allows you to configure the following types of log formatters:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#configure_pattern_formatter" title="11.7.1. Configure a Pattern Formatter">Pattern Formatter</a>
					</li><li class="listitem">
						<a class="link" href="#configure_json_log_formatter" title="11.7.2. Configure a JSON Log Formatter">JSON Log Formatter</a>
					</li><li class="listitem">
						<a class="link" href="#configure_xml_log_formatter" title="11.7.3. Configure an XML Log Formatter">XML Log Formatter</a>
					</li><li class="listitem">
						<a class="link" href="#configure_custom_log_formatter" title="11.7.4. Configure a Custom Log Formatter">Custom Log Formatter</a>
					</li></ul></div><section class="section" id="configure_pattern_formatter"><div class="titlepage"><div><div><h3 class="title">11.7.1. Configure a Pattern Formatter</h3></div></div></div><p>
					You can create a named pattern formatter that can be used across log handlers to format log messages.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="create_a_pattern_formatter">Create a Pattern Formatter</h5><p>
					When defining a pattern formatter, you provide a pattern string to use to format log messages. For more information on the pattern syntax, see <a class="link" href="#format_characters_for_pattern_formatter" title="Table A.40. Format Characters for Pattern Formatter">Format Characters for Pattern Formatter</a>.
				</p><pre class="screen">/subsystem=logging/pattern-formatter=<span class="emphasis"><em>PATTERN_FORMATTER_NAME</em></span>:add(pattern=<span class="emphasis"><em>PATTERN</em></span>)</pre><p>
					For example, the default configuration uses the following log formatter string for logging messages to the server log: <code class="literal">%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. This creates log messages formatted like the one below.
				</p><pre class="screen">2016-03-18 15:49:32,075 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990</pre><p>
					You can also define a color map to assign a color to different log levels. The format is a comma-separated list of <code class="literal"><span class="emphasis"><em>LEVEL</em></span>:<span class="emphasis"><em>COLOR</em></span></code>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Valid levels: <code class="literal">finest</code>, <code class="literal">finer</code>, <code class="literal">fine</code>, <code class="literal">config</code>, <code class="literal">trace</code>, <code class="literal">debug</code>, <code class="literal">info</code>, <code class="literal">warning</code>, <code class="literal">warn</code>, <code class="literal">error</code>, <code class="literal">fatal</code>, <code class="literal">severe</code>
						</li><li class="listitem">
							Valid colors: <code class="literal">black</code>, <code class="literal">green</code>, <code class="literal">red</code>, <code class="literal">yellow</code>, <code class="literal">blue</code>, <code class="literal">magenta</code>, <code class="literal">cyan</code>, <code class="literal">white</code>, <code class="literal">brightblack</code>, <code class="literal">brightred</code>, <code class="literal">brightgreen</code>, <code class="literal">brightblue</code>, <code class="literal">brightyellow</code>, <code class="literal">brightmagenta</code>, <code class="literal">brightcyan</code>, <code class="literal">brightwhite</code>
						</li></ul></div><pre class="screen">/subsystem=logging/pattern-formatter=<span class="emphasis"><em>PATTERN_FORMATTER_NAME</em></span>:write-attribute(name=color-map,value="<span class="emphasis"><em>LEVEL</em></span>:<span class="emphasis"><em>COLOR</em></span>,<span class="emphasis"><em>LEVEL</em></span>:<span class="emphasis"><em>COLOR</em></span>")</pre><p>
					You can also configure pattern log formatters using the management console:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Configuration</strong></span> and then click <span class="strong strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Formatter</strong></span> and then choose the <span class="strong strong"><strong>Pattern Formatter</strong></span> option.
						</li></ol></div></section><section class="section" id="configure_json_log_formatter"><div class="titlepage"><div><div><h3 class="title">11.7.2. Configure a JSON Log Formatter</h3></div></div></div><p>
					You can create a JSON log formatter to format log messages in JSON.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_a_json_log_formatter">Add a JSON Log Formatter</h5><pre class="screen">/subsystem=logging/json-formatter=<span class="emphasis"><em>JSON_FORMATTER_NAME</em></span>:add(pretty-print=true, exception-output-type=formatted)</pre><p>
					This creates log messages formatted like the one below.
				</p><pre class="screen">{
    "timestamp": "2018-10-18T13:53:43.031-04:00",
    "sequence": 62,
    "loggerClassName": "org.jboss.as.server.logging.ServerLogger_$logger",
    "loggerName": "org.jboss.as",
    "level": "INFO",
    "message": "WFLYSRV0025: JBoss EAP 7.3.0.GA (WildFly Core 10.0.0.Final-redhat-20190924) started in 5672ms - Started 495 of 679 services (331 services are lazy, passive or on-demand)",
    "threadName": "Controller Boot Thread",
    "threadId": 22,
    "mdc": {
    },
    "ndc": "",
    "hostName": "localhost.localdomain",
    "processName": "jboss-modules.jar",
    "processId": 7461
}</pre><h5 id="add_a_logstash_json_log_formatter">Add a Logstash JSON Log Formatter</h5><pre class="screen">/subsystem=logging/json-formatter=logstash:add(exception-output-type=formatted, key-overrides=[timestamp="@timestamp"], meta-data=[@version=1])</pre><p>
					You can use the JSON formatter attributes as explained below:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">key-overrides</code> attribute can be used to override the names of the keys defined.
						</li><li class="listitem">
							The exceptions can be formatted as objects by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">formatted</code>.
						</li><li class="listitem">
							The exception stack trace can be included by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">detailed</code>.
						</li><li class="listitem">
							The exceptions can be formatted as objects and stack traces can be included by setting the <code class="literal">exception-output-type</code> to <code class="literal">detailed-and-formatted</code>.
						</li><li class="listitem">
							The metadata can be added to log records using the <code class="literal">meta-data</code> attribute.
						</li></ul></div><p>
					For more information on the JSON formatter attributes, see <a class="link" href="#json_log_formatter_attributes" title="Table A.41. JSON Log Formatter Attributes">JSON Log Formatter Attributes</a>.
				</p><p>
					You can also configure JSON log formatters using the management console:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Configuration</strong></span> and then click <span class="strong strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Formatter</strong></span> and then choose the <span class="strong strong"><strong>JSON Formatter</strong></span> option.
						</li></ol></div></section><section class="section" id="configure_xml_log_formatter"><div class="titlepage"><div><div><h3 class="title">11.7.3. Configure an XML Log Formatter</h3></div></div></div><p>
					You can create an XML log formatter to format log messages in XML.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><h5 id="add_an_xml_log_formatter">Add an XML Log Formatter</h5><pre class="screen">/subsystem=logging/xml-formatter=<span class="emphasis"><em>XML_FORMATTER_NAME</em></span>:add(pretty-print=true, exception-output-type=detailed-and-formatted)</pre><p>
					This creates log message formatted like the one below.
				</p><pre class="programlisting language-xml">&lt;record&gt;
    &lt;timestamp&gt;2018-10-18T13:55:53.419-04:00&lt;/timestamp&gt;
    &lt;sequence&gt;62&lt;/sequence&gt;
    &lt;loggerClassName&gt;org.jboss.as.server.logging.ServerLogger_$logger&lt;/loggerClassName&gt;
    &lt;loggerName&gt;org.jboss.as&lt;/loggerName&gt;
    &lt;level&gt;INFO&lt;/level&gt;
    &lt;message&gt;WFLYSRV0025: JBoss EAP 7.3.0.GA (WildFly Core 10.0.0.Final-redhat-20190924) started in 6271ms - Started 495 of 679 services (331 services are lazy, passive or on-demand)&lt;/message&gt;
    &lt;threadName&gt;Controller Boot Thread&lt;/threadName&gt;
    &lt;threadId&gt;22&lt;/threadId&gt;
    &lt;mdc&gt;
    &lt;/mdc&gt;
    &lt;ndc&gt;&lt;/ndc&gt;
    &lt;hostName&gt;localhost.localdomain&lt;/hostName&gt;
    &lt;processName&gt;jboss-modules.jar&lt;/processName&gt;
    &lt;processId&gt;7790&lt;/processId&gt;
&lt;/record&gt;</pre><h5 id="add_a_key_override_xml_log_formatter">Add a Key Override XML Log Formatter</h5><pre class="screen">/subsystem=logging/xml-formatter=<span class="emphasis"><em>XML_FORMATTER_NAME</em></span>:add(pretty-print=true, print-namespace=true, namespace-uri="urn:custom:1.0", key-overrides={message=msg, record=logRecord, timestamp=date}, print-details=true)</pre><p>
					You can use the XML formatter attributes as explained below:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">key-overrides</code> attribute can be used to override the names of the keys defined.
						</li><li class="listitem">
							The exceptions can be formatted as objects by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">formatted</code>.
						</li><li class="listitem">
							The exception stack trace can be included by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">detailed</code>.
						</li><li class="listitem">
							The exceptions can be formatted as objects and stack traces can be included by setting the <code class="literal">exception-output-type</code> to <code class="literal">detailed-and-formatted</code>.
						</li><li class="listitem">
							The metadata can be added to log records using the <code class="literal">meta-data</code> attribute.
						</li></ul></div><p>
					For more information on the XML formatter attributes, see <a class="link" href="#xml_log_formatter_attributes" title="Table A.42. XML Log Formatter Attributes">XML Log Formatter Attributes</a>.
				</p><p>
					You can also configure XML log formatters using the management console:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Configuration</strong></span> and then click <span class="strong strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Formatter</strong></span> and then choose the <span class="strong strong"><strong>XML Formatter</strong></span> option.
						</li></ol></div></section><section class="section" id="configure_custom_log_formatter"><div class="titlepage"><div><div><h3 class="title">11.7.4. Configure a Custom Log Formatter</h3></div></div></div><p>
					You can create a custom log formatter that can be used across log handlers to format log messages.
				</p><p>
					This section shows you how to configure a custom log formatter using the management CLI.
				</p><h5 id="configure_a_custom_log_formatter">Configure a Custom Log Formatter</h5><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the custom log formatter.
						</p><p class="simpara">
							When adding a custom log formatter, you must specify the Java class of the formatter and the JBoss EAP module in which it is contained. The class must extend <code class="literal">java.util.logging.Formatter</code>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You must have already created a module containing the custom formatter or this command will fail.
							</p></div></div><pre class="screen">/subsystem=logging/custom-formatter=<span class="emphasis"><em>CUSTOM_FORMATTER_NAME</em></span>:add(class=<span class="emphasis"><em>CLASS_NAME</em></span>, module=<span class="emphasis"><em>MODULE_NAME</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the necessary properties for the log formatter.
						</p><p class="simpara">
							The properties must be accessible using a setter method.
						</p><pre class="screen">/subsystem=logging/custom-formatter=<span class="emphasis"><em>CUSTOM_FORMATTER_NAME</em></span>:write-attribute(name=properties.<span class="emphasis"><em>PROPERTY_NAME</em></span>,value=<span class="emphasis"><em>PROPERTY_VALUE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Assign the custom formatter to a log handler.
						</p><p class="simpara">
							The following management CLI command assigns a custom formatter to be used by a periodic rotating file handler.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=named-formatter, value=<span class="emphasis"><em>CUSTOM_FORMATTER_NAME</em></span>)</pre></li></ol></div><h5 id="example_custom_xml_formatter">Example Custom XML Formatter</h5><p>
					The following example configures a custom XML formatter. It uses the <code class="literal">java.util.logging.XMLFormatter</code> class provided in the <code class="literal">org.jboss.logmanager</code> module and assigns it to the console log handler.
				</p><pre class="screen">/subsystem=logging/custom-formatter=custom-xml-formatter:add(class=java.util.logging.XMLFormatter, module=org.jboss.logmanager)
/subsystem=logging/console-handler=CONSOLE:write-attribute(name=named-formatter, value=custom-xml-formatter)</pre><p>
					A log message using this formatter would be formatted as below.
				</p><pre class="screen">&lt;record&gt;
  &lt;date&gt;2016-03-23T12:58:13&lt;/date&gt;
  &lt;millis&gt;1458752293091&lt;/millis&gt;
  &lt;sequence&gt;93963&lt;/sequence&gt;
  &lt;logger&gt;org.jboss.as&lt;/logger&gt;
  &lt;level&gt;INFO&lt;/level&gt;
  &lt;class&gt;org.jboss.as.server.BootstrapListener&lt;/class&gt;
  &lt;method&gt;logAdminConsole&lt;/method&gt;
  &lt;thread&gt;22&lt;/thread&gt;
  &lt;message&gt;WFLYSRV0051: Admin console listening on http://%s:%d&lt;/message&gt;
  &lt;param&gt;127.0.0.1&lt;/param&gt;
  &lt;param&gt;9990&lt;/param&gt;
&lt;/record&gt;</pre><h5 id="configure_a_custom_log_formatter_using_the_management_console">Configure a Custom Log Formatter Using the Management Console</h5><p>
					You can also configure log formatters using the management console.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Configuration</strong></span> and then click <span class="strong strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Formatter</strong></span> and then choose the <span class="strong strong"><strong>Custom Formatter</strong></span> option.
						</li></ol></div></section></section><section class="section" id="about_application_logging"><div class="titlepage"><div><div><h2 class="title">11.8. About Application Logging</h2></div></div></div><p>
				Logging for applications can be configured using the JBoss EAP <code class="literal">logging</code> subsystem or on a per-deployment basis.
			</p><p>
				See <a class="link" href="#about_logging_subsystem" title="11.3. About the Logging Subsystem">About the Logging Subsystem</a> for using JBoss EAP log categories and handlers for capturing log messages.
			</p><p>
				For more information on application logging, such as supported application logging frameworks and configuring per-deployment logging, see the <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#logging_for_developers">Logging</a> chapter in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
			</p><section class="section" id="about_per_deployment_logging"><div class="titlepage"><div><div><h3 class="title">11.8.1. Per-deployment Logging</h3></div></div></div><p>
					Per-deployment logging allows a developer to configure the logging configuration for their application in advance. When the application is deployed, logging begins according to the defined configuration. The log files created through this configuration contain information only about the behavior of the application.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If the per-deployment logging configuration is not done, the configuration from <code class="literal">logging</code> subsystem is used for all the applications as well as the server.
					</p></div></div><p>
					This approach has advantages and disadvantages over using system-wide logging. An advantage is that the administrator of the JBoss EAP instance does not need to configure any other logging than the server logging. A disadvantage is that the per-deployment logging configuration is read only on server startup, and so cannot be changed at runtime.
				</p><p>
					For instructions on using per-deployment logging in your applications, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#add_per_deployment_logging_to_an_application">Add Per-deployment Logging to an Application</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
				</p><section class="section" id="disable_per_deployment_logging"><div class="titlepage"><div><div><h4 class="title">11.8.1.1. Disable Per-deployment Logging</h4></div></div></div><p>
						You can disable per-deployment logging in one of the following ways:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Set the <code class="literal">use-deployment-logging-config</code> attribute to <code class="literal">false</code>.
							</p><p class="simpara">
								The <code class="literal">use-deployment-logging-config</code> attribute controls whether or not your deployment is scanned for per-deployment logging. This defaults to <code class="literal">true</code> by default. You can set this attribute to <code class="literal">false</code> to disable per-deployment logging.
							</p><pre class="screen">/subsystem=logging:write-attribute(name=use-deployment-logging-config,value=false)</pre></li><li class="listitem"><p class="simpara">
								Exclude the <code class="literal">logging</code> subsystem using a <code class="literal">jboss-deployment-structure.xml</code> file.
							</p><p class="simpara">
								For instructions, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#exclude_a_subsystem_from_a_deployment">Exclude a Subsystem from a Deployment</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
							</p></li></ul></div></section></section><section class="section" id="logging_profiles"><div class="titlepage"><div><div><h3 class="title">11.8.2. Logging Profiles</h3></div></div></div><p>
					Logging profiles are independent sets of logging configurations that can be assigned to deployed applications. As with the regular <code class="literal">logging</code> subsystem, a logging profile can define handlers, categories, and a root logger, but it cannot refer to configurations in other profiles or the main <code class="literal">logging</code> subsystem. The design of logging profiles mimics the <code class="literal">logging</code> subsystem for ease of configuration.
				</p><p>
					Logging profiles allow administrators to create logging configurations that are specific to one or more applications without affecting any other logging configurations. Because each profile is defined in the server configuration, the logging configuration can be changed without requiring that the affected applications be redeployed.
				</p><p>
					Each logging profile can have:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							A unique name. This value is required.
						</li><li class="listitem">
							Any number of log handlers.
						</li><li class="listitem">
							Any number of log categories.
						</li><li class="listitem">
							Up to one root logger.
						</li></ul></div><p>
					An application can specify a logging profile to use in its <code class="literal">MANIFEST.MF</code> file, using the <code class="literal">Logging-Profile</code> attribute.
				</p><section class="section" id="configure_logging_profile"><div class="titlepage"><div><div><h4 class="title">11.8.2.1. Configure a Logging Profile</h4></div></div></div><p>
						A logging profile can be configured with log handlers, categories, and a root logger. Configuring a logging profile uses the same syntax as configuring the <code class="literal">logging</code> subsystem, except for the following differences:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The root configuration path is <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>NAME</em></span></code>.
							</li><li class="listitem">
								A logging profile cannot contain other logging profiles.
							</li><li class="listitem"><p class="simpara">
								The <code class="literal">logging</code> subsystem has the following attributes that are not available for a logging profile:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">add-logging-api-dependencies</code>
									</li><li class="listitem">
										<code class="literal">use-deployment-logging-config</code>
									</li></ul></div></li></ul></div><h6 id="creating_and_configuring_a_logging_profile">Creating and Configuring a Logging Profile</h6><p>
						The following procedure uses the management CLI to create a logging profile and set a file handler and logger category. Logging profiles can also be configured using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Logging</strong></span> → <span class="strong strong"><strong>Logging Profiles</strong></span>.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create the logging profile.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>:add</pre></li><li class="listitem"><p class="simpara">
								Create the file handler.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:add(file={path=&gt;"<span class="emphasis"><em>LOG_NAME</em></span>.log", "relative-to"=&gt;"jboss.server.log.dir"})</pre><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name="level", value="DEBUG")</pre><p class="simpara">
								See <a class="link" href="#file_log_handler_attributes" title="Table A.32. File Log Handler Attributes">File Log Handler Attributes</a> for the list of file handler attributes.
							</p></li><li class="listitem"><p class="simpara">
								Create the logger category.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/logger=<span class="emphasis"><em>CATEGORY_NAME</em></span>:add(level=TRACE)</pre><p class="simpara">
								See <a class="link" href="#log_category_attributes" title="A.16. Log Category Attributes">Log Category Attributes</a> for the list of log category attributes.
							</p></li><li class="listitem"><p class="simpara">
								Assign the file handler to the category.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/logger=<span class="emphasis"><em>CATEGORY_NAME</em></span>:add-handler(name="<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>")</pre></li></ol></div><p>
						You can then set the logging profile to use by an application in its <code class="literal">MANIFEST.MF</code> file. For more information, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#specify_a_logging_profile_in_an_application">Specify a Logging Profile in an Application</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
					</p></section><section class="section" id="example_logging_profile_configuration"><div class="titlepage"><div><div><h4 class="title">11.8.2.2. Example Logging Profile Configuration</h4></div></div></div><p>
						This example shows the configuration of a logging profile and the application that uses it. It shows the management CLI commands, the resulting XML, and the application’s <code class="literal">MANIFEST.MF</code> file.
					</p><p>
						The example logging profile has the following characteristics:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The name is <code class="literal">accounts-app-profile</code>.
							</li><li class="listitem">
								The log category is <code class="literal">com.company.accounts.ejbs</code>.
							</li><li class="listitem">
								The log level <code class="literal">TRACE</code>.
							</li><li class="listitem">
								The log handler is a file handler using the file <code class="literal">ejb-trace.log</code>.
							</li></ul></div><div class="formalpara"><p class="title"><strong>Management CLI Session</strong></p><p>
							
<pre class="screen">/subsystem=logging/logging-profile=accounts-app-profile:add

/subsystem=logging/logging-profile=accounts-app-profile/file-handler=ejb-trace-file:add(file={path=&gt;"ejb-trace.log", "relative-to"=&gt;"jboss.server.log.dir"})

/subsystem=logging/logging-profile=accounts-app-profile/file-handler=ejb-trace-file:write-attribute(name="level", value="DEBUG")

/subsystem=logging/logging-profile=accounts-app-profile/logger=com.company.accounts.ejbs:add(level=TRACE)

/subsystem=logging/logging-profile=accounts-app-profile/logger=com.company.accounts.ejbs:add-handler(name="ejb-trace-file")</pre>

						</p></div><div class="formalpara"><p class="title"><strong>XML Configuration</strong></p><p>
							
<pre class="programlisting language-xml">&lt;logging-profiles&gt;
   &lt;logging-profile name="accounts-app-profile"&gt;
      &lt;file-handler name="ejb-trace-file"&gt;
         &lt;level name="DEBUG"/&gt;
         &lt;file relative-to="jboss.server.log.dir" path="ejb-trace.log"/&gt;
      &lt;/file-handler&gt;
      &lt;logger category="com.company.accounts.ejbs"&gt;
         &lt;level name="TRACE"/&gt;
         &lt;handlers&gt;
            &lt;handler name="ejb-trace-file"/&gt;
         &lt;/handlers&gt;
      &lt;/logger&gt;
   &lt;/logging-profile&gt;
&lt;/logging-profiles&gt;</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Application MANIFEST.MF file</strong></p><p>
							
<pre class="screen">Manifest-Version: 1.0
Logging-Profile: accounts-app-profile</pre>

						</p></div></section></section><section class="section" id="viewing_deployment_logging_configuration"><div class="titlepage"><div><div><h3 class="title">11.8.3. Viewing Deployment Logging Configuration</h3></div></div></div><p>
					You can obtain information about the logging configuration for a particular deployment using the following management CLI command.
				</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=logging/configuration=<span class="emphasis"><em>CONFIG</em></span>:read-resource</pre><p>
					The logging configuration value, <code class="literal"><span class="emphasis"><em>CONFIG</em></span></code>, for a deployment can be one of three values:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">default</code>, if the deployment is using the <a class="link" href="#about_logging_subsystem" title="11.3. About the Logging Subsystem"><code class="literal">logging</code> subsystem</a>. This will output the <code class="literal">logging</code> subsystem configuration.
						</li><li class="listitem">
							<code class="literal">profile-<span class="emphasis"><em>PROFILE_NAME</em></span></code>, if the deployment is using a <a class="link" href="#logging_profiles" title="11.8.2. Logging Profiles">logging profile</a> defined in the <code class="literal">logging</code> subsystem. This will output the logging profile configuration.
						</li><li class="listitem">
							The path to the configuration file being used, for example, <code class="literal">myear.ear/META-INF/logging.properties</code>.
						</li></ul></div><p>
					For example, the below management CLI command displays the configuration for the <code class="literal">MYPROFILE</code> logging profile, which is used by the specified deployment.
				</p><pre class="screen">/deployment=mydeployment.war/subsystem=logging/configuration=profile-MYPROFILE:read-resource(recursive=true,include-runtime=true)</pre><p>
					This will output the following information.
				</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "error-manager" =&gt; undefined,
        "filter" =&gt; undefined,
        "formatter" =&gt; {
            "MYFORMATTER" =&gt; {
                "class-name" =&gt; "org.jboss.logmanager.formatters.PatternFormatter",
                "module" =&gt; undefined,
                "properties" =&gt; {"pattern" =&gt; "%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n"}
            }
        },
        "handler" =&gt; {
            "MYPERIODIC" =&gt; {
                "class-name" =&gt; "org.jboss.logmanager.handlers.PeriodicRotatingFileHandler",
                "encoding" =&gt; undefined,
                "error-manager" =&gt; undefined,
                "filter" =&gt; undefined,
                "formatter" =&gt; "MYFORMATTER",
                "handlers" =&gt; [],
                "level" =&gt; "ALL",
                "module" =&gt; undefined,
                "properties" =&gt; {
                    "append" =&gt; "true",
                    "autoFlush" =&gt; "true",
                    "enabled" =&gt; "true",
                    "suffix" =&gt; ".yyyy-MM-dd",
                    "fileName" =&gt; "<span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/deployment.log"
                }
            }
        },
        "logger" =&gt; {"MYCATEGORY" =&gt; {
            "filter" =&gt; undefined,
            "handlers" =&gt; [],
            "level" =&gt; "DEBUG",
            "use-parent-handlers" =&gt; true
        }},
        "pojo" =&gt; undefined
    }
}</pre><p>
					You could also use a recursive <code class="literal">read-resource</code> operation to read the logging configuration and other information about a deployment.
				</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=logging:read-resource(include-runtime=true, recursive=true)</pre></section></section><section class="section" id="tuning_logging_subsystem"><div class="titlepage"><div><div><h2 class="title">11.9. Tuning the Logging Subsystem</h2></div></div></div><p>
				For tips on monitoring and optimizing performance for the <code class="literal">logging</code> subsystem, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#logging_tuning" title="This content is not included in Mimir.">Logging Subsystem Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></section></section><section class="chapter" id="datasource_management"><div class="titlepage"><div><div><h1 class="title">Chapter 12. Datasource Management</h1></div></div></div><section class="section" id="about_jboss_eap_datasources"><div class="titlepage"><div><div><h2 class="title">12.1. About JBoss EAP Datasources</h2></div></div></div><h4 id="about_jdbc">About JDBC</h4><p>
				The JDBC API is the standard that defines how databases are accessed by Java applications. An application configures a datasource that references a JDBC driver. Application code can then be written against the driver, rather than the database. The driver converts the code to the database language. This means that if the correct driver is installed, an application can be used with any supported database.
			</p><p>
				For more information, see the <a class="link mimir-link-warn" href="http://jcp.org/en/jsr/detail?id=221" title="Mimir does not include content from: jcp.org">JDBC 4.0 specification</a>.
			</p><h4 id="supported_databases">Supported Databases</h4><p>
				See <a class="link mimir-link-warn" href="https://access.redhat.com/articles/2026253" title="This content is not included in Mimir.">JBoss EAP supported configurations</a> for the list of JDBC-compliant databases supported by JBoss EAP 7.
			</p><h4 id="datasource_types">Datasource Types</h4><p>
				The two general types of resources are referred to as <span class="emphasis"><em>datasources</em></span> and <span class="emphasis"><em>XA datasources</em></span>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Non-XA datasources</span></dt><dd>
							Used for applications that do not use transactions, or applications that use transactions with a single database.
						</dd><dt><span class="term">XA datasources</span></dt><dd>
							Used by applications that use multiple databases or other XA resources as part of one XA transaction. XA datasources introduce additional overhead.
						</dd></dl></div><p>
				You specify which type of datasource to use when creating the datasource using the JBoss EAP management interfaces.
			</p><h4 id="the_exampleds_datasource">The ExampleDS datasource</h4><p>
				JBoss EAP ships with an example datasource configuration, <span class="emphasis"><em>ExampleDS</em></span>, which is provided to demonstrate how datasources are defined. This datasource uses an H2 database, which is a lightweight, relational database management system that provides developers with the ability to quickly build applications.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					The <span class="emphasis"><em>ExampleDS</em></span> datasource and the H2 database should <span class="emphasis"><em>not</em></span> be used in a production environment. This is a very small, self-contained datasource that supports all of the standards needed for testing and building applications, but is not robust or scalable enough for production use.
				</p></div></div></section><section class="section" id="jdbc_drivers"><div class="titlepage"><div><div><h2 class="title">12.2. JDBC Drivers</h2></div></div></div><p>
				Before defining datasources in JBoss EAP for your applications to use, you must first install the appropriate JDBC driver.
			</p><section class="section" id="install_a_jdbc_driver_as_a_core_module"><div class="titlepage"><div><div><h3 class="title">12.2.1. Installing a JDBC Driver as a Core Module</h3></div></div></div><p>
					To install a JDBC driver as a core module, you must first <a class="link" href="#add_jdbc_driver_core_module_datasources" title="12.2.1.1. Add the JDBC Driver as a Core Module">add the JDBC driver as a core module</a> and then <a class="link" href="#register_jdbc_driver" title="12.2.1.2. Register the JDBC Driver">register the JDBC driver</a> in the <code class="literal">datasources</code> subsystem.
				</p><section class="section" id="add_jdbc_driver_core_module_datasources"><div class="titlepage"><div><div><h4 class="title">12.2.1.1. Add the JDBC Driver as a Core Module</h4></div></div></div><p>
						JDBC drivers can be installed as a core module using the management CLI using the following steps.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Download the JDBC driver.
							</p><p class="simpara">
								Download the appropriate JDBC driver from your database vendor. See <a class="link" href="#jdbc_driver_download_locations" title="12.2.3. JDBC Driver Download Locations">JDBC Driver Download Locations</a> for standard download locations for JDBC drivers of common databases.
							</p><p class="simpara">
								Make sure to extract the archive if the JDBC driver JAR file is contained within a ZIP or TAR archive.
							</p></li><li class="listitem">
								Start the JBoss EAP server.
							</li><li class="listitem"><p class="simpara">
								Launch the management CLI.
							</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre></li><li class="listitem"><p class="simpara">
								Use the <code class="literal">module add</code> management CLI command to add the new core module.
							</p><pre class="screen">module add --name=<span class="emphasis"><em>MODULE_NAME</em></span> --resources=<span class="emphasis"><em>PATH_TO_JDBC_JAR</em></span> --dependencies=<span class="emphasis"><em>DEPENDENCIES</em></span></pre><p class="simpara">
								For example, the following command adds a MySQL JDBC driver module.
							</p><pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
								</p><p>
									Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
								</p><p>
									See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
								</p></div></div><p class="simpara">
								Execute <code class="literal">module --help</code> for more details on using this command to add and remove modules.
							</p></li></ol></div><p>
						You must next register it as a JDBC driver for it to be referenced by application datasources.
					</p></section><section class="section" id="register_jdbc_driver"><div class="titlepage"><div><div><h4 class="title">12.2.1.2. Register the JDBC Driver</h4></div></div></div><p>
						After the driver has been <a class="link" href="#add_jdbc_driver_core_module_datasources" title="12.2.1.1. Add the JDBC Driver as a Core Module">installed as a core module</a>, you must register it as a JDBC driver using the following management CLI command. When running in a managed domain, be sure to precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p><pre class="screen">/subsystem=datasources/jdbc-driver=<span class="emphasis"><em>DRIVER_NAME</em></span>:add(driver-name=<span class="emphasis"><em>DRIVER_NAME</em></span>,driver-module-name=<span class="emphasis"><em>MODULE_NAME</em></span>,driver-xa-datasource-class-name=<span class="emphasis"><em>XA_DATASOURCE_CLASS_NAME</em></span>, driver-class-name=<span class="emphasis"><em>DRIVER_CLASS_NAME</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The <code class="literal">driver-class-name</code> parameter is only required if the JDBC driver jar defines more than one class in its <code class="literal">/META-INF/services/java.sql.Driver</code> file.
						</p><p>
							For example, the <code class="literal">/META-INF/services/java.sql.Driver</code> file in the MySQL 5.1.36 JDBC driver JAR defines two classes:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									com.mysql.jdbc.Driver
								</li><li class="listitem">
									com.mysql.fabric.jdbc.FabricMySQLDriver
								</li></ul></div><p>
							For this case, you would pass in <code class="literal">driver-class-name=com.mysql.jdbc.Driver</code>.
						</p></div></div><p>
						For example, the following command registers a MySQL JDBC driver.
					</p><pre class="screen">/subsystem=datasources/jdbc-driver=mysql:add(driver-name=mysql,driver-module-name=com.mysql,driver-xa-datasource-class-name=com.mysql.cj.jdbc.MysqlXADataSource, driver-class-name=com.mysql.jdbc.Driver)</pre><p>
						The JDBC driver is now available to be referenced by application datasources.
					</p></section></section><section class="section" id="install_a_jdbc_driver_as_a_jar_deployment"><div class="titlepage"><div><div><h3 class="title">12.2.2. Installing a JDBC Driver as a JAR Deployment</h3></div></div></div><p>
					JDBC drivers can be installed as a JAR deployment using either the management CLI or the management console. As long as the driver is JDBC 4-compliant, it will automatically be recognized and installed as a JDBC driver upon deployment.
				</p><p>
					The following steps describe how to install a JDBC driver using the management CLI.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The recommended installation method for JDBC drivers is to install them as a <a class="link" href="#install_a_jdbc_driver_as_a_core_module" title="12.2.1. Installing a JDBC Driver as a Core Module">core module</a>.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Download the JDBC driver.
						</p><p class="simpara">
							Download the appropriate JDBC driver from your database vendor. See <a class="link" href="#jdbc_driver_download_locations" title="12.2.3. JDBC Driver Download Locations">JDBC Driver Download Locations</a> for standard download locations for JDBC drivers of common databases.
						</p><p class="simpara">
							Make sure to extract the archive if the JDBC driver JAR file is contained within a ZIP or TAR archive.
						</p></li><li class="listitem">
							If the JDBC driver is not JDBC 4-compliant, see the steps to <a class="link" href="#update_jdbc_driver_jar_jdbc_4_compliant" title="Update a JDBC Driver JAR to be JDBC 4-Compliant">Update a JDBC Driver JAR to be JDBC 4-Compliant</a>.
						</li><li class="listitem"><p class="simpara">
							Deploy the JAR to JBoss EAP.
						</p><pre class="screen">deploy <span class="emphasis"><em>PATH_TO_JDBC_JAR</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In a managed domain, specify the appropriate server groups.
							</p></div></div><p class="simpara">
							For example, the following command deploys a MySQL JDBC driver.
						</p><pre class="screen">deploy <span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar</pre><p class="simpara">
							A message will be displayed in the JBoss EAP server log that displays the deployed driver name, which will be used when defining datasources.
						</p><pre class="screen">WFLYJCA0018: Started Driver service with driver-name = mysql-connector-java-8.0.12.jar</pre></li></ol></div><p>
					The JDBC driver is now available to be referenced by application datasources.
				</p><h5 id="update_jdbc_driver_jar_jdbc_4_compliant">Update a JDBC Driver JAR to be JDBC 4-Compliant</h5><p>
					If the JDBC driver JAR is not JDBC 4-compliant, it can be made deployable using the following steps.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Create an empty temporary directory.
						</li><li class="listitem">
							Create a <code class="literal">META-INF</code> subdirectory.
						</li><li class="listitem">
							Create a <code class="literal">META-INF/services</code> subdirectory.
						</li><li class="listitem"><p class="simpara">
							Create a <code class="literal">META-INF/services/java.sql.Driver</code> file and add one line to indicate the fully-qualified class name of the JDBC driver.
						</p><p class="simpara">
							For example, the below line would be added for a MySQL JDBC driver.
						</p><pre class="screen">com.mysql.jdbc.Driver</pre></li><li class="listitem"><p class="simpara">
							Use the JAR command-line tool to add this new file to the JAR.
						</p><pre class="screen">jar \-uf jdbc-driver.jar META-INF/services/java.sql.Driver</pre></li></ol></div></section><section class="section" id="jdbc_driver_download_locations"><div class="titlepage"><div><div><h3 class="title">12.2.3. JDBC Driver Download Locations</h3></div></div></div><p>
					The following table gives the standard download locations for JDBC drivers of common databases used with JBoss EAP.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						These links point to third-party websites which are not controlled or actively monitored by Red Hat. For the most up-to-date drivers for your database, check your database vendor’s documentation and website.
					</p></div></div><div class="table" id="idm140321715669120"><p class="title"><strong>Table 12.1. JDBC Driver Download Locations</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321719593184" scope="col">Vendor</th><th align="left" valign="top" id="idm140321719592096" scope="col">Download Location</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321719593184"> <p>
									MySQL
								</p>
								 </td><td align="left" valign="top" headers="idm140321719592096"> <p>
									<a class="link mimir-link-warn" href="http://www.mysql.com/products/connector/" title="Mimir does not include content from: www.mysql.com">http://www.mysql.com/products/connector/</a>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719593184"> <p>
									PostgreSQL
								</p>
								 </td><td align="left" valign="top" headers="idm140321719592096"> <p>
									<a class="link mimir-link-warn" href="http://jdbc.postgresql.org/" title="Mimir does not include content from: jdbc.postgresql.org">http://jdbc.postgresql.org/</a>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719593184"> <p>
									Oracle
								</p>
								 </td><td align="left" valign="top" headers="idm140321719592096"> <p>
									<a class="link mimir-link-warn" href="http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html" title="Mimir does not include content from: www.oracle.com">http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html</a>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719593184"> <p>
									IBM
								</p>
								 </td><td align="left" valign="top" headers="idm140321719592096"> <p>
									<a class="link mimir-link-warn" href="http://www-01.ibm.com/support/docview.wss?uid=swg21363866" title="Mimir does not include content from: www-01.ibm.com">http://www-01.ibm.com/support/docview.wss?uid=swg21363866</a>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719593184"> <p>
									Sybase
								</p>
								 </td><td align="left" valign="top" headers="idm140321719592096"> <p>
									The jConnect JDBC driver is part of the SDK for <a class="link mimir-link-warn" href="http://go.sap.com/product/data-mgmt/sybase-ase.html" title="Mimir does not include content from: go.sap.com">SAP ASE</a> installation. Currently there is not a separate download site for this driver by itself.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321719593184"> <p>
									Microsoft
								</p>
								 </td><td align="left" valign="top" headers="idm140321719592096"> <p>
									<a class="link mimir-link-warn" href="http://msdn.microsoft.com/data/jdbc/" title="Mimir does not include content from: msdn.microsoft.com">http://msdn.microsoft.com/data/jdbc/</a>
								</p>
								 </td></tr></tbody></table></div></div></section><section class="section" id="access_vendor_specific_classes"><div class="titlepage"><div><div><h3 class="title">12.2.4. Access Vendor-Specific Classes</h3></div></div></div><p>
					In some cases, it is necessary for an application to use vendor-specific functionality that is not part of the JDBC API. In these cases, you can access vendor-specific APIs by declaring a dependency in that application.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						This is advanced usage. Only applications that need functionality not found in the JDBC API should implement this procedure.
					</p></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						This process is required when using the reauthentication mechanism, and accessing vendor-specific classes.
					</p></div></div><p>
					You can define a dependency for an application using either the <code class="literal">MANIFEST.MF</code> file or a <code class="literal">jboss-deployment-structure.xml</code> file.
				</p><p>
					If you have not yet done so, <a class="link" href="#install_a_jdbc_driver_as_a_core_module" title="12.2.1. Installing a JDBC Driver as a Core Module">install a JDBC driver as a core module</a>.
				</p><h5 id="using_the_literal_manifest_mf_literal_file">Using the <code class="literal">MANIFEST.MF</code> File</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Edit the application’s <code class="literal">META-INF/MANIFEST.MF</code> file.
						</li><li class="listitem"><p class="simpara">
							Add the <code class="literal">Dependencies</code> line and specify the module name.
						</p><p class="simpara">
							For example, the below line declares the <code class="literal">com.mysql</code> module as a dependency.
						</p><pre class="screen">Dependencies: com.mysql</pre></li></ol></div><h5 id="using_a_literal_jboss_deployment_structure_xml_literal_file">Using a <code class="literal">jboss-deployment-structure.xml</code> File</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Create a file called <code class="literal">jboss-deployment-structure.xml</code> in the <code class="literal">META-INF/</code> or <code class="literal">WEB-INF/</code> folder of the application.
						</li><li class="listitem"><p class="simpara">
							Specify the module using the <code class="literal">dependencies</code> element.
						</p><p class="simpara">
							For example, the following example <code class="literal">jboss-deployment-structure.xml</code> file declares the <code class="literal">com.mysql</code> module as a dependency.
						</p><pre class="programlisting language-xml">&lt;jboss-deployment-structure&gt;
  &lt;deployment&gt;
    &lt;dependencies&gt;
      &lt;module name="com.mysql"/&gt;
    &lt;/dependencies&gt;
  &lt;/deployment&gt;
&lt;/jboss-deployment-structure&gt;</pre></li></ol></div><p>
					The example code below accesses the MySQL API.
				</p><pre class="programlisting language-java">import java.sql.Connection;
import org.jboss.jca.adapters.jdbc.WrappedConnection;

...

Connection c = ds.getConnection();
WrappedConnection wc = (WrappedConnection)c;
com.mysql.jdbc.Connection mc = wc.getUnderlyingConnection();</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Follow the vendor-specific API guidelines closely, as the connection is being controlled by the IronJacamar container.
					</p></div></div></section></section><section class="section" id="adding_datasources"><div class="titlepage"><div><div><h2 class="title">12.3. Creating Datasources</h2></div></div></div><p>
				Datasources can be created using the management console or the management CLI.
			</p><p>
				JBoss EAP 7 allows you to use expressions in datasource attribute values, such as the <code class="literal">enabled</code> attribute. See the <a class="link" href="#property_replacement" title="3.6.6. Property Replacement">Property Replacement</a> section for details on using expressions in the configuration.
			</p><section class="section" id="create_a_non_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.3.1. Create a Non-XA Datasource</h3></div></div></div><p>
					You can create non-XA datasources using either the management CLI or the management console.
				</p><h5 id="non-xa-datasource-using-management-console">Defining a Non-XA Datasource Using the Management Console</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>.
						</li><li class="listitem">
							Click the Add (<span class="strong strong"><strong>+</strong></span>) button and choose <span class="strong strong"><strong>Add Datasource</strong></span>.
						</li><li class="listitem">
							It opens the <span class="strong strong"><strong>Add Datasource</strong></span> wizard where you can choose the datasource type and click <span class="strong strong"><strong>Next</strong></span>. This creates a template for your database. The following pages of the wizard are prefilled with values specific for the selected datasource. This makes the datasource creation process easy.
						</li><li class="listitem">
							You can test your connection on the <span class="strong strong"><strong>Test Connection</strong></span> page before finishing the datasource creation process.
						</li><li class="listitem">
							Review the details and click <span class="strong strong"><strong>Finish</strong></span> to create the datasource.
						</li></ol></div><h5 id="non-xa-datasource-using-management-cli">Defining a Non-XA Datasource Using the Management CLI</h5><p>
					Non-XA datasources can be defined using the <code class="literal">data-source add</code> management CLI command.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							If you have not yet done so, install and register the appropriate <a class="link" href="#install_a_jdbc_driver_as_a_core_module" title="12.2.1. Installing a JDBC Driver as a Core Module">JDBC Driver as a Core Module</a>.
						</li><li class="listitem"><p class="simpara">
							Define the datasource using the <code class="literal">data-source add</code> command, specifying the appropriate argument values.
						</p><pre class="screen">data-source add --name=<span class="emphasis"><em>DATASOURCE_NAME</em></span> --jndi-name=<span class="emphasis"><em>JNDI_NAME</em></span> --driver-name=<span class="emphasis"><em>DRIVER_NAME</em></span>  --connection-url=<span class="emphasis"><em>CONNECTION_URL</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In a managed domain, you must specify the <code class="literal">--profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code> argument.
							</p></div></div><p class="simpara">
							See the <a class="link" href="#non_xa_datasource_parameters_help" title="Datasource Parameters">Datasource Parameters</a> section below for tips on these parameter values.
						</p></li></ol></div><p>
					For detailed examples, see the <a class="link" href="#example_datasource_configurations" title="12.15. Example Datasource Configurations">Example Datasource Configurations</a> for the supported databases.
				</p><h5 id="non_xa_datasource_parameters_help">Datasource Parameters</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">jndi-name</span></dt><dd>
								The JNDI name for the datasource must start with <code class="literal">java:/</code> or <code class="literal">java:jboss/</code>. For example, <code class="literal">java:jboss/datasources/ExampleDS</code>.
							</dd><dt><span class="term">driver-name</span></dt><dd><p class="simpara">
								The driver name value depends on whether the JDBC driver was installed as a core module or a JAR deployment.
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										For a core module, the driver name value will be the name given to the JDBC driver when it was registered.
									</li><li class="listitem"><p class="simpara">
										For a JAR deployment, the driver name is the name of the JAR if there is only one class listed in its <code class="literal">/META-INF/services/java.sql.Driver</code> file. If there are multiple classes listed, then the value is <code class="literal"><span class="emphasis"><em>JAR_NAME</em></span></code> + "_" + <code class="literal"><span class="emphasis"><em>DRIVER_CLASS_NAME</em></span></code> + "_" + <code class="literal"><span class="emphasis"><em>MAJOR_VERSION</em></span></code> + "_" + <code class="literal"><span class="emphasis"><em>MINOR_VERSION</em></span></code> (for example <code class="literal">mysql-connector-java-5.1.36-bin.jar_com.mysql.jdbc.Driver_5_1</code>).
									</p><p class="simpara">
										You can also see the driver name listed in the JBoss EAP server log when the JDBC JAR is deployed.
									</p><pre class="screen">WFLYJCA0018: Started Driver service with driver-name = mysql-connector-java-5.1.36-bin.jar_com.mysql.jdbc.Driver_5_1</pre></li></ol></div></dd><dt><span class="term">connection-url</span></dt><dd>
								For details on the connection URL formats for the supported databases, see the list of <a class="link" href="#datasource_connection_urls" title="A.19. Datasource Connection URLs">Datasource Connection URLs</a>.
							</dd></dl></div><p>
					For a complete listing of all available datasource attributes, see the <a class="link" href="#datasource_parameters" title="A.20. Datasource Attributes">Datasource Attributes</a> section.
				</p></section><section class="section" id="create_an_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.3.2. Create an XA Datasource</h3></div></div></div><p>
					You can create XA datasources using either the management CLI or the management console.
				</p><h5 id="create_an_xa_datasource_using_the_management_console">Defining an XA Datasource Using the Management Console</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>.
						</li><li class="listitem">
							Click the Add (<span class="strong strong"><strong>+</strong></span>) button and choose <span class="strong strong"><strong>Add XA Datasource</strong></span>.
						</li><li class="listitem">
							It opens the <span class="strong strong"><strong>Add XA Datasource</strong></span> wizard where you can choose the datasource type and click <span class="strong strong"><strong>Next</strong></span>. This creates a template for your database. The following pages of the wizard are prefilled with values specific for the selected datasource. This makes the datasource creation process easy.
						</li><li class="listitem">
							You can test your connection on the <span class="strong strong"><strong>Test Connection</strong></span> page before finishing the datasource creation process.
						</li><li class="listitem">
							Review the details and click <span class="strong strong"><strong>Finish</strong></span> to create the datasource.
						</li></ol></div><h5 id="create_an_xa_datasource_using_the_management_cli">Defining an XA Datasource Using the Management CLI</h5><p>
					XA datasources can be defined using the <code class="literal">xa-data-source add</code> management CLI command.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, you will need to specify the profile to use. Depending on the format of the management CLI command, you will either precede the command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code> or pass in the <code class="literal">--profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code> argument.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							If you have not yet done so, install and register the appropriate <a class="link" href="#install_a_jdbc_driver_as_a_core_module" title="12.2.1. Installing a JDBC Driver as a Core Module">JDBC Driver as a Core Module</a>.
						</li><li class="listitem"><p class="simpara">
							Define the datasource using the <code class="literal">xa-data-source add</code> command, specifying the appropriate argument values.
						</p><pre class="screen">xa-data-source add --name=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span> --jndi-name=<span class="emphasis"><em>JNDI_NAME</em></span> --driver-name=<span class="emphasis"><em>DRIVER_NAME</em></span> --xa-datasource-class=<span class="emphasis"><em>XA_DATASOURCE_CLASS</em></span> --xa-datasource-properties={"ServerName"=&gt;"<span class="emphasis"><em>HOST_NAME</em></span>","DatabaseName"=&gt;"<span class="emphasis"><em>DATABASE_NAME</em></span>"}</pre><p class="simpara">
							See the <a class="link" href="#xa_datasource_parameters_help" title="Datasource Parameters">Datasource Parameters</a> section below for tips on these parameter values.
						</p></li><li class="listitem"><p class="simpara">
							Set <span class="emphasis"><em>XA datasource properties</em></span>.
						</p><p class="simpara">
							At least one <span class="emphasis"><em>XA datasource property</em></span> is required when defining an XA datasource or you will receive an error when adding the datasource in the previous step. Any properties that were not set when defining the XA datasource can be set individually afterward.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Set the server name.
								</p><pre class="screen">/subsystem=datasources/xa-data-source=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span>/xa-datasource-properties=ServerName:add(value=<span class="emphasis"><em>HOST_NAME</em></span>)</pre></li><li class="listitem"><p class="simpara">
									Set the database name.
								</p><pre class="screen">/subsystem=datasources/xa-data-source=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span>/xa-datasource-properties=DatabaseName:add(value=<span class="emphasis"><em>DATABASE_NAME</em></span>)</pre></li></ol></div></li></ol></div><p>
					For detailed examples, see the <a class="link" href="#example_datasource_configurations" title="12.15. Example Datasource Configurations">Example Datasource Configurations</a> for the supported databases.
				</p><h5 id="xa_datasource_parameters_help">Datasource Parameters</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">jndi-name</span></dt><dd>
								The JNDI name for the datasource must start with <code class="literal">java:/</code> or <code class="literal">java:jboss/</code>. For example, <code class="literal">java:jboss/datasources/ExampleDS</code>.
							</dd><dt><span class="term">driver-name</span></dt><dd><p class="simpara">
								The driver name value depends on whether the JDBC driver was installed as a core module or a JAR deployment.
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										For a core module, the driver name value will be the name given to the JDBC driver when it was registered.
									</li><li class="listitem"><p class="simpara">
										For a JAR deployment, the driver name is the name of the JAR if there is only one class listed in its <code class="literal">/META-INF/services/java.sql.Driver</code> file. If there are multiple classes listed, then the value is <code class="literal"><span class="emphasis"><em>JAR_NAME</em></span></code> + "_" + <code class="literal"><span class="emphasis"><em>DRIVER_CLASS_NAME</em></span></code> + "_" + <code class="literal"><span class="emphasis"><em>MAJOR_VERSION</em></span></code> + "_" + <code class="literal"><span class="emphasis"><em>MINOR_VERSION</em></span></code>, for example, <code class="literal">mysql-connector-java-5.1.36-bin.jar_com.mysql.jdbc.Driver_5_1</code>.
									</p><p class="simpara">
										You can also see the driver name listed in the JBoss EAP server log when the JDBC JAR is deployed.
									</p><pre class="screen">WFLYJCA0018: Started Driver service with driver-name = mysql-connector-java-5.1.36-bin.jar_com.mysql.jdbc.Driver_5_1</pre></li></ol></div></dd><dt><span class="term">xa-datasource-class</span></dt><dd>
								Specify the XA datasource class for the JDBC driver’s implementation of the <code class="literal">javax.sql.XADataSource</code> class.
							</dd><dt><span class="term">xa-datasource-properties</span></dt><dd>
								At least one <span class="emphasis"><em>XA datasource property</em></span> is required when defining an XA datasource or you will receive an error when attempting to add it. Additional properties can also be added to the XA datasource after it has been defined.
							</dd></dl></div><p>
					For a complete listing of all available datasource attributes, see the <a class="link" href="#datasource_parameters" title="A.20. Datasource Attributes">Datasource Attributes</a> section.
				</p></section></section><section class="section" id="modifying_datasources"><div class="titlepage"><div><div><h2 class="title">12.4. Modifying Datasources</h2></div></div></div><p>
				Datasources settings can be configured using the management console or the management CLI.
			</p><p>
				JBoss EAP 7 allows you to use expressions in datasource attribute values, such as the <code class="literal">enabled</code> attribute. See the <a class="link" href="#property_replacement" title="3.6.6. Property Replacement">Property Replacement</a> section for details on using expressions in the configuration.
			</p><section class="section" id="modify_a_non_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.4.1. Modify a Non-XA Datasource</h3></div></div></div><p>
					Non-XA datasource settings can be updated using the <code class="literal">data-source</code> management CLI command. You can also update datasource attributes from the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Non-XA datasources can be integrated with JTA transactions. To integrate the datasource with JTA, ensure that the <code class="literal">jta</code> parameter is set to <code class="literal">true</code>.
					</p></div></div><p>
					Settings for a datasource can be updated by using the following management CLI command.
				</p><pre class="screen">data-source --name=<span class="emphasis"><em>DATASOURCE_NAME</em></span> --<span class="emphasis"><em>ATTRIBUTE_NAME</em></span>=<span class="emphasis"><em>ATTRIBUTE_VALUE</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, you must specify the <code class="literal">--profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code> argument.
					</p></div></div><p>
					A server reload may be required for the changes to take effect.
				</p></section><section class="section" id="modify_an_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.4.2. Modify an XA Datasource</h3></div></div></div><p>
					XA datasource settings can be updated using the <code class="literal">xa-data-source</code> management CLI command. You can also update datasource attributes from the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Settings for an XA datasource can be updated by using the following management CLI command.
						</p><pre class="screen">xa-data-source --name=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span> --<span class="emphasis"><em>ATTRIBUTE_NAME</em></span>=<span class="emphasis"><em>ATTRIBUTE_VALUE</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In a managed domain, you must specify the <code class="literal">--profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code> argument.
							</p></div></div></li><li class="listitem"><p class="simpara">
							An <span class="emphasis"><em>XA datasource property</em></span> can be added using the following management CLI command.
						</p><pre class="screen">/subsystem=datasources/xa-data-source=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span>/xa-datasource-properties=<span class="emphasis"><em>PROPERTY</em></span>:add(value=<span class="emphasis"><em>VALUE</em></span>)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In a managed domain, you must precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
							</p></div></div></li></ul></div><p>
					A server reload may be required for the changes to take effect.
				</p></section></section><section class="section" id="removing_datasources"><div class="titlepage"><div><div><h2 class="title">12.5. Removing Datasources</h2></div></div></div><p>
				Datasources can be removed using the management console or the management CLI.
			</p><section class="section" id="remove_a_non_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.5.1. Remove a Non-XA Datasource</h3></div></div></div><p>
					Non-XA datasources can be removed using the <code class="literal">data-source remove</code> management CLI command. You can also use the management console to remove datasources by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>.
				</p><pre class="screen">data-source remove --name=<span class="emphasis"><em>DATASOURCE_NAME</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, you must specify the <code class="literal">--profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code> argument.
					</p></div></div><p>
					The server will require a reload after the datasource is removed.
				</p></section><section class="section" id="remove_an_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.5.2. Remove an XA Datasource</h3></div></div></div><p>
					XA datasources can be removed using the <code class="literal">xa-data-source remove</code> management CLI command. You can also use the management console to remove datasources by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>.
				</p><pre class="screen">xa-data-source remove --name=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, you must specify the <code class="literal">--profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code> argument.
					</p></div></div><p>
					The server will require a reload after the XA datasource is removed.
				</p></section></section><section class="section" id="testing_datasource_connections"><div class="titlepage"><div><div><h2 class="title">12.6. Testing Datasource Connections</h2></div></div></div><p>
				You can use the management CLI or management console to test a datasource connection to verify that its settings are correct.
			</p><h4 id="test_a_datasource_connection_using_the_management_cli">Test a Datasource Connection Using the Management CLI</h4><p>
				The following management CLI command can be used to test a datasource’s connection.
			</p><pre class="screen">/subsystem=datasources/data-source=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:test-connection-in-pool</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In a managed domain, you must precede this command with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span></code>. If you are testing an XA datasource, replace <code class="literal">data-source=<span class="emphasis"><em>DATASOURCE_NAME</em></span></code> with <code class="literal">xa-data-source=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span></code>.
				</p></div></div><h4 id="test_a_datasource_connection_using_the_management_console">Test a Datasource Connection Using the Management Console</h4><p>
				When using the <span class="strong strong"><strong>Add Datasource</strong></span> wizard in the management console, you have the opportunity to test the connection before creating the datasource. On the <span class="strong strong"><strong>Test Connection</strong></span> screen of the wizard, click the <span class="strong strong"><strong>Test Connection</strong></span> button.
			</p><p>
				Once a datasource has been added, you can test the connection by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>, selecting the datasource, and choosing <span class="strong strong"><strong>Test Connection</strong></span> from the drop down.
			</p></section><section class="section" id="flushing_datasource_connections"><div class="titlepage"><div><div><h2 class="title">12.7. Flushing Datasource Connections</h2></div></div></div><p>
				You can flush datasource connections using the following management CLI commands.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In a managed domain, you must precede these commands with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span></code>.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Flush all connections in the pool.
					</p><pre class="screen">/subsystem=datasources/data-source=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:flush-all-connection-in-pool</pre></li><li class="listitem"><p class="simpara">
						Gracefully flush all connections in the pool.
					</p><pre class="screen">/subsystem=datasources/data-source=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:flush-gracefully-connection-in-pool</pre><p class="simpara">
						The server will wait until connections become idle before flushing them.
					</p></li><li class="listitem"><p class="simpara">
						Flush all idle connections in the pool.
					</p><pre class="screen">/subsystem=datasources/data-source=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:flush-idle-connection-in-pool</pre></li><li class="listitem"><p class="simpara">
						Flush all invalid connections in the pool.
					</p><pre class="screen">/subsystem=datasources/data-source=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:flush-invalid-connection-in-pool</pre><p class="simpara">
						The server will flush all connections that it determines to be invalid, for example, by the <code class="literal">valid-connection-checker-class-name</code> or <code class="literal">check-valid-connection-sql</code> validation mechanism discussed in <a class="link" href="#configure_database_connection_validation_settings" title="12.9. Database Connection Validation">Database Connection Validation</a>.
					</p></li></ul></div><p>
				You can also flush connections using the management console. From the <span class="strong strong"><strong>Runtime</strong></span> tab, select the server, select <span class="strong strong"><strong>Datasources</strong></span>, choose a datasource, and use the drop down to select the appropriate action.
			</p></section><section class="section" id="xa_datasource_recovery"><div class="titlepage"><div><div><h2 class="title">12.8. XA Datasource Recovery</h2></div></div></div><p>
				An XA datasource is a datasource that can participate in an XA global transaction, which is coordinated by the transaction manager and can span multiple resources in a single transaction. If one of the participants fails to commit its changes, the other participants abort the transaction and restore their state as it was before the transaction occurred. This is to maintain consistency and avoid potential data loss or corruption.
			</p><p>
				XA recovery is the process of ensuring that all resources affected by a transaction are updated or rolled back, even if any of the resources or transaction participants crash or become unavailable. XA recovery happens without user intervention.
			</p><p>
				Each XA resource needs to have a recovery module associated with its configuration. The recovery module is the code that is executed when recovery is being performed. JBoss EAP automatically registers recovery modules for JDBC XA resources. You can register a custom module with your XA datasource if you wish to implement custom recovery code. The recovery module must extend class <code class="literal">com.arjuna.ats.jta.recovery.XAResourceRecovery</code>.
			</p><section class="section" id="configuring_xa_recovery"><div class="titlepage"><div><div><h3 class="title">12.8.1. Configuring XA Recovery</h3></div></div></div><p>
					For most JDBC resources, the recovery module is automatically associated with the resource. In these cases, you only need to configure the options that allow the recovery module to connect to your resource to perform recovery.
				</p><p>
					The following table describes the XA datasource parameters specific to XA recovery. Each of these configuration attributes can be set during datasource creation or afterward. You can set them using either the management console or the management CLI. See <a class="link" href="#modify_an_xa_datasource" title="12.4.2. Modify an XA Datasource">Modify an XA Datasource</a> for information on configuring XA datasources.
				</p><div class="table" id="idm140321711739776"><p class="title"><strong>Table 12.2. Datasource Parameters for XA Recovery</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321744498560" scope="col">Attribute</th><th align="left" valign="top" id="idm140321744497472" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321744498560"> <p>
									recovery-username
								</p>
								 </td><td align="left" valign="top" headers="idm140321744497472"> <p>
									The user name to use to connect to the resource for recovery. Note that if this is not specified, the datasource security settings will be used.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321744498560"> <p>
									recovery-password
								</p>
								 </td><td align="left" valign="top" headers="idm140321744497472"> <p>
									The password to use to connect to the resource for recovery. Note that if this is not specified, the datasource security settings will be used.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321744498560"> <p>
									recovery-security-domain
								</p>
								 </td><td align="left" valign="top" headers="idm140321744497472"> <p>
									The security domain to use to connect to the resource for recovery.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321744498560"> <p>
									recovery-plugin-class-name
								</p>
								 </td><td align="left" valign="top" headers="idm140321744497472"> <p>
									If you need to use a custom recovery module, set this attribute to the fully-qualified class name of the module. The module should extend class <code class="literal">com.arjuna.ats.jta.recovery.XAResourceRecovery</code>.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321744498560"> <p>
									recovery-plugin-properties
								</p>
								 </td><td align="left" valign="top" headers="idm140321744497472"> <p>
									If you use a custom recovery module which requires properties to be set, set this attribute to the list of comma-separated <code class="literal"><span class="emphasis"><em>KEY</em></span>=<span class="emphasis"><em>VALUE</em></span></code> pairs for the properties.
								</p>
								 </td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Disable XA Recovery</strong></p><p>
						If multiple XA datasources connect to the same physical database, then XA recovery typically needs to be configured for only one of them.
					</p></div><p>
					Use the following management CLI command to disable recovery for an XA datasource:
				</p><pre class="screen">/subsystem=datasources/xa-data-source=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span>:write-attribute(name=no-recovery,value=true)</pre></section><section class="section" id="vendor_specific_xa_recovery"><div class="titlepage"><div><div><h3 class="title">12.8.2. Vendor-Specific XA Recovery</h3></div></div></div><h5 id="vendor_specific_configuration">Vendor-Specific Configuration</h5><p>
					Some databases require specific configurations in order to cooperate in XA transactions managed by the JBoss EAP transaction manager. For detailed and up-to-date information, see your database vendor’s documentation.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">MySQL</span></dt><dd>
								No special configuration is required. For more information, see the MySQL documentation.
							</dd><dt><span class="term">PostgreSQL and Postgres Plus Advanced Server</span></dt><dd>
								For PostgreSQL to be able to handle XA transactions, change the configuration parameter <code class="literal">max_prepared_transactions</code> to a value greater than <code class="literal">0</code> and equal to or greater than <code class="literal">max_connections</code>.
							</dd><dt><span class="term">Oracle</span></dt><dd><p class="simpara">
								Ensure that the Oracle user, <code class="literal">USER</code>, has access to the tables needed for recovery.
							</p><pre class="programlisting language-sql">GRANT SELECT ON sys.dba_pending_transactions TO USER;
GRANT SELECT ON sys.pending_trans$ TO USER;
GRANT SELECT ON sys.dba_2pc_pending TO USER;
GRANT EXECUTE ON sys.dbms_xa TO USER;</pre><p class="simpara">
								If the Oracle user does not have the proper permissions, you may see an error such as the following:
							</p><pre class="screen">WARN  [com.arjuna.ats.jta.logging.loggerI18N] [com.arjuna.ats.internal.jta.recovery.xarecovery1] Local XARecoveryModule.xaRecovery  got XA exception javax.transaction.xa.XAException, XAException.XAER_RMERR</pre></dd><dt><span class="term">Microsoft SQL Server</span></dt><dd>
								For more information, see the Microsoft SQL Server documentation, including <a class="link mimir-link-warn" href="http://msdn.microsoft.com/en-us/library/aa342335.aspx" title="Mimir does not include content from: msdn.microsoft.com">http://msdn.microsoft.com/en-us/library/aa342335.aspx</a>.
							</dd><dt><span class="term">IBM DB2</span></dt><dd>
								No special configuration is required. For more information, see the IBM DB2 documentation.
							</dd><dt><span class="term">Sybase</span></dt><dd><p class="simpara">
								Sybase expects XA transactions to be enabled on the database. Without correct database configuration, XA transactions will not work. The <code class="literal">enable xact coordination</code> parameter enables or disables Adaptive Server transaction coordination services. When this parameter is enabled, Adaptive Server ensures that updates to remote Adaptive Server data commit or roll back with the original transaction.
							</p><p class="simpara">
								To enable transaction coordination, use:
							</p><pre class="screen">sp_configure 'enable xact coordination', 1</pre></dd><dt><span class="term">MariaDB</span></dt><dd>
								No special configuration is required. For more information, see the MariaDB documentation.
							</dd></dl></div><h5 id="known_issues">Known Issues</h5><p>
					These known issues with handling XA transactions are for the specific database and JDBC driver versions supported with JBoss EAP 7. For up-to-date information on the supported databases, see <a class="link mimir-link-warn" href="https://access.redhat.com/articles/2026253" title="This content is not included in Mimir.">JBoss EAP supported configurations</a>.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">MySQL</span></dt><dd>
								MySQL is not fully capable of handling XA transactions. If a client is disconnected from MySQL, then all the information about such transactions is lost. See this <a class="link mimir-link-warn" href="http://bugs.mysql.com/bug.php?id=12161" title="Mimir does not include content from: bugs.mysql.com">MySQL bug</a> for more information. Note that this issue was fixed in MySQL 5.7.
							</dd><dt><span class="term">PostgreSQL and Postgres Plus Advanced Server</span></dt><dd><p class="simpara">
								The JDBC driver returns the <code class="literal">XAER_RMERR</code> XAException error code when a network failure occurs during the commit phase of two-phase commit (2PC). This error signals an unrecoverable catastrophic event to the transaction manager, but the transaction is left in the <code class="literal">in-doubt</code> state on the database side and could be easily corrected after network connection is established again. The correct return code should be <code class="literal">XAER_RMFAIL</code> or <code class="literal">XAER_RETRY</code>. The incorrect error code causes the transaction to be left in the <code class="literal">Heuristic</code> state on the JBoss EAP side and holding locks in the database which requires manual intervention. See this <a class="link mimir-link-warn" href="https://github.com/pgjdbc/pgjdbc/issues/236" title="Mimir does not include content from: github.com">PostgreSQL bug</a> for more information.
							</p><p class="simpara">
								If a connection failure happens when the one-phase commit optimization is used, the JDBC driver returns <code class="literal">XAER_RMERR</code>, but the <code class="literal">XAER_RMFAIL</code> error code should be returned. This could lead to data inconsistency if the database commits data during one-phase commit and the connection goes down at that moment, then the client is informed that transaction was rolled back.
							</p><p class="simpara">
								The Postgres Plus JDBC driver returns XIDs for all prepared transactions that exist in the Postgres Plus Server, so there is no way to determine the database to which the XID belongs. If you define more than one data source for the same database in JBoss EAP, an in-doubt transaction recovery attempt could be run under wrong account, which causes the recovery to fail.
							</p></dd><dt><span class="term">Oracle</span></dt><dd><p class="simpara">
								The JDBC driver returns XIDs belonging to all users on the database instance, when the Recovery Manager calls recovery using datasource configured with some user credentials. The JDBC driver throws the exception <code class="literal">ORA-24774: cannot switch to specified transaction</code> because it tries to recover XIDs belonging to other users.
							</p><p class="simpara">
								The workaround for this issue is to grant <code class="literal">FORCE ANY TRANSACTION</code> privilege to the user whose credentials are used in recovery datasource configuration. More information about configuring the privilege can be found here: <a class="link mimir-link-warn" href="http://docs.oracle.com/database/121/ADMIN/ds_txnman.htm#ADMIN12259" title="Mimir does not include content from: docs.oracle.com">http://docs.oracle.com/database/121/ADMIN/ds_txnman.htm#ADMIN12259</a>.
							</p></dd><dt><span class="term">Microsoft SQL Server</span></dt><dd><p class="simpara">
								The JDBC driver returns the <code class="literal">XAER_RMERR</code> XAException error code when a network failure occurs during the commit phase of two-phase commit (2PC). This error signals an unrecoverable catastrophic event to the transaction manager, but the transaction is left in the <code class="literal">in-doubt</code> state on the database side and could be easily corrected after network connection is established again. The correct return code should be <code class="literal">XAER_RMFAIL</code> or <code class="literal">XAER_RETRY</code>. The incorrect error code causes the transaction to be left in the <code class="literal">Heuristic</code> state on the JBoss EAP side and holding locks in the database which requires manual intervention. See this <a class="link mimir-link-warn" href="https://connect.microsoft.com/SQLServer/feedback/details/1207381/jdbc-driver-is-not-xa-compliant-in-case-of-connection-failure-error-code-xaer-rmerr-is-returned-instead-of-xaer-rmretry" title="Mimir does not include content from: connect.microsoft.com">Microsoft SQL Server issue report</a> for more information.
							</p><p class="simpara">
								If a connection failure happens when the one-phase commit optimization is used, the JDBC driver returns <code class="literal">XAER_RMERR</code>, but the <code class="literal">XAER_RMFAIL</code> error code should be returned. This could lead to data inconsistency if the database commits data during one-phase commit and the connection goes down at that moment, then the client is informed that transaction was rolled back.
							</p></dd><dt><span class="term">IBM DB2</span></dt><dd>
								If a connection failure happens during a one-phase commit, the JDBC driver returns <code class="literal">XAER_RETRY</code>, but the <code class="literal">XAER_RMFAIL</code> error code should be returned. This could lead to data inconsistency if the database commits data during one-phase commit and the connection goes down at that moment, then the client is informed that transaction was rolled back.
							</dd><dt><span class="term">Sybase</span></dt><dd><p class="simpara">
								The JDBC driver returns the <code class="literal">XAER_RMERR</code> XAException error code when a network failure occurs during the commit phase of two-phase commit (2PC). This error signals an unrecoverable catastrophic event to the transaction manager, but the transaction is left in the <code class="literal">in-doubt</code> state on the database side and could be easily corrected after network connection is established again. The correct return code should be <code class="literal">XAER_RMFAIL</code> or <code class="literal">XAER_RETRY</code>. The incorrect error code causes the transaction to be left in the <code class="literal">Heuristic</code> state on the JBoss EAP side and holding locks in the database which requires manual intervention.
							</p><p class="simpara">
								If a connection failure happens when the one-phase commit optimization is used, the JDBC driver returns <code class="literal">XAER_RMERR</code>, but the <code class="literal">XAER_RMFAIL</code> error code should be returned. This could lead to data inconsistency if the database commits data during one-phase commit and the connection goes down at that moment, then the client is informed that transaction was rolled back.
							</p><p class="simpara">
								If an XA transaction that includes an insert to a Sybase 15.7 or 16 database fails before the Sybase transaction branch is in a prepared state, then repeating the XA transaction and inserting the same record with the same primary key will fail with an error of <code class="literal">com.sybase.jdbc4.jdbc.SybSQLException: Attempt to insert duplicate key row</code>. This exception will be thrown until the original unfinished Sybase transaction branch is rolled back.
							</p></dd><dt><span class="term">MariaDB</span></dt><dd>
								MariaDB is not fully capable of handling XA transactions. If a client is disconnected from MariaDB, then all the information about such transactions is lost.
							</dd><dt><span class="term">MariaDB Galera Cluster</span></dt><dd>
								XA transactions are not supported in MariaDB Galera Cluster.
							</dd></dl></div></section></section><section class="section" id="configure_database_connection_validation_settings"><div class="titlepage"><div><div><h2 class="title">12.9. Database Connection Validation</h2></div></div></div><p>
				Database maintenance, network problems, or other outage events may cause JBoss EAP to lose the connection to the database. In order to recover from these situations, you can enable database connection validation for your datasources.
			</p><p>
				To configure database connection validation, you specify the validation timing method to define when the validation occurs, the validation mechanism to determine how the validation is performed, and the exception sorter to define how exceptions are handled.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Choose <span class="emphasis"><em>one</em></span> of the validation timing methods.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">validate-on-match</span></dt><dd><p class="simpara">
									When the <code class="literal">validate-on-match</code> option is set to <code class="literal">true</code>, the database connection is validated every time it is checked out from the connection pool using the validation mechanism specified in the next step.
								</p><p class="simpara">
									If a connection is not valid, a warning is written to the log and the next connection in the pool is retrieved. This process continues until a valid connection is found. If you prefer not to cycle through every connection in the pool, you can use the <code class="literal">use-fast-fail</code> option. If a valid connection is not found in the pool, a new connection is created. If the connection creation fails, an exception is returned to the requesting application.
								</p><p class="simpara">
									This setting results in the quickest recovery but creates the highest load on the database. However, this is the safest selection if the minimal performance hit is not a concern.
								</p></dd><dt><span class="term">background-validation</span></dt><dd><p class="simpara">
									When the <code class="literal">background-validation</code> option is set to <code class="literal">true</code>, connections are validated periodically in a background thread prior to use. The frequency of the validation is specified by the <code class="literal">background-validation-millis</code> property. The default value of <code class="literal">background-validation-millis</code> is <code class="literal">0</code>, meaning that it is disabled.
								</p><p class="simpara">
									When determining the value of the <code class="literal">background-validation-millis</code> property, consider the following:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											This value should not be set to the same value as your <code class="literal">idle-timeout-minutes</code> setting.
										</li><li class="listitem">
											The lower the value, the more frequently the pool is validated and the sooner invalid connections are removed from the pool.
										</li><li class="listitem">
											Lower values take more database resources. Higher values result in less frequent connection validation checks and use less database resources, but dead connections are undetected for longer periods of time.
										</li></ul></div></dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							These options are mutually exclusive. If <code class="literal">validate-on-match</code> is set to <code class="literal">true</code>, then <code class="literal">background-validation</code> must be set to <code class="literal">false</code>. If <code class="literal">background-validation</code> is set to true, then <code class="literal">validate-on-match</code> must be set to <code class="literal">false</code>.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Choose <span class="emphasis"><em>one</em></span> of the validation mechanisms.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">valid-connection-checker-class-name</span></dt><dd><p class="simpara">
									Using <code class="literal">valid-connection-checker-class-name</code> is the preferred validation mechanism. This specifies a connection checker class that is used to validate connections for the particular database in use. JBoss EAP provides the following connection checkers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.db2.DB2ValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLReplicationValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.novendor.JDBC4ValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.novendor.NullValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker</code>
										</li><li class="listitem">
											<code class="literal">org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseValidConnectionChecker</code>
										</li></ul></div></dd><dt><span class="term">check-valid-connection-sql</span></dt><dd><p class="simpara">
									Using <code class="literal">check-valid-connection-sql</code>, you provide the SQL statement that will be used to validate the connection.
								</p><p class="simpara">
									The following is an example SQL statement that you might use to validate Oracle connections.
								</p><pre class="programlisting language-sql">select 1 from dual</pre><p class="simpara">
									The following is an example SQL statement that you might use to validate MySQL or PostgreSQL connections.
								</p><pre class="programlisting language-sql">select 1</pre></dd></dl></div></li><li class="listitem"><p class="simpara">
						Set the exception sorter class name.
					</p><p class="simpara">
						When an exception is marked as fatal, the connection is closed immediately, even if the connection is participating in a transaction. Use the exception sorter class option to properly detect and clean up after fatal connection exceptions. Choose the appropriate JBoss EAP exception sorter for your datasource type.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.db2.DB2ExceptionSorter</code>
							</li><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.informix.InformixExceptionSorter</code>
							</li><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLExceptionSorter</code>
							</li><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter</code>
							</li><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.novendor.NullExceptionSorter</code>
							</li><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter</code>
							</li><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter</code>
							</li><li class="listitem">
								<code class="literal">org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseExceptionSorter</code>
							</li></ul></div></li></ol></div></section><section class="section" id="datasource_security"><div class="titlepage"><div><div><h2 class="title">12.10. Datasource Security</h2></div></div></div><p>
				Datasource security refers to encrypting or obscuring passwords for datasource connections. These passwords can be stored in plain text in configuration files, but this represents a security risk.
			</p><p>
				There are several methods you can use for datasource security. Examples of each are included below.
			</p><h4 id="secure_a_datasource_using_a_security_domain">Secure a Datasource Using a Security Domain</h4><p>
				A security domain for the datasource is defined.
			</p><pre class="programlisting language-xml"> &lt;security-domain name="DsRealm" cache-type="default"&gt;
  &lt;authentication&gt;
    &lt;login-module code="ConfiguredIdentity" flag="required"&gt;
      &lt;module-option name="userName" value="sa"/&gt;
      &lt;module-option name="principal" value="sa"/&gt;
      &lt;module-option name="password" value="sa"/&gt;
    &lt;/login-module&gt;
  &lt;/authentication&gt;
&lt;/security-domain&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If a security domain will be used with multiple datasources, then caching should be disabled on the security domain. This can be accomplished by setting the value of the <code class="literal">cache-type</code> attribute to <code class="literal">none</code> or by removing the attribute altogether; however, if caching is desired, then a separate security domain should be used for each datasource.
				</p></div></div><p>
				The <code class="literal">DsRealm</code> security domain is then referenced by the datasource configuration.
			</p><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/datasources/securityDs"
    pool-name="securityDs"&gt;
    &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/connection-url&gt;
      &lt;driver&gt;h2&lt;/driver&gt;
      &lt;new-connection-sql&gt;select current_user()&lt;/new-connection-sql&gt;
      &lt;security&gt;
        &lt;security-domain&gt;DsRealm&lt;/security-domain&gt;
      &lt;/security&gt;
    &lt;/datasource&gt;
&lt;/datasources&gt;</pre><p>
				For more information on using Security Domains, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_identity_management/" title="This content is not included in Mimir."><span class="emphasis"><em>How to Configure Identity Management</em></span></a>.
			</p><h4 id="secure_a_datasource_using_a_password_vault">Secure a Datasource Using a Password Vault</h4><pre class="programlisting language-xml">&lt;security&gt;
  &lt;user-name&gt;admin&lt;/user-name&gt;
  &lt;password&gt;${VAULT::ds_ExampleDS::password::N2NhZDYzOTMtNWE0OS00ZGQ0LWE4MmEtMWNlMDMyNDdmNmI2TElORV9CUkVBS3ZhdWx0}&lt;/password&gt;
&lt;/security&gt;</pre><p>
				For more information on using the Password Vault, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#password_vault" title="This content is not included in Mimir.">Password Vault</a> section in the JBoss EAP <span class="emphasis"><em>How to Configure Server Security</em></span> guide.
			</p><h4 id="secure_a_datasource_using_a_credential_store">Secure a Datasource Using a Credential Store</h4><p>
				You can also use a credential store to provide passwords. The <code class="literal">elytron</code> subsystem provides the ability to create credential stores to securely house and use your passwords throughout JBoss EAP. You can find more details on creating and using credential stores in the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#credential_store" title="This content is not included in Mimir.">Credential Store</a> section in the JBoss EAP <span class="emphasis"><em>How to Configure Server Security</em></span> guide.
			</p><div class="formalpara"><p class="title"><strong>Adding a Credential Store Reference to ExampleDS</strong></p><p>
					
<pre class="screen">/subsystem=datasources/data-source=ExampleDS:write-attribute(name=credential-reference,value={store=exampleCS, alias=example-ds-pw})</pre>

				</p></div><h4 id="secure_a_datasource_using_an_authentication_context">Secure a Datasource Using an Authentication Context</h4><p>
				You can also use an Elytron authentication context to provide usernames and passwords.
			</p><p>
				Use the following steps to configure and use an authentication context for datasource security.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Remove <code class="literal">password</code> and <code class="literal">user-name</code>.
					</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS:undefine-attribute(name=password)
/subsystem=datasources/data-source=ExampleDS:undefine-attribute(name=user-name)</pre></li><li class="listitem"><p class="simpara">
						Enable Elytron security for the datasource.
					</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS:write-attribute(name=elytron-enabled,value=true)

reload</pre></li><li class="listitem"><p class="simpara">
						Create an <code class="literal">authentication-configuration</code> for your credentials.
					</p><p class="simpara">
						The authentication configuration contains the credentials you want your datasource to use when making a connection. The below example uses a reference to a credential store, but you could also use an Elytron security domain.
					</p><pre class="screen">/subsystem=elytron/authentication-configuration=exampleAuthConfig:add(authentication-name=sa,credential-reference={clear-text=sa})</pre></li><li class="listitem"><p class="simpara">
						Create an <code class="literal">authentication-context</code>.
					</p><pre class="screen">/subsystem=elytron/authentication-context=exampleAuthContext:add(match-rules=[{authentication-configuration=exampleAuthConfig}])</pre></li><li class="listitem"><p class="simpara">
						Update the datasource to use the authentication context.
					</p><p class="simpara">
						The below example updates <code class="literal">ExampleDS</code> to use an authentication context.
					</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS:write-attribute(name=authentication-context,value=exampleAuthContext)

reload</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If <code class="literal">authentication-context</code> is not set and <code class="literal">elytron-enabled</code> is set to <code class="literal">true</code>, JBoss EAP will use the current context for authentication.
						</p></div></div></li></ol></div><h4 id="secure-a-datasource-using-kerberos">Secure a Datasource using Kerberos</h4><p>
				To secure a datasource using kerberos authentication, the following configuration is required:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Kerberos is configured on the database server.
					</li><li class="listitem">
						JBoss EAP host server has a keytab entry for the database server.
					</li></ul></div><p>
				To secure a datasource using kerberos:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Configure JBoss EAP to use kerberos.
					</p><pre class="screen">/system-property=java.security.krb5.conf:add(value="/path/to/krb5.conf")
/system-property=sun.security.krb5.debug:add(value="false")
/system-property=sun.security.spnego.debug:add(value="false")</pre><p class="simpara">
						For debugging, change the values of <code class="literal">sun.security.krb5.debug</code> and <code class="literal">sun.security.spnego.debug</code> to <code class="literal">true</code>. In a production environment, it is recommended to set the values to <code class="literal">false</code>.
					</p></li><li class="listitem"><p class="simpara">
						Configure security.
					</p><p class="simpara">
						You can use legacy security or Elytron security to secure a datasource.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To use kerberos with legacy security:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Configure infinispan cache to periodically remove expired tickets from cache.
									</p><pre class="screen">batch
/subsystem=infinispan/cache-container=security:add(default-cache=auth-cache)
/subsystem=infinispan/cache-container=security/local-cache=auth-cache:add()
/subsystem=infinispan/cache-container=security/local-cache=auth-cache/expiration=EXPIRATION:add(lifespan=3540000,max-idle=3540000)
/subsystem=infinispan/cache-container=security/local-cache=auth-cache/eviction=EVICTION:add(strategy=LRU, max-entries=1000)
run-batch</pre><p class="simpara">
										The following attributes define ticket expiration:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												<code class="literal">lifespan</code>: Interval, in milliseconds, at which new certificates are requested from the KDC. Set the value of the <code class="literal">lifespan</code> attribute to be just smaller than the lifespan defined by the KDC.
											</li><li class="listitem">
												<code class="literal">max-idle</code>: Interval, in milliseconds, at which a valid ticket should be removed from the cache, if it unused.
											</li><li class="listitem"><p class="simpara">
												<code class="literal">max-entries</code>: The maximum number copies of the kerberos tickets to keep in cache. The value corresponds to the number of configured connections in your datasource.
											</p><p class="simpara">
												For information about the <code class="literal">eviction</code> feature, see the <a class="link mimir-link-warn" href="http://infinispan.org/docs/9.4.x/user_guide/user_guide.html#eviction_anchor" title="Mimir does not include content from: infinispan.org">Eviction and Data Container</a> section in the Infinispan User Guide.
											</p></li></ul></div></li><li class="listitem"><p class="simpara">
										Create a security domain.
									</p><pre class="screen">batch
/subsystem=security/security-domain=KerberosDatabase:add(cache-type=infinispan)
/subsystem=security/security-domain=KerberosDatabase/authentication=classic:add
/subsystem=security/security-domain=KerberosDatabase/authentication=classic/login-module="KerberosDatabase-Module":add(code="org.jboss.security.negotiation.KerberosLoginModule",module="org.jboss.security.negotiation",flag=required, module-options={ "debug" =&gt; "false", "storeKey" =&gt; "false", "useKeyTab" =&gt; "true", "keyTab" =&gt; "/path/to/eap.keytab", "principal" =&gt; "PRINCIPAL@SERVER.COM", "doNotPrompt" =&gt; "true", "refreshKrb5Config" =&gt; "true", "isInitiator" =&gt; "true", "addGSSCredential" =&gt; "true", "credentialLifetime" =&gt; "-1"})
run-batch</pre><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												When using Microsoft JDBC driver for SQL server, add attribute and value <code class="literal">"wrapGSSCredential" ⇒ "true"</code> in <code class="literal">module-options</code>.
											</li><li class="listitem">
												For debugging, change the value of the <code class="literal">debug</code> attribute in <code class="literal">module-options</code> to <code class="literal">true</code>.
											</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
								To use kerberos with Elytron:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Set up a kerberos factory in Elytron.
									</p><pre class="screen">/subsystem=elytron/kerberos-security-factory=krbsf:add(debug=false, principal=PRINCIPAL@SERVER.COM, path=/path/to/keytab, request-lifetime=-1, obtain-kerberos-ticket=true, server=false)</pre><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
												For debugging, add attribute and value <code class="literal">debug = true</code>.
											</p><p class="simpara">
												For a list of supported attributes, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#kerberos-security-factory-attributes" title="This content is not included in Mimir.">Kerberos Security Factory Attributes</a> section in the <span class="emphasis"><em>How to Configure Server Security guide</em></span>.
											</p></li></ul></div></li><li class="listitem"><p class="simpara">
										Create an authentication configuration to use the kerberos factory.
									</p><pre class="screen">/subsystem=elytron/authentication-configuration=kerberos-conf:add(kerberos-security-factory=krbsf)</pre></li><li class="listitem"><p class="simpara">
										Create an authentication context.
									</p><pre class="screen">/subsystem=elytron/authentication-context=ds-context:add(match-rules=[{authentication-configuration=kerberos-conf}])</pre></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Secure the datasource with kerberos.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If you use legacy security:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Configure the datasource to use a security domain.
									</p><pre class="screen">/subsystem=datasources/data-source=KerberosDS:add(connection-url="URL", min-pool-size=0, max-pool-size=10, jndi-name="java:jboss/datasource/KerberosDS", driver-name=&lt;jdbc-driver&gt;.jar, security-domain=KerberosDatabase, allow-multiple-users=false, pool-prefill=false, pool-use-strict-min=false, idle-timeout-minutes=2)</pre></li><li class="listitem"><p class="simpara">
										Configure vendor-specific connection properties.
									</p><pre class="screen">/subsystem=datasources/data-source=KerberosDS/connection-properties=&lt;connection-property-name&gt;:add(value="(&lt;kerberos-value&gt;)")</pre><p class="simpara">
										Example: connection properties for Oracle database.
									</p><pre class="screen">/subsystem=datasources/data-source=KerberosDS/connection-properties=oracle.net.authentication_services:add(value="(KERBEROS5)")</pre></li></ol></div></li><li class="listitem"><p class="simpara">
								If you use Elytron:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Configure the datasource to use an authentication context.
									</p><pre class="screen">/subsystem=datasources/data-source=KerberosDS:add(connection-url="URL", min-pool-size=0, max-pool-size=10, jndi-name="java:jboss/datasource/KerberosDS", driver-name=&lt;jdbc-driver&gt;.jar, elytron-enabled=true, authentication-context=ds-context, allow-multiple-users=false, pool-prefill=false, pool-use-strict-min=false, idle-timeout-minutes=2)</pre></li><li class="listitem"><p class="simpara">
										Configure vendor-specific connection properties.
									</p><pre class="screen">/subsystem=datasources/data-source=KerberosDS/connection-properties=&lt;connection-property-name&gt;:add(value="(&lt;kerberos-value&gt;)")</pre><p class="simpara">
										Example: connection properties for Oracle database
									</p><pre class="screen">/subsystem=datasources/data-source=KerberosDS/connection-properties=oracle.net.authentication_services:add(value="(KERBEROS5)")</pre></li></ol></div><p class="simpara">
								When using kerberos authentication, it is recommended to use the following attributes and values for the datasource:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">pool-prefill=false</code>
									</li><li class="listitem">
										<code class="literal">pool-use-strict-min=false</code>
									</li><li class="listitem">
										<code class="literal">idle-timeout-minutes</code>
									</li></ul></div></li></ul></div><p class="simpara">
						For a list of supported attributes, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/configuration_guide/index/#datasource_parameters">Datasource Attributes</a>.
					</p></li></ol></div></section><section class="section" id="datasource_statistics"><div class="titlepage"><div><div><h2 class="title">12.11. Datasource Statistics</h2></div></div></div><p>
				When statistics collection is <a class="link" href="#enable_datasource_statistics" title="12.11.1. Enabling Datasource Statistics">enabled</a> for a datasource, you can <a class="link" href="#viewing_datasource_stats" title="12.11.2. Viewing Datasource Statistics">view runtime statistics</a> for the datasource.
			</p><section class="section" id="enable_datasource_statistics"><div class="titlepage"><div><div><h3 class="title">12.11.1. Enabling Datasource Statistics</h3></div></div></div><p>
					By default, datasource statistics are <span class="emphasis"><em>not</em></span> enabled. You can enable datasource statistics collection using the <a class="link" href="#enable_datasource_statistics_cli" title="Enable Datasource Statistics Using the Management CLI">management CLI</a> or the <a class="link" href="#enable_datasource_statistics_console" title="Enable Datasource Statistics Using the Management Console">management console</a>.
				</p><h5 id="enable_datasource_statistics_cli">Enable Datasource Statistics Using the Management CLI</h5><p>
					The following management CLI command enables the collection of statistics for the <code class="literal">ExampleDS</code> datasource.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div></div><pre class="screen">/subsystem=datasources/data-source=ExampleDS:write-attribute(name=statistics-enabled,value=true)</pre><p>
					Reload the server for the changes to take effect.
				</p><h5 id="enable_datasource_statistics_console">Enable Datasource Statistics Using the Management Console</h5><p>
					Use the following steps to enable statistics collection for a datasource using the management console.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Datasources &amp; Drivers</strong></span> → <span class="strong strong"><strong>Datasources</strong></span>.
						</li><li class="listitem">
							Select the datasource and click <span class="strong strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Edit</strong></span> under the <span class="strong strong"><strong>Attributes</strong></span> tab.
						</li><li class="listitem">
							Set the <span class="strong strong"><strong>Statistics Enabled</strong></span> field to <span class="strong strong"><strong>ON</strong></span> and click <span class="strong strong"><strong>Save</strong></span>. A popup appears indicating that the changes require a reload in order to take effect.
						</li><li class="listitem"><p class="simpara">
							Reload the server.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									For a standalone server, click the <span class="strong strong"><strong>Reload</strong></span> link from the popup to reload the server.
								</li><li class="listitem">
									For a managed domain, click the <span class="strong strong"><strong>Topology</strong></span> link from the popup. From the <span class="strong strong"><strong>Topology</strong></span> tab, select the appropriate server and select the <span class="strong strong"><strong>Reload</strong></span> drop down option to reload the server.
								</li></ul></div></li></ol></div></section><section class="section" id="viewing_datasource_stats"><div class="titlepage"><div><div><h3 class="title">12.11.2. Viewing Datasource Statistics</h3></div></div></div><p>
					You can view runtime statistics for a datasource using the <a class="link" href="#view_datasource_stats_cli" title="View Datasource Statistics Using the Management CLI">management CLI</a> or <a class="link" href="#view_datasource_stats_console" title="View Datasource Statistics Using the Management Console">management console</a>.
				</p><h5 id="view_datasource_stats_cli">View Datasource Statistics Using the Management CLI</h5><p>
					The following management CLI command retrieves the core <span class="emphasis"><em>pool</em></span> statistics for the <code class="literal">ExampleDS</code> datasource.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In a managed domain, precede these commands with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span></code>.
					</p></div></div><pre class="screen">/subsystem=datasources/data-source=ExampleDS/statistics=pool:read-resource(include-runtime=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "ActiveCount" =&gt; 1,
        "AvailableCount" =&gt; 20,
        "AverageBlockingTime" =&gt; 0L,
        "AverageCreationTime" =&gt; 122L,
        "AverageGetTime" =&gt; 128L,
        "AveragePoolTime" =&gt; 0L,
        "AverageUsageTime" =&gt; 0L,
        "BlockingFailureCount" =&gt; 0,
        "CreatedCount" =&gt; 1,
        "DestroyedCount" =&gt; 0,
        "IdleCount" =&gt; 1,
        ...
}</pre><p>
					The following management CLI command retrieves the <span class="emphasis"><em>JDBC</em></span> statistics for the <code class="literal">ExampleDS</code> datasource.
				</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS/statistics=jdbc:read-resource(include-runtime=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "PreparedStatementCacheAccessCount" =&gt; 0L,
        "PreparedStatementCacheAddCount" =&gt; 0L,
        "PreparedStatementCacheCurrentSize" =&gt; 0,
        "PreparedStatementCacheDeleteCount" =&gt; 0L,
        "PreparedStatementCacheHitCount" =&gt; 0L,
        "PreparedStatementCacheMissCount" =&gt; 0L,
        "statistics-enabled" =&gt; true
    }
}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Since statistics are runtime information, be sure to specify the <code class="literal">include-runtime=true</code> argument.
					</p></div></div><p>
					See <a class="link" href="#reference_of_datasource_statistics" title="A.21. Datasource Statistics">Datasource Statistics</a> for a detailed list of all available statistics.
				</p><h5 id="view_datasource_stats_console">View Datasource Statistics Using the Management Console</h5><p>
					To view datasource statistics from the management console, navigate to the <span class="strong strong"><strong>Datasources</strong></span> subsystem from the <span class="strong strong"><strong>Runtime</strong></span> tab, select a datasource, and click <span class="strong strong"><strong>View</strong></span>.
				</p><p>
					See <a class="link" href="#reference_of_datasource_statistics" title="A.21. Datasource Statistics">Datasource Statistics</a> for a detailed list of all available statistics.
				</p></section></section><section class="section" id="tuning_datasources_subsystem"><div class="titlepage"><div><div><h2 class="title">12.12. Datasource Tuning</h2></div></div></div><p>
				For tips on monitoring and optimizing performance for the <code class="literal">datasources</code> subsystem, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#datasource_and_resource_adapter_tuning" title="This content is not included in Mimir.">Datasource and Resource Adapter Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></section><section class="section" id="jca-capacity-policies"><div class="titlepage"><div><div><h2 class="title">12.13. Capacity Policies</h2></div></div></div><p>
				JBoss EAP supports defining capacity polices for JCA deployments, including datasources. Capacity policies define how physical connections for a pool are created, referred to as capacity incrementing, and destroyed, referred to as capacity decrementing. The default policies are set to create one connection per request for capacity incrementing, and destroy all connections when they time out when the idle timeout is scheduled for capacity decrementing.
			</p><p>
				To configure capacity polices, you need to specify a capacity incrementer class, a capacity decrementer class, or both.
			</p><div class="formalpara"><p class="title"><strong>Example: Defining Capacity Policies</strong></p><p>
					
<pre class="screen">/subsystem=datasources/data-source=ExampleDS:write-attribute(name=capacity-incrementer-class, value="org.jboss.jca.core.connectionmanager.pool.capacity.SizeIncrementer")

/subsystem=datasources/data-source=ExampleDS:write-attribute(name=capacity-decrementer-class, value="org.jboss.jca.core.connectionmanager.pool.capacity.SizeDecrementer")</pre>

				</p></div><p>
				You can also configure properties on the specified capacity incrementer or decrementer class.
			</p><div class="formalpara"><p class="title"><strong>Example: Configuring Properties for Capacity Policies</strong></p><p>
					
<pre class="screen">/subsystem=datasources/data-source=ExampleDS:write-attribute(name=capacity-incrementer-properties.size, value=2)

/subsystem=datasources/data-source=ExampleDS:write-attribute(name=capacity-decrementer-properties.size, value=2)</pre>

				</p></div><h4 id="maxpoolsize_incrementer_policy">MaxPoolSize Incrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.MaxPoolSizeIncrementer</code>
			</p><p>
				The <span class="emphasis"><em>MaxPoolSize</em></span> incrementer policy will fill the pool to its max size for each request. This policy is useful when you want to keep the maximum number of connections available all the time.
			</p><h4 id="size_incrementer_policy">Size Incrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.SizeIncrementer</code>
			</p><p>
				The <span class="emphasis"><em>Size</em></span> incrementer policy will fill the pool by the specified number of connections for each request. This policy is useful when you want to increment with an additional number of connections per request in anticipation that the next request will also need a connection.
			</p><div class="table" id="idm140321744235568"><p class="title"><strong>Table 12.3. Size policy properties</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321744230736" scope="col">Name</th><th align="left" valign="top" id="idm140321710722928" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321744230736"> <p>
								Size
							</p>
							 </td><td align="left" valign="top" headers="idm140321710722928"> <p>
								The number of connections that should be created
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					This is the default increment policy, and has a <span class="emphasis"><em>size</em></span> value of 1.
				</p></div></div><h4 id="watermark_incrementer_policy">Watermark Incrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.WatermarkIncrementer</code>
			</p><p>
				The <span class="emphasis"><em>Watermark</em></span> incrementer policy will fill the pool to the specified number of connections for each request. This policy is useful when you want to keep a specified number of connections in the pool at all time.
			</p><div class="table" id="idm140321714999856"><p class="title"><strong>Table 12.4. Watermark policy properties</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321715814400" scope="col">Name</th><th align="left" valign="top" id="idm140321715813312" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321715814400"> <p>
								Watermark
							</p>
							 </td><td align="left" valign="top" headers="idm140321715813312"> <p>
								The watermark level for the number of connections
							</p>
							 </td></tr></tbody></table></div></div><h4 id="minpoolsize_decrementer_policy">MinPoolSize Decrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.MinPoolSizeDecrementer</code>
			</p><p>
				The <span class="emphasis"><em>MinPoolSize</em></span> decrementer policy will decrement the pool to its min size for each request. This policy is useful when you want to limit the number of connections after each idle timeout request. The pool will operate in a First In First Out (FIFO) manner.
			</p><h4 id="size_decrementer_policy">Size Decrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.SizeDecrementer</code>
			</p><p>
				The <span class="emphasis"><em>Size</em></span> decrementer policy will decrement the pool by the specified number of connections for each idle timeout request.
			</p><div class="table" id="idm140321738488016"><p class="title"><strong>Table 12.5. Size policy properties</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321721648480" scope="col">Name</th><th align="left" valign="top" id="idm140321721647392" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321721648480"> <p>
								Size
							</p>
							 </td><td align="left" valign="top" headers="idm140321721647392"> <p>
								The number of connections that should be destroyed
							</p>
							 </td></tr></tbody></table></div></div><p>
				This policy is useful when you want to decrement an additional number of connections per idle timeout request in anticipation that the pool usage will lower over time.
			</p><p>
				The pool will operate in a First In First Out (FIFO) manner.
			</p><h4 id="timedout_decrementer_policy">TimedOut Decrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.TimedOutDecrementer</code>
			</p><p>
				The <span class="emphasis"><em>TimedOut</em></span> decrementer policy will removed all connections that have timed out from the pool for each idle timeout request. The pool will operate in a First In Last Out (FILO) manner.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					This policy is the default decrement policy.
				</p></div></div><h4 id="timedout_fifo_decrementer_policy">TimedOut/FIFO Decrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.TimedOutFIFODecrementer</code>
			</p><p>
				The <span class="emphasis"><em>TimedOutFIFO</em></span> decrementer policy will removed all connections that have timed out from the pool for each idle timeout request. The pool will operate in a First In First Out (FIFO) manner.
			</p><h4 id="watermark_decrementer_policy">Watermark Decrementer Policy</h4><p>
				<span class="emphasis"><em>Class name</em></span>: <code class="literal">org.jboss.jca.core.connectionmanager.pool.capacity.WatermarkDecrementer</code>
			</p><p>
				The <span class="emphasis"><em>Watermark</em></span> decrementer policy will decrement the pool to the specified number of connections for each idle timeout request. This policy is useful when you want to keep a specified number of connections in the pool at all time. The pool will operate in a First In First Out (FIFO) manner.
			</p><div class="table" id="idm140321710641536"><p class="title"><strong>Table 12.6. Watermark policy properties</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321710636688" scope="col">Name</th><th align="left" valign="top" id="idm140321714542288" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321710636688"> <p>
								Watermark
							</p>
							 </td><td align="left" valign="top" headers="idm140321714542288"> <p>
								The watermark level for the number of connections
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="datasource_enlistment_tracing"><div class="titlepage"><div><div><h2 class="title">12.14. Enlistment Tracing</h2></div></div></div><p>
				Enlistment traces can be recorded in order to help locate error situations that happen during enlistment of <code class="literal">XAResource</code> instances. When enlistment tracing is enabled, the <code class="literal">jca</code> subsystem creates an exception object for every pool operation, so that an accurate stack trace can be produced if necessary; however, this does come with performance overhead.
			</p><p>
				As of JBoss EAP 7.1, enlistment tracing is disabled by default. You can enable the recording of enlistment traces for a datasource using the management CLI by setting the <code class="literal">enlistment-trace</code> attribute to <code class="literal">true</code>.
			</p><p>
				Enable enlistment tracing for a non-XA datasource.
			</p><pre class="screen">data-source --name=<span class="emphasis"><em>DATASOURCE_NAME</em></span> --enlistment-trace=true</pre><p>
				Enable enlistment tracing for an XA datasource.
			</p><pre class="screen">xa-data-source --name=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span> --enlistment-trace=true</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Enabling enlistment tracing can cause a performance impact.
				</p></div></div></section><section class="section" id="example_datasource_configurations"><div class="titlepage"><div><div><h2 class="title">12.15. Example Datasource Configurations</h2></div></div></div><section class="section" id="example_mysql_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.1. Example MySQL Datasource</h3></div></div></div><p>
					This is an example of a MySQL datasource configuration with connection information, basic security, and validation options.
				</p><h5 id="example_mysql_datasource_configuration">Example: MySQL Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/MySqlDS" pool-name="MySqlDS"&gt;
    &lt;connection-url&gt;jdbc:mysql://localhost:3306/jbossdb&lt;/connection-url&gt;
    &lt;driver&gt;mysql&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="mysql" module="com.mysql"&gt;
      &lt;driver-class&gt;com.mysql.jdbc.Driver&lt;/driver-class&gt;
      &lt;xa-datasource-class&gt;com.mysql.cj.jdbc.MysqlXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_mysql_jdbc_driver_literal_module_xml_literal_file">Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the MySQL JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to/mysql-connector-java-8.0.12.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the MySQL JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=mysql:add(driver-name=mysql,driver-module-name=com.mysql,driver-xa-datasource-class-name=com.mysql.cj.jdbc.MysqlXADataSource, driver-class-name=com.mysql.jdbc.Driver)</pre></li><li class="listitem"><p class="simpara">
							Add the MySQL datasource.
						</p><pre class="screen">data-source add --name=MySqlDS --jndi-name=java:jboss/MySqlDS --driver-name=mysql --connection-url=jdbc:mysql://localhost:3306/jbossdb --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter</pre></li></ol></div></section><section class="section" id="example_mysql_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.2. Example MySQL XA Datasource</h3></div></div></div><p>
					This is an example of a MySQL XA datasource configuration with XA datasource properties, basic security, and validation options.
				</p><h5 id="example_mysql_xa_datasource_configuration">Example: MySQL XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;xa-datasource jndi-name="java:jboss/MySqlXADS" pool-name="MySqlXADS"&gt;
    &lt;xa-datasource-property name="ServerName"&gt;
      localhost
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="DatabaseName"&gt;
      mysqldb
    &lt;/xa-datasource-property&gt;
    &lt;driver&gt;mysql&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/xa-datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="mysql" module="com.mysql"&gt;
      &lt;driver-class&gt;com.mysql.jdbc.Driver&lt;/driver-class&gt;
      &lt;xa-datasource-class&gt;com.mysql.cj.jdbc.MysqlXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_mysql_jdbc_driver_literal_module_xml_literal_file_2">Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_2">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the MySQL JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to/mysql-connector-java-8.0.12.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the MySQL JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=mysql:add(driver-name=mysql,driver-module-name=com.mysql,driver-xa-datasource-class-name=com.mysql.cj.jdbc.MysqlXADataSource, driver-class-name=com.mysql.jdbc.Driver)</pre></li><li class="listitem"><p class="simpara">
							Add the MySQL XA datasource.
						</p><pre class="screen">xa-data-source add --name=MySqlXADS --jndi-name=java:jboss/MySqlXADS --driver-name=mysql --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter --xa-datasource-properties={"ServerName"=&gt;"localhost","DatabaseName"=&gt;"mysqldb"}</pre></li></ol></div></section><section class="section" id="example_postgresql_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.3. Example PostgreSQL Datasource</h3></div></div></div><p>
					This is an example of a PostgreSQL datasource configuration with connection information, basic security, and validation options.
				</p><h5 id="example_postgresql_datasource_configuration">Example: PostgreSQL Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/PostgresDS" pool-name="PostgresDS"&gt;
    &lt;connection-url&gt;jdbc:postgresql://localhost:5432/postgresdb&lt;/connection-url&gt;
    &lt;driver&gt;postgresql&lt;/driver&gt;
    &lt;security&gt;
        &lt;user-name&gt;admin&lt;/user-name&gt;
        &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
        &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker"/&gt;
        &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
        &lt;background-validation&gt;false&lt;/background-validation&gt;
        &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="postgresql" module="com.postgresql"&gt;
        &lt;xa-datasource-class&gt;org.postgresql.xa.PGXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_postgresql_jdbc_driver_literal_module_xml_literal_file">Example: PostgreSQL JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.postgresql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="postgresql-9.3-1102.jdbc4.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_3">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the PostgreSQL JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.postgresql --resources=<span class="emphasis"><em>/path/to/postgresql-9.3-1102.jdbc4.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the PostgreSQL JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=postgresql:add(driver-name=postgresql,driver-module-name=com.postgresql,driver-xa-datasource-class-name=org.postgresql.xa.PGXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the PostgreSQL datasource.
						</p><pre class="screen">data-source add --name=PostgresDS --jndi-name=java:jboss/PostgresDS --driver-name=postgresql --connection-url=jdbc:postgresql://localhost:5432/postgresdb --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter</pre></li></ol></div></section><section class="section" id="example_postgresql_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.4. Example PostgreSQL XA Datasource</h3></div></div></div><p>
					This is an example of a PostgreSQL XA datasource configuration with XA datasource properties, basic security, and validation options.
				</p><h5 id="example_postgresql_xa_datasource_configuration">Example: PostgreSQL XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;xa-datasource jndi-name="java:jboss/PostgresXADS" pool-name="PostgresXADS"&gt;
    &lt;xa-datasource-property name="ServerName"&gt;
      localhost
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="PortNumber"&gt;
      5432
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="DatabaseName"&gt;
      postgresdb
    &lt;/xa-datasource-property&gt;
    &lt;driver&gt;postgresql&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/xa-datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="postgresql" module="com.postgresql"&gt;
      &lt;xa-datasource-class&gt;org.postgresql.xa.PGXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_postgresql_jdbc_driver_literal_module_xml_literal_file_2">Example: PostgreSQL JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.postgresql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="postgresql-9.3-1102.jdbc4.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_4">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the PostgreSQL JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.postgresql --resources=<span class="emphasis"><em>/path/to/postgresql-9.3-1102.jdbc4.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the PostgreSQL JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=postgresql:add(driver-name=postgresql,driver-module-name=com.postgresql,driver-xa-datasource-class-name=org.postgresql.xa.PGXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the PostgreSQL XA datasource.
						</p><pre class="screen">xa-data-source add --name=PostgresXADS --jndi-name=java:jboss/PostgresXADS --driver-name=postgresql --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter --xa-datasource-properties={"ServerName"=&gt;"localhost","PortNumber"=&gt;"5432","DatabaseName"=&gt;"postgresdb"}</pre></li></ol></div></section><section class="section" id="example_oracle_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.5. Example Oracle Datasource</h3></div></div></div><p>
					This is an example of an Oracle datasource configuration with connection information, basic security, and validation options.
				</p><h5 id="example_oracle_datasource_configuration">Example: Oracle Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/OracleDS" pool-name="OracleDS"&gt;
    &lt;connection-url&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/connection-url&gt;
    &lt;driver&gt;oracle&lt;/driver&gt;
    &lt;security&gt;
        &lt;user-name&gt;admin&lt;/user-name&gt;
        &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
        &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker"/&gt;
        &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
        &lt;background-validation&gt;false&lt;/background-validation&gt;
        &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="oracle" module="com.oracle"&gt;
        &lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_oracle_jdbc_driver_literal_module_xml_literal_file">Example: Oracle JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.oracle"&gt;
    &lt;resources&gt;
        &lt;resource-root path="ojdbc7.jar"/&gt;
    &lt;/resources&gt;
    &lt;dependencies&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="javax.transaction.api"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_5">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the Oracle JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.oracle --resources=<span class="emphasis"><em>/path/to/ojdbc7.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the Oracle JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle,driver-module-name=com.oracle,driver-xa-datasource-class-name=oracle.jdbc.xa.client.OracleXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the Oracle datasource.
						</p><pre class="screen">data-source add --name=OracleDS --jndi-name=java:jboss/OracleDS --driver-name=oracle --connection-url=jdbc:oracle:thin:@localhost:1521:XE --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter</pre></li></ol></div></section><section class="section" id="example_oracle_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.6. Example Oracle XA Datasource</h3></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						The following settings must be applied for the user accessing an Oracle XA datasource in order for XA recovery to operate correctly. The value <code class="literal">user</code> is the user defined to connect from JBoss EAP to Oracle:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">GRANT SELECT ON sys.dba_pending_transactions TO user;</code>
							</li><li class="listitem">
								<code class="literal">GRANT SELECT ON sys.pending_trans$ TO user;</code>
							</li><li class="listitem">
								<code class="literal">GRANT SELECT ON sys.dba_2pc_pending TO user;</code>
							</li><li class="listitem">
								<code class="literal">GRANT EXECUTE ON sys.dbms_xa TO user;</code>
							</li></ul></div></div></div><p>
					This is an example of an Oracle XA datasource configuration with XA datasource properties, basic security, and validation options.
				</p><h5 id="example_oracle_xa_datasource_configuration">Example: Oracle XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;xa-datasource jndi-name="java:jboss/OracleXADS" pool-name="OracleXADS"&gt;
    &lt;xa-datasource-property name="URL"&gt;
      jdbc:oracle:thin:@oracleHostName:1521:orcl
    &lt;/xa-datasource-property&gt;
    &lt;driver&gt;oracle&lt;/driver&gt;
    &lt;xa-pool&gt;
      &lt;is-same-rm-override&gt;false&lt;/is-same-rm-override&gt;
    &lt;/xa-pool&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/xa-datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="oracle" module="com.oracle"&gt;
      &lt;xa-datasource-class&gt;oracle.jdbc.xa.client.OracleXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_oracle_jdbc_driver_literal_module_xml_literal_file_2">Example: Oracle JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.oracle"&gt;
    &lt;resources&gt;
        &lt;resource-root path="ojdbc7.jar"/&gt;
    &lt;/resources&gt;
    &lt;dependencies&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="javax.transaction.api"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_6">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the Oracle JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.oracle --resources=<span class="emphasis"><em>/path/to/ojdbc7.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the Oracle JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle,driver-module-name=com.oracle,driver-xa-datasource-class-name=oracle.jdbc.xa.client.OracleXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the Oracle XA datasource.
						</p><pre class="screen">xa-data-source add --name=OracleXADS --jndi-name=java:jboss/OracleXADS --driver-name=oracle --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter --same-rm-override=false --xa-datasource-properties={"URL"=&gt;"jdbc:oracle:thin:@oracleHostName:1521:orcl"}</pre></li></ol></div></section><section class="section" id="example_microsoft_sqlserver_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.7. Example Microsoft SQL Server Datasource</h3></div></div></div><p>
					This is an example of a Microsoft SQL Server datasource configuration with connection information, basic security, and validation options.
				</p><h5 id="example_microsoft_sql_server_datasource_configuration">Example: Microsoft SQL Server Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/MSSQLDS" pool-name="MSSQLDS"&gt;
    &lt;connection-url&gt;jdbc:sqlserver://localhost:1433;DatabaseName=MyDatabase&lt;/connection-url&gt;
    &lt;driver&gt;sqlserver&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="sqlserver" module="com.microsoft"&gt;
      &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_microsoft_sql_server_jdbc_driver_literal_module_xml_literal_file">Example: Microsoft SQL Server JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.microsoft"&gt;
  &lt;resources&gt;
    &lt;resource-root path="sqljdbc42.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
    &lt;module name="javax.xml.bind.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_7">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the Microsoft SQL Server JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.microsoft --resources=<span class="emphasis"><em>/path/to/sqljdbc42.jar</em></span> --dependencies=javax.api,javax.transaction.api,javax.xml.bind.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the Microsoft SQL Server JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=sqlserver:add(driver-name=sqlserver,driver-module-name=com.microsoft,driver-xa-datasource-class-name=com.microsoft.sqlserver.jdbc.SQLServerXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the Microsoft SQL Server datasource.
						</p><pre class="screen">data-source add --name=MSSQLDS --jndi-name=java:jboss/MSSQLDS --driver-name=sqlserver --connection-url=jdbc:sqlserver://localhost:1433;DatabaseName=MyDatabase --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLExceptionSorter</pre></li></ol></div></section><section class="section" id="example_microsoft_sqlserver_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.8. Example Microsoft SQL Server XA Datasource</h3></div></div></div><p>
					This is an example of a Microsoft SQL Server XA datasource configuration with XA datasource properties, basic security, and validation options.
				</p><h5 id="example_microsoft_sql_server_xa_datasource_configuration">Example: Microsoft SQL Server XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;xa-datasource jndi-name="java:jboss/MSSQLXADS" pool-name="MSSQLXADS"&gt;
    &lt;xa-datasource-property name="ServerName"&gt;
      localhost
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="DatabaseName"&gt;
      mssqldb
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="SelectMethod"&gt;
      cursor
    &lt;/xa-datasource-property&gt;
    &lt;driver&gt;sqlserver&lt;/driver&gt;
    &lt;xa-pool&gt;
      &lt;is-same-rm-override&gt;false&lt;/is-same-rm-override&gt;
    &lt;/xa-pool&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/xa-datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="sqlserver" module="com.microsoft"&gt;
      &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_microsoft_sql_server_jdbc_driver_literal_module_xml_literal_file_2">Example: Microsoft SQL Server JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.microsoft"&gt;
  &lt;resources&gt;
    &lt;resource-root path="sqljdbc42.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
    &lt;module name="javax.xml.bind.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_8">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the Microsoft SQL Server JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.microsoft --resources=<span class="emphasis"><em>/path/to/sqljdbc42.jar</em></span> --dependencies=javax.api,javax.transaction.api,javax.xml.bind.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the Microsoft SQL Server JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=sqlserver:add(driver-name=sqlserver,driver-module-name=com.microsoft,driver-xa-datasource-class-name=com.microsoft.sqlserver.jdbc.SQLServerXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the Microsoft SQL Server XA datasource.
						</p><pre class="screen">xa-data-source add --name=MSSQLXADS --jndi-name=java:jboss/MSSQLXADS --driver-name=sqlserver --user-name=admin --password=admin --validate-on-match=true --background-validation=false --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLExceptionSorter --same-rm-override=false --xa-datasource-properties={"ServerName"=&gt;"localhost","DatabaseName"=&gt;"mssqldb","SelectMethod"=&gt;"cursor"}</pre></li></ol></div></section><section class="section" id="example_ibm_db2_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.9. Example IBM DB2 Datasource</h3></div></div></div><p>
					This is an example of an IBM DB2 datasource configuration with connection information, basic security, and validation options.
				</p><h5 id="example_ibm_db2_datasource_configuration">Example: IBM DB2 Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/DB2DS" pool-name="DB2DS"&gt;
    &lt;connection-url&gt;jdbc:db2://localhost:50000/ibmdb2db&lt;/connection-url&gt;
    &lt;driver&gt;ibmdb2&lt;/driver&gt;
    &lt;pool&gt;
      &lt;min-pool-size&gt;0&lt;/min-pool-size&gt;
      &lt;max-pool-size&gt;50&lt;/max-pool-size&gt;
    &lt;/pool&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.db2.DB2ValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.db2.DB2ExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="ibmdb2" module="com.ibm"&gt;
        &lt;xa-datasource-class&gt;com.ibm.db2.jcc.DB2XADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_ibm_db2_jdbc_driver_literal_module_xml_literal_file">Example: IBM DB2 JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.ibm"&gt;
  &lt;resources&gt;
    &lt;resource-root path="db2jcc4.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_9">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the IBM DB2 JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.ibm --resources=<span class="emphasis"><em>/path/to/db2jcc4.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the IBM DB2 JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=ibmdb2:add(driver-name=ibmdb2,driver-module-name=com.ibm,driver-xa-datasource-class-name=com.ibm.db2.jcc.DB2XADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the IBM DB2 datasource.
						</p><pre class="screen">data-source add --name=DB2DS --jndi-name=java:jboss/DB2DS --driver-name=ibmdb2 --connection-url=jdbc:db2://localhost:50000/ibmdb2db --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.db2.DB2ValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.db2.DB2ExceptionSorter --min-pool-size=0 --max-pool-size=50</pre></li></ol></div></section><section class="section" id="example_ibm_db2_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.10. Example IBM DB2 XA Datasource</h3></div></div></div><p>
					This is an example of an IBM DB2 XA datasource configuration with XA datasource properties, basic security, and validation options.
				</p><h5 id="example_ibm_db2_xa_datasource_configuration">Example: IBM DB2 XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;xa-datasource jndi-name="java:jboss/DB2XADS" pool-name="DB2XADS"&gt;
    &lt;xa-datasource-property name="ServerName"&gt;
      localhost
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="DatabaseName"&gt;
      ibmdb2db
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="PortNumber"&gt;
      50000
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="DriverType"&gt;
      4
    &lt;/xa-datasource-property&gt;
    &lt;driver&gt;ibmdb2&lt;/driver&gt;
    &lt;xa-pool&gt;
      &lt;is-same-rm-override&gt;false&lt;/is-same-rm-override&gt;
    &lt;/xa-pool&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;recovery&gt;
      &lt;recover-plugin class-name="org.jboss.jca.core.recovery.ConfigurableRecoveryPlugin"&gt;
        &lt;config-property name="EnableIsValid"&gt;
          false
        &lt;/config-property&gt;
        &lt;config-property name="IsValidOverride"&gt;
          false
        &lt;/config-property&gt;
        &lt;config-property name="EnableClose"&gt;
          false
        &lt;/config-property&gt;
      &lt;/recover-plugin&gt;
    &lt;/recovery&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.db2.DB2ValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.db2.DB2ExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/xa-datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="ibmdb2" module="com.ibm"&gt;
        &lt;xa-datasource-class&gt;com.ibm.db2.jcc.DB2XADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_ibm_db2_jdbc_driver_literal_module_xml_literal_file_2">Example: IBM DB2 JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.ibm"&gt;
  &lt;resources&gt;
    &lt;resource-root path="db2jcc4.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_10">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the IBM DB2 JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.ibm --resources=<span class="emphasis"><em>/path/to/db2jcc4.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the IBM DB2 JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=ibmdb2:add(driver-name=ibmdb2,driver-module-name=com.ibm,driver-xa-datasource-class-name=com.ibm.db2.jcc.DB2XADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the IBM DB2 XA datasource.
						</p><pre class="screen">xa-data-source add --name=DB2XADS --jndi-name=java:jboss/DB2XADS --driver-name=ibmdb2 --user-name=admin --password=admin --validate-on-match=true --background-validation=false --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.db2.DB2ValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.db2.DB2ExceptionSorter --same-rm-override=false --recovery-plugin-class-name=org.jboss.jca.core.recovery.ConfigurableRecoveryPlugin --recovery-plugin-properties={"EnableIsValid"=&gt;"false","IsValidOverride"=&gt;"false","EnableClose"=&gt;"false"} --xa-datasource-properties={"ServerName"=&gt;"localhost","DatabaseName"=&gt;"ibmdb2db","PortNumber"=&gt;"50000","DriverType"=&gt;"4"}</pre></li></ol></div></section><section class="section" id="example_sybase_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.11. Example Sybase Datasource</h3></div></div></div><p>
					This is an example of a Sybase datasource configuration with connection information, basic security, and validation options.
				</p><h5 id="example_sybase_datasource_configuration">Example: Sybase Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/SybaseDB" pool-name="SybaseDB"&gt;
    &lt;connection-url&gt;jdbc:sybase:Tds:localhost:5000/DATABASE?JCONNECT_VERSION=6&lt;/connection-url&gt;
    &lt;driver&gt;sybase&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="sybase" module="com.sybase"&gt;
      &lt;xa-datasource-class&gt;com.sybase.jdbc4.jdbc.SybXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_sybase_jdbc_driver_literal_module_xml_literal_file">Example: Sybase JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.sybase"&gt;
    &lt;resources&gt;
      &lt;resource-root path="jconn4.jar"/&gt;
    &lt;/resources&gt;
    &lt;dependencies&gt;
      &lt;module name="javax.api"/&gt;
      &lt;module name="javax.transaction.api"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_11">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the Sybase JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.sybase --resources=<span class="emphasis"><em>/path/to/jconn4.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the Sybase JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=sybase:add(driver-name=sybase,driver-module-name=com.sybase,driver-xa-datasource-class-name=com.sybase.jdbc4.jdbc.SybXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the Sybase datasource.
						</p><pre class="screen">data-source add --name=SybaseDB --jndi-name=java:jboss/SybaseDB --driver-name=sybase --connection-url=jdbc:sybase:Tds:localhost:5000/DATABASE?JCONNECT_VERSION=6 --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseExceptionSorter</pre></li></ol></div></section><section class="section" id="example_sybase_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.12. Example Sybase XA Datasource</h3></div></div></div><p>
					This is an example of a Sybase XA datasource configuration with XA datasource properties, basic security, and validation options.
				</p><h5 id="example_sybase_xa_datasource_configuration">Example: Sybase XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;xa-datasource jndi-name="java:jboss/SybaseXADS" pool-name="SybaseXADS"&gt;
    &lt;xa-datasource-property name="ServerName"&gt;
      localhost
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="DatabaseName"&gt;
      mydatabase
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="PortNumber"&gt;
      4100
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="NetworkProtocol"&gt;
      Tds
    &lt;/xa-datasource-property&gt;
    &lt;driver&gt;sybase&lt;/driver&gt;
    &lt;xa-pool&gt;
      &lt;is-same-rm-override&gt;false&lt;/is-same-rm-override&gt;
    &lt;/xa-pool&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/xa-datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="sybase" module="com.sybase"&gt;
      &lt;xa-datasource-class&gt;com.sybase.jdbc4.jdbc.SybXADataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_sybase_jdbc_driver_literal_module_xml_literal_file_2">Example: Sybase JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.sybase"&gt;
    &lt;resources&gt;
      &lt;resource-root path="jconn4.jar"/&gt;
    &lt;/resources&gt;
    &lt;dependencies&gt;
      &lt;module name="javax.api"/&gt;
      &lt;module name="javax.transaction.api"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_12">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the Sybase JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.sybase --resources=<span class="emphasis"><em>/path/to/jconn4.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the Sybase JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=sybase:add(driver-name=sybase,driver-module-name=com.sybase,driver-xa-datasource-class-name=com.sybase.jdbc4.jdbc.SybXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the Sybase XA datasource.
						</p><pre class="screen">xa-data-source add --name=SybaseXADS --jndi-name=java:jboss/SybaseXADS --driver-name=sybase --user-name=admin --password=admin --validate-on-match=true --background-validation=false --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseExceptionSorter --same-rm-override=false --xa-datasource-properties={"ServerName"=&gt;"localhost","DatabaseName"=&gt;"mydatabase","PortNumber"=&gt;"4100","NetworkProtocol"=&gt;"Tds"}</pre></li></ol></div></section><section class="section" id="example_mariadb_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.13. Example MariaDB Datasource</h3></div></div></div><p>
					This is an example of a MariaDB datasource configuration with connection information, basic security, and validation options.
				</p><h5 id="example_mariadb_datasource_configuration">Example: MariaDB Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/MariaDBDS" pool-name="MariaDBDS"&gt;
    &lt;connection-url&gt;jdbc:mariadb://localhost:3306/jbossdb&lt;/connection-url&gt;
    &lt;driver&gt;mariadb&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="mariadb" module="org.mariadb"&gt;
      &lt;driver-class&gt;org.mariadb.jdbc.Driver&lt;/driver-class&gt;
      &lt;xa-datasource-class&gt;org.mariadb.jdbc.MySQLDataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_mariadb_jdbc_driver_literal_module_xml_literal_file">Example: MariaDB JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="org.mariadb"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mariadb-java-client-1.2.3.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_13">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the MariaDB JDBC driver as a core module.
						</p><pre class="screen">module add --name=org.mariadb --resources=<span class="emphasis"><em>/path/to/mariadb-java-client-1.2.3.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the MariaDB JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=mariadb:add(driver-name=mariadb,driver-module-name=org.mariadb,driver-xa-datasource-class-name=org.mariadb.jdbc.MySQLDataSource, driver-class-name=org.mariadb.jdbc.Driver)</pre></li><li class="listitem"><p class="simpara">
							Add the MariaDB datasource.
						</p><pre class="screen">data-source add --name=MariaDBDS --jndi-name=java:jboss/MariaDBDS --driver-name=mariadb --connection-url=jdbc:mariadb://localhost:3306/jbossdb --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter</pre></li></ol></div></section><section class="section" id="example_mariadb_xa_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.14. Example MariaDB XA Datasource</h3></div></div></div><p>
					This is an example of a MariaDB XA datasource configuration with XA datasource properties, basic security, and validation options.
				</p><h5 id="example_mariadb_xa_datasource_configuration">Example: MariaDB XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;xa-datasource jndi-name="java:jboss/MariaDBXADS" pool-name="MariaDBXADS"&gt;
    &lt;xa-datasource-property name="ServerName"&gt;
      localhost
    &lt;/xa-datasource-property&gt;
    &lt;xa-datasource-property name="DatabaseName"&gt;
      mariadbdb
    &lt;/xa-datasource-property&gt;
    &lt;driver&gt;mariadb&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/xa-datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="mariadb" module="org.mariadb"&gt;
      &lt;driver-class&gt;org.mariadb.jdbc.Driver&lt;/driver-class&gt;
      &lt;xa-datasource-class&gt;org.mariadb.jdbc.MySQLDataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_mariadb_jdbc_driver_literal_module_xml_literal_file_2">Example: MariaDB JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="org.mariadb"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mariadb-java-client-1.2.3.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_14">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the MariaDB JDBC driver as a core module.
						</p><pre class="screen">module add --name=org.mariadb --resources=<span class="emphasis"><em>/path/to/mariadb-java-client-1.2.3.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the MariaDB JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=mariadb:add(driver-name=mariadb,driver-module-name=org.mariadb,driver-xa-datasource-class-name=org.mariadb.jdbc.MySQLDataSource, driver-class-name=org.mariadb.jdbc.Driver)</pre></li><li class="listitem"><p class="simpara">
							Add the MariaDB XA datasource.
						</p><pre class="screen">xa-data-source add --name=MariaDBXADS --jndi-name=java:jboss/MariaDBXADS --driver-name=mariadb --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter --xa-datasource-properties={"ServerName"=&gt;"localhost","DatabaseName"=&gt;"mariadbdb"}</pre></li></ol></div></section><section class="section" id="example_mariadb_galera_cluster_datasource"><div class="titlepage"><div><div><h3 class="title">12.15.15. Example MariaDB Galera Cluster Datasource</h3></div></div></div><p>
					This is an example of a MariaDB Galera Cluster datasource configuration with connection information, basic security, and validation options.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						MariaDB Galera Cluster does not support XA transactions.
					</p></div></div><h5 id="example_mariadb_galera_cluster_datasource_configuration">Example: MariaDB Galera Cluster Datasource Configuration</h5><pre class="programlisting language-xml">&lt;datasources&gt;
  &lt;datasource jndi-name="java:jboss/MariaDBGaleraClusterDS" pool-name="MariaDBGaleraClusterDS"&gt;
    &lt;connection-url&gt;jdbc:mariadb://192.168.1.1:3306,192.168.1.2:3306/jbossdb&lt;/connection-url&gt;
    &lt;driver&gt;mariadb&lt;/driver&gt;
    &lt;security&gt;
      &lt;user-name&gt;admin&lt;/user-name&gt;
      &lt;password&gt;admin&lt;/password&gt;
    &lt;/security&gt;
    &lt;validation&gt;
      &lt;valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker"/&gt;
      &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;
      &lt;background-validation&gt;false&lt;/background-validation&gt;
      &lt;exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter"/&gt;
    &lt;/validation&gt;
  &lt;/datasource&gt;
  &lt;drivers&gt;
    &lt;driver name="mariadb" module="org.mariadb"&gt;
      &lt;driver-class&gt;org.mariadb.jdbc.Driver&lt;/driver-class&gt;
      &lt;xa-datasource-class&gt;org.mariadb.jdbc.MySQLDataSource&lt;/xa-datasource-class&gt;
    &lt;/driver&gt;
  &lt;/drivers&gt;
&lt;/datasources&gt;</pre><h5 id="example_mariadb_jdbc_driver_literal_module_xml_literal_file_3">Example: MariaDB JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="org.mariadb"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mariadb-java-client-1.5.4.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_15">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the MariaDB JDBC driver as a core module.
						</p><pre class="screen">module add --name=org.mariadb --resources=<span class="emphasis"><em>/path/to/mariadb-java-client-1.5.4.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the MariaDB JDBC driver.
						</p><pre class="screen">/subsystem=datasources/jdbc-driver=mariadb:add(driver-name=mariadb,driver-module-name=org.mariadb,driver-xa-datasource-class-name=org.mariadb.jdbc.MySQLDataSource, driver-class-name=org.mariadb.jdbc.Driver)</pre></li><li class="listitem"><p class="simpara">
							Add the MariaDB Galera Cluster datasource.
						</p><pre class="screen">data-source add --name=MariaDBGaleraClusterDS --jndi-name=java:jboss/MariaDBGaleraClusterDS --driver-name=mariadb --connection-url=jdbc:mariadb://192.168.1.1:3306,192.168.1.2:3306/jbossdb --user-name=admin --password=admin --validate-on-match=true --background-validation=false --valid-connection-checker-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker --exception-sorter-class-name=org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter</pre></li></ol></div></section></section></section><section class="chapter" id="datasource_management_agroal"><div class="titlepage"><div><div><h1 class="title">Chapter 13. Datasource Management With Agroal</h1></div></div></div><section class="section" id="about_datasources_agroal"><div class="titlepage"><div><div><h2 class="title">13.1. About the Agroal Datasources Subsystem</h2></div></div></div><p>
				A new <code class="literal">datasources-agroal</code> subsystem was introduced in JBoss EAP 7.2. This is a new high performance direct connection pool backed by the Agroal project. This can be used as an alternative to the current JCA-based <code class="literal">datasources</code> subsystem.
			</p><p>
				The <code class="literal">datasources-agroal</code> subsystem is not available by default and you must <a class="link" href="#enable_datasources_agroal" title="13.2. Enabling the Agroal Datasources Subsystem">enable it</a> in order to use this new implementation.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The <code class="literal">datasources-agroal</code> subsystem is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div></section><section class="section" id="enable_datasources_agroal"><div class="titlepage"><div><div><h2 class="title">13.2. Enabling the Agroal Datasources Subsystem</h2></div></div></div><p>
				The <code class="literal">datasources-agroal</code> subsystem is not enabled in the default JBoss EAP configuration. Use the following management CLI commands to enable it.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add the extension.
					</p><pre class="screen">/extension=org.wildfly.extension.datasources-agroal:add</pre></li><li class="listitem"><p class="simpara">
						Add the subsystem.
					</p><pre class="screen">/subsystem=datasources-agroal:add</pre></li><li class="listitem"><p class="simpara">
						Reload the server for the changes to take effect.
					</p><pre class="screen">reload</pre></li></ol></div><p>
				This adds the following XML in the server configuration file.
			</p><pre class="programlisting language-xml">&lt;server xmlns="urn:jboss:domain:8.0"&gt;
  &lt;extensions&gt;
    ...
    &lt;extension module="org.wildfly.extension.datasources-agroal"/&gt;
    ...
  &lt;/extensions&gt;
  ...
  &lt;subsystem xmlns="urn:jboss:domain:datasources-agroal:1.0"/&gt;
  ...
&lt;/server&gt;</pre></section><section class="section" id="install_a_jdbc_driver_as_a_core_module_agroal"><div class="titlepage"><div><div><h2 class="title">13.3. Installing a JDBC Driver as a Core Module for Agroal Datasources</h2></div></div></div><p>
				Before defining Agroal datasources in JBoss EAP for your applications to use, you must first install the appropriate JDBC driver.
			</p><p>
				To install a JDBC driver as a core module for Agroal datasources, you must first <a class="link" href="#add_jdbc_driver_core_module_datasources-agroal" title="13.3.1. Add the JDBC Driver as a Core Module">add the JDBC driver as a core module</a> and then <a class="link" href="#register_jdbc_driver_agroal" title="13.3.2. Register the JDBC Driver for Agroal Datasources">register the JDBC driver</a> in the <code class="literal">datasources-agroal</code> subsystem.
			</p><section class="section" id="add_jdbc_driver_core_module_datasources-agroal"><div class="titlepage"><div><div><h3 class="title">13.3.1. Add the JDBC Driver as a Core Module</h3></div></div></div><p>
					JDBC drivers can be installed as a core module using the management CLI using the following steps.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Download the JDBC driver.
						</p><p class="simpara">
							Download the appropriate JDBC driver from your database vendor. See <a class="link" href="#jdbc_driver_download_locations" title="12.2.3. JDBC Driver Download Locations">JDBC Driver Download Locations</a> for standard download locations for JDBC drivers of common databases.
						</p><p class="simpara">
							Make sure to extract the archive if the JDBC driver JAR file is contained within a ZIP or TAR archive.
						</p></li><li class="listitem">
							Start the JBoss EAP server.
						</li><li class="listitem"><p class="simpara">
							Launch the management CLI.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal">module add</code> management CLI command to add the new core module.
						</p><pre class="screen">module add --name=<span class="emphasis"><em>MODULE_NAME</em></span> --resources=<span class="emphasis"><em>PATH_TO_JDBC_JAR</em></span> --dependencies=<span class="emphasis"><em>DEPENDENCIES</em></span></pre><p class="simpara">
							For example, the following command adds a MySQL JDBC driver module.
						</p><pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div><p class="simpara">
							Execute <code class="literal">module --help</code> for more details on using this command to add and remove modules.
						</p></li></ol></div><p>
					You must next register it as a JDBC driver for it to be referenced by application datasources.
				</p></section><section class="section" id="register_jdbc_driver_agroal"><div class="titlepage"><div><div><h3 class="title">13.3.2. Register the JDBC Driver for Agroal Datasources</h3></div></div></div><p>
					After the driver has been <a class="link" href="#add_jdbc_driver_core_module_datasources-agroal" title="13.3.1. Add the JDBC Driver as a Core Module">installed as a core module</a>, you must register it as a JDBC driver using the following management CLI command. When running in a managed domain, be sure to precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p><pre class="screen">/subsystem=datasources-agroal/driver=<span class="emphasis"><em>DRIVER_NAME</em></span>:add(module=<span class="emphasis"><em>MODULE_NAME</em></span>,class=<span class="emphasis"><em>CLASS_NAME</em></span>)</pre><p>
					The <code class="literal"><span class="emphasis"><em>CLASS_NAME</em></span></code> must be a fully qualified class name that implements either <code class="literal">java.sql.Driver</code> or <code class="literal">javax.sql.DataSource</code> for non-XA datasources, or <code class="literal">javax.sql.XADataSource</code> for XA datasources.
				</p></section></section><section class="section" id="config_agroal_datasources"><div class="titlepage"><div><div><h2 class="title">13.4. Configuring Agroal Non-XA Datasources</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The use of Agroal datasources is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><section class="section" id="create_agroal_datasource"><div class="titlepage"><div><div><h3 class="title">13.4.1. Create an Agroal Datasource</h3></div></div></div><p>
					The following management CLI command creates an Agroal datasource. When running in a managed domain, be sure to precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p><pre class="screen">/subsystem=datasources-agroal/datasource=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:add(jndi-name=<span class="emphasis"><em>JNDI_NAME</em></span>,connection-factory={driver=<span class="emphasis"><em>DRIVER_NAME</em></span>,url=<span class="emphasis"><em>URL</em></span>},connection-pool={max-size=<span class="emphasis"><em>MAX_POOL_SIZE</em></span>})</pre><p>
					For a complete listing of all available Agroal datasource attributes, see the <a class="link" href="#datasources_agroal_attributes" title="A.22. Agroal Datasource Attributes">Agroal Datasource Attributes</a> section.
				</p><p>
					See <a class="link" href="#example_mysql_agroal_datasource" title="13.6.1. Example MySQL Agroal Datasource">Example MySQL Agroal Datasource</a> for an example Agroal datasource configuration.
				</p></section><section class="section" id="remove_agroal_datasource"><div class="titlepage"><div><div><h3 class="title">13.4.2. Remove an Agroal Datasource</h3></div></div></div><p>
					The following management CLI command removes an Agroal datasource. When running in a managed domain, be sure to precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p><pre class="screen">/subsystem=datasources-agroal/datasource=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:remove</pre></section></section><section class="section" id="config_agroal_xa_datasources"><div class="titlepage"><div><div><h2 class="title">13.5. Configuring Agroal XA Datasources</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The use of Agroal datasources is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><section class="section" id="create_agroal_xa_datasource"><div class="titlepage"><div><div><h3 class="title">13.5.1. Create an Agroal XA Datasource</h3></div></div></div><p>
					The following management CLI command creates an Agroal XA datasource. When running in a managed domain, be sure to precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p><pre class="screen">/subsystem=datasources-agroal/xa-datasource=<span class="emphasis"><em>XA_DATASOURCE_NAME</em></span>:add(jndi-name=<span class="emphasis"><em>JNDI_NAME</em></span>,connection-factory={driver=<span class="emphasis"><em>DRIVER_NAME</em></span>,connection-properties={ServerName=<span class="emphasis"><em>HOST_NAME</em></span>,PortNumber=<span class="emphasis"><em>PORT</em></span>,DatabaseName=<span class="emphasis"><em>DATABASE_NAME</em></span>}},connection-pool={max-size=<span class="emphasis"><em>MAX_POOL_SIZE</em></span>})</pre><p>
					For a complete listing of all available Agroal datasource attributes, see the <a class="link" href="#datasources_agroal_attributes" title="A.22. Agroal Datasource Attributes">Agroal Datasource Attributes</a> section.
				</p><p>
					See <a class="link" href="#example_mysql_agroal_xa_datasource" title="13.6.2. Example MySQL Agroal XA Datasource">Example MySQL Agroal XA Datasource</a> for an example Agroal XA datasource configuration.
				</p></section><section class="section" id="remove_agroal_xa_datasource"><div class="titlepage"><div><div><h3 class="title">13.5.2. Remove an Agroal XA Datasource</h3></div></div></div><p>
					The following management CLI command removes an Agroal XA datasource. When running in a managed domain, be sure to precede this command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p><pre class="screen">/subsystem=datasources-agroal/xa-datasource=<span class="emphasis"><em>DATASOURCE_NAME</em></span>:remove</pre></section></section><section class="section" id="example_agroal_datasource_configurations"><div class="titlepage"><div><div><h2 class="title">13.6. Example Agroal Datasource Configurations</h2></div></div></div><section class="section" id="example_mysql_agroal_datasource"><div class="titlepage"><div><div><h3 class="title">13.6.1. Example MySQL Agroal Datasource</h3></div></div></div><p>
					This is an example of a MySQL Agroal datasource configuration with connection and basic security settings.
				</p><h5 id="example_mysql_agroal_datasource_configuration">Example: MySQL Agroal Datasource Configuration</h5><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:datasources-agroal:1.0"&gt;
    &lt;datasource name="ExampleAgroalDS" jndi-name="java:jboss/datasources/ExampleAgroalDS"&gt;
        &lt;connection-factory driver="mysql" url="jdbc:mysql://localhost:3306/jbossdb" username="admin" password="admin"/&gt;
        &lt;connection-pool max-size="30"/&gt;
    &lt;/datasource&gt;
    &lt;drivers&gt;
        &lt;driver name="mysql" module="com.mysql" class="com.mysql.cj.jdbc.Driver"/&gt;
    &lt;/drivers&gt;
&lt;/subsystem&gt;</pre><h5 id="example_mysql_jdbc_driver_literal_module_xml_literal_file_3">Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;

    &lt;resources&gt;
        &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="javax.transaction.api"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_16">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the MySQL JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to/mysql-connector-java-8.0.12.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the MySQL JDBC driver.
						</p><pre class="screen">/subsystem=datasources-agroal/driver=mysql:add(module=com.mysql,class=com.mysql.cj.jdbc.Driver)</pre></li><li class="listitem"><p class="simpara">
							Add the MySQL datasource.
						</p><pre class="screen">/subsystem=datasources-agroal/datasource=ExampleAgroalDS:add(jndi-name=java:jboss/datasources/ExampleAgroalDS,connection-factory={driver=mysql,url=jdbc:mysql://localhost:3306/jbossdb,username=admin,password=admin},connection-pool={max-size=30})</pre></li></ol></div></section><section class="section" id="example_mysql_agroal_xa_datasource"><div class="titlepage"><div><div><h3 class="title">13.6.2. Example MySQL Agroal XA Datasource</h3></div></div></div><p>
					This is an example of a MySQL Agroal XA datasource configuration with XA datasource properties and basic security settings.
				</p><h5 id="example_mysql_agroal_xa_datasource_configuration">Example: MySQL Agroal XA Datasource Configuration</h5><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:datasources-agroal:1.0"&gt;
    &lt;xa-datasource name="ExampleAgroalXADS" jndi-name="java:jboss/datasources/ExampleAgroalXADS"&gt;
        &lt;connection-factory driver="mysqlXA" username="admin" password="admin"&gt;
            &lt;connection-properties&gt;
                &lt;property name="ServerName" value="localhost"/&gt;
                &lt;property name="PortNumber" value="3306"/&gt;
                &lt;property name="DatabaseName" value="jbossdb"/&gt;
            &lt;/connection-properties&gt;
        &lt;/connection-factory&gt;
        &lt;connection-pool max-size="30"/&gt;
    &lt;/xa-datasource&gt;
    &lt;drivers&gt;
        &lt;driver name="mysqlXA" module="com.mysql" class="com.mysql.cj.jdbc.MysqlXADataSource"/&gt;
    &lt;/drivers&gt;
&lt;/subsystem&gt;</pre><h5 id="example_mysql_jdbc_driver_literal_module_xml_literal_file_4">Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</h5><pre class="programlisting language-xml">&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;

    &lt;resources&gt;
        &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="javax.transaction.api"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h5 id="example_management_cli_commands_17">Example Management CLI Commands</h5><p>
					This example configuration can be achieved by using the following management CLI commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the MySQL JDBC driver as a core module.
						</p><pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to/mysql-connector-java-8.0.12.jar</em></span> --dependencies=javax.api,javax.transaction.api</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
							</p><p>
								Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Register the MySQL XA JDBC driver.
						</p><pre class="screen">/subsystem=datasources-agroal/driver=mysqlXA:add(module=com.mysql,class=com.mysql.cj.jdbc.MysqlXADataSource)</pre></li><li class="listitem"><p class="simpara">
							Add the MySQL XA datasource.
						</p><pre class="screen">/subsystem=datasources-agroal/xa-datasource=ExampleAgroalXADS:add(jndi-name=java:jboss/datasources/ExampleAgroalXADS,connection-factory={driver=mysqlXA,connection-properties={ServerName=localhost,PortNumber=3306,DatabaseName=jbossdb},username=admin,password=admin},connection-pool={max-size=30})</pre></li></ol></div></section></section></section><section class="chapter" id="configuring_transactions_subsystem"><div class="titlepage"><div><div><h1 class="title">Chapter 14. Configuring the Transactions Subsystem</h1></div></div></div><p>
			The <code class="literal">transactions</code> subsystem allows you to configure the Transaction Manager (TM) options, such as timeout values, transaction logging, statistics collection, and whether to use Java Transaction Service (JTS). JBoss EAP provides transactional services using the Narayana framework. This framework leverages support for a broad range of transaction protocols based on standards, such as JTA, JTS, Web Service transactions, REST transactions, Software Transactional Memory (STM), and XATMI/TX specifications.
		</p><p>
			For more information, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/managing_transactions_on_jboss_eap/index/"><span class="emphasis"><em>Managing Transactions on JBoss EAP</em></span></a>.
		</p></section><section class="chapter" id="orb_configuration"><div class="titlepage"><div><div><h1 class="title">Chapter 15. ORB Configuration</h1></div></div></div><section class="section" id="about_common_object_request_broker_architecture_corba"><div class="titlepage"><div><div><h2 class="title">15.1. About Common Object Request Broker Architecture (CORBA)</h2></div></div></div><p>
				Common Object Request Broker Architecture (CORBA) is a standard that enables applications and services to work together even when they are written in multiple, otherwise-incompatible, languages or hosted on separate platforms. CORBA requests are brokered by a server-side component called an Object Request Broker (ORB). JBoss EAP provides an ORB instance, by means of the Open JDK ORB component.
			</p><p>
				The ORB is used internally for Java Transaction Service (JTS) transactions, and is also available for use by your own applications.
			</p></section><section class="section" id="configure_the_orb_for_jts_transactions"><div class="titlepage"><div><div><h2 class="title">15.2. Configuring the ORB for JTS Transactions</h2></div></div></div><p>
				In a default installation of JBoss EAP, the Object Request Broker (ORB) support for transactions is disabled. You can configure ORB settings in the <code class="literal">iiop-openjdk</code> subsystem using the management CLI or the management console.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">iiop-openjdk</code> subsystem is available when using the <span class="emphasis"><em>full</em></span> or <span class="emphasis"><em>full-ha</em></span> profile in a managed domain, or the <code class="literal">standalone-full.xml</code> or <code class="literal">standalone-full-ha.xml</code> configuration file for a standalone server.
				</p></div></div><p>
				For a listing of the available configuration options for the <code class="literal">iiop-openjdk</code> subsystem, see <a class="link" href="#iiop_subsystem_attributes" title="A.24. IIOP Subsystem Attributes">IIOP Subsystem Attributes</a>.
			</p><h4 id="configure_the_orb_using_the_management_cli">Configure the ORB Using the Management CLI</h4><p>
				You can configure each aspect of the ORB using the management CLI. This is the minimum configuration for the ORB to be used with JTS.
			</p><p>
				You can configure the following management CLI commands for a managed domain using the <code class="literal">full</code> profile. If necessary, change the profile to suit the one you need to configure. If you are using a standalone server, omit the <code class="literal">/profile=full</code> portion of the commands.
			</p><h5 id="enable_the_security_interceptors">Enable the Security Interceptors</h5><p>
				Enable the <code class="literal">security</code> attribute by setting the value to <code class="literal">identity</code>.
			</p><pre class="screen">/profile=full/subsystem=iiop-openjdk:write-attribute(name=security,value=identity)</pre><h5 id="enable_transactions_in_the_iiop_subsystem">Enable Transactions in the IIOP Subsystem</h5><p>
				To enable the ORB for JTS, set the value of <code class="literal">transactions</code> attribute to <code class="literal">full</code>, rather than the default <code class="literal">spec</code>.
			</p><pre class="screen">/profile=full/subsystem=iiop-openjdk:write-attribute(name=transactions, value=full)</pre><h5 id="enable_jts_in_the_transactions_subsystem">Enable JTS in the Transactions Subsystem</h5><pre class="screen">/profile=full/subsystem=transactions:write-attribute(name=jts,value=true)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For JTS activation, the server must be restarted as reload is not enough.
				</p></div></div><h4 id="configure_the_orb_using_the_management_console">Configure the ORB Using the Management Console</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Select the <span class="strong strong"><strong>Configuration</strong></span> tab from the top of the management console. In a managed domain, you must select the appropriate profile to modify.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>IIOP (OpenJDK)</strong></span> and click <span class="strong strong"><strong>View</strong></span>.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Edit</strong></span> and modify the attributes as needed.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span> to save the changes.
					</li></ol></div></section><section class="section" id="configure_iiop_ssl"><div class="titlepage"><div><div><h2 class="title">15.3. Configure IIOP to Use SSL/TLS with the Elytron Subsystem</h2></div></div></div><p>
				You can configure the <code class="literal">iiop-openjdk</code> subsystem to use SSL/TLS to secure communication between clients and servers. The <code class="literal">elytron</code> subsystem, as well as the legacy <code class="literal">security</code> subsystem, provide the necessary components for configuring SSL/TLS for the <code class="literal">iiop-openjdk</code> subsystem as well as other subsystems within JBoss EAP. Use the following steps to configure the <code class="literal">iiop-openjdk</code> subsystem to use the <code class="literal">elytron</code> subsystem for SSL/TLS.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the following management CLI command to display the current legacy SSL/TLS configuration in the <code class="literal">iiop-openjdk</code> subsystem.
					</p><pre class="screen">/subsystem=iiop-openjdk:read-attribute(name=security-domain)
{
    "outcome" =&gt; "success",
    "result" =&gt; "iiopSSLSecurityDomain"
}</pre><p class="simpara">
						The <code class="literal">iiop-openjdk</code> subsystem must use either the legacy <code class="literal">security</code> subsystem or the <code class="literal">elytron</code> subsystem for SSL/TLS. You cannot use both at the same time. The above command shows the <code class="literal">iiop-openjdk</code> subsystem is using a legacy security domain for handling SSL/TLS. Before you can configure the <code class="literal">iiop-openjdk</code> subsystem to use the <code class="literal">elytron</code> subsystem for SSL/TLS, you need to remove this reference:
					</p><pre class="screen">/subsystem=iiop-openjdk:undefine-attribute(name=security-realm)</pre><p class="simpara">
						If the <code class="literal">security-domain</code> attribute in the <code class="literal">iiop-openjdk</code> is not defined, you can proceed to the next step.
					</p></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">server-ssl-context</code>.
					</p><p class="simpara">
						To use SSL/TLS with the <code class="literal">iiop-openjdk</code> subsystem, you need to define a <code class="literal">server-ssl-context</code>. JBoss EAP uses the configuration provided by the <code class="literal">server-ssl-context</code> when making an SSL/TLS connection as a server. You can find more details on creating a <code class="literal">server-ssl-context</code> in <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#elytron_one_way_ssl_apps" title="This content is not included in Mimir.">Enable One-way SSL/TLS for Applications using the Elytron Subsystem</a> in <span class="emphasis"><em>How to Configure Server Security</em></span> guide.
					</p></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">client-ssl-context</code>.
					</p><p class="simpara">
						To use SSL/TLS with the <code class="literal">iiop-openjdk</code> subsystem, you need to define a <code class="literal">client-ssl-context</code>. JBoss EAP uses the configuration provided by the <code class="literal">client-ssl-context</code> when making an SSL/TLS connection as a client. You can find more details on creating a <code class="literal">client-ssl-context</code> in <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#using_client_ssl_context" title="This content is not included in Mimir.">Using a client-ssl-context</a> in the <span class="emphasis"><em>How to Configure Server Security</em></span> guide.
					</p></li><li class="listitem"><p class="simpara">
						Configure the <code class="literal">iiop-openjdk</code> subsystem to use the <code class="literal">client-ssl-context</code> and <code class="literal">server-ssl-context</code>.
					</p><div class="formalpara"><p class="title"><strong>Example: Setting <code class="literal">client-ssl-context</code> and <code class="literal">server-ssl-context</code></strong></p><p>
							
<pre class="screen">batch

/subsystem=iiop-openjdk:write-attribute(name=client-ssl-context,value=iiopClientSSC)

/subsystem=iiop-openjdk:write-attribute(name=server-ssl-context,value=iiopServerSSC)

run-batch

reload</pre>

						</p></div></li><li class="listitem"><p class="simpara">
						Configure the connection to and from the <code class="literal">iiop-openjdk</code> subsystem.
					</p><p class="simpara">
						You can indicate whether or not SSL/TLS connections are required when connecting to and from the <code class="literal">iiop-openjdk</code> subsystem by adjusting the following attributes:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								To enable support for SSL in the <code class="literal">iiop-openjdk</code> subsystem, set <code class="literal">support-ssl</code> to <code class="literal">true</code>. Defaults to <code class="literal">false</code>.
							</li><li class="listitem">
								To require SSL/TLS connections from the <code class="literal">iiop-openjdk</code> subsystem, set <code class="literal">client-requires-ssl</code> to <code class="literal">true</code>. Defaults to <code class="literal">false</code>.
							</li><li class="listitem">
								To require SSL/TLS connections to the <code class="literal">iiop-openjdk</code> subsystem, set <code class="literal">server-requires-ssl</code> to <code class="literal">true</code>. Defaults to <code class="literal">false</code>. Note that setting this to <code class="literal">true</code> will block attempts to connect to the non-SSL IIOP socket.
							</li><li class="listitem">
								To adjust the <code class="literal">socket-binding</code>, set <code class="literal">ssl-socket-binding</code> to the desired binding. Defaults to <code class="literal">iiop-ssl</code>.
							</li></ul></div><div class="formalpara"><p class="title"><strong>Example: Setting SSL/TLS Connections to and from IIOP as Required</strong></p><p>
							
<pre class="screen">/subsystem=iiop-openjdk:write-attribute(name=support-ssl,value=true)

/subsystem=iiop-openjdk:write-attribute(name=client-requires-ssl,value=true)

/subsystem=iiop-openjdk:write-attribute(name=server-requires-ssl,value=true)

/subsystem=iiop-openjdk:write-attribute(name=ssl-socket-binding,value=iiop-ssl)

reload</pre>

						</p></div></li></ol></div></section></section><section class="chapter" id="jca_management"><div class="titlepage"><div><div><h1 class="title">Chapter 16. Java Connector Architecture (JCA) Management</h1></div></div></div><section class="section" id="java_connector_arch"><div class="titlepage"><div><div><h2 class="title">16.1. About the Java Connector Architecture (JCA)</h2></div></div></div><p>
				The Java EE Connector Architecture (JCA) defines a standard architecture for Java EE systems to external heterogeneous Enterprise Information Systems (EIS). Examples of EISs include Enterprise Resource Planning (ERP) systems, mainframe transaction processing (TP), databases, and messaging systems. A <a class="link" href="#resource_adapters" title="16.2. About Resource Adapters">resource adapter</a> is a component that implements the Java EE Connector API architecture.
			</p><p>
				JCA 1.7 provides features for managing:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						connections
					</li><li class="listitem">
						transactions
					</li><li class="listitem">
						security
					</li><li class="listitem">
						life-cycle
					</li><li class="listitem">
						work instances
					</li><li class="listitem">
						transaction inflow
					</li><li class="listitem">
						message inflow
					</li></ul></div><p>
				JCA 1.7 was developed under the Java Community Process as <a class="link mimir-link-warn" href="https://www.jcp.org/en/jsr/detail?id=322" title="Mimir does not include content from: www.jcp.org">JSR-322</a>.
			</p></section><section class="section" id="resource_adapters"><div class="titlepage"><div><div><h2 class="title">16.2. About Resource Adapters</h2></div></div></div><p>
				A resource adapter is a deployable Java EE component that provides communication between a Java EE application and an Enterprise Information System (EIS) using the Java Connector Architecture (JCA) specification. A resource adapter is often provided by EIS vendors to allow easy integration of their products with Java EE applications.
			</p><p>
				An Enterprise Information System can be any other software system within an organization. Examples include Enterprise Resource Planning (ERP) systems, database systems, e-mail servers and proprietary messaging systems.
			</p><p>
				A resource adapter is packaged in a Resource Adapter Archive (RAR) file which can be deployed to JBoss EAP. A RAR file may also be included in an Enterprise Archive (EAR) deployment.
			</p><p>
				The resource adapter itself is defined within the <code class="literal">resource-adapters</code> subsystem, which is provided by the IronJacamar project.
			</p></section><section class="section" id="configuring_jca_subsystem"><div class="titlepage"><div><div><h2 class="title">16.3. Configuring the JCA Subsystem</h2></div></div></div><p>
				The <code class="literal">jca</code> subsystem controls the general settings for the JCA container and resource adapter deployments. You can configure the <code class="literal">jca</code> subsystem using the management console or the management CLI.
			</p><p>
				The main JCA elements to configure are:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#archive_validation" title="Archive Validation">Archive validation</a>
					</li><li class="listitem">
						<a class="link" href="#bean_validation" title="Bean Validation">Bean validation</a>
					</li><li class="listitem">
						<a class="link" href="#work_managers" title="Work Managers">Work managers</a>
					</li><li class="listitem">
						<a class="link" href="#dist_work_managers" title="Distributed Work Managers">Distributed work managers</a>
					</li><li class="listitem">
						<a class="link" href="#bootstrap_contexts" title="Bootstrap Contexts">Bootstrap contexts</a>
					</li><li class="listitem">
						<a class="link" href="#cached_connection_manager" title="Cached Connection Manager">Cached connection manager</a>
					</li></ul></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Configure JCA settings from the management console</span></dt><dd><p class="simpara">
							The <code class="literal">jca</code> subsystem can be configured from the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>JCA</strong></span> and clicking <span class="strong strong"><strong>View</strong></span>. Then, select the appropriate tab:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Configuration</strong></span> - Contains settings for the cached connection manager, archive validation, and bean validation. Each of these is contained in their own tab as well. Modify these settings by opening the appropriate tab and clicking the <span class="strong strong"><strong>Edit</strong></span> link.
								</li><li class="listitem">
									<span class="strong strong"><strong>Bootstrap Context</strong></span> - Contains the list of configured bootstrap contexts. New bootstrap context objects can be added, removed, and configured. Each bootstrap context must be assigned a work manager.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>Workmanager</strong></span> - Contains the list of configured work managers. New work managers can be added, removed, and their thread pools configured here. Each work manager can have one short-running thread pool and an optional long-running thread pool.
								</p><p class="simpara">
									The thread pool attributes can be configured by clicking <span class="strong strong"><strong>Thread Pools</strong></span> on the selected work manager.
								</p></li></ul></div></dd><dt><span class="term">Configure JCA settings from the management CLI</span></dt><dd>
							The <code class="literal">jca</code> subsystem can be configured from the management CLI from the <code class="literal">/subsystem=jca</code> address. In a managed domain, you must precede the command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
						</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in the tables in the following sections are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-jca_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><h4 id="archive_validation">Archive Validation</h4><p>
				This determines whether archive validation will be performed on the deployment units. The following table describes the attributes you can set for archive validation.
			</p><div class="table" id="idm140321721611376"><p class="title"><strong>Table 16.1. Archive Validation Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 60%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321726032864" scope="col">Attribute</th><th align="left" valign="top" id="idm140321726031776" scope="col">Default Value</th><th align="left" valign="top" id="idm140321726030688" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321726032864"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321726031776"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321726030688"> <p>
								Specifies whether archive validation is enabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321726032864"> <p>
								fail-on-error
							</p>
							 </td><td align="left" valign="top" headers="idm140321726031776"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321726030688"> <p>
								Specifies whether an archive validation error report fails the deployment.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321726032864"> <p>
								fail-on-warn
							</p>
							 </td><td align="left" valign="top" headers="idm140321726031776"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321726030688"> <p>
								Specifies whether an archive validation warning report fails the deployment.
							</p>
							 </td></tr></tbody></table></div></div><p>
				If an archive does not implement the JCA specification correctly and archive validation is enabled, an error message will display during deployment describing the problem. For example:
			</p><pre class="screen">Severity: ERROR
Section: 19.4.2
Description: A ResourceAdapter must implement a "public int hashCode()" method.
Code: com.mycompany.myproject.ResourceAdapterImpl

Severity: ERROR
Section: 19.4.2
Description: A ResourceAdapter must implement a "public boolean equals(Object)" method.
Code: com.mycompany.myproject.ResourceAdapterImpl</pre><p>
				If archive validation is not specified, it is considered present and the <code class="literal">enabled</code> attribute defaults to <code class="literal">true</code>.
			</p><h4 id="bean_validation">Bean Validation</h4><p>
				This setting determines whether bean validation, defined in <a class="link mimir-link-warn" href="https://jcp.org/en/jsr/detail?id=303" title="Mimir does not include content from: jcp.org">JSR-303</a>, will be performed on the deployment units. The following table describes the attributes you can set for bean validation.
			</p><div class="table" id="idm140321723182320"><p class="title"><strong>Table 16.2. Bean Validation Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 60%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321725018160" scope="col">Attribute</th><th align="left" valign="top" id="idm140321725017072" scope="col">Default Value</th><th align="left" valign="top" id="idm140321725015984" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321725018160"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321725017072"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321725015984"> <p>
								Specifies whether bean validation is enabled.
							</p>
							 </td></tr></tbody></table></div></div><p>
				If bean validation is not specified, it is considered present and the <code class="literal">enabled</code> attribute defaults to <code class="literal">true</code>.
			</p><h4 id="work_managers">Work Managers</h4><p>
				There are two types of work managers:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Default work manager</span></dt><dd>
							The default work manager and its thread pools.
						</dd><dt><span class="term">Custom work manager</span></dt><dd>
							A custom work manager definition and its thread pools.
						</dd></dl></div><p>
				The following table describes the attributes you can set for work managers.
			</p><div class="table" id="idm140321720789120"><p class="title"><strong>Table 16.3. Work Manager Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321721846080" scope="col">Attribute</th><th align="left" valign="top" id="idm140321721844992" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321721846080"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321721844992"> <p>
								Specifies the name of the work manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321721846080"> <p>
								elytron-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321721844992"> <p>
								This attribute enables Elytron security for the <code class="literal">workmanager</code>.
							</p>
							 </td></tr></tbody></table></div></div><p>
				A work manager also has the following child elements.
			</p><div class="table" id="idm140321692391840"><p class="title"><strong>Table 16.4. Work Manager Child Elements</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321737065168" scope="col">Child Element</th><th align="left" valign="top" id="idm140321737064080" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321737065168"> <p>
								short-running-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321737064080"> <p>
								Thread pool for standard Work instances. Each work manager has one short-running thread pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321737065168"> <p>
								long-running-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321737064080"> <p>
								Thread pool for JCA 1.7 Work instances that set the <code class="literal">LONG_RUNNING</code> hint. Each work manager can have one optional long-running thread pool.
							</p>
							 </td></tr></tbody></table></div></div><p>
				The following table describes the attributes you can set for work manager thread pools.
			</p><div class="table" id="idm140321724968656"><p class="title"><strong>Table 16.5. Thread Pool Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695687232" scope="col">Attribute</th><th align="left" valign="top" id="idm140321695686144" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								allow-core-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								Boolean setting that determines whether core threads may time out. The default value is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								core-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								The core thread pool size. This must be equal to or smaller than the maximum thread pool size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								handoff-executor
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								An executor to delegate tasks to in the event that a task cannot be accepted. If not specified, tasks that cannot be accepted will be silently discarded.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								keepalive-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								Specifies the amount of time that pool threads should be kept after doing work.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								max-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								The maximum thread pool size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								Specifies the name of the thread pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								queue-length
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								The maximum queue length.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695687232"> <p>
								thread-factory
							</p>
							 </td><td align="left" valign="top" headers="idm140321695686144"> <p>
								Reference to the thread factory.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="dist_work_managers">Distributed Work Managers</h4><p>
				A distributed work manager is a work manager instance that is able to reschedule work execution on another work manager instance.
			</p><p>
				The following example management CLI commands configure a distributed work manager. Note that you must use a configuration that provides high availability capabilities, such as the <code class="literal">standalone-ha.xml</code> or <code class="literal">standalone-full-ha.xml</code> configuration file for a standalone server.
			</p><div class="formalpara"><p class="title"><strong>Example: Configure a Distributed Work Manager</strong></p><p>
					
<pre class="screen">batch
/subsystem=jca/distributed-workmanager=myDistWorkMgr:add(name=myDistWorkMgr)
/subsystem=jca/distributed-workmanager=myDistWorkMgr/short-running-threads=myDistWorkMgr:add(queue-length=10,max-threads=10)
/subsystem=jca/bootstrap-context=myCustomContext:add(name=myCustomContext,workmanager=myDistWorkMgr)
run-batch</pre>

				</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The name of the <code class="literal">short-running-threads</code> element must be the same as the name of the <code class="literal">distributed-workmanager</code> element.
				</p></div></div><p>
				The following table describes the attributes you can configure for distributed work managers.
			</p><div class="table" id="idm140321721550064"><p class="title"><strong>Table 16.6. Distributed Work Manager Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321721545216" scope="col">Attribute</th><th align="left" valign="top" id="idm140321718399920" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321721545216"> <p>
								elytron-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321718399920"> <p>
								Enables Elytron security for the work manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321721545216"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321718399920"> <p>
								The name of the distributed work manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321721545216"> <p>
								policy
							</p>
							 </td><td align="left" valign="top" headers="idm140321718399920"> <p>
								The policy decides when to redistribute a work instance. Allowed values are:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">NEVER</code> - Never distribute the work instance to another node.
									</li><li class="listitem">
										<code class="literal">ALWAYS</code> - Always distribute the work instance to another node.
									</li><li class="listitem">
										<code class="literal">WATERMARK</code> - Distribute the work instance to another node based on how many free worker threads the current node has available.
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321721545216"> <p>
								policy-options
							</p>
							 </td><td align="left" valign="top" headers="idm140321718399920"> <p>
								List of the policy’s key/value pair options. If you use the <code class="literal">WATERMARK</code> policy, then you can use the <code class="literal">watermark</code> policy option to specify at what number of free threads that work should be distributed. For example:
							</p>
							 
<pre class="screen">/subsystem=jca/distributed-workmanager=myDistWorkMgr:write-attribute(name=policy-options,value={watermark=3})</pre>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321721545216"> <p>
								selector
							</p>
							 </td><td align="left" valign="top" headers="idm140321718399920"> <p>
								The selector decides to which nodes in the network to redistribute the work instance. Allowed values are:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">FIRST_AVAILABLE</code> - Select the first available node in the list.
									</li><li class="listitem">
										<code class="literal">PING_TIME</code> - Select the node with the lowest ping time.
									</li><li class="listitem">
										<code class="literal">MAX_FREE_THREADS</code> - Select the node with highest number of free worker threads.
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321721545216"> <p>
								selector-options
							</p>
							 </td><td align="left" valign="top" headers="idm140321718399920"> <p>
								List of the selector’s key/value pair options.
							</p>
							 </td></tr></tbody></table></div></div><p>
				A distributed work manager also has the following child elements.
			</p><div class="table" id="idm140321725858368"><p class="title"><strong>Table 16.7. Distributed Work Manager Child Elements</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321725853520" scope="col">Child Element</th><th align="left" valign="top" id="idm140321724291984" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321725853520"> <p>
								long-running-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321724291984"> <p>
								The thread pool for work instances that set the <code class="literal">LONG_RUNNING</code> hint. Each distributed work manager can optionally have a long-running thread pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321725853520"> <p>
								short-running-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321724291984"> <p>
								The thread pool for standard work instances. Each distributed work manager must have a short-running thread pool.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="bootstrap_contexts">Bootstrap Contexts</h4><p>
				This is used to define custom bootstrap contexts. The following table describes the attributes you can set for bootstrap contexts.
			</p><div class="table" id="idm140321725437872"><p class="title"><strong>Table 16.8. Bootstrap Context Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321724834016" scope="col">Attribute</th><th align="left" valign="top" id="idm140321724832928" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321724834016"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321724832928"> <p>
								Specifies the name of the bootstrap context.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321724834016"> <p>
								workmanager
							</p>
							 </td><td align="left" valign="top" headers="idm140321724832928"> <p>
								Specifies the name of the work manager to use for this context.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="cached_connection_manager">Cached Connection Manager</h4><p>
				This is used for debugging connections and supporting lazy enlistment of a connection in a transaction, tracking whether they are used and released properly by the application. The following table describes the attributes you can set for the cached connection manager.
			</p><div class="table" id="idm140321717438032"><p class="title"><strong>Table 16.9. Cached Connection Manager Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 60%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321718515008" scope="col">Attribute</th><th align="left" valign="top" id="idm140321718513920" scope="col">Default Value</th><th align="left" valign="top" id="idm140321718512832" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321718515008"> <p>
								debug
							</p>
							 </td><td align="left" valign="top" headers="idm140321718513920"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321718512832"> <p>
								Outputs warning on failure to explicitly close connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321718515008"> <p>
								error
							</p>
							 </td><td align="left" valign="top" headers="idm140321718513920"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321718512832"> <p>
								Throws exception on failure to explicitly close connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321718515008"> <p>
								ignore-unknown-connections
							</p>
							 </td><td align="left" valign="top" headers="idm140321718513920"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321718512832"> <p>
								Specifies that unknown connections will not be cached.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321718515008"> <p>
								install
							</p>
							 </td><td align="left" valign="top" headers="idm140321718513920"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321718512832"> <p>
								Enable or disable the cached connection manager valve and interceptor.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="configuring_resource_adapters"><div class="titlepage"><div><div><h2 class="title">16.4. Configuring Resource Adapters</h2></div></div></div><section class="section" id="deploy_resource_adapter"><div class="titlepage"><div><div><h3 class="title">16.4.1. Deploy a Resource Adapter</h3></div></div></div><p>
					Resource adapters can be deployed just like other deployments using the management CLI or the management console. When running a standalone server, you can also copy the archive to the deployments directory to be picked up by the deployment scanner.
				</p><h5 id="deploy_a_resource_adapter_using_the_management_cli">Deploy a Resource Adapter using the Management CLI</h5><p>
					To deploy the resource adapter to a standalone server, enter the following management CLI command.
				</p><pre class="screen">deploy <span class="emphasis"><em>/path/to</em></span>/resource-adapter.rar</pre><p>
					To deploy the resource adapter to all server groups in a managed domain, enter the following management CLI command.
				</p><pre class="screen">deploy <span class="emphasis"><em>/path/to</em></span>/resource-adapter.rar --all-server-groups</pre><h5 id="deploy_a_resource_adapter_using_the_management_console">Deploy a Resource Adapter using the Management Console</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Log in to the management console and click on the <span class="strong strong"><strong>Deployments</strong></span> tab.
						</li><li class="listitem">
							Click the Add (<span class="strong strong"><strong>+</strong></span>) button. In a managed domain, you will first need to select <span class="strong strong"><strong>Content Repository</strong></span>.
						</li><li class="listitem">
							Choose the <span class="strong strong"><strong>Upload Deployment</strong></span> option.
						</li><li class="listitem">
							Browse to the resource adapter archive and click <span class="strong strong"><strong>Next</strong></span>.
						</li><li class="listitem">
							Verify the upload, then click <span class="strong strong"><strong>Finish</strong></span>.
						</li><li class="listitem">
							In a managed domain, deploy the deployment to the appropriate server groups and enable the deployment.
						</li></ol></div><h5 id="deploy_a_resource_adapter_using_the_deployment_scanner">Deploy a Resource Adapter Using the Deployment Scanner</h5><p>
					To deploy a resource adapter manually to a standalone server, copy the resource adapter archive to the server deployments directory, for example, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments/</code>. This will be picked up and deployed by the deployment scanner.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						This option is not available for managed domains. You must use either the management console or the management CLI to deploy the resource adapter to server groups.
					</p></div></div></section><section class="section" id="configure_resource_adapater"><div class="titlepage"><div><div><h3 class="title">16.4.2. Configure a Resource Adapter</h3></div></div></div><p>
					You can configure resource adapters using the management interfaces. The below example shows how to configure a resource adapter using the management CLI. See your resource adapter vendor’s documentation for supported properties and other important information.
				</p><h5 id="add_the_resource_adapter_configuration">Add the Resource Adapter Configuration</h5><p>
					Add the resource adapter configuration.
				</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar:add(archive=eis.rar, transaction-support=XATransaction)</pre><h5 id="configure_the_resource_adapter_settings">Configure the Resource Adapter Settings</h5><p>
					Configure any of the following settings as necessary.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Configure <code class="literal">config-properties</code>.
						</p><p class="simpara">
							Add the <code class="literal">server</code> configuration property.
						</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar/config-properties=server:add(value=localhost)</pre><p class="simpara">
							Add the <code class="literal">port</code> configuration property.
						</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar/config-properties=port:add(value=9000)</pre></li><li class="listitem"><p class="simpara">
							Configure <code class="literal">admin-objects</code>.
						</p><p class="simpara">
							Add an admin object.
						</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar/admin-objects=aoName:add(class-name=com.acme.eis.ra.EISAdminObjectImpl, jndi-name=java:/eis/AcmeAdminObject)</pre><p class="simpara">
							Configure an admin object configuration property.
						</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar/admin-objects=aoName/config-properties=threshold:add(value=10)</pre></li><li class="listitem"><p class="simpara">
							Configure <code class="literal">connection-definitions</code>.
						</p><p class="simpara">
							Add a connection definition for a managed connection factory.
						</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar/connection-definitions=cfName:add(class-name=com.acme.eis.ra.EISManagedConnectionFactory, jndi-name=java:/eis/AcmeConnectionFactory)</pre><p class="simpara">
							Configure a managed connection factory configuration property.
						</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar/connection-definitions=cfName/config-properties=name:add(value=Acme Inc)</pre><p class="simpara">
							Configure whether to record the enlistment trace. You can enable the recording of enlistment traces by setting the <code class="literal">enlistment-trace</code> attribute to <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar/connection-definitions=cfName:write-attribute(name=enlistment-trace,value=true)</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								Enabling enlistment tracing makes tracking down errors during transaction enlistment easier, but comes with a performance impact.
							</p></div></div></li></ul></div><p>
					See <a class="link" href="#resource_adapter_attributes" title="A.25. Resource Adapter Attributes">Resource Adapter Attributes</a> for all available configuration options for resource adapters.
				</p><h5 id="activate_the_resource_adapter">Activate the Resource Adapter</h5><p>
					Activate the resource adapter.
				</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=eis.rar:activate</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You can also define capacity policies for resource adapters. For more details, see the <a class="link" href="#jca-capacity-policies" title="12.13. Capacity Policies">Capacity Policies</a> section.
					</p></div></div></section><section class="section" id="configure_resource_adapters_with_elytron"><div class="titlepage"><div><div><h3 class="title">16.4.3. Configure Resource Adapters to Use the Elytron Subsystem</h3></div></div></div><p>
					Two types of communications occur between the server and the resource adapter in IronJacamar.
				</p><p>
					One of them is when the server opens a resource adapter connection. As defined by the specifications, this can be secured by container-managed sign-on, which requires propagation of a JAAS subject with principal and credentials to the resource adapter when opening the connection. This sign-on can be delegated to Elytron.
				</p><p>
					IronJacamar supports security inflow. This mechanism enables a resource adapter to establish security information when submitting a work to the work manager, and when delivering messages to endpoints residing in the same JBoss EAP instance.
				</p><h5 id="container_managed_sign_on">Container-managed Sign-On</h5><p>
					In order to achieve container-managed sign-on with Elytron, the <code class="literal">elytron-enabled</code> attribute needs to be set to <code class="literal">true</code>. This will result in all connections to the resource adapter to be secured by Elytron.
				</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=<span class="emphasis"><em>RAR_NAME</em></span>/connection-definitions=<span class="emphasis"><em>FACTORY_NAME</em></span>:write-attribute(name=elytron-enabled,value=true)</pre><p>
					The <code class="literal">elytron-enabled</code> attribute can be configured using the management CLI by setting the <code class="literal">elytron-enabled</code> attribute, in the <code class="literal">resource-adapters</code> subsystems, to <code class="literal">true</code>. By default this attribute is set to <code class="literal">false</code>.
				</p><p>
					The <code class="literal">authentication-context</code> attribute defines the name of the Elytron authentication context that will be used for performing sign-on.
				</p><p>
					An Elytron <code class="literal">authentication-context</code> attribute can contain one or more <code class="literal">authentication-configuration</code> elements, which in turn contains the credentials you want to use.
				</p><p>
					If the <code class="literal">authentication-context</code> attribute is not set, JBoss EAP will use the current <code class="literal">authentication-context</code>, which is the <code class="literal">authentication-context</code> used by the caller code that is opening the connection.
				</p><div class="formalpara"><p class="title"><strong>Example: Creating an <code class="literal">authentication-configuration</code></strong></p><p>
						
<pre class="screen">/subsystem=elytron/authentication-configuration=exampleAuthConfig:add(authentication-name=sa,credential-reference={clear-text=sa})</pre>

					</p></div><div class="formalpara"><p class="title"><strong>Example: Creating the <code class="literal">authentication-context</code> Using the above Configuration</strong></p><p>
						
<pre class="screen">/subsystem=elytron/authentication-context=exampleAuthContext:add(match-rules=[{authentication-configuration=exampleAuthConfig}])</pre>

					</p></div><h5 id="security-inflow">Security Inflow</h5><p>
					It is also possible for the resource manager to inflow security credentials when submitting the work which is to be executed by the work manager. Security inflow allows the work to authenticate itself before execution. If authentication succeeds, the submitted work will be executed under the resulting authentication context. If it fails, the work execution will be rejected.
				</p><p>
					To enable Elytron security inflow, set the <code class="literal">wm-elytron-security-domain</code> attribute when configuring the resource adapter work manager. Elytron will perform the authentication based on the specified domain.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When the resource adapter work manager is configured to use the Elytron security domain, <code class="literal">wm-elytron-security-domain</code>, the referenced work manager should have the <code class="literal">elytron-enabled</code> attribute set to <code class="literal">true</code>.
					</p><pre class="screen">/subsystem=jca/workmanager=customWM:add(name=customWM, elytron-enabled=true)</pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If instead of <code class="literal">wm-elytron-security-domain</code> the <code class="literal">wm-security-domain</code> attribute is used, the security inflow will be performed by the legacy <code class="literal">security</code> subsystem.
					</p></div></div><p>
					In the example configuration of <code class="literal">jca</code> subsystem below, we can see the configuration of a resource adapter called <code class="literal">ra-with-elytron-security-domain</code>. This resource adapter configures work manager security to use the Elytron security domain’s <code class="literal">wm-realm</code>.
				</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:jca:5.0"&gt;
    &lt;archive-validation enabled="true" fail-on-error="true" fail-on-warn="false"/&gt;
    &lt;bean-validation enabled="true"/&gt;
    &lt;default-workmanager&gt;
        &lt;short-running-threads&gt;
            &lt;core-threads count="50"/&gt;
            &lt;queue-length count="50"/&gt;
            &lt;max-threads count="50"/&gt;
            &lt;keepalive-time time="10" unit="seconds"/&gt;
        &lt;/short-running-threads&gt;
        &lt;long-running-threads&gt;
            &lt;core-threads count="50"/&gt;
            &lt;queue-length count="50"/&gt;
            &lt;max-threads count="50"/&gt;
            &lt;keepalive-time time="10" unit="seconds"/&gt;
        &lt;/long-running-threads&gt;
    &lt;/default-workmanager&gt;
    &lt;workmanager name="customWM"&gt;
        &lt;elytron-enabled&gt;true&lt;/elytron-enabled&gt;
        &lt;short-running-threads&gt;
            &lt;core-threads count="20"/&gt;
            &lt;queue-length count="20"/&gt;
            &lt;max-threads count="20"/&gt;
        &lt;/short-running-threads&gt;
    &lt;/workmanager&gt;
    &lt;bootstrap-contexts&gt;
        &lt;bootstrap-context name="customContext" workmanager="customWM"/&gt;
    &lt;/bootstrap-contexts&gt;
    &lt;cached-connection-manager/&gt;
&lt;/subsystem&gt;</pre><p>
					The work manager is then referenced using the boostrap context from the <code class="literal">resource-adapter</code> subsystem.
				</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:resource-adapters:5.0"&gt;
    &lt;resource-adapters&gt;
        &lt;resource-adapter id="ra-with-elytron-security-domain"&gt;
            &lt;archive&gt;
                ra-with-elytron-security-domain.rar
            &lt;/archive&gt;
            &lt;bootstrap-context&gt;customContext&lt;/bootstrap-context&gt;
            &lt;transaction-support&gt;NoTransaction&lt;/transaction-support&gt;
            &lt;workmanager&gt;
                &lt;security&gt;
                    &lt;elytron-security-domain&gt;wm-realm&lt;/elytron-security-domain&gt;
                    &lt;default-principal&gt;wm-default-principal&lt;/default-principal&gt;
                    &lt;default-groups&gt;
                        &lt;group&gt;
                            wm-default-group
                        &lt;/group&gt;
                    &lt;/default-groups&gt;
                &lt;/security&gt;
            &lt;/workmanager&gt;
        &lt;/resource-adapter&gt;
    &lt;/resource-adapters&gt;
&lt;/subsystem&gt;</pre><div class="formalpara"><p class="title"><strong>Example: Configuration of the Security Domain</strong></p><p>
						
<pre class="screen">/subsystem=elytron/properties-realm=wm-properties-realm:add(users-properties={path=/security-dir/users.properties, plain-text=true}, groups-properties={path=/security-dir/groups.properties})

/subsystem=elytron/simple-role-decoder=wm-role-decoder:add(attribute=groups)

/subsystem=elytron/constant-permission-mapper=wm-permission-mapper:add(permissions=[{class-name="org.wildfly.security.auth.permission.LoginPermission"}])

/subsystem=elytron/security-domain=wm-realm:add(default-realm=wm-properties-realm, permission-mapper=wm-permission-mapper, realms=[{role-decoder=wm-role-decoder, realm=wm-properties-realm}])</pre>

					</p></div><p>
					The <code class="literal">Work</code> class is responsible for providing the credentials for Elytron’s authentication under the specified domain. For that, it must implement <code class="literal">javax.resource.spi.work.WorkContextProvider</code>.
				</p><pre class="programlisting language-java">public interface WorkContextProvider {
   /**
    * Gets an instance of &lt;code&gt;WorkContexts&lt;/code&gt; that needs to be used
    * by the &lt;code&gt;WorkManager&lt;/code&gt; to set up the execution context while
    * executing a &lt;code&gt;Work&lt;/code&gt; instance.
    *
    * @return an &lt;code&gt;List&lt;/code&gt; of &lt;code&gt;WorkContext&lt;/code&gt; instances.
    */
   List&lt;WorkContext&gt; getWorkContexts();
}</pre><p>
					This interface allows the <code class="literal">Work</code> class to use the <code class="literal">WorkContext</code> to configure some aspects of the context in which the work will be executed. One of those aspects is the security inflow. For that, the <code class="literal">List&lt;WorkContext&gt; getWorkContexts</code> method must provide a <code class="literal">javax.resource.spi.work.SecurityContext</code>. This context will use <code class="literal">javax.security.auth.callback.Callback</code> objects as defined in the <a class="link mimir-link-warn" href="https://www.jcp.org/en/jsr/detail?id=196" title="Mimir does not include content from: www.jcp.org">JSR-196 specification</a> to provide the credentials.
				</p><div class="formalpara"><p class="title"><strong>Example: Creation of Callbacks Using Context</strong></p><p>
						
<pre class="programlisting language-java">public class ExampleWork implements Work, WorkContextProvider {

    private final String username;
    private final String role;

    public MyWork(TestBean bean, String username, String role) {
        this.principals = null;
        this.roles = null;
        this.bean = bean;
        this.username = username;
        this.role = role;
    }

    public List&lt;WorkContext&gt; getWorkContexts() {
        List&lt;WorkContext&gt; l = new ArrayList&lt;&gt;(1);
        l.add(new MySecurityContext(username, role));
        return l;
    }

    public void run() {
        ...
    }

    public void release() {
        ...
    }

    public class ExampleSecurityContext extends SecurityContext {

        public void setupSecurityContext(CallbackHandler handler, Subject executionSubject, Subject serviceSubject) {
            try {
                List&lt;javax.security.auth.callback.Callback&gt; cbs = new ArrayList&lt;&gt;();
                cbs.add(new CallerPrincipalCallback(executionSubject, new SimplePrincipal(username)));
                cbs.add(new GroupPrincipalCallback(executionSubject, new String[]{role}));
                handler.handle(cbs.toArray(new javax.security.auth.callback.Callback[cbs.size()]));
            } catch (Throwable t) {
                throw new RuntimeException(t);
            }
        }
    }</pre>

					</p></div><p>
					In the above example, <code class="literal">ExampleWork</code> implements the <code class="literal">WorkContextProvider</code> interface to provide <code class="literal">ExampleSecurityContext</code>. That context will create the callbacks necessary to provide the security information that will be authenticated by Elytron upon work execution.
				</p></section><section class="section" id="deploy_configure_ibm_mq_resource_adapter"><div class="titlepage"><div><div><h3 class="title">16.4.4. Deploy and Configure the IBM MQ Resource Adapter</h3></div></div></div><p>
					You can find the instructions for <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/configuring_messaging/#deploy_the_ibm_mq_resource_adapter" title="This content is not included in Mimir.">deploying the IBM MQ resource adapter</a> in <span class="emphasis"><em>Configuring Messaging</em></span> for JBoss EAP.
				</p></section><section class="section" id="deploy_configure_generic_resource_adapter"><div class="titlepage"><div><div><h3 class="title">16.4.5. Deploy and Configure the Generic JMS Resource Adapter</h3></div></div></div><p>
					You can find the instructions for <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/configuring_messaging/#deploy_configure_generic_jms_resource_adapter" title="This content is not included in Mimir.">configuring the generic JMS resource adapter</a> in <span class="emphasis"><em>Configuring Messaging</em></span> for JBoss EAP.
				</p></section></section><section class="section" id="configure_managed_connection_pools"><div class="titlepage"><div><div><h2 class="title">16.5. Configure Managed Connection Pools</h2></div></div></div><p>
				JBoss EAP provides three implementations of the <code class="literal">ManagedConnectionPool</code> interface.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedQueueManagedConnectionPool</code></span></dt><dd>
							This is the default connection pool in JBoss EAP 7 and provides the best out-of-the-box performance.
						</dd><dt><span class="term"><code class="literal">org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool</code></span></dt><dd>
							This was the default connection pool in previous JBoss EAP versions.
						</dd><dt><span class="term"><code class="literal">org.jboss.jca.core.connectionmanager.pool.mcp.LeakDumperManagedConnectionPool</code></span></dt><dd>
							This connection pool is used for debugging purposes only and will report any leaks upon shutdown or when the pool is flushed.
						</dd></dl></div><p>
				You can set the managed connection pool implementation for a datasource using the following management CLI command.
			</p><pre class="screen">/subsystem=datasources/data-source=<span class="emphasis"><em>DATA_SOURCE</em></span>:write-attribute(name=mcp,value=<span class="emphasis"><em>MCP_CLASS</em></span>)</pre><p>
				You can set the managed connection pool implementation for a resource adapter using the following management CLI command.
			</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=<span class="emphasis"><em>RESOURCE_ADAPTER</em></span>/connection-definitions=<span class="emphasis"><em>CONNECTION_DEFINITION</em></span>:write-attribute(name=mcp,value=<span class="emphasis"><em>MCP_CLASS</em></span>)</pre><p>
				You can set the managed connection pool implementation for a messaging server using the following management CLI command.
			</p><pre class="screen">/subsystem=messaging-activemq/server=<span class="emphasis"><em>SERVER</em></span>/pooled-connection-factory=<span class="emphasis"><em>CONNECTION_FACTORY</em></span>:write-attribute(name=managed-connection-pool,value=<span class="emphasis"><em>MCP_CLASS</em></span>)</pre></section><section class="section" id="view_defined_connection_stats"><div class="titlepage"><div><div><h2 class="title">16.6. View Connection Statistics</h2></div></div></div><p>
				You can read statistics for a defined connection from the <code class="literal">/deployment=<span class="emphasis"><em>NAME</em></span>.rar</code> subtree. This is so that you can access statistics for any RAR, even if it not defined in a <code class="literal">standalone.xml</code> or <code class="literal">domain.xml</code> configuration.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>NAME</em></span>.rar/subsystem=resource-adapters/statistics=statistics/connection-definitions=java\:\/testMe:read-resource(include-runtime=true)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to specify the <code class="literal">include-runtime=true</code> argument, as all statistics are runtime-only information.
				</p></div></div><p>
				See <a class="link" href="#resource_adapter_statistics" title="A.26. Resource Adapter Statistics">Resource Adapter Statistics</a> for information on the available statistics.
			</p></section><section class="section" id="flushing_resource_adapter_connections"><div class="titlepage"><div><div><h2 class="title">16.7. Flushing Resource Adapter Connections</h2></div></div></div><p>
				You can flush resource adapter connections using the following management CLI commands.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In a managed domain, you must precede these commands with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span></code>.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Flush all connections in the pool.
					</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=<span class="emphasis"><em>RESOURCE_ADAPTER</em></span>/connection-definitions=<span class="emphasis"><em>CONNECTION_DEFINITION</em></span>:flush-all-connection-in-pool</pre></li><li class="listitem"><p class="simpara">
						Gracefully flush all connections in the pool.
					</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=<span class="emphasis"><em>RESOURCE_ADAPTER</em></span>/connection-definitions=<span class="emphasis"><em>CONNECTION_DEFINITION</em></span>:flush-gracefully-connection-in-pool</pre><p class="simpara">
						The server will wait until connections become idle before flushing them.
					</p></li><li class="listitem"><p class="simpara">
						Flush all idle connections in the pool.
					</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=<span class="emphasis"><em>RESOURCE_ADAPTER</em></span>/connection-definitions=<span class="emphasis"><em>CONNECTION_DEFINITION</em></span>:flush-idle-connection-in-pool</pre></li><li class="listitem"><p class="simpara">
						Flush all invalid connections in the pool.
					</p><pre class="screen">/subsystem=resource-adapters/resource-adapter=<span class="emphasis"><em>RESOURCE_ADAPTER</em></span>/connection-definitions=<span class="emphasis"><em>CONNECTION_DEFINITION</em></span>:flush-invalid-connection-in-pool</pre><p class="simpara">
						The server will flush all connections that it determines to be invalid.
					</p></li></ul></div></section><section class="section" id="tuning_resource_adapters_subsystem"><div class="titlepage"><div><div><h2 class="title">16.8. Tuning the Resource Adapters Subsystem</h2></div></div></div><p>
				For tips on monitoring and optimizing performance for the <code class="literal">resource-adapters</code> subsystem, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#datasource_and_resource_adapter_tuning" title="This content is not included in Mimir.">Datasource and Resource Adapter Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></section></section><section class="chapter" id="configuring_the_web_server_undertow"><div class="titlepage"><div><div><h1 class="title">Chapter 17. Configuring the Web Server (Undertow)</h1></div></div></div><section class="section" id="undertow_subsystem_overview"><div class="titlepage"><div><div><h2 class="title">17.1. Undertow Subsystem Overview</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					In JBoss EAP 7, the <code class="literal">undertow</code> subsystem takes the place of the <code class="literal">web</code> subsystem from JBoss EAP 6.
				</p></div></div><p>
				The <code class="literal">undertow</code> subsystem allows you to configure the web server and servlet container settings. It implements the <a class="link mimir-link-warn" href="https://jcp.org/en/jsr/detail?id=369" title="Mimir does not include content from: jcp.org">Java Servlet 4.0 Specification</a> as well as websockets. It also supports HTTP upgrade and using high performance non-blocking handlers in servlet deployments. The <code class="literal">undertow</code> subsystem also has the ability to act as a high performance reverse proxy which supports mod_cluster.
			</p><p>
				Within the <code class="literal">undertow</code> subsystem, there are five main components to configure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#undertow-configure-buffer-caches" title="17.2. Configuring Buffer Caches">buffer caches</a>
					</li><li class="listitem">
						<a class="link" href="#undertow-configure-server" title="17.4. Configuring a Server">server</a>
					</li><li class="listitem">
						<a class="link" href="#undertow-configure-servlet-container" title="17.5. Configuring a Servlet Container">servlet container</a>
					</li><li class="listitem">
						<a class="link" href="#undertow-configure-handlers" title="17.7. Configuring Handlers">handlers</a>
					</li><li class="listitem">
						<a class="link" href="#undertow-configure-filters" title="17.8. Configuring Filters">filters</a>
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					While JBoss EAP does offer the ability to update the configuration for each of these components, the default configuration is suitable for most use cases and provides reasonable performance settings.
				</p></div></div><h4 id="default_undertow_subsystem_configuration">Default Undertow Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0" default-server="default-server" default-virtual-host="default-host" default-servlet-container="default" default-security-domain="other"&gt;
    &lt;buffer-cache name="default"/&gt;
    &lt;server name="default-server"&gt;
        &lt;http-listener name="default" socket-binding="http" redirect-socket="https" enable-http2="true"/&gt;
        &lt;https-listener name="https" socket-binding="https" security-realm="ApplicationRealm" enable-http2="true"/&gt;
        &lt;host name="default-host" alias="localhost"&gt;
            &lt;location name="/" handler="welcome-content"/&gt;
            &lt;http-invoker security-realm="ApplicationRealm"/&gt;
        &lt;/host&gt;
    &lt;/server&gt;
    &lt;servlet-container name="default"&gt;
        &lt;jsp-config/&gt;
        &lt;websockets/&gt;
    &lt;/servlet-container&gt;
    &lt;handlers&gt;
        &lt;file name="welcome-content" path="${jboss.home.dir}/welcome-content"/&gt;
    &lt;/handlers&gt;
&lt;/subsystem&gt;</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The <code class="literal">undertow</code> subsystem also relies on the <code class="literal">io</code> subsystem to provide XNIO workers and buffer pools. The <code class="literal">io</code> subsystem is configured separately and provides a default configuration which should give optimal performance in most cases.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Compared to the <code class="literal">web</code> subsystem in JBoss EAP 6, the <code class="literal">undertow</code> subsystem in JBoss EAP 7 has different <a class="link" href="#default_behavior_http_methods" title="A.29. Default Behavior of HTTP Methods">default behaviors of HTTP methods</a>.
				</p></div></div><h3 id="using_elytron_with_undertow">Using Elytron with Undertow Subsystem</h3><p>
				As a web application is deployed, the name of the security domain required by that application will be identified. This will either be from within the deployment or if the deployment does not have a security domain, the <code class="literal">default-security-domain</code> as defined on the <code class="literal">undertow</code> subsystem will be assumed. By default it is assumed that the security domain maps to a <code class="literal">PicketBox</code> defined in the legacy security subsystem. However, an <code class="literal">application-security-domain</code> resource can be added to the <code class="literal">undertow</code> subsystem which maps from the name of the security domain required by the application to the appropriate Elytron configuration.
			</p><div class="formalpara"><p class="title"><strong>Example: Adding a Mapping.</strong></p><p>
					
<pre class="screen">/subsystem=undertow/application-security-domain=MyAppSecurity:add(security-domain=ApplicationDomain)</pre>

				</p></div><div class="formalpara"><p class="title"><strong>The addition of mapping is successful if the result is:</strong></p><p>
					
<pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0" ... default-security-domain="other"&gt;
...
    &lt;application-security-domains&gt;
        &lt;application-security-domain name="MyAppSecurity" security-domain="ApplicationDomain"/&gt;
    &lt;/application-security-domains&gt;
...
&lt;/subsystem&gt;</pre>

				</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If the deployment was already deployed at this point, the application server should be reloaded for the application security domain mapping to take effect.
				</p></div></div><p>
				This simple form is suitable where a deployment is using the standard HTTP mechanism as defined within the Servlet specification like <code class="literal">BASIC</code>, <code class="literal">CLIENT_CERT</code>, <code class="literal">DIGEST</code>, <code class="literal">FORM</code>. Here, the authentication will be performed against the <code class="literal">ApplicationDomain</code> security domain. This form is also suitable where an application is not using any authentication mechanism and instead is using programmatic authentication or is trying to obtain the <code class="literal">SecurityDomain</code> associated with the deployment and use it directly.
			</p><div class="formalpara"><p class="title"><strong>Example: Advanced Form of the Mapping:</strong></p><p>
					
<pre class="screen">/subsystem=undertow/application-security-domain=MyAppSecurity:add(http-authentication-factory=application-http-authentication)</pre>

				</p></div><div class="formalpara"><p class="title"><strong>The advanced mapping is successful if the result is:</strong></p><p>
					
<pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0" ... default-security-domain="other"&gt;
...
    &lt;application-security-domains&gt;
        &lt;application-security-domain name="MyAppSecurity" http-authentication-factory="application-http-authentication"/&gt;
    &lt;/application-security-domains&gt;
...
&lt;/subsystem&gt;</pre>

				</p></div><p>
				In this form of the configuration, instead of referencing a security domain, an <code class="literal">http-authentication-factory</code> is referenced. This is the factory that will be used to obtain the instances of the authentication mechanisms and is in turn associated with the security domain.
			</p><p>
				You should reference an <code class="literal">http-authentication-factory</code> attribute when using custom HTTP authentication mechanisms or where additional configuration must be defined for mechanisms such as principal transformers, credential factories, and mechanism realms. It is also better to reference an <code class="literal">http-authentication-factory</code> attribute when using mechanisms other than the four described in the <code class="literal">Servlet</code> specification.
			</p><p>
				When the advanced form of mapping is used, another configuration option is available, <code class="literal">override-deployment-config</code>. The referenced <code class="literal">http-authentication-factory</code> can return a complete set of authentication mechanisms. By default, these are filtered to just match the mechanisms requested by the application. If this option is set to <code class="literal">true</code>, then the mechanisms offered by the factory will override the mechanisms requested by the application.
			</p><p>
				The <code class="literal">application-security-domain</code> resource also has one additional option <code class="literal">enable-jacc</code>. If this is set to <code class="literal">true</code>, JACC will be enabled for any deployments matching this mapping.
			</p><h4 id="runtime_information">Runtime Information</h4><p>
				Where an <code class="literal">application-security-domain</code> mapping is in use, it can be useful to double check that deployments did match against it as expected. If the resource is read with <code class="literal">include-runtime=true</code>, the deployments that are associated with the mapping will also be shown as:
			</p><pre class="screen">/subsystem=undertow/application-security-domain=MyAppSecurity:read-resource(include-runtime=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "enable-jacc" =&gt; false,
        "http-authentication-factory" =&gt; undefined,
        "override-deployment-config" =&gt; false,
        "referencing-deployments" =&gt; ["simple-webapp.war"],
        "security-domain" =&gt; "ApplicationDomain",
        "setting" =&gt; undefined
    }
}</pre><p>
				In this output, the <code class="literal">referencing-deployments</code> attribute shows that the deployment <code class="literal">simple-webapp.war</code> has been deployed using the mapping.
			</p></section><section class="section" id="undertow-configure-buffer-caches"><div class="titlepage"><div><div><h2 class="title">17.2. Configuring Buffer Caches</h2></div></div></div><p>
				The buffer cache is used to cache static resources. JBoss EAP enables multiple caches to be configured and referenced by deployments, allowing different deployments to use different cache sizes. Buffers are allocated in regions and are a fixed size. The total amount of space used can be calculated by multiplying the buffer size by the number of buffers per region by the maximum number of regions. The default size of a buffer cache is 10MB.
			</p><p>
				JBoss EAP provides a single cache by default:
			</p><h4 id="default_undertow_subsystem_configuration_2">Default Undertow Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0" default-server="default-server" default-virtual-host="default-host" default-servlet-container="default" default-security-domain="other"&gt;
    &lt;buffer-cache name="default"/&gt;
    ...
&lt;/subsystem&gt;</pre><h4 id="updating_an_existing_buffer_cache">Updating an Existing Buffer Cache</h4><p>
				To update an existing buffer cache:
			</p><pre class="screen">/subsystem=undertow/buffer-cache=default/:write-attribute(name=buffer-size,value=2048)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_buffer_cache">Creating a New Buffer Cache</h4><p>
				To create a new buffer cache:
			</p><pre class="screen">/subsystem=undertow/buffer-cache=new-buffer:add</pre><h4 id="deleting_a_buffer_cache">Deleting a Buffer Cache</h4><p>
				To delete a buffer cache:
			</p><pre class="screen">/subsystem=undertow/buffer-cache=new-buffer:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring buffer caches, please see the <a class="link" href="#undertow-attribute-refs" title="A.27. Undertow Subsystem Attributes">Undertow Subsystem Attributes</a> section.
			</p></section><section class="section" id="configure_undertow_buffer_pools"><div class="titlepage"><div><div><h2 class="title">17.3. Configuring Byte Buffer Pools</h2></div></div></div><p>
				Undertow byte buffer pools are used to allocate pooled NIO <code class="literal">ByteBuffer</code> instances. All listeners have a byte buffer pool and you can use different buffer pools and workers for each listener. Byte buffer pools can be shared between different server instances.
			</p><p>
				These buffers are used for IO operations, and the buffer size has a big impact on application performance. For most servers, the ideal size is usually 16k.
			</p><h4 id="updating_an_existing_byte_buffer_pool">Updating an Existing Byte Buffer Pool</h4><p>
				To update an existing byte buffer pool:
			</p><pre class="screen">/subsystem=undertow/byte-buffer-pool=myByteBufferPool:write-attribute(name=buffer-size,value=1024)</pre><pre class="screen">reload</pre><h4 id="creating_an_byte_buffer_pool">Creating an Byte Buffer Pool</h4><p>
				To create a new byte buffer pool:
			</p><pre class="screen">/subsystem=undertow/byte-buffer-pool=newByteBufferPool:add</pre><h4 id="deleting_a_byte_buffer_pool">Deleting a Byte Buffer Pool</h4><p>
				To delete a byte buffer pool:
			</p><pre class="screen">/subsystem=undertow/byte-buffer-pool=newByteBufferPool:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring byte buffer pools, see the <a class="link" href="#byte_buffer_pool_attributes" title="Byte Buffer Pool Attributes">Byte Buffer Pool Attributes</a> reference.
			</p></section><section class="section" id="undertow-configure-server"><div class="titlepage"><div><div><h2 class="title">17.4. Configuring a Server</h2></div></div></div><p>
				A server represents an instance of Undertow and consists of several elements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						host
					</li><li class="listitem">
						http-listener
					</li><li class="listitem">
						https-listener
					</li><li class="listitem">
						ajp-listener
					</li></ul></div><p>
				The host element provides a virtual host configuration, while the three listeners provide connections of that type to the Undertow instance.
			</p><p>
				The default behavior of the server is to queue requests while the server is starting. You can change the default behavior using the <code class="literal">queue-requests-on-start</code> attribute on the host. If this attribute is set to <code class="literal">true</code>, which is the default, then requests that arrive when the server is starting will be held until the server is ready. If this attribute is set to <code class="literal">false</code>, then requests that arrive before the server has completely started will be rejected with the default response code.
			</p><p>
				Regardless of the attribute value, request processing does not start until the server is completely started.
			</p><p>
				You can configure the <code class="literal">queue-requests-on-start</code> attribute using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Web (Undertow)</strong></span> → <span class="strong strong"><strong>Server</strong></span>, selecting the server and clicking <span class="strong strong"><strong>View</strong></span>, and selecting the <span class="strong strong"><strong>Hosts</strong></span> tab. For a managed domain, you must specify which profile to configure.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Multiple servers can be configured, allowing deployments and servers to be completely isolated. This can be useful in certain scenarios such as multi-tenant environments.
				</p></div></div><p>
				JBoss EAP provides a server by default:
			</p><h4 id="default_undertow_subsystem_configuration_3">Default Undertow Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0" default-server="default-server" default-virtual-host="default-host" default-servlet-container="default" default-security-domain="other"&gt;
    &lt;buffer-cache name="default"/&gt;
    &lt;server name="default-server"&gt;
        &lt;http-listener name="default" socket-binding="http" redirect-socket="https" enable-http2="true"/&gt;
        &lt;https-listener name="https" socket-binding="https" security-realm="ApplicationRealm" enable-http2="true"/&gt;
        &lt;host name="default-host" alias="localhost"&gt;
            &lt;location name="/" handler="welcome-content"/&gt;
            &lt;http-invoker security-realm="ApplicationRealm"/&gt;
        &lt;/host&gt;
    &lt;/server&gt;
    ...
&lt;/subsystem&gt;</pre><p>
				The following examples show how to configure a server using the management CLI. You can also configure a server using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Web (Undertow)</strong></span> → <span class="strong strong"><strong>Server</strong></span>.
			</p><h4 id="updating_an_existing_server">Updating an Existing Server</h4><p>
				To update an existing server:
			</p><pre class="screen">/subsystem=undertow/server=default-server:write-attribute(name=default-host,value=default-host)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_server">Creating a New Server</h4><p>
				To create a new server:
			</p><pre class="screen">/subsystem=undertow/server=new-server:add</pre><pre class="screen">reload</pre><h4 id="deleting_a_server">Deleting a Server</h4><p>
				To delete a server:
			</p><pre class="screen">/subsystem=undertow/server=new-server:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring servers, see the <a class="link" href="#undertow-attribute-refs" title="A.27. Undertow Subsystem Attributes">Undertow Subsystem Attributes</a> section.
			</p><section class="section" id="access_logging"><div class="titlepage"><div><div><h3 class="title">17.4.1. Access Logging</h3></div></div></div><p>
					You can configure access logging on each host you define.
				</p><p>
					Two access logging options are available: standard access logging and console access logging.
				</p><p>
					Note that the additional processing required for access logging can affect system performance.
				</p><section class="section" id="standard_access_logging"><div class="titlepage"><div><div><h4 class="title">17.4.1.1. Standard Access Logging</h4></div></div></div><p>
						Standard access logging writes log entries to a log file.
					</p><p>
						By default, the log file is stored in the directory standalone/log/access_log.log.
					</p><p>
						To enable standard access logging, add the access-log setting to the host for which you want to capture access log data. The following CLI command illustrates the configuration on the default host in the default JBoss EAP server:
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=access-log:add</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You must reload the server after enabling standard access logging.
						</p></div></div><p>
						By default, the access log record includes the following data:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Remote host name
							</li><li class="listitem">
								Remote logical user name (always -)
							</li><li class="listitem">
								Remote user that was authenticated
							</li><li class="listitem">
								The date and time of the request, in Common Log Format
							</li><li class="listitem">
								The first line of the request
							</li><li class="listitem">
								The HTTP status code of the response
							</li><li class="listitem">
								The number of bytes sent, excluding HTTP headers
							</li></ul></div><p>
						This set of data is defined as the common pattern. Another pattern, combined, is also available. In addition to the data logged in the common pattern, the combined pattern includes the referer and user agent from the incoming header.
					</p><p>
						You can change the data logged using the <code class="literal">pattern</code> attribute. The following CLI command illustrates updating the <code class="literal">pattern</code> attribute to use the combined pattern:
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=access-log:write-attribute(name=pattern,value="combined"</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You must reload the server after updating the pattern attribute.
						</p></div></div><div class="table" id="idm140321691710064"><p class="title"><strong>Table 17.1. Available patterns</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691705232" scope="col">Pattern</th><th align="left" valign="top" id="idm140321691704144" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%a
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Remote IP address
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%A
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Local IP address
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%b
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Bytes sent, excluding HTTP headers or <code class="literal">-</code> if no bytes were sent
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%B
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Bytes sent, excluding HTTP headers
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%h
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Remote host name
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%H
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Request protocol
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%l
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Remote logical username from <code class="literal">identd</code> (always returns <code class="literal">-</code>; included for Apache access log compatibility)
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%m
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Request method
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%p
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Local port
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%q
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Query string (excluding the <code class="literal">?</code> character)
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%r
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										First line of the request
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%s
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										HTTP status code of the response
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%t
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Date and time, in Common Log Format format
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%u
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Remote user that was authenticated
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%U
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Requested URL path
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%v
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Local server name
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%D
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Time taken to process the request, in milliseconds
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%T
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Time taken to process the request, in seconds
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										%I
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										Current Request thread name (can compare later with stack traces)
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										common
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										<code class="literal">%h %l %u %t "%r" %s %b</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321691705232"> <p>
										combined
									</p>
									 </td><td align="left" valign="top" headers="idm140321691704144"> <p>
										<code class="literal">%h %l %u %t "%r" %s %b "%{i,Referer}" "%{i,User-Agent}"</code>
									</p>
									 </td></tr></tbody></table></div></div><p>
						You can also write information from the cookie, the incoming header and response header, or the session. The syntax is modeled after the Apache syntax:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">%{i,xxx}</code> for incoming headers
							</li><li class="listitem">
								<code class="literal">%{o,xxx}</code> for outgoing response headers
							</li><li class="listitem">
								<code class="literal">%{c,xxx}</code> for a specific cookie
							</li><li class="listitem">
								<code class="literal">%{r,xxx}</code> where <code class="literal">xxx</code> is an attribute in the <code class="literal">ServletRequest</code>
							</li><li class="listitem">
								<code class="literal">%{s,xxx}</code> where <code class="literal">xxx</code> is an attribute in the <code class="literal">HttpSession</code>
							</li></ul></div><p>
						Additional configuration options are available for this log. For more information see "access-log Attributes" in the appendix.
					</p></section><section class="section" id="console_access_logging"><div class="titlepage"><div><div><h4 class="title">17.4.1.2. Console Access Logging</h4></div></div></div><p>
						Console access logging writes data to stdout as structured as JSON data.
					</p><p>
						Each access log record is a single line of data. You can capture this data for processing by log aggregation systems.
					</p><p>
						To configure console access logging, add the console-access-log setting to the host for which you want to capture access log data. The following CLI command illustrates the configuration on the default host in the default JBoss EAP server:
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=console-access-log:add</pre><p>
						By default, the console access log record includes the following data:
					</p><div class="table" id="idm140321746668112"><p class="title"><strong>Table 17.2. Default console access log data</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321746663264" scope="col">Log data field name</th><th align="left" valign="top" id="idm140321746662176" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										eventSource
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The source of the event in the request
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										hostName
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The JBoss EAP host that processed the request
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										bytesSent
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The number of bytes the JBoss EAP server sent in response to the request
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										dateTime
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The date and time that the request was processed by the JBoss EAP server
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										remoteHost
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The IP address of the machine where the request originated
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										remoteUser
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The user name associated with the remote request
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										requestLine
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The request submitted
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321746663264"> <p>
										responseCode
									</p>
									 </td><td align="left" valign="top" headers="idm140321746662176"> <p>
										The HTTP response code returned by the JBoss EAP server
									</p>
									 </td></tr></tbody></table></div></div><p>
						Default properties are always included in the log output. You can use the <code class="literal">attributes</code> attribute to change the labels of the default log data, and in some cases to change the data configuration. You can also use the <code class="literal">attributes</code> attribute to add additional log data to the output.
					</p><div class="table" id="idm140321692113312"><p class="title"><strong>Table 17.3. Available console access log data</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692107536" scope="col">Log data field name</th><th align="left" valign="top" id="idm140321695078048" scope="col">Description</th><th align="left" valign="top" id="idm140321695076960" scope="col">Format</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										authentication-type
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The authentication type used to authenticate the user associated with the request. Default label: authenticationType Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										authentication-type{} authentication-type={key="authType"}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										bytes-sent
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The number of bytes returned for the request, excluding HTTP headers. Default label: bytesSent Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										bytes-sent={} bytes-sent={key="sent-bytes"}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										date-time
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The date and time that the request was received and processed. Default label: dateTime Use the key option to change the label for this property. Use the date-format to define the pattern used to format the date-time record. The pattern must be a Java SimpleDateFormatter pattern. Use the time-zone option to specify the time zone used to format the date and/or time data if the date-format option is defined. This value must be a valid java.util.TimeZone.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										date-time={key="&lt;keyname&gt;", date-format="&lt;date-time format&gt;"} date-time={key="@timestamp", date-format="yyyy-MM-dd’T’HH:mm:ssSSS"}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										host-and-port
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The host and port queried by the request. Default label: hostAndPort Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										host-and-port{} host-and-port={key="port-host"}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										local-ip
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The IP address of the local connection. Use the key option to change the label for this property. Default label: localIp Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										local-ip{} local-ip{key=”localIP”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										local-port
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The port of the local connection. Default label: localPort Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										local-port{} local-port{key=”LocalPort”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										local-server-name
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The name of the local server that processed the request. Default label: localServerName Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										local-server-name {} local-server-name {key=LocalServerName}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										path-parameter
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										One or more path or URI parameters included in the request. The names property is a comma-separated list of names used to resolve the exchange values. Use the key-prefix property to make the keys unique. If the key-prefix is specified, the prefix is prepended to the name of each path parameter in the output.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										path-parameter{names={store,section}} path-parameter{names={store,section}, key-prefix=”my-”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										predicate
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The name of the predicate context. The names property is a comma-separated list of names used to resolve the exchange values. Use the key-prefix property to make the keys unique. If the key-prefix is specified, the prefix is prepended to the name of each path parameter in the output.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										predicate{names={store,section}} predicate{names={store,section}, key-prefix=”my-”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										query-parameter
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										One or query parameters included in the request. The names property is a comma-separated list of names used to resolve the exchange values. Use the key-prefix property to make the keys unique. If the key-prefix is specified, the prefix is prepended to the name of each path parameter in the output.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										query-parameter{names={store,section}} query-parameter{names={store,section}, key-prefix=”my-”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										query-string
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The query string of the request. Default label: queryString Use the key option to change the label for this property. Use the include-question-mark property to specify whether the query string should include the question mark. By default, the question mark is not included.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										query-string{} query-string{key=”QueryString”, include-question-mark=”true”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										relative-path
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The relative path of the request. Default label: relativePath Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										relative-path{} relative-path{key=”RelativePath”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										remote-host
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The remote host name. Default label: remoteHost Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										remote-host{} remote-host{key=”RemoteHost”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										remote-ip
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The remote IP address. Default label: remoteIp Use the key options to change the label for this property. Use the obfuscated property to obfuscate the IP address in the output log record. The default value is false.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										remote-ip{} remote-ip{key=”RemoteIP”, obfuscated=”true”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										remote-user
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										Remote user that was authenticated. Default label: remoteUser Use the key options to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										remote-user{} remote-user{key=”RemoteUser”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										request-header
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The name of a request header. The key for the structured data is the name of the header; the value is the value of the named header. The names property is a comma-separated list of names used to resolve the exchange values. Use the key-prefix property to make the keys unique. If the key-prefix is specified, the prefix is prepended to the name of the request headers in the log output.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										request-header{names={store,section}} request-header{names={store,section}, key-prefix=”my-”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										request-line
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The request line. Default label: requestLine Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										request-line{} request-line{key=”Request-Line”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										request-method
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The request method. Default label: requestMethod Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										request-method{} request-method{key=”RequestMethod”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										request-path
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The relative path for the request. Default label: requestPath Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										request-path{} request-path{key=”RequestPath”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										request-protocol
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The protocol for the request. Default label: requestProtocol Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										request-protocol{} request-protocol{key=”RequestProtocol”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										request-scheme
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The URI scheme of the request. Default label: requestScheme Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										request-scheme{} request-scheme{key=”RequestScheme”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										request-url
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The original request URI. Includes host name, protocol, and so forth, if specified by the client. Default label: requestUrl Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										request-url{} request-url{key=”RequestURL”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										resolved-path
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The resolved path. Default Label: resolvedPath Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										resolved-path{} resolved-path{key=”ResolvedPath”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										response-code
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The response code. Default label: responseCode Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										response-code{} response-code{key=”ResponseCode”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										response-header
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The name of a response header. The key for the structured data is the name of the header; the value is the value of the named header. The names property is a comma-separated list of names used to resolve the exchange values. Use the key-prefix property to make the keys unique. If the key-prefix is specified, the prefix is prepended to the name of the request headers in the log output.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										response-header{names={store,section}} response-header{names={store,section}, key-prefix=”my-”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										response-reason-phrase
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The text reason for the response code. Default label: responseReasonPhrase Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										response-reason-phrase{} response-reason-phrase{key=”ResponseReasonPhrase”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										response-time
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The time used to process the request. Default label: responseTime Use the key option to change the label for this property. The default time unit is MILLISECONDS. Available time units include: * NANOSECONDS * MICROSECONDS * MILLISECONDS * SECONDS
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										response-time{} response-time{key=”ResponseTime”, time-unit=SECONDS}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										secure-exchange
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										Indicates whether the exchange was secure. Default label: secureExchange Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										secure-exchange{} secure-exchange{key=”SecureExchange”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										ssl-cipher
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The SSL cipher for the request. Default label: sslCipher Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										ssl-cipher{} ssl-cipher{key=”SSLCipher”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										ssl-client-cert
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The SSL client certificate for the request. Default label: sslClientCert Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										ssl-client-cert{} ssl-client-cert{key=”SSLClientCert”}
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										ssl-session-id
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										The SSL session id of the request. Default label: sslSessionId Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										ssl-session-id{} stored-response
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										The stored response to the request. Default label: storedResponse Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										stored-response{} stored-response{key=”StoredResponse”}
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										thread-name
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140321692107536"> <p>
										The thread name of the current thread. Default label: threadName Use the key option to change the label for this property.
									</p>
									 </td><td align="left" valign="top" headers="idm140321695078048"> <p>
										thread-name{} thread-name{key=”ThreadName”}
									</p>
									 </td><td align="left" valign="top" headers="idm140321695076960"> <p>
										transport-protocol
									</p>
									 </td></tr></tbody></table></div></div><p>
						You can use the <code class="literal">metadata</code> attribute to configure additional arbitrary data to include in the access log record. The value of the <code class="literal">metadata</code> attribute is a set of key:value pairs that defines the data to include in the access log record. The value in a pair can be a management model expression. Management model expressions are resolved when the server is started or reloaded. Key-value pairs are comma-separated.
					</p><p>
						The following CLI command demonstrates an example of a complex console log configuration, including additional log data, customization of log data, and additional metadata:
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=console-access-log:add(metadata={"@version"="1", "qualifiedHostName"=${jboss.qualified.host.name:unknown}}, attributes={bytes-sent={}, date-time={key="@timestamp", date-format="yyyy-MM-dd'T'HH:mm:ssSSS"}, remote-host={}, request-line={}, response-header={key-prefix="responseHeader", names=["Content-Type"]}, response-code={}, remote-user={}})</pre><p>
						The resulting access log record would resemble the following additional JSON data (Note: the example output below is formatted for readability; in an actual record, all data would be output as a single line):
					</p><pre class="programlisting language-json">{
    "eventSource":"web-access",
    "hostName":"default-host",
    "@version":"1",
    "qualifiedHostName":"localhost.localdomain",
    "bytesSent":1504,
    "@timestamp":"2019-05-02T11:57:37123",
    "remoteHost":"127.0.0.1",
    "remoteUser":null,
    "requestLine":"GET / HTTP/2.0",
    "responseCode":200,
    "responseHeaderContent-Type":"text/html"
}</pre><p>
						The following command illustrates updates to the log data after activating the console access log:
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=console-access-log:write-attribute(name=attributes,value={bytes-sent={}, date-time={key="@timestamp", date-format="yyyy-MM-dd'T'HH:mm:ssSSS"}, remote-host={}, request-line={}, response-header={key-prefix="responseHeader", names=["Content-Type"]}, response-code={}, remote-user={}})</pre><p>
						The following command illustrates updates to the custom metadata after activating the console access log:
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=console-access-log:write-attribute(name=metadata,value={"@version"="1", "qualifiedHostName"=${jboss.qualified.host.name:unknown}}</pre></section></section></section><section class="section" id="undertow-configure-servlet-container"><div class="titlepage"><div><div><h2 class="title">17.5. Configuring a Servlet Container</h2></div></div></div><p>
				A servlet container provides all servlet, JSP and websocket-related configuration, including session-related configuration. While most servers will only need a single servlet container, it is possible to configure multiple servlet containers by adding an additional <code class="literal">servlet-container</code> element. Having multiple servlet containers enables behavior such as allowing multiple deployments to be deployed to the same context path on different virtual hosts.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Much of the configuration provided in by servlet container can be individually overridden by deployed applications using their <code class="literal">web.xml</code> file.
				</p></div></div><p>
				JBoss EAP provides a servlet container by default:
			</p><h4 id="default_undertow_subsystem_configuration_4">Default Undertow Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0"&gt;
  &lt;buffer-cache name="default"/&gt;
  &lt;server name="default-server"&gt;
    ...
  &lt;/server&gt;
  &lt;servlet-container name="default"&gt;
      &lt;jsp-config/&gt;
      &lt;websockets/&gt;
  &lt;/servlet-container&gt;
...
&lt;/subsystem&gt;</pre><p>
				The following examples show how to configure a servlet container using the management CLI. You can also configure a servlet container using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Web (Undertow)</strong></span> → <span class="strong strong"><strong>Servlet Container</strong></span>.
			</p><h4 id="updating_an_existing_servlet_container">Updating an Existing Servlet Container</h4><p>
				To update an existing servlet container:
			</p><pre class="screen">/subsystem=undertow/servlet-container=default:write-attribute(name=ignore-flush,value=true)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_servlet_container">Creating a New Servlet Container</h4><p>
				To create a new servlet container:
			</p><pre class="screen">/subsystem=undertow/servlet-container=new-servlet-container:add</pre><pre class="screen">reload</pre><h4 id="deleting_a_servlet_container">Deleting a Servlet Container</h4><p>
				To delete a servlet container:
			</p><pre class="screen">/subsystem=undertow/servlet-container=new-servlet-container:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring servlet containers, see the <a class="link" href="#undertow-attribute-refs" title="A.27. Undertow Subsystem Attributes">Undertow Subsystem Attributes</a> section.
			</p></section><section class="section" id="servlet_extensions"><div class="titlepage"><div><div><h2 class="title">17.6. Configuring a Servlet Extension</h2></div></div></div><p>
				Servlet extensions allow you to hook into the servlet deployment process and modify aspects of a servlet deployment. This can be useful in cases where you need to add additional authentication mechanisms to a deployment or use native Undertow handlers as part of a servlet deployment.
			</p><p>
				To create a custom servlet extension, it is necessary to implement the <code class="literal">io.undertow.servlet.ServletExtension</code> interface and then add the name of your implementation class to the <code class="literal">META-INF/services/io.undertow.servlet.ServletExtension</code> file in the deployment. You also need to include the compiled class file of the <code class="literal">ServletExtension</code> implementation. When Undertow deploys the servlet, it loads all the services from the <code class="literal">deployments</code> class loader and then invokes their <code class="literal">handleDeployment</code> methods.
			</p><p>
				An Undertow <code class="literal">DeploymentInfo</code> structure, which contains a complete and mutable description of the deployment, is passed to this method. You can modify this structure to change any aspect of the deployment.
			</p><p>
				The <code class="literal">DeploymentInfo</code> structure is the same structure that is used by the embedded API, so in effect a <code class="literal">ServletExtension</code> has the same amount of flexibility that you have when using Undertow in embedded mode.
			</p></section><section class="section" id="undertow-configure-handlers"><div class="titlepage"><div><div><h2 class="title">17.7. Configuring Handlers</h2></div></div></div><p>
				JBoss EAP allows for two types of handlers to be configured:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						file handlers
					</li><li class="listitem">
						reverse-proxy handlers
					</li></ul></div><p>
				File handlers serve static files. Each file handler must be attached to a location in a virtual host. Reverse-proxy handlers allow JBoss EAP to serve as a high performance reverse-proxy.
			</p><p>
				JBoss EAP provides a file handler by default:
			</p><h4 id="default_undertow_subsystem_configuration_5">Default Undertow Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0" default-server="default-server" default-virtual-host="default-host" default-servlet-container="default" default-security-domain="other"&gt;
    &lt;buffer-cache name="default"/&gt;
    &lt;server name="default-server"&gt;
        ...
    &lt;/server&gt;
    &lt;servlet-container name="default"&gt;
        ...
    &lt;/servlet-container&gt;
    &lt;handlers&gt;
        &lt;file name="welcome-content" path="${jboss.home.dir}/welcome-content"/&gt;
    &lt;/handlers&gt;
&lt;/subsystem&gt;</pre><h4 id="using_webdav_for_static_resources">Using WebDAV for Static Resources</h4><p>
				Previous versions of JBoss EAP allowed for using WebDAV with the <code class="literal">web</code> subsystem, by way of the <code class="literal">WebdavServlet</code>, to host static resources and enable additional HTTP methods for accessing and manipulating those files. In JBoss EAP 7, the <code class="literal">undertow</code> subsystem does provide a mechanism for serving static files using a file handler, but the <code class="literal">undertow</code> subsystem does not support WebDAV. If you want to use WebDAV with JBoss EAP 7, you can write a custom WebDAV servlet.
			</p><h4 id="updating_an_existing_file_handler">Updating an Existing File Handler</h4><p>
				To update an existing file handler:
			</p><pre class="screen">/subsystem=undertow/configuration=handler/file=welcome-content:write-attribute(name=case-sensitive,value=true)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_file_handler">Creating a New File Handler</h4><p>
				To create a new file handler:
			</p><pre class="screen">/subsystem=undertow/configuration=handler/file=new-file-handler:add(path="${jboss.home.dir}/welcome-content")</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					If you set a file handler’s <code class="literal">path</code> directly to a file instead of a directory, any <code class="literal">location</code> elements that reference that file handler must not end with a forward slash (<code class="literal">/</code>). Otherwise, the server will return a <code class="literal">404 - Not Found</code> response.
				</p></div></div><h4 id="deleting_a_file_handler">Deleting a File Handler</h4><p>
				To delete a file handler
			</p><pre class="screen">/subsystem=undertow/configuration=handler/file=new-file-handler:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring handlers, see the <a class="link" href="#undertow-attribute-refs" title="A.27. Undertow Subsystem Attributes">Undertow Subsystem Attributes</a> section.
			</p></section><section class="section" id="undertow-configure-filters"><div class="titlepage"><div><div><h2 class="title">17.8. Configuring Filters</h2></div></div></div><p>
				A filter enables some aspect of a request to be modified and can use predicates to control when a filter executes. Some common use cases for filters include setting headers or doing GZIP compression.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					A filter is functionally equivalent to a global valve used in JBoss EAP 6.
				</p></div></div><p>
				The following types of filters can be defined:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						custom-filter
					</li><li class="listitem">
						error-page
					</li><li class="listitem">
						expression-filter
					</li><li class="listitem">
						gzip
					</li><li class="listitem">
						mod-cluster
					</li><li class="listitem">
						request-limit
					</li><li class="listitem">
						response-header
					</li><li class="listitem">
						rewrite
					</li></ul></div><p>
				The following examples show how to configure a filter using the management CLI. You can also configure a filter using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Web (Undertow)</strong></span> → <span class="strong strong"><strong>Filters</strong></span>.
			</p><h4 id="updating_an_existing_filter">Updating an Existing Filter</h4><p>
				To update an existing filter:
			</p><pre class="screen">/subsystem=undertow/configuration=filter/response-header=myHeader:write-attribute(name=header-value,value="JBoss-EAP")</pre><pre class="screen">reload</pre><h4 id="creating_a_new_filter">Creating a New Filter</h4><p>
				To create a new filter:
			</p><pre class="screen">/subsystem=undertow/configuration=filter/response-header=new-response-header:add(header-name=new-response-header,header-value="My Value")</pre><h4 id="deleting_a_filter">Deleting a Filter</h4><p>
				To delete a filter:
			</p><pre class="screen">/subsystem=undertow/configuration=filter/response-header=new-response-header:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring filters, see the <a class="link" href="#undertow-attribute-refs" title="A.27. Undertow Subsystem Attributes">Undertow Subsystem Attributes</a> section.
			</p><section class="section" id="undertow_buffer_request_handler"><div class="titlepage"><div><div><h3 class="title">17.8.1. Configuring the buffer-request Handler</h3></div></div></div><p>
					A request from the client or the browser consists of two parts: the header and the body. In a typical situation, the header and the body are sent to JBoss EAP without any delays in between. However, if the header is sent first and then after few seconds, the body is sent, there is a delay sending the complete request. This scenario creates a thread in JBoss EAP to show as <code class="literal">waiting</code> to execute the complete request.
				</p><p>
					The delay caused in sending the header and the body of the request can be corrected using the <code class="literal">buffer-request</code> handler. The <code class="literal">buffer-request</code> handler attempts to consume the request from a non-blocking IO thread before allocating it to a worker thread. When no <code class="literal">buffer-request</code> handler is added, the thread allocation to the worker thread happens directly. However, when the <code class="literal">buffer-request</code> handler is added, the handler attempts to read the amount of data that it can buffer in a non-blocking manner using the IO thread before allocating it to the worker thread.
				</p><p>
					You can use the following management CLI commands to configure the <code class="literal">buffer-request</code> handler:
				</p><pre class="screen">/subsystem=undertow/configuration=filter/expression-filter=buf:add(expression="buffer-request(buffers=1)")

/subsystem=undertow/server=default-server/host=default-host/filter-ref=buf:add</pre><p>
					There is a limit to the size of the buffer requests that can be processed. This limit is determined by a combination of the buffer size and the total number of buffers, as shown in the equation below.
				</p><p>
					<code class="literal">Total_size = num_buffers × buffer_size</code>
				</p><p>
					In the equation above:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">Total_size</code> is the size of data that will be buffered before the request is dispatched to a worker thread.
						</li><li class="listitem">
							<code class="literal">num_buffers</code> is the number of buffers. The number of buffers is set by the <code class="literal">buffers</code> parameter on the handler.
						</li><li class="listitem">
							<code class="literal">buffer_size</code> is the size of each buffer. The buffer size is set in the <code class="literal">io</code> subsystem, and is 16KB by default per request.
						</li></ul></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Avoid configuring very large buffer requests, or else you might run out of memory.
					</p></div></div></section></section><section class="section" id="configure_the_default_welcome_Web_application"><div class="titlepage"><div><div><h2 class="title">17.9. Configure the Default Welcome Web Application</h2></div></div></div><p>
				JBoss EAP includes a default <code class="literal">Welcome</code> application, which displays at the root context on port <code class="literal">8080</code> by default.
			</p><p>
				There is a default server preconfigured in Undertow that serves up the welcome content.
			</p><h4 id="default_undertow_subsystem_configuration_6">Default Undertow Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:undertow:10.0" default-server="default-server" default-virtual-host="default-host" default-servlet-container="default" default-security-domain="other"&gt;
    ...
    &lt;server name="default-server"&gt;
        &lt;http-listener name="default" socket-binding="http" redirect-socket="https" enable-http2="true"/&gt;
        &lt;https-listener name="https" socket-binding="https" security-realm="ApplicationRealm" enable-http2="true"/&gt;
        &lt;host name="default-host" alias="localhost"&gt;
            &lt;location name="/" handler="welcome-content"/&gt;
            &lt;http-invoker security-realm="ApplicationRealm"/&gt;
        &lt;/host&gt;
    &lt;/server&gt;
    ...
    &lt;handlers&gt;
        &lt;file name="welcome-content" path="${jboss.home.dir}/welcome-content"/&gt;
    &lt;/handlers&gt;
&lt;/subsystem&gt;</pre><p>
				The default server, <code class="literal">default-server</code>, has a default host, <code class="literal">default-host</code>, configured. The default host is configured to handle requests to the server’s root, using the <code class="literal">&lt;location&gt;</code> element, with the <code class="literal">welcome-content</code> file handler. The <code class="literal">welcome-content</code> handler serves up the content in the location specified in the <code class="literal">path</code> property.
			</p><p>
				This default <code class="literal">Welcome</code> application can be replaced with your own web application. This can be configured in one of two ways:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#changing_the_welcome_content_file_handler" title="Change the welcome-content File Handler">Change the <code class="literal">welcome-content</code> file handler</a>
					</li><li class="listitem">
						<a class="link" href="#changing_the_default_web_module" title="Change the default-web-module">Change the <code class="literal">default-web-module</code></a>
					</li></ul></div><p>
				You can also <a class="link" href="#disable_welcome_app" title="Disable the Default Welcome Web Application">disable the welcome content</a>.
			</p><h4 id="changing_the_welcome_content_file_handler">Change the welcome-content File Handler</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Modify the existing <code class="literal">welcome-content</code> file handler’s path to point to the new deployment.
					</p><pre class="screen">/subsystem=undertow/configuration=handler/file=welcome-content:write-attribute(name=path,value="<span class="emphasis"><em>/path/to/content</em></span>")</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Alternatively, you could create a different file handler to be used by the server’s root.
						</p><pre class="screen">/subsystem=undertow/configuration=handler/file=<span class="emphasis"><em>NEW_FILE_HANDLER</em></span>:add(path="<span class="emphasis"><em>/path/to/content</em></span>")
/subsystem=undertow/server=default-server/host=default-host/location=\/:write-attribute(name=handler,value=<span class="emphasis"><em>NEW_FILE_HANDLER</em></span>)</pre></div></div></li><li class="listitem"><p class="simpara">
						Reload the server for the changes to take effect.
					</p><pre class="screen">reload</pre></li></ol></div><h4 id="changing_the_default_web_module">Change the default-web-module</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Map a deployed web application to the server’s root.
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host:write-attribute(name=default-web-module,value=hello.war)</pre></li><li class="listitem"><p class="simpara">
						Reload the server for the changes to take effect.
					</p><pre class="screen">reload</pre></li></ol></div><h4 id="disable_welcome_app">Disable the Default Welcome Web Application</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Disable the welcome application by removing the <code class="literal">location</code> entry <code class="literal">/</code> for the <code class="literal">default-host</code>.
					</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/location=\/:remove</pre></li><li class="listitem"><p class="simpara">
						Reload the server for the changes to take effect.
					</p><pre class="screen">reload</pre></li></ol></div></section><section class="section" id="undertow-configure-https"><div class="titlepage"><div><div><h2 class="title">17.10. Configuring HTTPS</h2></div></div></div><p>
				For information on configuring HTTPS for web applications, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#configure_one_way_and_two_way_ssl_tls_for_application" title="This content is not included in Mimir.">Configure One-way and Two-way SSL/TLS for Applications</a> in <span class="emphasis"><em>How to Configure Server Security</em></span>.
			</p><p>
				For information on configuring HTTPS for use with the JBoss EAP management interfaces, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#secure_the_management_interfaces" title="This content is not included in Mimir.">How to Secure the Management Interfaces</a> in <span class="emphasis"><em>How to Configure Server Security</em></span>.
			</p></section><section class="section" id="undertow-config-http-session-timeout"><div class="titlepage"><div><div><h2 class="title">17.11. Configuring HTTP Session Timeout</h2></div></div></div><p>
				The HTTP session timeout defines the period of inactive time needed to declare an HTTP session invalid. For example, a user accesses an application deployed to JBoss EAP which creates an HTTP session. If that user then attempts to access that application again after the HTTP session timeout, the original HTTP session will be invalidated and the user will be forced to create a new HTTP session. This may result in the loss of unpersisted data or the user having to reauthenticate.
			</p><p>
				The HTTP session timeout is configured in an application’s <code class="literal">web.xml</code> file, but a default HTTP session timeout can be specified within JBoss EAP. The server’s timeout value will apply to all deployed applications, but an application’s <code class="literal">web.xml</code> will override the server’s value.
			</p><p>
				The server value is specified in the <code class="literal">default-session-timeout</code> property which is found in the <code class="literal">servlet-container</code> section of the <code class="literal">undertow</code> subsystem. The value of <code class="literal">default-session-timeout</code> is specified in minutes and the default is <code class="literal">30</code>.
			</p><h4 id="configuring_the_default_session_timeout">Configuring the Default Session Timeout</h4><p>
				To configure the <code class="literal">default-session-timeout</code>:
			</p><pre class="screen">/subsystem=undertow/servlet-container=default:write-attribute(name=default-session-timeout, value=60)</pre><pre class="screen">reload</pre></section><section class="section" id="undertow-config-http-only-cookies"><div class="titlepage"><div><div><h2 class="title">17.12. Configuring HTTP-Only Session Management Cookies</h2></div></div></div><p>
				Session management cookies can be accessed by both HTTP APIs and non-HTTP APIs such as JavaScript. JBoss EAP offers the ability to send the <code class="literal">HttpOnly</code> header as part of the <code class="literal">Set-Cookie</code> response header to the client, usually a browser. In supported browsers, enabling this header tells the browser that it should prevent accessing session management cookies through non-HTTP APIs. Restricting session management cookies to only HTTP APIs can help to mitigate the threat of session cookie theft via cross-site scripting attacks. To enable this behavior, the <code class="literal">http-only</code> attribute should be set to <code class="literal">true</code>.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Using the <code class="literal">HttpOnly</code> header does not actually prevent cross-site scripting attacks by itself, it merely notifies the browser. The browser must also support <code class="literal">HttpOnly</code> for this behavior to take affect.
				</p></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Using the <code class="literal">http-only</code> attribute only applies the restriction to session management cookies and not other browser cookies.
				</p></div></div><p>
				The <code class="literal">http-only</code> attribute is set in two places in the <code class="literal">undertow</code> subsystem:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						In the servlet container as a session cookie setting
					</li><li class="listitem">
						In the host section of the server as a single sign-on property
					</li></ul></div><h4 id="configuring_literal_host_only_literal_for_the_servlet_container_session_cookie">Configuring <code class="literal">host-only</code> for the Servlet Container Session Cookie</h4><p>
				To configure the <code class="literal">host-only</code> property for the servlet container session cookie:
			</p><pre class="screen">/subsystem=undertow/servlet-container=default/setting=session-cookie:add</pre><pre class="screen">/subsystem=undertow/servlet-container=default/setting=session-cookie:write-attribute(name=http-only,value=true)</pre><pre class="screen">reload</pre><h4 id="configuring_literal_host_only_literal_for_the_host_single_sign_on">Configuring <code class="literal">host-only</code> for the Host Single Sign-On</h4><p>
				To configure the <code class="literal">host-only</code> property for the host single sign-on:
			</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=single-sign-on:add</pre><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=single-sign-on:write-attribute(name=http-only,value=true)</pre><pre class="screen">reload</pre></section><section class="section" id="configuring_http_2"><div class="titlepage"><div><div><h2 class="title">17.13. Configuring HTTP/2</h2></div></div></div><p>
				Undertow allows for the use of the <a class="link mimir-link-warn" href="https://datatracker.ietf.org/doc/rfc7540/" title="Mimir does not include content from: datatracker.ietf.org">HTTP/2</a> standard, which reduces latency by compressing headers and multiplexing many streams over the same TCP connection. It also provides the ability for a server to push resources to the client before it has requested them, leading to faster page loads.
			</p><p>
				Be aware that HTTP/2 only works with clients and browsers that also support the HTTP/2 standard.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Most modern browsers enforce HTTP/2 over a secured TLS connection, known as <code class="literal">h2</code> and may not support HTTP/2 over plain HTTP, known as <code class="literal">h2c</code>. It is still possible to configure JBoss EAP to use HTTP/2 with <code class="literal">h2c</code>, in other words, without using HTTPS and only using plain HTTP with HTTP upgrade. In that case, you can simply enable HTTP/2 in the HTTP listener Undertow:
				</p><pre class="screen">/subsystem=undertow/server=default-server/http-listener=default:write-attribute(name=enable-http2,value=true)</pre></div></div><p>
				To configure Undertow to use HTTP/2, enable the HTTPS listener in Undertow to use HTTP/2 by setting the <code class="literal">enable-http2</code> attribute to <code class="literal">true</code>:
			</p><pre class="screen">/subsystem=undertow/server=default-server/https-listener=https:write-attribute(name=enable-http2,value=true)</pre><p>
				For more information on the HTTPS listener and configuring Undertow to use HTTPS for web applications, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#configure_one_way_and_two_way_ssl_tls_for_application" title="This content is not included in Mimir.">Configure One-way and Two-way SSL/TLS for Applications</a> in <span class="emphasis"><em>How to Configure Server Security</em></span>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In order to utilize HTTP/2 with the <code class="literal">elytron</code> subsystem, you will need to ensure that the configured <code class="literal">ssl-context</code> in the <code class="literal">https-listener</code> of the Undertow is configured as modifiable. This can be achieved by setting the <code class="literal">wrap</code> attribute of the appropriate <code class="literal">server-ssl-context</code> to <code class="literal">false</code>. By default, the <code class="literal">wrap</code> attribute is set to <code class="literal">false</code>. This is required by Undertow to make modifications in the <code class="literal">ssl-context</code> about the ALPN. If the provided <code class="literal">ssl-context</code> is not writable, ALPN cannot be used and the connection falls back to HTTP/1.1.
				</p></div></div><h4 id="alpn_support_when_using_http_2">ALPN support when using HTTP/2</h4><p>
				When using HTTP/2 over a secured TLS connection, a TLS stack that supports ALPN TLS protocol extension is required. Obtaining this stack varies based on the installed JDK.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						When using Java 8, the ALPN implementation is introduced directly into JBoss EAP with dependencies on Java internals. Therefore, this ALPN implementation only works with Oracle and OpenJDK. It does not work with IBM Java. Red Hat strongly recommends that you utilize ALPN TLS protocol extension support from the OpenSSL provider in JBoss EAP, with OpenSSL libraries that implement ALPN capability. Using the ALPN TLS protocol extension support from the OpenSSL provider should result in better performance.
					</li><li class="listitem">
						As of Java 9, the JDK supports ALPN natively; however, using the ALPN TLS protocol extension support from the OpenSSL provider should also result in better performance when using Java 9 or later.
					</li></ul></div><p>
				Instructions for installing OpenSSL, to obtain the ALPN TLS protocol extension support, are available in <a class="link" href="#install_openssl_jbcs" title="A.40. Install OpenSSL from JBoss Core Services">Install OpenSSL from JBoss Core Services</a>. The standard system OpenSSL is supported on Red Hat Enterprise Linux 8 and no additional JBoss Core Services OpenSSL is required.
			</p><p>
				Once OpenSSL has been installed, follow the instructions in <a class="link" href="#configure_eap_openssl" title="A.41. Configure JBoss EAP to Use OpenSSL">Configure JBoss EAP to Use OpenSSL</a>.
			</p><h4 id="verify_http_2_is_being_used">Verify HTTP/2 is Being Used</h4><p>
				To verify that Undertow is using HTTP/2, you will need to inspect the headers coming from Undertow. Navigate to your JBoss EAP instance using https, for example <a class="link mimir-link-warn" href="https://localhost:8443" title="Mimir does not include content from: localhost">https://localhost:8443</a>, and use your browser’s developer tools to inspect the headers. Some browsers, for example Google Chrome, will show HTTP/2 pseudo headers, such as <code class="literal">:path</code>, <code class="literal">:authority</code>, <code class="literal">:method</code> and <code class="literal">:scheme</code>, when using HTTP/2. Other browsers, for example Firefox and Safari, will report the status or version of the header as <code class="literal">HTTP/2.0</code>.
			</p></section><section class="section" id="undertow-config-requestDumping-handler"><div class="titlepage"><div><div><h2 class="title">17.14. Configuring a RequestDumping Handler</h2></div></div></div><p>
				The <code class="literal">RequestDumping</code> handler, <code class="literal">io.undertow.server.handlers.RequestDumpingHandler</code>, logs the details of a request and corresponding response objects handled by Undertow within JBoss EAP.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					While this handler can be useful for debugging, it may also log sensitive information. Please keep this in mind when enabling this handler.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">RequestDumping</code> handler replaces the <code class="literal">RequestDumperValve</code> from JBoss EAP 6.
				</p></div></div><p>
				You can configure a <code class="literal">RequestDumping</code> handler at either at the server level directly in JBoss EAP or within an individual application.
			</p><section class="section" id="configuring_a_requestdumping_handler_on_the_server"><div class="titlepage"><div><div><h3 class="title">17.14.1. Configuring a RequestDumping Handler on the Server</h3></div></div></div><p>
					A <code class="literal">RequestDumping</code> handler should be configured as an expression filter. To configure a <code class="literal">RequestDumping</code> handler as an expression filter, you need to do the following:
				</p><h5 id="create_a_new_expression_filter_with_the_literal_requestdumping_literal_handler">Create a new Expression Filter with the <code class="literal">RequestDumping</code> Handler</h5><pre class="screen">/subsystem=undertow/configuration=filter/expression-filter=requestDumperExpression:add(expression="dump-request")</pre><h5 id="enable_the_expression_filter_in_the_undertow_web_server">Enable the Expression Filter in the Undertow Web Server</h5><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/filter-ref=requestDumperExpression:add</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						All requests and corresponding responses handled by the Undertow web server will be logged when enabling the <code class="literal">RequestDumping</code> handler as a expression filter in this manner.
					</p></div></div><h5 id="configuring_a_requestdumping_handler_for_specific_urls">Configuring a RequestDumping Handler for Specific URLs</h5><p>
					In addition to logging all requests, you can also use an expression filter to only log requests and corresponding responses for specific URLs. This can be accomplished using a predicate in your expression such as <code class="literal">path</code>, <code class="literal">path-prefix</code>, or <code class="literal">path-suffix</code>. For example, if you want to log all requests and corresponding responses to <code class="literal">/myApplication/test</code>, you can use the expression <code class="literal">"path(/myApplication/test) -&gt; dump-request"</code> instead of the expression <code class="literal">"dump-request"</code> when creating your expression filter. This will only direct requests with a path exactly matching <code class="literal">/myApplication/test</code> to the <code class="literal">RequestDumping</code> handler.
				</p></section><section class="section" id="configuring_a_requestdumping_handler_within_an_application"><div class="titlepage"><div><div><h3 class="title">17.14.2. Configuring a RequestDumping Handler within an Application</h3></div></div></div><p>
					In addition to configuring a <code class="literal">RequestDumping</code> handler at the server, you can also configure it within individual applications. This will limit the scope of the handler to only that specific application. A <code class="literal">RequestDumping</code> handler should be configured in <code class="literal">WEB-INF/undertow-handlers.conf</code>.
				</p><p>
					To configure the <code class="literal">RequestDumping</code> handler in <code class="literal">WEB-INF/undertow-handlers.conf</code> to log all requests and corresponding responses for this application, add the following expression to <code class="literal">WEB-INF/undertow-handlers.conf</code>:
				</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">WEB-INF/undertow-handlers.conf</code></strong></p><p>
						
<pre class="screen">dump-request</pre>

					</p></div><p>
					To configure the <code class="literal">RequestDumping</code> handler in <code class="literal">WEB-INF/undertow-handlers.conf</code> to only log requests and corresponding responses to specific URLs within this application, you can use a predicate in your expression such as <code class="literal">path</code>, <code class="literal">path-prefix</code>, or <code class="literal">path-suffix</code>. For example, to log all requests and corresponding responses to <code class="literal">test</code> in your application, the following expression with the <code class="literal">path</code> predicate could be used:
				</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">WEB-INF/undertow-handlers.conf</code></strong></p><p>
						
<pre class="screen">path(/test) -&gt; dump-request</pre>

					</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When using the predicates such as <code class="literal">path</code>, <code class="literal">path-prefix</code>, or <code class="literal">path-suffix</code> in expressions defined in the application’s <code class="literal">WEB-INF/undertow-handlers.conf</code>, the value used will be relative to the context root of the application. For example, if the application’s context root is <code class="literal">myApplication</code> with an expression <code class="literal">path(/test) -&gt; dump-request</code> configured in <code class="literal">WEB-INF/undertow-handlers.conf</code>, it will only log requests and corresponding responses to <code class="literal">/myApplication/test</code>.
					</p></div></div></section></section><section class="section" id="configuring_cookie_security"><div class="titlepage"><div><div><h2 class="title">17.15. Configuring Cookie Security</h2></div></div></div><p>
				You can use the <code class="literal">secure-cookie</code> handler to enhance the security of cookies that are created over a connection between a server and a client. In this case, if the connection over which the cookie is set is marked as secure, the cookie will have its <code class="literal">secure</code> attribute set to <code class="literal">true</code>.
			</p><p>
				You can secure the connection by configuring a listener or by using HTTPS. You configure the <code class="literal">secure-cookie</code> handler by defining an <code class="literal">expression-filter</code> in the <code class="literal">undertow</code> subsystem. For more information, see <a class="link" href="#undertow-configure-filters" title="17.8. Configuring Filters">Configuring Filters</a>.
			</p><p>
				When the <code class="literal">secure-cookie</code> handler is in use, cookies that are set over a secure connection will be implicitly set as secure and will never be sent over an unsecure connection.
			</p></section><section class="section" id="tuning_undertow_subsystem"><div class="titlepage"><div><div><h2 class="title">17.16. Tuning the Undertow Subsystem</h2></div></div></div><p>
				For tips on optimizing performance for the <code class="literal">undertow</code> subsystem, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#undertow_tuning" title="This content is not included in Mimir.">Undertow Subsystem Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></section></section><section class="chapter" id="configuring_remoting"><div class="titlepage"><div><div><h1 class="title">Chapter 18. Configuring Remoting</h1></div></div></div><section class="section" id="about_the_remoting_subsystem"><div class="titlepage"><div><div><h2 class="title">18.1. About the Remoting Subsystem</h2></div></div></div><p>
				The <code class="literal">remoting</code> subsystem allows you to configure inbound and outbound connections for local and remote services as well as the settings for those connections.
			</p><p>
				JBoss Remoting includes the following configurable elements: the endpoint, connectors, and a series of local and remote connection URIs. Most people will not need to configure the <code class="literal">remoting</code> subsystem at all, unless they use custom connectors for their own applications. Applications that act as remoting clients, such as EJBs, need separate configuration to connect to a specific connector.
			</p><h4 id="default_remoting_subsystem_configuration">Default Remoting Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:remoting:4.0"&gt;
    &lt;endpoint/&gt;
    &lt;http-connector name="http-remoting-connector" connector-ref="default" security-realm="ApplicationRealm"/&gt;
&lt;/subsystem&gt;</pre><p>
				See <a class="link" href="#remoting_attributes" title="A.30. Remoting Subsystem Attributes">Remoting Subsystem Attributes</a> for a full list of the attributes available for the <code class="literal">remoting</code> subsystem.
			</p><h4 id="the_remoting_endpoint">The Remoting Endpoint</h4><p>
				The remoting endpoint uses the XNIO worker declared and configured by the <code class="literal">io</code> subsystem.
			</p><p>
				See <a class="link" href="#remoting_configure_endpoint" title="18.2. Configuring the Endpoint">Configuring the Endpoint</a> for details on how to configure the remoting endpoint.
			</p><h4 id="connector">Connector</h4><p>
				The connector is the main remoting configuration element. Multiple connectors are allowed. Each connector consists of a <code class="literal">&lt;connector&gt;</code> element with several sub-elements, and few other attributes. The default connector is used by several JBoss EAP subsystems. Specific settings for the elements and attributes of your custom connectors depend on your applications. Contact Red Hat Global Support Services for more information.
			</p><p>
				See <a class="link" href="#remoting_configure_connector" title="18.3. Configuring a Connector">Configuring a Connector</a> for details on how to configure connectors.
			</p><h4 id="outbound_connections">Outbound Connections</h4><p>
				You can specify three different types of outbound connections:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						An <a class="link" href="#remoting_outbound_connection" title="18.5. Configuring an Outbound Connection">outbound connection</a>, specified by a URI
					</li><li class="listitem">
						A <a class="link" href="#remoting_local_outbound_connection" title="18.7. Configuring a Local Outbound Connection">local outbound connection</a>, which connects to a local resource such as a socket
					</li><li class="listitem">
						A <a class="link" href="#remoting_remote_outbound_connection" title="18.6. Configuring a Remote Outbound Connection">remote outbound connection</a>, which connects to a remote resource and authenticates using a security realm
					</li></ul></div><h4 id="additional_configuration">Additional Configuration</h4><p>
				Remoting depends on several elements that are configured outside of the <code class="literal">remoting</code> subsystem, such as the network interface and IO worker.
			</p><p>
				For more information, see <a class="link" href="#config_outside_remoting_subsystem" title="18.8. Additional Remoting Configuration">Additional Remoting Configuration</a>.
			</p></section><section class="section" id="remoting_configure_endpoint"><div class="titlepage"><div><div><h2 class="title">18.2. Configuring the Endpoint</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					In JBoss EAP 6, the worker thread pool was configured directly in the <code class="literal">remoting</code> subsystem. In JBoss EAP 7, the remoting <code class="literal">endpoint</code> configuration references a worker from the <code class="literal">io</code> subsystem.
				</p></div></div><p>
				JBoss EAP provides the following <code class="literal">endpoint</code> configuration by default.
			</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:remoting:4.0"&gt;
  &lt;endpoint/&gt;
  ...
&lt;/subsystem&gt;</pre><h4 id="updating_the_existing_endpoint_configuration">Updating the Existing Endpoint Configuration</h4><pre class="screen">/subsystem=remoting/configuration=endpoint:write-attribute(name=authentication-retries,value=2)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_endpoint_configuration">Creating a New Endpoint Configuration</h4><pre class="screen">/subsystem=remoting/configuration=endpoint:add</pre><h4 id="deleting_an_endpoint_configuration">Deleting an Endpoint Configuration</h4><pre class="screen">/subsystem=remoting/configuration=endpoint:remove</pre><pre class="screen">reload</pre><p>
				See <a class="link" href="#endpoint-attributes" title="Table A.101. endpoint Attributes">Endpoint Attributes</a> for a full list of the attributes available for the endpoint configuration.
			</p></section><section class="section" id="remoting_configure_connector"><div class="titlepage"><div><div><h2 class="title">18.3. Configuring a Connector</h2></div></div></div><p>
				The connector is the main configuration element relating to remoting and contains several sub-elements for additional configuration.
			</p><h4 id="updating_the_existing_connector_configuration">Updating the Existing Connector Configuration</h4><pre class="screen">/subsystem=remoting/connector=new-connector:write-attribute(name=socket-binding,value=my-socket-binding)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_connector">Creating a New Connector</h4><pre class="screen">/subsystem=remoting/connector=new-connector:add(socket-binding=my-socket-binding)</pre><h4 id="deleting_a_connector">Deleting a Connector</h4><pre class="screen">/subsystem=remoting/connector=new-connector:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring a connector, please see the <a class="link" href="#remoting_attributes" title="A.30. Remoting Subsystem Attributes">Remoting Subsystem Attributes</a> section.
			</p></section><section class="section" id="remoting_configure_http_connector"><div class="titlepage"><div><div><h2 class="title">18.4. Configuring an HTTP Connector</h2></div></div></div><p>
				The HTTP connector provides the configuration for the HTTP upgrade-based remoting connector. JBoss EAP provides the following <code class="literal">http-connector</code> configuration by default.
			</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:remoting:4.0"&gt;
    ...
    &lt;http-connector name="http-remoting-connector" connector-ref="default" security-realm="ApplicationRealm"/&gt;
&lt;/subsystem&gt;</pre><p>
				By default, this HTTP connector connects to an HTTP listener named <code class="literal">default</code> that is configured in the <code class="literal">undertow</code> subsystem. For more information, see <a class="link" href="#configuring_the_web_server_undertow" title="Chapter 17. Configuring the Web Server (Undertow)">Configuring the Web Server (Undertow)</a>.
			</p><h4 id="updating_the_existing_http_connector_configuration">Updating the Existing HTTP Connector Configuration</h4><pre class="screen">/subsystem=remoting/http-connector=new-connector:write-attribute(name=connector-ref,value=new-connector-ref)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_http_connector">Creating a New HTTP Connector</h4><pre class="screen">/subsystem=remoting/http-connector=new-connector:add(connector-ref=default)</pre><h4 id="deleting_an_http_connector">Deleting an HTTP Connector</h4><pre class="screen">/subsystem=remoting/http-connector=new-connector:remove</pre><p>
				See <a class="link" href="#connector-attributes" title="Table A.102. connector Attributes">Connector Attributes</a> for a full list of the attributes available for configuring an HTTP connector.
			</p></section><section class="section" id="remoting_outbound_connection"><div class="titlepage"><div><div><h2 class="title">18.5. Configuring an Outbound Connection</h2></div></div></div><p>
				An outbound connection is a generic remoting outbound connection that is fully specified by a URI.
			</p><h4 id="updating_an_existing_outbound_connection">Updating an Existing Outbound Connection</h4><pre class="screen">/subsystem=remoting/outbound-connection=new-outbound-connection:write-attribute(name=uri,value=http://example.com)</pre><h4 id="creating_a_new_outbound_connection">Creating a New Outbound Connection</h4><pre class="screen">/subsystem=remoting/outbound-connection=new-outbound-connection:add(uri=http://example.com)</pre><h4 id="deleting_an_outbound_connection">Deleting an Outbound Connection</h4><pre class="screen">/subsystem=remoting/outbound-connection=new-outbound-connection:remove</pre><p>
				See <a class="link" href="#outbound-connection-attributes" title="Table A.107. outbound-connection Attributes">Outbound Connection Attributes</a> for a full list of the attributes available for configuring an outbound connection.
			</p></section><section class="section" id="remoting_remote_outbound_connection"><div class="titlepage"><div><div><h2 class="title">18.6. Configuring a Remote Outbound Connection</h2></div></div></div><p>
				A remote outbound connection is specified by a protocol, an outbound socket binding, a username and a security realm. The protocol can be either <code class="literal">remote</code>, <code class="literal">http-remoting</code> or <code class="literal">https-remoting</code>.
			</p><div class="formalpara"><p class="title"><strong>Updating an Existing Remote Outbound Connection</strong></p><p>
					
<pre class="screen">/subsystem=remoting/remote-outbound-connection=new-remote-outbound-connection:write-attribute(name=outbound-socket-binding-ref,value=outbound-socket-binding)</pre>

				</p></div><div class="formalpara"><p class="title"><strong>Creating a New Remote Outbound Connection</strong></p><p>
					
<pre class="screen">/subsystem=remoting/remote-outbound-connection=new-remote-outbound-connection:add(outbound-socket-binding-ref=outbound-socket-binding)</pre>

				</p></div><div class="formalpara"><p class="title"><strong>Deleting a Remote Outbound Connection</strong></p><p>
					
<pre class="screen">/subsystem=remoting/remote-outbound-connection=new-remote-outbound-connection:remove</pre>

				</p></div><p>
				See <a class="link" href="#remote-outbound-connection-attributes" title="Table A.109. remote-outbound-connection Attributes">Remote Outbound Connection Attributes</a> for a full list of the attributes available for configuring a remote outbound connection.
			</p></section><section class="section" id="remoting_local_outbound_connection"><div class="titlepage"><div><div><h2 class="title">18.7. Configuring a Local Outbound Connection</h2></div></div></div><p>
				A local outbound connection is a remoting outbound connection with a protocol of <code class="literal">local</code>, specified only by an outbound socket binding.
			</p><h4 id="updating_an_existing_local_outbound_connection">Updating an Existing Local Outbound Connection</h4><pre class="screen">/subsystem=remoting/local-outbound-connection=new-local-outbound-connection:write-attribute(name=outbound-socket-binding-ref,value=outbound-socket-binding)</pre><h4 id="creating_a_new_local_outbound_connection">Creating a New Local Outbound Connection</h4><pre class="screen">/subsystem=remoting/local-outbound-connection=new-local-outbound-connection:add(outbound-socket-binding-ref=outbound-socket-binding)</pre><h4 id="deleting_a_local_outbound_connection">Deleting a Local Outbound Connection</h4><pre class="screen">/subsystem=remoting/local-outbound-connection=new-local-outbound-connection:remove</pre><p>
				See <a class="link" href="#local-outbound-connection-attributes" title="Table A.110. local-outbound-connection Attributes">Local Outbound Connection Attributes</a> for a full list of the attributes available for configuring a local outbound connection.
			</p></section><section class="section" id="config_outside_remoting_subsystem"><div class="titlepage"><div><div><h2 class="title">18.8. Additional Remoting Configuration</h2></div></div></div><p>
				There are several remoting elements that are configured outside of the <code class="literal">remoting</code> subsystem.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">IO worker</span></dt><dd><p class="simpara">
							Use the following command to set the IO worker for remoting:
						</p><pre class="screen">/subsystem=remoting/configuration=endpoint:write-attribute(name=worker, value=<span class="emphasis"><em>WORKER_NAME</em></span>)</pre><p class="simpara">
							See <a class="link" href="#io_configure_worker" title="19.2. Configuring a Worker">Configuring a Worker</a> for details on how to configure an IO worker.
						</p></dd><dt><span class="term">Network interface</span></dt><dd><p class="simpara">
							The network interface used by the <code class="literal">remoting</code> subsystem is the <code class="literal">public</code> interface. This interface is also used by several other subsystems, so exercise caution when modifying it.
						</p><pre class="programlisting language-xml">&lt;interfaces&gt;
   &lt;interface name="management"&gt;
      &lt;inet-address value="${jboss.bind.address.management:127.0.0.1}"/&gt;
   &lt;/interface&gt;
   &lt;interface name="public"&gt;
      &lt;inet-address value="${jboss.bind.address:127.0.0.1}"/&gt;
   &lt;/interface&gt;
   &lt;interface name="unsecure"&gt;
      &lt;inet-address value="${jboss.bind.address.unsecure:127.0.0.1}"/&gt;
   &lt;/interface&gt;
&lt;/interfaces&gt;</pre><p class="simpara">
							In a managed domain, the <code class="literal">public</code> interface is defined per host in its <code class="literal">host.xml</code> file.
						</p></dd><dt><span class="term">Socket binding</span></dt><dd><p class="simpara">
							The default socket binding used by the <code class="literal">remoting</code> subsystem binds to port <code class="literal">8080</code>.
						</p><p class="simpara">
							For more information about socket binding and socket binding groups, see <a class="link" href="#socket_bindings" title="4.2. Socket Bindings">Socket Bindings</a>.
						</p></dd><dt><span class="term">Remoting connector reference for EJB</span></dt><dd><p class="simpara">
							The <code class="literal">ejb3</code> subsystem contains a reference to the remoting connector for remote method invocations. The following is the default configuration:
						</p><pre class="programlisting language-xml">&lt;remote connector-ref="remoting-connector" thread-pool-name="default"/&gt;</pre></dd><dt><span class="term">Secure transport configuration</span></dt><dd><p class="simpara">
							Remoting transports use STARTTLS to use a secure connection, such as HTTPS, Secure Servlet, if the client requests it. The same socket binding, or network port, is used for secured and unsecured connections, so no additional server-side configuration is necessary. The client requests the secure or unsecured transport, as its needs dictate. JBoss EAP components that use remoting, such as EJBs, ORB, and the JMS provider, request secured interfaces by default.
						</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								STARTTLS works by activating a secure connection if the client requests it, and otherwise defaults to an unsecured connection. It is inherently susceptible to a man-in-the-middle exploit, where an attacker intercepts the request of the client and modifies it to request an unsecured connection. Clients must be written to fail appropriately if they do not receive a secure connection, unless an unsecured connection is an appropriate fall-back.
							</p></div></div></dd></dl></div></section></section><section class="chapter" id="configuring_the_io_subsystem"><div class="titlepage"><div><div><h1 class="title">Chapter 19. Configuring the IO Subsystem</h1></div></div></div><section class="section" id="io_subsystem_overview"><div class="titlepage"><div><div><h2 class="title">19.1. IO Subsystem Overview</h2></div></div></div><p>
				The <code class="literal">io</code> subsystem defines the XNIO <a class="link" href="#io_configure_worker" title="19.2. Configuring a Worker">workers</a> and <a class="link" href="#io_configure_buffer_pool" title="19.3. Configuring a Buffer Pool">buffer pools</a> used by other subsystems, such as Undertow and Remoting. These workers and buffer pools are defined within the following components in the <code class="literal">io</code> subsystem:
			</p><h4 id="default_io_subsystem_configuration">Default IO Subsystem Configuration</h4><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:io:3.0"&gt;
    &lt;worker name="default"/&gt;
    &lt;buffer-pool name="default"/&gt;
&lt;/subsystem&gt;</pre></section><section class="section" id="io_configure_worker"><div class="titlepage"><div><div><h2 class="title">19.2. Configuring a Worker</h2></div></div></div><p>
				Workers are XNIO worker instances. An XNIO worker instance is an abstraction layer for the Java NIO APIs, which provide functionality such as management of IO and worker threads as well as SSL support. By default, JBoss EAP provides single worker called <code class="literal">default</code>, but more can be defined.
			</p><h4 id="updating_an_existing_worker">Updating an Existing Worker</h4><p>
				To update an existing worker:
			</p><pre class="screen">/subsystem=io/worker=default:write-attribute(name=io-threads,value=10)</pre><pre class="screen">reload</pre><h4 id="creating_a_new_worker">Creating a New Worker</h4><p>
				To create a new worker:
			</p><pre class="screen">/subsystem=io/worker=newWorker:add</pre><h4 id="deleting_a_worker">Deleting a Worker</h4><p>
				To delete a worker:
			</p><pre class="screen">/subsystem=io/worker=newWorker:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring workers, please see the <a class="link" href="#io_attributes" title="A.31. IO Subsystem Attributes">IO Subsystem Attributes</a> section.
			</p></section><section class="section" id="io_configure_buffer_pool"><div class="titlepage"><div><div><h2 class="title">19.3. Configuring a Buffer Pool</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					IO buffer pools are deprecated as of JBoss EAP 7.2. While they are still set as the default in the current release, they will be replaced by <a class="link" href="#configure_undertow_buffer_pools" title="17.3. Configuring Byte Buffer Pools">Undertow byte buffer pools</a> in a future release.
				</p></div></div><p>
				Buffer Pools are pooled NIO buffer instances. Changing the buffer size has a big impact on application performance. For most servers, the ideal size is usually 16k.
			</p><h4 id="updating_an_existing_buffer_pool">Updating an Existing Buffer Pool</h4><p>
				To update an existing buffer pool:
			</p><pre class="screen">/subsystem=io/buffer-pool=default:write-attribute(name=direct-buffers,value=true)</pre><pre class="screen">reload</pre><h4 id="creating_a_buffer_pool">Creating a Buffer Pool</h4><p>
				To create a new buffer pool:
			</p><pre class="screen">/subsystem=io/buffer-pool=newBuffer:add</pre><h4 id="deleting_a_buffer_pool">Deleting a Buffer Pool</h4><p>
				To delete a buffer pool:
			</p><pre class="screen">/subsystem=io/buffer-pool=newBuffer:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring buffer pools, please see the <a class="link" href="#io_attributes" title="A.31. IO Subsystem Attributes">IO Subsystem Attributes</a> section.
			</p></section><section class="section" id="tuning_io_subsystem"><div class="titlepage"><div><div><h2 class="title">19.4. Tuning the IO Subsystem</h2></div></div></div><p>
				For tips on monitoring and optimizing performance for the <code class="literal">io</code> subsystem, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#io_tuning" title="This content is not included in Mimir.">IO Subsystem Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></section></section><section class="chapter" id="configuring_web_services_subsystem"><div class="titlepage"><div><div><h1 class="title">Chapter 20. Configuring Web Services</h1></div></div></div><p>
			JBoss EAP offers the ability to configure the behavior of deployed web services through the <code class="literal">webservices</code> subsystem using the management console or the management CLI. You can configure published endpoint addresses and handler chains. You can also enable the collection of runtime statistics for web services.
		</p><p>
			For more information, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/developing_web_services_applications/index/">Configuring the Web Services Subsystem</a> in <span class="emphasis"><em>Developing Web Services Applications</em></span> for JBoss EAP.
		</p></section><section class="chapter" id="javaserver_faces_jsf_configuration"><div class="titlepage"><div><div><h1 class="title">Chapter 21. JavaServer Faces (JSF) Configuration</h1></div></div></div><section class="section" id="multi_jsf_implementation_overview"><div class="titlepage"><div><div><h2 class="title">21.1. Multi-JSF Implementation of JavaServer Faces</h2></div></div></div><p>
				The JavaServer Faces (JSF) subsystem allows you to install multiple JSF implementations on the same JBoss EAP server instance. In particular, you can install any version of Sun Mojarra or Apache MyFaces that implements JSF specification 2.1, or later.
			</p><section class="section" id="install_jsf_implementation"><div class="titlepage"><div><div><h3 class="title">21.1.1. Installing a JSF Implementation</h3></div></div></div><p>
					The following procedure describes how to manually install a new JSF implementation and make it the default implementation.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							<a class="link" href="#add_jsf_impl" title="Add the JSF Implementation JAR File">Add the JSF implementation JAR file</a>.
						</li><li class="listitem">
							<a class="link" href="#add_jsf_api" title="Add the JSF API JAR File">Add the JSF API JAR file</a>.
						</li><li class="listitem">
							<a class="link" href="#add_jsf_injection" title="Add the JSF Injection JAR File">Add the JSF injection JAR file</a>.
						</li><li class="listitem">
							<a class="link" href="#add_digester_myfaces" title="Add the commons-digester JAR File for MyFaces">Add the <code class="literal">commons-digester</code> JAR file if you are installing MyFaces</a>.
						</li><li class="listitem">
							<a class="link" href="#set_default_jsf" title="Set the Default JSF Implementation">Set the default JSF implementation</a>.
						</li></ol></div><h5 id="add_jsf_impl">Add the JSF Implementation JAR File</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the appropriate directory structure in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory for the JSF implementation:
						</p><pre class="screen">$ cd <span class="emphasis"><em>EAP_HOME</em></span>/modules/
$ mkdir -p com/sun/jsf-impl/<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								For example, replace <code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span></code> with <code class="literal">mojarra-2.2.11</code> for Mojarra 2.2.11.
							</p></div></div></li><li class="listitem">
							Copy the JSF implementation JAR file to the <code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>/</code> subdirectory.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME-JSF_VERSION</em></span>/</code> subdirectory, create a <code class="literal">module.xml</code> file similar to this <a class="link" href="#jsf_impl_mojarra" title="Example: Mojarra JSF Implementation JAR module.xml">Mojarra template</a> or this <a class="link" href="#jsf_impl_myfaces" title="Example: MyFaces JSF Implementation JAR module.xml">MyFaces template</a>. If you use a template, be sure to use appropriate values for the replaceable variables noted.
						</li></ol></div><h5 id="add_jsf_api">Add the JSF API JAR File</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the appropriate directory structure in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory for the JSF implementation:
						</p><pre class="screen">$ cd <span class="emphasis"><em>EAP_HOME</em></span>/modules/
$ mkdir -p javax/faces/api/<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span></pre></li><li class="listitem">
							Copy the JSF API JAR file to the <code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>/</code> subdirectory.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME-JSF_VERSION</em></span>/</code> subdirectory, create a <code class="literal">module.xml</code> file similar to this <a class="link" href="#jsf_api_mojarra" title="Example: Mojarra JSF API JAR module.xml">Mojarra template</a> or this <a class="link" href="#jsf_api_myfaces" title="Example: MyFaces JSF API JAR module.xml">MyFaces template</a>. If you use a template, be sure to use appropriate values for the replaceable variables noted.
						</li></ol></div><h5 id="add_jsf_injection">Add the JSF Injection JAR File</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the appropriate directory structure in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory for the JSF implementation:
						</p><pre class="screen">$ cd <span class="emphasis"><em>EAP_HOME</em></span>/modules/
$ mkdir -p org/jboss/as/jsf-injection/<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span></pre></li><li class="listitem">
							Copy the <code class="literal">wildfly-jsf-injection</code> and <code class="literal">weld-core-jsf</code> JAR files from <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/system/layers/base/org/jboss/as/jsf-injection/main/</code> to the <code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>/</code> subdirectory.
						</li><li class="listitem">
							In the <code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME-JSF_VERSION</em></span>/</code> subdirectory, create a <code class="literal">module.xml</code> file similar to this <a class="link" href="#jsf_injection_mojarra" title="Example: Mojarra JSF Injection JAR module.xml">Mojarra template</a> or this <a class="link" href="#jsf_injection_myfaces" title="Example: MyFaces JSF Injection JAR module.xml">MyFaces template</a>. If you use a template, be sure to use appropriate values for the replaceable variables noted.
						</li></ol></div><h5 id="add_digester_myfaces">Add the commons-digester JAR File for MyFaces</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the appropriate directory structure in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory for the <code class="literal">commons-digester</code> JAR:
						</p><pre class="screen">$ cd <span class="emphasis"><em>EAP_HOME</em></span>/modules/
$ mkdir -p org/apache/commons/digester/main</pre></li><li class="listitem">
							Download the <a class="link mimir-link-warn" href="http://search.maven.org/remotecontent?filepath=commons-digester/commons-digester/1.8/commons-digester-1.8.jar" title="Mimir does not include content from: search.maven.org"><code class="literal">commons-digester</code></a> JAR file and copy it to the <code class="literal">main/</code> subdirectory.
						</li><li class="listitem">
							In the <code class="literal">main/</code> subdirectory, create a <code class="literal">module.xml</code> file similar to this <a class="link" href="#jsf_commons_digester_myfaces" title="Example: MyFaces commons-digester JAR module.xml">template</a>. If you use the template, be sure to use appropriate values for the replaceable variables noted.
						</li></ol></div><h5 id="set_default_jsf">Set the Default JSF Implementation</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run the following management CLI command to set the new JSF implementation as the default implementation:
						</p><pre class="screen">/subsystem=jsf:write-attribute(name=default-jsf-impl-slot,value=<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>)</pre></li><li class="listitem">
							Restart the JBoss EAP server for the changes to take effect.
						</li></ol></div></section><section class="section" id="multi_jsf_implementation_support"><div class="titlepage"><div><div><h3 class="title">21.1.2. Multi-JSF Implementation Support</h3></div></div></div><p>
					JBoss EAP 7.3 ships with a single JSF implementation, a <a class="link mimir-link-warn" href="https://jcp.org/en/jsr/detail?id=372" title="Mimir does not include content from: jcp.org">JSF 2.3</a> implementation based on Mojarra.
				</p><p>
					Multi-JSF allows the installation of multiple JSF implementations and versions on the same JBoss EAP server. The goal is to allow the use of any of the JSF implementations, MyFaces or Mojarra, and any version of those implementations from JSF 2.1 and beyond. Multi-JSF provides an implementation that is fully integrated with the container, which allows more efficient annotation processing, lifecycle handling, and other integration advantages.
				</p><section class="section" id="working_of_the_multi_jsf_implementation"><div class="titlepage"><div><div><h4 class="title">21.1.2.1. Working of the Multi-JSF Implementation</h4></div></div></div><p>
						The way multi-JSF works is that for each JSF version, a new slot is created in the modules path under <code class="literal">com.sun.jsf-impl</code>, <code class="literal">javax.faces.api</code>, and <code class="literal">org.jboss.as.jsf-injection</code>. When the <code class="literal">jsf</code> subsystem is started, it scans the module path to find all the installed JSF implementations. When the <code class="literal">jsf</code> subsystem deploys a web application containing the specified context parameter, it adds the slotted modules to the deployment.
					</p><p>
						For example, to indicate that the JSF application should use MyFaces 2.2.12, assuming MyFaces 2.2.12 has been installed on the server, the following context parameter must be added:
					</p><pre class="programlisting language-java">&lt;context-param&gt;
   &lt;param-name&gt;org.jboss.jbossfaces.<span class="emphasis"><em>JSF_CONFIG_NAME</em></span>&lt;/param-name&gt;
   &lt;param-value&gt;myfaces-2.2.12&lt;/param-value&gt;
&lt;/context-param&gt;</pre></section><section class="section" id="changing_the_default_jsf_implementation"><div class="titlepage"><div><div><h4 class="title">21.1.2.2. Changing the Default JSF Implementation</h4></div></div></div><p>
						The multi-JSF feature includes the <code class="literal">default-jsf-impl-slot</code> attribute in the <code class="literal">jsf</code> subsystem. This attribute allows you to change the default JSF implementation, as described in the following procedure:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Use the <code class="literal">write-attribute</code> command to set the value of the <code class="literal">default-jsf-impl-slot</code> attribute to one of the active JSF implementations:
							</p><pre class="screen">/subsystem=jsf:write-attribute(name=default-jsf-impl-slot,value=<span class="emphasis"><em>JSF_IMPLEMENTATION</em></span>)</pre></li><li class="listitem"><p class="simpara">
								Restart the JBoss EAP server for the change to take effect.
							</p><pre class="screen">reload</pre></li></ol></div><p>
						To see which JSF implementations are installed, you can execute the <code class="literal">list-active-jsf-impls</code> operation.
					</p><pre class="screen">/subsystem=jsf:list-active-jsf-impls
{
    "outcome" =&gt; "success",
    "result" =&gt; [
        "myfaces-2.1.12",
        "mojarra-2.2.0-m05",
        "main"
    ]
}</pre></section></section></section><section class="section" id="disallow_doctype_declarations"><div class="titlepage"><div><div><h2 class="title">21.2. Disallowing DOCTYPE Declarations</h2></div></div></div><p>
				You can use the following management CLI commands to disallow <code class="literal">DOCTYPE</code> declarations in JSF deployments:
			</p><pre class="screen">/subsystem=jsf:write-attribute(name=disallow-doctype-decl,value=true)
reload</pre><p>
				You can override this setting for a particular JSF deployment by adding the <code class="literal">com.sun.faces.disallowDoctypeDecl</code> context parameter to the deployment’s <code class="literal">web.xml</code> file:
			</p><pre class="programlisting language-xml">&lt;context-param&gt;
  &lt;param-name&gt;com.sun.faces.disallowDoctypeDecl&lt;/param-name&gt;
  &lt;param-value&gt;false&lt;/param-value&gt;
&lt;/context-param&gt;</pre></section></section><section class="chapter" id="configuring_batch_applications"><div class="titlepage"><div><div><h1 class="title">Chapter 22. Configuring Batch Applications</h1></div></div></div><p>
			JBoss EAP 7 introduced support for Java batch applications as defined by <a class="link mimir-link-warn" href="https://www.jcp.org/en/jsr/detail?id=352" title="Mimir does not include content from: www.jcp.org">JSR-352</a>. You can configure an environment for running batch applications and manage batch jobs using the <code class="literal">batch-jberet</code> subsystem.
		</p><p>
			For information on developing batch applications, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#java_batch_application_development">Java Batch Application Development</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
		</p><section class="section" id="configuring_batch_jobs"><div class="titlepage"><div><div><h2 class="title">22.1. Configuring Batch Jobs</h2></div></div></div><p>
				You can configure settings for batch jobs using the <code class="literal">batch-jberet</code> subsystem, which is based on the JBeret implementation.
			</p><p>
				The default <code class="literal">batch-jberet</code> subsystem configuration defines an in-memory job repository and default thread pool settings.
			</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:batch-jberet:2.0"&gt;
    &lt;default-job-repository name="in-memory"/&gt;
    &lt;default-thread-pool name="batch"/&gt;
    &lt;job-repository name="in-memory"&gt;
        &lt;in-memory/&gt;
    &lt;/job-repository&gt;
    &lt;thread-pool name="batch"&gt;
        &lt;max-threads count="10"/&gt;
        &lt;keepalive-time time="30" unit="seconds"/&gt;
    &lt;/thread-pool&gt;
&lt;/subsystem&gt;</pre><p>
				By default, any batch jobs stopped during a server suspend will be restarted upon server resume. You can set the <code class="literal">restart-jobs-on-resume</code> property to <code class="literal">false</code> to leave jobs in the <code class="literal">STOPPED</code> state instead.
			</p><pre class="screen">/subsystem=batch-jberet:write-attribute(name=restart-jobs-on-resume,value=false)</pre><p>
				You can also configure the settings for batch <a class="link" href="#configure_batch_job_repositories" title="22.1.1. Configure Batch Job Repositories">job repositories</a> and <a class="link" href="#configure_batch_thread_pools" title="22.1.2. Configure Batch Thread Pools">thread pools</a>.
			</p><section class="section" id="configure_batch_job_repositories"><div class="titlepage"><div><div><h3 class="title">22.1.1. Configure Batch Job Repositories</h3></div></div></div><p>
					This section shows you how to configure in-memory and JDBC job repositories for storing batch job information using the management CLI. You can also configure job repositories using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Batch (JBeret)</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting either <span class="strong strong"><strong>In Memory</strong></span> or <span class="strong strong"><strong>JDBC</strong></span> from the left-hand menu.
				</p><h5 id="add_an_in_memory_job_repository">Add an In-memory Job Repository</h5><p>
					You can add a job repository that stores batch job information in memory.
				</p><pre class="screen">/subsystem=batch-jberet/in-memory-job-repository=<span class="emphasis"><em>REPOSITORY_NAME</em></span>:add</pre><h5 id="add_a_jdbc_job_repository">Add a JDBC Job Repository</h5><p>
					You can add a job repository that stores batch job information in a database. You must specify the name of the datasource for connecting to the database.
				</p><pre class="screen">/subsystem=batch-jberet/jdbc-job-repository=<span class="emphasis"><em>REPOSITORY_NAME</em></span>:add(data-source=<span class="emphasis"><em>DATASOURCE</em></span>)</pre><h5 id="set_a_default_job_repository">Set a Default Job Repository</h5><p>
					You can set an in-memory or JDBC job repository as the default job repository for batch applications.
				</p><pre class="screen">/subsystem=batch-jberet:write-attribute(name=default-job-repository,value=<span class="emphasis"><em>REPOSITORY_NAME</em></span>)</pre><p>
					This will require a server reload.
				</p><pre class="screen">reload</pre></section><section class="section" id="configure_batch_thread_pools"><div class="titlepage"><div><div><h3 class="title">22.1.2. Configure Batch Thread Pools</h3></div></div></div><p>
					This section shows you how to configure thread pools and thread factories to be used for batch jobs using the management CLI. You can also configure thread pools and thread factories using the management console by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>Batch (JBeret)</strong></span>, clicking <span class="strong strong"><strong>View</strong></span>, and selecting either <span class="strong strong"><strong>Thread Factory</strong></span> or <span class="strong strong"><strong>Thread Pool</strong></span> from the left-hand menu.
				</p><h5 id="configure_a_thread_pool">Configure a Thread Pool</h5><p>
					When adding a thread pool, you must specify the <code class="literal">max-threads</code>, which should always be greater than <code class="literal">3</code> as two threads are reserved to ensure partition jobs can execute as expected.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a thread pool.
						</p><pre class="screen">/subsystem=batch-jberet/thread-pool=<span class="emphasis"><em>THREAD_POOL_NAME</em></span>:add(max-threads=10)</pre></li><li class="listitem"><p class="simpara">
							If desired, set a <code class="literal">keepalive-time</code> value.
						</p><pre class="screen">/subsystem=batch-jberet/thread-pool=<span class="emphasis"><em>THREAD_POOL_NAME</em></span>:write-attribute(name=keepalive-time,value={time=60,unit=SECONDS})</pre></li></ol></div><h5 id="use_a_thread_factory">Use a Thread Factory</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a thread factory.
						</p><pre class="screen">/subsystem=batch-jberet/thread-factory=<span class="emphasis"><em>THREAD_FACTORY_NAME</em></span>:add</pre></li><li class="listitem"><p class="simpara">
							Configure the desired attributes for the thread factory.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">group-name</code> - The name of a thread group to create for this thread factory.
								</li><li class="listitem">
									<code class="literal">priority</code> - The thread priority of created threads.
								</li><li class="listitem"><p class="simpara">
									<code class="literal">thread-name-pattern</code> - The template used to create names for threads. The following patterns may be used:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">%%</code> - A percent sign
										</li><li class="listitem">
											<code class="literal">%t</code> - The per-factory thread sequence number
										</li><li class="listitem">
											<code class="literal">%g</code> - The global thread sequence number
										</li><li class="listitem">
											<code class="literal">%f</code> - The factory sequence number
										</li><li class="listitem">
											<code class="literal">%i</code> - The thread ID
										</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Assign the thread factory to a thread pool.
						</p><pre class="screen">/subsystem=batch-jberet/thread-pool=<span class="emphasis"><em>THREAD_POOL_NAME</em></span>:write-attribute(name=thread-factory,value=<span class="emphasis"><em>THREAD_FACTORY_NAME</em></span>)</pre><p class="simpara">
							This will require a server reload.
						</p><pre class="screen">reload</pre></li></ol></div><h5 id="set_a_default_thread_pool">Set a Default Thread Pool</h5><p>
					You can set a different thread pool as the default thread pool.
				</p><pre class="screen">/subsystem=batch-jberet:write-attribute(name=default-thread-pool,value=<span class="emphasis"><em>THREAD_POOL_NAME</em></span>)</pre><p>
					This will require a server reload.
				</p><pre class="screen">reload</pre><h5 id="view_thread_pool_statistics">View Thread Pool Statistics</h5><p>
					You can view runtime information about a batch thread pool using the <code class="literal">read-resource</code> management CLI operation. You must use the <code class="literal">include-runtime=true</code> parameter in order to see this runtime information.
				</p><pre class="screen">/subsystem=batch-jberet/thread-pool=<span class="emphasis"><em>THREAD_POOL_NAME</em></span>:read-resource(include-runtime=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "active-count" =&gt; 0,
        "completed-task-count" =&gt; 0L,
        "current-thread-count" =&gt; 0,
        "keepalive-time" =&gt; undefined,
        "largest-thread-count" =&gt; 0,
        "max-threads" =&gt; 15,
        "name" =&gt; "<span class="emphasis"><em>THREAD_POOL_NAME</em></span>",
        "queue-size" =&gt; 0,
        "rejected-count" =&gt; 0,
        "task-count" =&gt; 0L,
        "thread-factory" =&gt; "<span class="emphasis"><em>THREAD_FACTORY_NAME</em></span>"
    }
}</pre><p>
					You can also view runtime information for batch thread pools using the management console by navigating to the <span class="strong strong"><strong>Batch</strong></span> subsystem from the <span class="strong strong"><strong>Runtime</strong></span> tab.
				</p></section></section><section class="section" id="managing_batch_jobs"><div class="titlepage"><div><div><h2 class="title">22.2. Managing Batch Jobs</h2></div></div></div><p>
				The <code class="literal">batch-jberet</code> subsystem resource for deployments allows you to start, stop, restart, and view execution details for batch jobs. Batch jobs can be managed from the <a class="link" href="#manage_batch_cli" title="Manage Batch Jobs from the Management CLI">management CLI</a> or the <a class="link" href="#manage_batch_console" title="Manage Batch Jobs from the Management Console">management console</a>.
			</p><h4 id="manage_batch_cli">Manage Batch Jobs from the Management CLI</h4><h5 id="restart_a_batch_job">Restart a Batch Job</h5><p>
				You can restart a job that is in a <code class="literal">STOPPED</code> or <code class="literal">FAILED</code> state by providing its execution ID and optionally any properties to use when restarting the batch job.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=batch-jberet:restart-job(execution-id=<span class="emphasis"><em>EXECUTION_ID</em></span>,properties={<span class="emphasis"><em>PROPERTY</em></span>=<span class="emphasis"><em>VALUE</em></span>})</pre><p>
				The execution ID must be the most recent execution of the job instance.
			</p><h5 id="start_a_batch_job">Start a Batch Job</h5><p>
				You can start a batch job by providing the job XML file and optionally any properties to use when starting the batch job.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=batch-jberet:start-job(job-xml-name=<span class="emphasis"><em>JOB_XML_NAME</em></span>,properties={<span class="emphasis"><em>PROPERTY</em></span>=<span class="emphasis"><em>VALUE</em></span>})</pre><h5 id="stop_a_batch_job">Stop a Batch Job</h5><p>
				You can stop a running batch job by providing its execution ID.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=batch-jberet:stop-job(execution-id=<span class="emphasis"><em>EXECUTION_ID</em></span>)</pre><h5 id="view_batch_job_execution_details">View Batch Job Execution Details</h5><p>
				You can view the details of batch job executions. You must use the <code class="literal">include-runtime=true</code> parameter on the <code class="literal">read-resource</code> operation in order to see this runtime information.
			</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=batch-jberet:read-resource(recursive=true,include-runtime=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; {"job" =&gt; {"import-file" =&gt; {
        "instance-count" =&gt; 2,
        "running-executions" =&gt; 0,
        "execution" =&gt; {
            "2" =&gt; {
                "batch-status" =&gt; "COMPLETED",
                "create-time" =&gt; "2016-04-11T22:03:12.708-0400",
                "end-time" =&gt; "2016-04-11T22:03:12.718-0400",
                "exit-status" =&gt; "COMPLETED",
                "instance-id" =&gt; 58L,
                "last-updated-time" =&gt; "2016-04-11T22:03:12.719-0400",
                "start-time" =&gt; "2016-04-11T22:03:12.708-0400"
            },
            "1" =&gt; {
                "batch-status" =&gt; "FAILED",
                "create-time" =&gt; "2016-04-11T21:57:17.567-0400",
                "end-time" =&gt; "2016-04-11T21:57:17.596-0400",
                "exit-status" =&gt; "Error : org.hibernate.exception.ConstraintViolationException: could not execute statement",
                "instance-id" =&gt; 15L,
                "last-updated-time" =&gt; "2016-04-11T21:57:17.597-0400",
                "start-time" =&gt; "2016-04-11T21:57:17.567-0400"
            }
        }
    }}}
}</pre><h4 id="manage_batch_console">Manage Batch Jobs from the Management Console</h4><p>
				To manage batch jobs from the management console, navigate to the <span class="strong strong"><strong>Runtime</strong></span> tab, select the server, select <span class="strong strong"><strong>Batch (JBeret)</strong></span>, and choose the job from the list.
			</p><h5 id="restart_a_batch_job_2">Restart a Batch Job</h5><p>
				Restart a <code class="literal">STOPPED</code> job by selecting the execution and clicking <span class="strong strong"><strong>Restart</strong></span>.
			</p><h5 id="start_a_batch_job_2">Start a Batch Job</h5><p>
				Start a new execution of a batch job by selecting the job and choosing <span class="strong strong"><strong>Start</strong></span> from the drop down.
			</p><h5 id="stop_a_batch_job_2">Stop a Batch Job</h5><p>
				Stop a running batch job by selecting the execution and clicking <span class="strong strong"><strong>Stop</strong></span>.
			</p><h5 id="view_batch_job_execution_details_2">View Batch Job Execution Details</h5><p>
				Job execution details are shown for each execution listed in the table.
			</p></section><section class="section" id="configure_batch_job_security"><div class="titlepage"><div><div><h2 class="title">22.3. Configure Security for Batch Jobs</h2></div></div></div><p>
				You can configure the <code class="literal">batch-jberet</code> subsystem to run batch jobs with an Elytron security domain. This allows batch jobs to be securely suspended and resumed by the same secured identity. For example, a secured RESTful endpoint is created to initiate batch jobs using the <code class="literal">batch-jberet</code> subsystem. If both the RESTful endpoint and <code class="literal">batch-jberet</code> subsystem were secured using the same security domain, or the <code class="literal">batch-jberet</code> security domain trusted the RESTful endpoint’s security domain, batch jobs initiated in this manner could be securely paused and resumed by the same secured identity.
			</p><p>
				Use the following management CLI command to update the <code class="literal">security-domain</code> attribute to configure security for batch jobs.
			</p><pre class="screen">/subsystem=batch-jberet:write-attribute(name=security-domain, value=ExampleDomain)

reload</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Batch jobs require the <code class="literal">org.wildfly.extension.batch.jberet.deployment.BatchPermission</code> permission. It provides <code class="literal">start</code>, <code class="literal">stop</code>, <code class="literal">restart</code>, <code class="literal">abandon</code>, and <code class="literal">read</code> permissions that align with <code class="literal">javax.batch.operations.JobOperator</code>. The <code class="literal">default-permission-mapper</code> mapper provides the <code class="literal">org.wildfly.extension.batch.jberet.deployment.BatchPermission</code> permission.
				</p></div></div></section></section><section class="chapter" id="configuring_the_naming_subsystem"><div class="titlepage"><div><div><h1 class="title">Chapter 23. Configuring the Naming Subsystem</h1></div></div></div><section class="section" id="about_the_naming_subsystem"><div class="titlepage"><div><div><h2 class="title">23.1. About the Naming Subsystem</h2></div></div></div><p>
				The <code class="literal">naming</code> subsystem provides the JNDI implementation for JBoss EAP. You can configure this subsystem to <a class="link" href="#configuring_global_bindings" title="23.2. Configuring Global Bindings">bind entries in global JNDI namespaces</a>. You can also configure it to <a class="link" href="#remote_jndi_interface_configuration" title="23.4. Configuring the Remote JNDI Interface">activate or deactivate the remote JNDI interface</a>.
			</p><p>
				The following is an example of the <code class="literal">naming</code> subsystem XML configuration example with all of the elements and attributes specified.
			</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:naming:2.0"&gt;
    &lt;bindings&gt;
        &lt;simple name="java:global/simple-integer-binding" value="100" type="int" /&gt;
        &lt;simple name="java:global/jboss.org/docs/url" value="https://docs.jboss.org" type="java.net.URL" /&gt;
        &lt;object-factory name="java:global/foo/bar/factory" module="org.foo.bar" class="org.foo.bar.ObjectFactory" /&gt;
        &lt;external-context name="java:global/federation/ldap/example" class="javax.naming.directory.InitialDirContext" cache="true"&gt;
            &lt;environment&gt;
                &lt;property name="java.naming.factory.initial" value="com.sun.jndi.ldap.LdapCtxFactory" /&gt;
                &lt;property name="java.naming.provider.url" value="ldap://ldap.example.com:389" /&gt;
                &lt;property name="java.naming.security.authentication" value="simple" /&gt;
                &lt;property name="java.naming.security.principal" value="uid=admin,ou=system" /&gt;
                &lt;property name="java.naming.security.credentials" value="secret" /&gt;
            &lt;/environment&gt;
        &lt;/external-context&gt;
        &lt;lookup name="java:global/new-alias-name" lookup="java:global/original-name" /&gt;
    &lt;/bindings&gt;
    &lt;remote-naming/&gt;
&lt;/subsystem&gt;</pre></section><section class="section" id="configuring_global_bindings"><div class="titlepage"><div><div><h2 class="title">23.2. Configuring Global Bindings</h2></div></div></div><p>
				The <code class="literal">naming</code> subsystem allows you to bind entries into the <code class="literal">java:global</code>, <code class="literal">java:jboss</code>, or <code class="literal">java</code> global JNDI namespaces; however, it is recommended that you use the standard portable <code class="literal">java:global</code> namespace.
			</p><p>
				Global bindings are configured in the <code class="literal">&lt;bindings&gt;</code> element of the <code class="literal">naming</code> subsystem. Four types of bindings are supported:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#configuring_simple_global_bindings" title="Configuring Simple Bindings">simple bindings</a>
					</li><li class="listitem">
						<a class="link" href="#binding_object_factories" title="Binding Object Factories">object factory bindings</a>
					</li><li class="listitem">
						<a class="link" href="#binding_external_contexts" title="Binding External Contexts">external context bindings</a>
					</li><li class="listitem">
						<a class="link" href="#binding_lookup_aliases" title="Binding Lookup Aliases">binding lookup aliases</a>
					</li></ul></div><h4 id="configuring_simple_global_bindings">Configuring Simple Bindings</h4><p>
				The <code class="literal">simple</code> XML configuration element binds primitive or <code class="literal">java.net.URL</code> entries.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">name</code> attribute is mandatory and specifies the target JNDI name for the entry.
					</li><li class="listitem">
						The <code class="literal">value</code> attribute is mandatory and defines the entry’s value.
					</li><li class="listitem">
						The optional <code class="literal">type</code> attribute, which defaults to <code class="literal">java.lang.String</code>, specifies the type of the entry’s value. In addition to <code class="literal">java.lang.String</code>, you can specify primitive types and their corresponding object wrapper classes, such as <code class="literal">int</code> or <code class="literal">java.lang.Integer</code>, and <code class="literal">java.net.URL</code>.
					</li></ul></div><p>
				The following is an example of a management CLI command that creates a simple binding.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/simple-integer-binding:add(binding-type=simple, type=int, value=100)</pre><div class="formalpara"><p class="title"><strong>Resulting XML Configuration</strong></p><p>
					
<pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:naming:2.0"&gt;
    &lt;bindings&gt;
        &lt;simple name="java:global/simple-integer-binding" value="100" type="int"/&gt;
    &lt;/bindings&gt;
    &lt;remote-naming/&gt;
&lt;/subsystem&gt;</pre>

				</p></div><p>
				Use the following command to remove the binding.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/simple-integer-binding:remove</pre><h4 id="binding_object_factories">Binding Object Factories</h4><p>
				The <code class="literal">object-factory</code> XML configuration element binds <code class="literal">javax.naming.spi.ObjectFactory</code> entries.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">name</code> attribute is mandatory and specifies the target JNDI name for the entry.
					</li><li class="listitem">
						The <code class="literal">class</code> attribute is mandatory and defines the object factory’s Java type.
					</li><li class="listitem">
						The <code class="literal">module</code> attribute is mandatory and specifies the JBoss Module ID where the object factory Java class can be loaded from.
					</li><li class="listitem">
						The optional <code class="literal">environment</code> child element can be used to provide a custom environment to the object factory.
					</li></ul></div><p>
				The following is an example of a management CLI command that creates an object factory binding.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/foo\/bar\/factory:add(binding-type=object-factory, module=org.foo.bar, class=org.foo.bar.ObjectFactory, environment=[p1=v1, p2=v2])</pre><div class="formalpara"><p class="title"><strong>Resulting XML Configuration</strong></p><p>
					
<pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:naming:2.0"&gt;
    &lt;bindings&gt;
        &lt;object-factory name="java:global/foo/bar/factory" module="org.foo.bar" class="org.foo.bar.ObjectFactory"&gt;
            &lt;environment&gt;
                &lt;property name="p1" value="v1" /&gt;
                &lt;property name="p2" value="v2" /&gt;
            &lt;/environment&gt;
        &lt;/object-factory&gt;
    &lt;/bindings&gt;
  &lt;/subsystem&gt;</pre>

				</p></div><p>
				Use the following command to remove the binding.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/foo\/bar\/factory:remove</pre><h4 id="binding_external_contexts">Binding External Contexts</h4><p>
				Federation of external JNDI contexts, such as LDAP context, are achieved using the <code class="literal">external-context</code> XML configuration element.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">name</code> attribute is mandatory and specifies the target JNDI name for the entry.
					</li><li class="listitem">
						The <code class="literal">class</code> attribute is mandatory and indicates the Java initial naming context type used to create the federated context. Note that such type must have a constructor with a single environment map argument.
					</li><li class="listitem">
						The optional <code class="literal">module</code> attribute specifies the JBoss Module ID where any classes required by the external JNDI context can be loaded from.
					</li><li class="listitem">
						The optional <code class="literal">cache</code> attribute, which defaults to <code class="literal">false</code>, indicates whether the external context instance should be cached.
					</li><li class="listitem">
						The optional <code class="literal">environment</code> child element can be used to provide the custom environment needed to look up the external context.
					</li></ul></div><p>
				The following is an example of a management CLI command that creates an external context binding.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/federation\/ldap\/example:add(binding-type=external-context, cache=true, class=javax.naming.directory.InitialDirContext, module=org.jboss.as.naming, environment=[java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory, java.naming.provider.url="ldap://ldap.example.com:389", java.naming.security.authentication=simple, java.naming.security.principal="uid=admin,ou=system", java.naming.security.credentials=secret])</pre><div class="formalpara"><p class="title"><strong>Resulting XML Configuration</strong></p><p>
					
<pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:naming:2.0"&gt;
  &lt;bindings&gt;
    &lt;external-context name="java:global/federation/ldap/example" module="org.jboss.as.naming" class="javax.naming.directory.InitialDirContext" cache="true"&gt;
      &lt;environment&gt;
        &lt;property name="java.naming.factory.initial" value="com.sun.jndi.ldap.LdapCtxFactory"/&gt;
        &lt;property name="java.naming.provider.url" value="ldap://ldap.example.com:389"/&gt;
        &lt;property name="java.naming.security.authentication" value="simple"/&gt;
        &lt;property name="java.naming.security.principal" value="uid=admin,ou=system"/&gt;
        &lt;property name="java.naming.security.credentials" value="secret"/&gt;
      &lt;/environment&gt;
    &lt;/external-context&gt;
  &lt;/bindings&gt;
&lt;/subsystem&gt;</pre>

				</p></div><p>
				Use the following command to remove the binding.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/federation\/ldap\/example:remove</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Resource look up for JNDI providers that do not properly implement the <code class="literal">lookup(Name)</code> method can result in a "javax.naming.InvalidNameException: Only support CompoundName names" error.
				</p><p>
					You might be able to work around this issue by specifying that the external context environment use the <code class="literal">lookup(String)</code> method instead by adding the following property; however, this can result in a performance degradation.
				</p><pre class="programlisting language-xml">&lt;property name="org.jboss.as.naming.lookup.by.string" value="true"/&gt;</pre></div></div><h4 id="binding_lookup_aliases">Binding Lookup Aliases</h4><p>
				The <code class="literal">lookup</code> element allows you to bind existing entries into additional names or aliases.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">name</code> attribute is mandatory and specifies the target JNDI name for the entry.
					</li><li class="listitem">
						The <code class="literal">lookup</code> attribute is mandatory and indicates the source JNDI name.
					</li></ul></div><p>
				The following is an example of a management CLI command that binds an existing entry to an alias.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/new-alias-name:add(binding-type=lookup, lookup=java\:global\/original-name)</pre><div class="formalpara"><p class="title"><strong>Resulting XML Configuration</strong></p><p>
					
<pre class="programlisting language-xml">&lt;lookup name="java:global/new-alias-name" lookup="java:global/original-name" /&gt;</pre>

				</p></div><p>
				Use the following command to remove the binding.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/c:remove</pre></section><section class="section" id="dynamically_change_jndi_bindings"><div class="titlepage"><div><div><h2 class="title">23.3. Dynamically Change JNDI Bindings</h2></div></div></div><p>
				JBoss EAP 7.1 introduced the ability to dynamically change JNDI bindings without forcing a server reload or restart. This feature can be useful if the network service endpoints are dynamically reconfigured due to version updates, testing requirements, or application feature updates.
			</p><p>
				To update a JNDI binding, use the <code class="literal">rebind</code> operation. The <code class="literal">rebind</code> operation takes the same arguments as the <code class="literal">add</code> operation. This command works for all binding types except for <code class="literal">external-context</code> binding types. External context bindings require additional dependencies, which affect the Modular Service Container (MSC) state, so they cannot be restarted without restarting services.
			</p><p>
				The following command dynamically changes the JNDI binding that was defined in the <a class="link" href="#configuring_simple_global_bindings" title="Configuring Simple Bindings">Configuring Simple Bindings</a> example.
			</p><pre class="screen">/subsystem=naming/binding=java\:global\/simple-integer-binding:rebind(binding-type=simple, type=int, value=200)</pre><p>
				For more information about how to configure global bindings in the <code class="literal">naming</code> subsystem, see <a class="link" href="#configuring_global_bindings" title="23.2. Configuring Global Bindings">Configuring Global Bindings</a>.
			</p></section><section class="section" id="remote_jndi_interface_configuration"><div class="titlepage"><div><div><h2 class="title">23.4. Configuring the Remote JNDI Interface</h2></div></div></div><p>
				The remote JNDI interface allows clients to look up entries in remote JBoss EAP instances. The <code class="literal">naming</code> subsystem can be configured to deactivate or activate this interface, which is activated by default. The remote JNDI interface is configured using the <code class="literal">&lt;remote-naming&gt;</code> element.
			</p><p>
				Use the following management CLI command to activate or reactivate the remote JNDI interface.
			</p><pre class="screen">/subsystem=naming/service=remote-naming:add</pre><p>
				Use the following management CLI command to deactivate the remote JNDI interface.
			</p><pre class="screen">/subsystem=naming/service=remote-naming:remove</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Only entries within the <code class="literal">java:jboss/exported</code> context are accessible over remote JNDI.
				</p></div></div></section></section><section class="chapter" id="configuring_high_availability"><div class="titlepage"><div><div><h1 class="title">Chapter 24. Configuring High Availability</h1></div></div></div><section class="section" id="intro_to_ha"><div class="titlepage"><div><div><h2 class="title">24.1. Introduction to High Availability</h2></div></div></div><p>
				JBoss EAP provides the following <span class="emphasis"><em>high availability</em></span> services to guarantee the availability of deployed Java EE applications.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Load balancing</span></dt><dd>
							This allows a service to handle a large number of requests by spreading the workload across multiple servers. A client can have timely responses from the service even in the event of a high volume of requests.
						</dd><dt><span class="term">Failover</span></dt><dd>
							This allows a client to have uninterrupted access to a service even in the event of hardware or network failures. If the service fails, another cluster member takes over the client’s requests so that it can continue processing.
						</dd></dl></div><p>
				<span class="emphasis"><em>Clustering</em></span> is a term that encompasses all of these capabilities. Members of a cluster can be configured to share workloads, referred to as load balancing, and pick up client processing in the event of a failure of another cluster member, referred to as failover.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					It is important to keep in mind that the JBoss EAP operating mode chosen, either <span class="emphasis"><em>standalone server</em></span> or <span class="emphasis"><em>managed domain</em></span>, pertains to how you want to manage your servers. High availability services can be configured in JBoss EAP regardless of its operating mode.
				</p></div></div><p>
				JBoss EAP supports high availability at several different levels using various components. Some of those components of the runtime and your applications that can be made highly-available are:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Instances of the application server
					</li><li class="listitem">
						Web applications, when used in conjunction with the internal JBoss Web Server, Apache HTTP Server, Microsoft IIS, or Oracle iPlanet Web Server
					</li><li class="listitem">
						Stateful and stateless session Enterprise JavaBeans (EJBs)
					</li><li class="listitem">
						Single sign-on (SSO) mechanisms
					</li><li class="listitem">
						HTTP sessions
					</li><li class="listitem">
						JMS services and message-driven beans (MDBs)
					</li><li class="listitem">
						Singleton MSC services
					</li><li class="listitem">
						Singleton deployments
					</li></ul></div><p>
				Clustering is made available to JBoss EAP by the <a class="link" href="#cluster_communication_jgroups" title="24.2. Cluster Communication with JGroups"><code class="literal">jgroups</code></a>, <a class="link" href="#infinispan" title="24.3. Infinispan"><code class="literal">infinispan</code></a>, and <a class="link" href="#mod_cluster-config" title="24.6. The mod_cluster HTTP Connector"><code class="literal">modcluster</code></a> subsystems. The <span class="emphasis"><em>ha</em></span> and <span class="emphasis"><em>full-ha</em></span> profiles have these systems enabled. In JBoss EAP, these services start up and shut down on demand, but they will only start up if an application configured as <span class="emphasis"><em>distributable</em></span> is deployed on the servers.
			</p><p>
				See the JBoss EAP <span class="emphasis"><em>Development Guide</em></span> for how to <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#enable_session_replication_in_your_application">mark an application as distributable</a>.
			</p></section><section class="section" id="cluster_communication_jgroups"><div class="titlepage"><div><div><h2 class="title">24.2. Cluster Communication with JGroups</h2></div></div></div><section class="section" id="about_jgroups"><div class="titlepage"><div><div><h3 class="title">24.2.1. About JGroups</h3></div></div></div><p>
					JGroups is a toolkit for reliable messaging and can be used to create clusters whose nodes can send messages to each other.
				</p><p>
					The <code class="literal">jgroups</code> subsystem provides group communication support for high availability services in JBoss EAP. It allows you to configure named channels and protocol stacks as well as view runtime statistics for channels. The <code class="literal">jgroups</code> subsystem is available when using a configuration that provides high availability capabilities, such as the <span class="emphasis"><em>ha</em></span> or <span class="emphasis"><em>full-ha</em></span> profile in a managed domain, or the <code class="literal">standalone-ha.xml</code> or <code class="literal">standalone-full-ha.xml</code> configuration file for a standalone server.
				</p><p>
					JBoss EAP is preconfigured with two JGroups stacks:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">udp </span></dt><dd>
								The nodes in the cluster use User Datagram Protocol (UDP) multicasting to communicate with each other. This is the default stack.
							</dd><dt><span class="term">tcp </span></dt><dd>
								The nodes in the cluster use Transmission Control Protocol (TCP) to communicate with each other.
							</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						TCP has more overhead and is often considered slower than UDP since it handles error checking, packet ordering, and congestion control itself. JGroups handles these features for UDP, whereas TCP guarantees them itself. TCP is a good choice when using JGroups on unreliable or high congestion networks, or when multicast is not available.
					</p></div></div><p>
					You can use the preconfigured stacks or define your own to suit your system’s specific requirements. For additional information on the available protocols and their attributes, see the following sections.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#jgroups_subsystem_attributes" title="A.33. JGroups Subsystem Attributes">JGroups Subsystem Attributes</a>
						</li><li class="listitem">
							<a class="link" href="#jgroups_protocols" title="A.34. JGroups Protocols">JGroups Protocols</a>
						</li></ul></div></section><section class="section" id="switch_default_jgroups_channel_tcp"><div class="titlepage"><div><div><h3 class="title">24.2.2. Switch the Default JGroups Channel to Use TCP</h3></div></div></div><p>
					By default, cluster nodes communicate using the UDP protocol. The default <code class="literal">ee</code> JGroups channel uses the predefined <code class="literal">udp</code> protocol stack.
				</p><pre class="programlisting language-xml">&lt;channels default="ee"&gt;
  &lt;channel name="ee" stack="udp"/&gt;
&lt;/channels&gt;
&lt;stacks&gt;
  &lt;stack name="udp"&gt;
    &lt;transport type="UDP" socket-binding="jgroups-udp"/&gt;
    &lt;protocol type="PING"/&gt;
    ...
  &lt;/stack&gt;
  &lt;stack name="tcp"&gt;
    &lt;transport type="TCP" socket-binding="jgroups-tcp"/&gt;
    &lt;protocol type="MPING" socket-binding="jgroups-mping"/&gt;
    ...
  &lt;/stack&gt;
&lt;/stacks&gt;</pre><p>
					Some networks only allow TCP to be used. Use the following management CLI command to switch the <code class="literal">ee</code> channel to use the preconfigured <code class="literal">tcp</code> stack.
				</p><pre class="screen">/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)</pre><p>
					This default <code class="literal">tcp</code> stack uses the <code class="literal">MPING</code> protocol, which uses IP multicast to discover the initial cluster membership. See the following sections for configuring stacks for alternative membership discovery protocols:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Using the <a class="link" href="#configure_tcpping_stack" title="24.2.3. Configure TCPPING">TCPPING</a> protocol to define a static cluster membership list.
						</li><li class="listitem">
							Using the <a class="link" href="#configure_tcpgossip_stack" title="24.2.4. Configure TCPGOSSIP">TCPGOSSIP</a> protocol to use an external gossip router to discover the members of a cluster.
						</li><li class="listitem">
							Using the <a class="link" href="#configure_jdbc_ping_stack" title="24.2.5. Configure JDBC_PING">JDBC_PING</a> protocol to use a database to discover members of a cluster.
						</li></ul></div></section><section class="section" id="configure_tcpping_stack"><div class="titlepage"><div><div><h3 class="title">24.2.3. Configure TCPPING</h3></div></div></div><p>
					This procedure creates a new JGroups stack that uses the <code class="literal">TCPPING</code> protocol to define a static cluster membership list. A base script is provided that creates a <code class="literal">tcpping</code> stack and sets the default <code class="literal">ee</code> channel to use this new stack. The management CLI commands in this script must be customized for your environment and will be processed as a batch.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Copy the following script into a text editor and save it to the local file system.
						</p><pre class="screen"># Define the socket bindings
/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=jgroups-host-a:add(host=<span class="emphasis"><em>HOST_A</em></span>,port=7600)
/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=jgroups-host-b:add(host=<span class="emphasis"><em>HOST_B</em></span>,port=7600)
batch
# Add the tcpping stack
/subsystem=jgroups/stack=tcpping:add
/subsystem=jgroups/stack=tcpping/transport=TCP:add(socket-binding=jgroups-tcp)
/subsystem=jgroups/stack=tcpping/protocol=TCPPING:add(socket-bindings=[jgroups-host-a,jgroups-host-b])
/subsystem=jgroups/stack=tcpping/protocol=MERGE3:add
/subsystem=jgroups/stack=tcpping/protocol=FD_SOCK:add
/subsystem=jgroups/stack=tcpping/protocol=FD_ALL:add
/subsystem=jgroups/stack=tcpping/protocol=VERIFY_SUSPECT:add
/subsystem=jgroups/stack=tcpping/protocol=pbcast.NAKACK2:add
/subsystem=jgroups/stack=tcpping/protocol=UNICAST3:add
/subsystem=jgroups/stack=tcpping/protocol=pbcast.STABLE:add
/subsystem=jgroups/stack=tcpping/protocol=pbcast.GMS:add
/subsystem=jgroups/stack=tcpping/protocol=MFC:add
/subsystem=jgroups/stack=tcpping/protocol=FRAG2:add
# Set tcpping as the stack for the ee channel
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcpping)
run-batch
reload</pre><p class="simpara">
							Note that the order of protocols defined is important. You can also insert a protocol at a particular index by passing an <code class="literal">add-index</code> value to the <code class="literal">add</code> command. The index is zero-based, so the following management CLI command adds the <code class="literal">UNICAST3</code> protocol as the seventh protocol.
						</p><pre class="screen">/subsystem=jgroups/stack=tcpping/protocol=UNICAST3:add(add-index=6)</pre></li><li class="listitem"><p class="simpara">
							Modify the script for your environment.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									If you are running in a managed domain, you must specify which profile to update by preceding the <code class="literal">/subsystem=jgroups</code> commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
								</li><li class="listitem"><p class="simpara">
									Adjust the following properties as appropriate for your environment:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">socket-bindings</code>: A comma-separated list of the host and port combinations that are considered well-known and will be available to look up the initial membership. See <a class="link" href="#configuring_socket_bindings" title="4.2.3. Configuring Socket Bindings">Configuring Socket Bindings</a> for more information on defining socket bindings.
										</li><li class="listitem">
											<code class="literal">initial_hosts</code>: A comma-separated list of the host and port combinations, using the syntax <code class="literal"><span class="emphasis"><em>HOST</em></span>[<span class="emphasis"><em>PORT</em></span>]</code>, that are considered well-known and will be available to look up the initial membership, for example, <code class="literal">host1[1000],host2[2000]</code>.
										</li><li class="listitem">
											<code class="literal">port_range</code>: This property is used to extend the <code class="literal">initial_hosts</code> port range by the specified value. For example, if you set the <code class="literal">initial_hosts</code> to <code class="literal">host1[1000],host2[2000]</code>, and the <code class="literal">port_range</code> to <code class="literal">1</code>, the <code class="literal">initial_hosts</code> setting expands to <code class="literal">host1[1000],host1[1001],host2[2000],host2[2001]</code>. This property only works with the <code class="literal">initial_hosts</code> property.
										</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Run the script by passing the script file to the management CLI.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --file=<span class="emphasis"><em>/path/to/SCRIPT_NAME</em></span></pre></li></ol></div><p>
					The TCPPING stack is now available and TCP is used for network communication.
				</p></section><section class="section" id="configure_tcpgossip_stack"><div class="titlepage"><div><div><h3 class="title">24.2.4. Configure TCPGOSSIP</h3></div></div></div><p>
					This procedure creates a new JGroups stack that uses the <code class="literal">TCPGOSSIP</code> protocol to use an external gossip router to discover the members of a cluster. A base script is provided that creates a <code class="literal">tcpgossip</code> stack and sets the default <code class="literal">ee</code> channel to use this new stack. The management CLI commands in this script must be customized for your environment and will be processed as a batch.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Copy the following script into a text editor and save it to the local file system.
						</p><pre class="screen"># Define the socket bindings
/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=jgroups-host-a:add(host=<span class="emphasis"><em>HOST_A</em></span>,port=13001)
batch
# Add the tcpgossip stack
/subsystem=jgroups/stack=tcpgossip:add
/subsystem=jgroups/stack=tcpgossip/transport=TCP:add(socket-binding=jgroups-tcp)
/subsystem=jgroups/stack=tcpgossip/protocol=TCPGOSSIP:add(socket-bindings=[jgroups-host-a])
/subsystem=jgroups/stack=tcpgossip/protocol=MERGE3:add
/subsystem=jgroups/stack=tcpgossip/protocol=FD_SOCK:add
/subsystem=jgroups/stack=tcpgossip/protocol=FD_ALL:add
/subsystem=jgroups/stack=tcpgossip/protocol=VERIFY_SUSPECT:add
/subsystem=jgroups/stack=tcpgossip/protocol=pbcast.NAKACK2:add
/subsystem=jgroups/stack=tcpgossip/protocol=UNICAST3:add
/subsystem=jgroups/stack=tcpgossip/protocol=pbcast.STABLE:add
/subsystem=jgroups/stack=tcpgossip/protocol=pbcast.GMS:add
/subsystem=jgroups/stack=tcpgossip/protocol=MFC:add
/subsystem=jgroups/stack=tcpgossip/protocol=FRAG2:add
# Set tcpgossip as the stack for the ee channel
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcpgossip)
run-batch
reload</pre><p class="simpara">
							Note that the order of protocols defined is important. You can also insert a protocol at a particular index by passing an <code class="literal">add-index</code> value to the <code class="literal">add</code> command. The index is zero-based, so the following management CLI command adds the <code class="literal">UNICAST3</code> protocol as the seventh protocol.
						</p><pre class="screen">/subsystem=jgroups/stack=tcpgossip/protocol=UNICAST3:add(add-index=6)</pre></li><li class="listitem"><p class="simpara">
							Modify the script for your environment.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									If you are running in a managed domain, you must specify which profile to update by preceding the <code class="literal">/subsystem=jgroups</code> commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
								</li><li class="listitem"><p class="simpara">
									Adjust the following properties as appropriate for your environment:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<code class="literal">socket-bindings</code>: A comma-separated list of the host and port combinations that are considered well-known and will be available to look up the initial membership. See <a class="link" href="#configuring_socket_bindings" title="4.2.3. Configuring Socket Bindings">Configuring Socket Bindings</a> for more information on defining socket bindings.
										</li><li class="listitem">
											<code class="literal">initial_hosts</code>: A comma-separated list of the host and port combinations, using the syntax <code class="literal"><span class="emphasis"><em>HOST</em></span>[<span class="emphasis"><em>PORT</em></span>]</code>, that are considered well-known and will be available to look up the initial membership, for example, <code class="literal">host1[1000],host2[2000]</code>.
										</li><li class="listitem">
											<code class="literal">port_range</code>: This property is used to extend the <code class="literal">initial_hosts</code> port range by the specified value. For example, if you set the <code class="literal">initial_hosts</code> to <code class="literal">host1[1000],host2[2000]</code>, and the <code class="literal">port_range</code> to <code class="literal">1</code>, the <code class="literal">initial_hosts</code> setting expands to <code class="literal">host1[1000],host1[1001],host2[2000],host2[2001]</code>. This property only works with the <code class="literal">initial_hosts</code> property.
										</li><li class="listitem">
											<code class="literal">reconnect_interval</code>: The interval in milliseconds by which a disconnected stub attempts to reconnect to the gossip router.
										</li><li class="listitem">
											<code class="literal">sock_conn_timeout</code>: The maximum time for socket creation. The default is <code class="literal">1000</code> milliseconds.
										</li><li class="listitem">
											<code class="literal">sock_read_timeout</code>: The maximum time in milliseconds to block on a read. A value of <code class="literal">0</code> will block indefinitely.
										</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Run the script by passing the script file to the management CLI.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --file=<span class="emphasis"><em>/path/to/SCRIPT_NAME</em></span></pre></li></ol></div><p>
					The TCPGOSSIP stack is now available and TCP is used for network communication. This stack is configured for use with a gossip router so that JGroups cluster members can find other cluster members.
				</p></section><section class="section" id="configure_jdbc_ping_stack"><div class="titlepage"><div><div><h3 class="title">24.2.5. Configure JDBC_PING</h3></div></div></div><p>
					You can use the <code class="literal">JDBC_PING</code> protocol to manage and discover membership in a cluster.
				</p><p>
					JDBC_PING uses a database, specified in a data-source, to list the members of the cluster.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Create a data-source to connect to the database you want to use to manage cluster membership.
						</li><li class="listitem"><p class="simpara">
							Copy the following script into a text editor and save it to the local file system.
						</p><pre class="screen">batch
# Add the JDBC_PING stack
/subsystem=jgroups/stack=JDBC_PING:add
/subsystem=jgroups/stack=JDBC_PING/transport=TCP:add(socket-binding=jgroups-tcp)
/subsystem=jgroups/stack=JDBC_PING/protocol=JDBC_PING:add(data-source=<span class="emphasis"><em>ExampleDS</em></span>)
/subsystem=jgroups/stack=JDBC_PING/protocol=MERGE3:add
/subsystem=jgroups/stack=JDBC_PING/protocol=FD_SOCK:add
/subsystem=jgroups/stack=JDBC_PING/protocol=FD_ALL:add
/subsystem=jgroups/stack=JDBC_PING/protocol=VERIFY_SUSPECT:add
/subsystem=jgroups/stack=JDBC_PING/protocol=pbcast.NAKACK2:add
/subsystem=jgroups/stack=JDBC_PING/protocol=UNICAST3:add
/subsystem=jgroups/stack=JDBC_PING/protocol=pbcast.STABLE:add
/subsystem=jgroups/stack=JDBC_PING/protocol=pbcast.GMS:add
/subsystem=jgroups/stack=JDBC_PING/protocol=MFC:add
/subsystem=jgroups/stack=JDBC_PING/protocol=FRAG2:add
# Set JDBC_PING as the stack for the ee channel
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=JDBC_PING)
run-batch
reload</pre><p class="simpara">
							Note that the order of protocols defined is important. You can also insert a protocol at a particular index by passing an <code class="literal">add-index</code> value to the <code class="literal">add</code> command. The index is zero-based, so the following management CLI command adds the <code class="literal">UNICAST3</code> protocol as the seventh protocol.
						</p><pre class="screen">/subsystem=jgroups/stack=JDBC_PING/protocol=UNICAST3:add(add-index=6)</pre></li><li class="listitem"><p class="simpara">
							Modify the script for your environment.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									If you are running in a managed domain, you must specify which profile to update by preceding the <code class="literal">/subsystem=jgroups</code> commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
								</li><li class="listitem">
									Replace '<span class="emphasis"><em>ExampleDS</em></span>' with the name of the data-source you defined in Step 1.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Run the script by passing the script file to the management CLI.
						</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --file=<span class="emphasis"><em>/path/to/SCRIPT_NAME</em></span></pre></li></ol></div><p>
					The JDBC_PING stack is now available and TCP is used for network communication.
				</p><h4 id="related_information">Related information</h4><p>
					JDBC_PING: <a class="link mimir-link-warn" href="https://developer.jboss.org/wiki/JDBCPING" title="Mimir does not include content from: developer.jboss.org">https://developer.jboss.org/wiki/JDBCPING</a>
				</p><p>
					Creating a data-source: <a class="link" href="#about_jboss_eap_datasources" title="12.1. About JBoss EAP Datasources">About JBoss EAP Datasources</a>
				</p></section><section class="section" id="binding_jgroups_to_a_network_interface"><div class="titlepage"><div><div><h3 class="title">24.2.6. Binding JGroups to a Network Interface</h3></div></div></div><p>
					By default, JGroups only binds to the <code class="literal">private</code> network interface, which points to localhost in the default configuration. For security reasons, JGroups will not bind to the network interface defined by the <code class="literal">-b</code> argument specified during JBoss EAP startup, as clustering traffic should not be exposed on a public network interface.
				</p><p>
					See the <a class="link" href="#network_and_port_configuration" title="Chapter 4. Network and Port Configuration">Network and Port Configuration</a> chapter in this guide for information about how to configure network interfaces.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						For security reasons, JGroups should only be bound to a non-public network interface. For performance reasons, we also recommend that the network interface for JGroups traffic should be part of a dedicated Virtual Local Area Network (VLAN).
					</p></div></div></section><section class="section" id="securing_cluster"><div class="titlepage"><div><div><h3 class="title">24.2.7. Securing a Cluster</h3></div></div></div><p>
					There are several concerns to address in order to run a cluster securely:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Preventing unauthorized nodes from joining the cluster. This is addressed by requiring <a class="link" href="#configure_jgroups_auth" title="24.2.7.1. Configuring Authentication">authentication</a>.
						</li><li class="listitem">
							Preventing non-members from communicating with cluster members. This is addressed by <a class="link" href="#configure_jgroups_encryption" title="24.2.7.2. Configuring Encryption">encrypting messages</a>.
						</li></ul></div><section class="section" id="configure_jgroups_auth"><div class="titlepage"><div><div><h4 class="title">24.2.7.1. Configuring Authentication</h4></div></div></div><p>
						JGroups authentication is performed by the <code class="literal">AUTH</code> protocol. The purpose is to ensure that only authenticated nodes can join a cluster.
					</p><p>
						In the applicable server configuration file, add the <code class="literal">AUTH</code> protocol with the appropriate property settings. The <code class="literal">AUTH</code> protocol should be configured immediately before the <code class="literal">pbcast.GMS</code> protocol.
					</p><p>
						The following examples demonstrate using <code class="literal">AUTH</code> with different forms of authorization tokens.
					</p><h6 id="auth_with_a_simple_token">AUTH with a Simple Token</h6><pre class="programlisting language-xml">...
&lt;protocol type="pbcast.STABLE"/&gt;
&lt;auth-protocol type="AUTH"&gt;
  &lt;plain-token&gt;
    &lt;shared-secret-reference clear-text="<span class="emphasis"><em>my_password</em></span>"/&gt;
  &lt;/plain-token&gt;
&lt;/auth-protocol&gt;
&lt;protocol type="pbcast.GMS"/&gt;
...</pre><h6 id="auth_with_a_digest_algorithm_token">AUTH with a Digest Algorithm Token</h6><p>
						This format can be used with any digest algorithm, for example MD5 or SHA-2. The default digest algorithm in JBoss EAP 7.3 is SHA-256, the strongest digest algorithm required to be supported by the JVM. Many JVMs will additionally implement SHA-512.
					</p><pre class="programlisting language-xml">...
&lt;protocol type="pbcast.STABLE"/&gt;
&lt;auth-protocol type="AUTH"&gt;
  &lt;digest-token algorithm="SHA-512"&gt;
    &lt;shared-secret-reference clear-text="<span class="emphasis"><em>my_password</em></span>"/&gt;
  &lt;/digest-token&gt;
&lt;/auth-protocol&gt;
&lt;protocol type="pbcast.GMS"/&gt;
...</pre><h6 id="auth_with_an_x509_token">AUTH with an X509 Token</h6><p>
						This example creates a new keystore in the <code class="literal">elytron</code> subsystem, and references it in the JGroups <code class="literal">AUTH</code> configuration.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create the keystore:
							</p><pre class="screen">$ keytool -genkeypair -alias jgroups_key -keypass my_password -storepass my_password -storetype jks -keystore jgroups.keystore -keyalg RSA</pre></li><li class="listitem"><p class="simpara">
								Add the keystore to the <code class="literal">elytron</code> subsystem using the management CLI:
							</p><pre class="screen">/subsystem=elytron/key-store=jgroups-token-store:add(type=jks,path=/path/to/jgroups.keystore,credential-reference={clear-text=my_password}, required=true)</pre></li><li class="listitem"><p class="simpara">
								In the JGroups stack definition, configure <code class="literal">AUTH</code> to use the keystore:
							</p><pre class="programlisting language-xml">...
&lt;protocol type="pbcast.STABLE"/&gt;
&lt;auth-protocol type="AUTH"&gt;
  &lt;cipher-token algorithm="RSA" key-alias="jgroups_key" key-store="jgroups-token-store"&gt;
    &lt;shared-secret-reference clear-text="my_password"/&gt;
    &lt;key-credential-reference clear-text="my_password"/&gt;
  &lt;/cipher-token&gt;
&lt;/auth-protocol&gt;
&lt;protocol type="pbcast.GMS"/&gt;
...</pre></li></ol></div></section><section class="section" id="configure_jgroups_encryption"><div class="titlepage"><div><div><h4 class="title">24.2.7.2. Configuring Encryption</h4></div></div></div><p>
						To encrypt messages, JGroups uses a secret key that is shared by the members of a cluster. The sender encrypts the message using the shared secret key, and the receiver decrypts the message using the same secret key. With <a class="link" href="#using_sym_encrypt" title="Using Symmetric Encryption">symmetric encryption</a>, which is configured using the <code class="literal">SYM_ENCRYPT</code> protocol, nodes use a shared keystore to retrieve the secret key. With <a class="link" href="#using_asym_encrypt" title="Using Asymmetric Encryption">asymmetric encryption</a>, which is configured using the <code class="literal">ASYM_ENCRYPT</code> protocol, nodes retrieve the secret key from the coordinator of the cluster after being authenticated using <code class="literal">AUTH</code>.
					</p><h6 id="using_sym_encrypt">Using Symmetric Encryption</h6><p>
						In order to use <code class="literal">SYM_ENCRYPT</code>, you must set up a keystore that will be referenced in the JGroups configuration for each node.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create a keystore.
							</p><p class="simpara">
								In the following command, replace <code class="literal"><span class="emphasis"><em>VERSION</em></span></code> with the appropriate JGroups JAR version and <code class="literal"><span class="emphasis"><em>PASSWORD</em></span></code> with a keystore password.
							</p><pre class="screen">$ java -cp <span class="emphasis"><em>EAP_HOME</em></span>/modules/system/layers/base/org/jgroups/main/jgroups-<span class="emphasis"><em>VERSION</em></span>.jar org.jgroups.demos.KeyStoreGenerator --alg AES --size 128 --storeName defaultStore.keystore --storepass <span class="emphasis"><em>PASSWORD</em></span> --alias mykey</pre><p class="simpara">
								This will generate a <code class="literal">defaultStore.keystore</code> file that will be referenced in the JGroups configuration.
							</p></li><li class="listitem"><p class="simpara">
								Once the keystore has been generated it is defined in the <code class="literal">SYM_PROTOCOL</code> using one of two methods.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Specify the keystore <a class="link" href="#using_sym_encrypt_by_directly_referencing_keystore" title="Using Symmetric Encryption by Directly Referencing the Keystore">directly in the configuration</a>.
									</li><li class="listitem">
										Reference the keystore <a class="link" href="#using_sym_encrypt_with_elytron" title="Using Symmetric Encryption with Elytron">using the Elytron subsystem</a>.
									</li></ul></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Configuring <code class="literal">AUTH</code> is optional when using <code class="literal">SYM_ENCRYPT</code>.
						</p></div></div><h5 id="using_sym_encrypt_by_directly_referencing_keystore">Using Symmetric Encryption by Directly Referencing the Keystore</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Configure the <code class="literal">SYM_ENCRYPT</code> protocol in the <code class="literal">jgroups</code> subsystem.
							</p><p class="simpara">
								In the applicable server configuration file, add the <code class="literal">SYM_ENCRYPT</code> protocol with the appropriate property settings. This protocol will reference the previously created keystore. The <code class="literal">SYM_ENCRYPT</code> protocol should be configured immediately before the <code class="literal">pbcast.NAKACK2</code> protocol.
							</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:jgroups:6.0"&gt;
  &lt;stacks&gt;
    &lt;stack name="udp"&gt;
      &lt;transport type="UDP" socket-binding="jgroups-udp"/&gt;
      &lt;protocol type="PING"/&gt;
      &lt;protocol type="MERGE3"/&gt;
      &lt;protocol type="FD_SOCK"/&gt;
      &lt;protocol type="FD_ALL"/&gt;
      &lt;protocol type="VERIFY_SUSPECT"/&gt;
      &lt;protocol type="SYM_ENCRYPT"&gt;
        &lt;property name="provider"&gt;SunJCE&lt;/property&gt;
        &lt;property name="sym_algorithm"&gt;AES&lt;/property&gt;
        &lt;property name="encrypt_entire_message"&gt;true&lt;/property&gt;
        &lt;property name="keystore_name"&gt;<span class="emphasis"><em>/path/to/defaultStore.keystore</em></span>&lt;/property&gt;
        &lt;property name="store_password"&gt;<span class="emphasis"><em>PASSWORD</em></span>&lt;/property&gt;
        &lt;property name="alias"&gt;mykey&lt;/property&gt;
      &lt;/protocol&gt;
      &lt;protocol type="pbcast.NAKACK2"/&gt;
      &lt;protocol type="UNICAST3"/&gt;
      &lt;protocol type="pbcast.STABLE"/&gt;
      &lt;protocol type="pbcast.GMS"/&gt;
      &lt;protocol type="UFC"/&gt;
      &lt;protocol type="MFC"/&gt;
      &lt;protocol type="FRAG2"/&gt;
    &lt;/stack&gt;
  &lt;/stacks&gt;
&lt;/subsystem&gt;</pre></li></ol></div><h5 id="using_sym_encrypt_with_elytron">Using Symmetric Encryption with Elytron</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Using the management CLI, create a keystore in the <code class="literal">elytron</code> subsystem that references the <code class="literal">defaultStore.keystore</code> created in <a class="link" href="#using_sym_encrypt" title="Using Symmetric Encryption">using symmetric encryption</a>.
							</p><pre class="screen">/subsystem=elytron/key-store=jgroups-keystore:add(path=/path/to/defaultStore.keystore,credential-reference={clear-text=<span class="emphasis"><em>PASSWORD</em></span>},type=JCEKS)</pre></li><li class="listitem"><p class="simpara">
								Add the <code class="literal">SYM_ENCRYPT</code> protocol in the <code class="literal">jgroups</code> subsystem with the appropriate property settings. The <code class="literal">SYM_ENCRYPT</code> protocol should be configured immediately before the <code class="literal">pbcast.NAKACK2</code> protocol, as seen in the following configuration.
							</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:jgroups:6.0"&gt;
  &lt;stacks&gt;
    &lt;stack name="udp"&gt;
      &lt;transport type="UDP" socket-binding="jgroups-udp"/&gt;
      &lt;protocol type="PING"/&gt;
      &lt;protocol type="MERGE3"/&gt;
      &lt;protocol type="FD_SOCK"/&gt;
      &lt;protocol type="FD_ALL"/&gt;
      &lt;protocol type="VERIFY_SUSPECT"/&gt;
      &lt;encrypt-protocol type="SYM_ENCRYPT" key-alias="mykey" key-store="jgroups-keystore"&gt;
        &lt;key-credential-reference clear-text="<span class="emphasis"><em>PASSWORD</em></span>"/&gt;
        &lt;property name="provider"&gt;SunJCE&lt;/property&gt;
        &lt;property name="encrypt_entire_message"&gt;true&lt;/property&gt;
      &lt;/encrypt-protocol&gt;
      &lt;protocol type="pbcast.NAKACK2"/&gt;
      &lt;protocol type="UNICAST3"/&gt;
      &lt;protocol type="pbcast.STABLE"/&gt;
      &lt;protocol type="pbcast.GMS"/&gt;
      &lt;protocol type="UFC"/&gt;
      &lt;protocol type="MFC"/&gt;
      &lt;protocol type="FRAG2"/&gt;
    &lt;/stack&gt;
  &lt;/stacks&gt;
&lt;/subsystem&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The above example uses a clear text password; however, a credential store may also be defined to define the password outside of the configuration file. For more information on configuring this store, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#credential_store" title="This content is not included in Mimir.">Credential Store</a> section in the <span class="emphasis"><em>How to Configure Server Security</em></span> guide.
								</p></div></div></li></ol></div><h6 id="using_asym_encrypt">Using Asymmetric Encryption</h6><p>
						In order to use <code class="literal">ASYM_ENCRYPT</code> the <code class="literal">AUTH</code> protocol must be defined. See the <a class="link" href="#configure_jgroups_auth" title="24.2.7.1. Configuring Authentication">Configuring Authentication</a> section for instructions on configuring the <code class="literal">AUTH</code> protocol in the <code class="literal">jgroups</code> subsystem.
					</p><p>
						The <code class="literal">ASYM_ENCRYPT</code> is configured using one of two methods.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Generate a secret key and reference it <a class="link" href="#using_asym_encrypt_generating_secret_key" title="Using Asymmetric Encryption by Generating a Secret Key">directly in the configuration</a>.
							</li><li class="listitem">
								Create a keystore and reference it <a class="link" href="#using_asym_encrypt_with_elytron" title="Using Asymmetric Encryption with Elytron">using the Elytron subsystem</a>.
							</li></ul></div><h5 id="using_asym_encrypt_generating_secret_key">Using Asymmetric Encryption by Generating a Secret Key</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Configure the <code class="literal">ASYM_ENCRYPT</code> protocol in the <code class="literal">jgroups</code> subsystem.
							</p><p class="simpara">
								In the applicable server configuration file, add the <code class="literal">ASYM_ENCRYPT</code> protocol with the appropriate property settings. The <code class="literal">ASYM_ENCRYPT</code> protocol should be configured immediately before the <code class="literal">pbcast.NAKACK2</code> protocol, as seen in the following configuration.
							</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:jgroups:6.0"&gt;
  &lt;stacks&gt;
    &lt;stack name="udp"&gt;
      &lt;transport type="UDP" socket-binding="jgroups-udp"/&gt;
      &lt;protocol type="PING"/&gt;
      &lt;protocol type="MERGE3"/&gt;
      &lt;protocol type="FD_SOCK"/&gt;
      &lt;protocol type="FD_ALL"/&gt;
      &lt;protocol type="VERIFY_SUSPECT"/&gt;
      &lt;protocol type="ASYM_ENCRYPT"&gt;
        &lt;property name="encrypt_entire_message"&gt;true&lt;/property&gt;
        &lt;property name="sym_keylength"&gt;128&lt;/property&gt;
        &lt;property name="sym_algorithm"&gt;AES/ECB/PKCS5Padding&lt;/property&gt;
        &lt;property name="asym_keylength"&gt;512&lt;/property&gt;
        &lt;property name="asym_algorithm"&gt;RSA&lt;/property&gt;
      &lt;/protocol&gt;
      &lt;protocol type="pbcast.NAKACK2"/&gt;
      &lt;protocol type="UNICAST3"/&gt;
      &lt;protocol type="pbcast.STABLE"/&gt;
      &lt;!-- Configure AUTH protocol here --&gt;
      &lt;protocol type="pbcast.GMS"/&gt;
      &lt;protocol type="UFC"/&gt;
      &lt;protocol type="MFC"/&gt;
      &lt;protocol type="FRAG2"/&gt;
    &lt;/stack&gt;
  &lt;/stacks&gt;
&lt;/subsystem&gt;</pre></li></ol></div><h5 id="using_asym_encrypt_with_elytron">Using Asymmetric Encryption with Elytron</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create a keystore to contain the key pair. The following command creates a keystore with the <code class="literal">mykey</code> entry.
							</p><pre class="screen">$ keytool -genkeypair -alias mykey -keyalg RSA -keysize 1024 -keystore defaultKeystore.keystore -dname "CN=localhost" -keypass secret -storepass secret</pre></li><li class="listitem"><p class="simpara">
								Using the management CLI, create a keystore in the <code class="literal">elytron</code> subsystem that references the <code class="literal">defaultStore.keystore</code>.
							</p><pre class="screen">/subsystem=elytron/key-store=jgroups-keystore:add(path=/path/to/defaultStore.keystore,credential-reference={clear-text=<span class="emphasis"><em>PASSWORD</em></span>},type=JCEKS)</pre></li><li class="listitem"><p class="simpara">
								Add the <code class="literal">ASYM_ENCRYPT</code> protocol in the <code class="literal">jgroups</code> subsystem with the appropriate property settings. The <code class="literal">ASYM_ENCRYPT</code> protocol should be configured immediately before the <code class="literal">pbcast.NAKACK2</code> protocol, as seen in the following configuration.
							</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:jgroups:6.0"&gt;
  &lt;stacks&gt;
    &lt;stack name="udp"&gt;
      &lt;transport type="UDP" socket-binding="jgroups-udp"/&gt;
      &lt;protocol type="PING"/&gt;
      &lt;protocol type="MERGE3"/&gt;
      &lt;protocol type="FD_SOCK"/&gt;
      &lt;protocol type="FD_ALL"/&gt;
      &lt;protocol type="VERIFY_SUSPECT"/&gt;
      &lt;encrypt-protocol type="ASYM_ENCRYPT" key-alias="mykey" key-store="jgroups-keystore"&gt;
        &lt;key-credential-reference clear-text="secret" /&gt;
        &lt;property name="encrypt_entire_message"&gt;true&lt;/property&gt;
      &lt;/encrypt-protocol&gt;
      &lt;protocol type="pbcast.NAKACK2"/&gt;
      &lt;protocol type="UNICAST3"/&gt;
      &lt;protocol type="pbcast.STABLE"/&gt;
      &lt;!-- Configure AUTH protocol here --&gt;
      &lt;protocol type="pbcast.GMS"/&gt;
      &lt;protocol type="UFC"/&gt;
      &lt;protocol type="MFC"/&gt;
      &lt;protocol type="FRAG2"/&gt;
    &lt;/stack&gt;
  &lt;/stacks&gt;
&lt;/subsystem&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The above example uses a clear text password; however, a credential store may also be defined to define the password outside of the configuration file. For more information on configuring this store, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#credential_store" title="This content is not included in Mimir.">Credential Store</a> section in the <span class="emphasis"><em>How to Configure Server Security</em></span> guide.
								</p></div></div></li></ol></div></section></section><section class="section" id="configure_jgroups_thread_pools"><div class="titlepage"><div><div><h3 class="title">24.2.8. Configure JGroups Thread Pools</h3></div></div></div><p>
					The <code class="literal">jgroups</code> subsystem contains the <code class="literal">default</code>, <code class="literal">internal</code>, <code class="literal">oob</code>, and <code class="literal">timer</code> thread pools. These pools can be configured for any JGroups stack.
				</p><p>
					The following table lists the attributes you can configure for each thread pool and the default value for each.
				</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 28%; " class="col_1"><!--Empty--></col><col style="width: 18%; " class="col_2"><!--Empty--></col><col style="width: 18%; " class="col_3"><!--Empty--></col><col style="width: 18%; " class="col_4"><!--Empty--></col><col style="width: 18%; " class="col_5"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321705810032" scope="col">Thread Pool Name</th><th align="left" valign="top" id="idm140321705808944" scope="col">keepalive-time</th><th align="left" valign="top" id="idm140321705807856" scope="col">max-threads</th><th align="left" valign="top" id="idm140321705806768" scope="col">min-threads</th><th align="left" valign="top" id="idm140321705805680" scope="col">queue-length</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321705810032"> <p>
									default
								</p>
								 </td><td align="left" valign="top" headers="idm140321705808944"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321705807856"> <p>
									300
								</p>
								 </td><td align="left" valign="top" headers="idm140321705806768"> <p>
									20
								</p>
								 </td><td align="left" valign="top" headers="idm140321705805680"> <p>
									100
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321705810032"> <p>
									internal
								</p>
								 </td><td align="left" valign="top" headers="idm140321705808944"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321705807856"> <p>
									4
								</p>
								 </td><td align="left" valign="top" headers="idm140321705806768"> <p>
									2
								</p>
								 </td><td align="left" valign="top" headers="idm140321705805680"> <p>
									100
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321705810032"> <p>
									oob
								</p>
								 </td><td align="left" valign="top" headers="idm140321705808944"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321705807856"> <p>
									300
								</p>
								 </td><td align="left" valign="top" headers="idm140321705806768"> <p>
									20
								</p>
								 </td><td align="left" valign="top" headers="idm140321705805680"> <p>
									0
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321705810032"> <p>
									timer
								</p>
								 </td><td align="left" valign="top" headers="idm140321705808944"> <p>
									5000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321705807856"> <p>
									4
								</p>
								 </td><td align="left" valign="top" headers="idm140321705806768"> <p>
									2
								</p>
								 </td><td align="left" valign="top" headers="idm140321705805680"> <p>
									500
								</p>
								 </td></tr></tbody></table></div><p>
					Use the following syntax to configure a JGroups thread pool using the management CLI.
				</p><pre class="screen">/subsystem=jgroups/stack=<span class="emphasis"><em>STACK_TYPE</em></span>/transport=<span class="emphasis"><em>TRANSPORT_TYPE</em></span>/thread-pool=<span class="emphasis"><em>THREAD_POOL_NAME</em></span>:write-attribute(name=<span class="emphasis"><em>ATTRIBUTE_NAME</em></span>, value=<span class="emphasis"><em>ATTRIBUTE_VALUE</em></span>)</pre><p>
					The following is an example of the management CLI command to set the <code class="literal">max-threads</code> value to <code class="literal">500</code> in the <code class="literal">default</code> thread pool for the <code class="literal">udp</code> stack.
				</p><pre class="screen">/subsystem=jgroups/stack=udp/transport=UDP/thread-pool=default:write-attribute(name="max-threads", value="500")</pre></section><section class="section" id="configure_jgroups_send_receive_buffers"><div class="titlepage"><div><div><h3 class="title">24.2.9. Configure JGroups Send and Receive Buffers</h3></div></div></div><h5 id="resolving_buffer_size_warnings">Resolving Buffer Size Warnings</h5><p>
					By default, JGroups is configured with certain send and receive buffer values; however, your operating system may limit the available buffer sizes and JBoss EAP may not be able to use its configured buffer values. In this situation you will see warnings in the JBoss EAP logs similar to the following:
				</p><pre class="screen">WARNING [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 68)
JGRP000015: the send buffer of socket DatagramSocket was set to 640KB, but the OS only allocated 212.99KB.
This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)
WARNING [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 68)
JGRP000015: the receive buffer of socket DatagramSocket was set to 20MB, but the OS only allocated 212.99KB.
This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)</pre><p>
					To resolve this, consult your operating system documentation for instructions on how to increase the buffer size. For Red Hat Enterprise Linux systems, edit <code class="literal">/etc/sysctl.conf</code> as the root user to configure maximum values for buffer sizes that will survive system restarts. For example:
				</p><pre class="screen"># Allow a 25MB UDP receive buffer for JGroups
net.core.rmem_max = 26214400
# Allow a 1MB UDP send buffer for JGroups
net.core.wmem_max = 1048576</pre><p>
					After modifying <code class="literal">/etc/sysctl.conf</code>, run <code class="literal">sysctl -p</code> for the changes to take effect.
				</p><h5 id="configuring_jgroups_buffer_sizes">Configuring JGroups Buffer Sizes</h5><p>
					You can configure the JGroups buffer sizes that JBoss EAP uses by setting the following transport properties on the UDP and TCP JGroups stacks.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">UDP Stack</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">ucast_recv_buf_size</code>
									</li><li class="listitem">
										<code class="literal">ucast_send_buf_size</code>
									</li><li class="listitem">
										<code class="literal">mcast_recv_buf_size</code>
									</li><li class="listitem">
										<code class="literal">mcast_send_buf_size</code>
									</li></ul></div></dd><dt><span class="term">TCP Stack</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">recv_buf_size</code>
									</li><li class="listitem">
										<code class="literal">send_buf_size</code>
									</li></ul></div></dd></dl></div><p>
					JGroups buffer sizes can be configured using the management console or the management CLI.
				</p><p>
					Use the following syntax to set a JGroups buffer size property using the management CLI.
				</p><pre class="screen">/subsystem=jgroups/stack=<span class="emphasis"><em>STACK_NAME</em></span>/transport=<span class="emphasis"><em>TRANSPORT</em></span>/property=<span class="emphasis"><em>PROPERTY_NAME</em></span>:add(value=<span class="emphasis"><em>BUFFER_SIZE</em></span>)</pre><p>
					The following is an example management CLI command to set the <code class="literal">recv_buf_size</code> property to <code class="literal">20000000</code> on the <code class="literal">tcp</code> stack.
				</p><pre class="screen">/subsystem=jgroups/stack=tcp/transport=<span class="emphasis"><em>TRANSPORT</em></span>/property=recv_buf_size:add(value=20000000)</pre><p>
					JGroups buffer sizes can also be configured using the management console by navigating to the <span class="strong strong"><strong>JGroups</strong></span> subsystem from the <span class="strong strong"><strong>Configuration</strong></span> tab, clicking <span class="strong strong"><strong>View</strong></span>, selecting the <span class="strong strong"><strong>Stack</strong></span> tab, choosing the appropriate stack, clicking <span class="strong strong"><strong>Transport</strong></span>, and editing the <span class="strong strong"><strong>Properties</strong></span> field.
				</p></section><section class="section" id="tuning_jgroups_subsystem"><div class="titlepage"><div><div><h3 class="title">24.2.10. Tuning the JGroups Subsystem</h3></div></div></div><p>
					For tips on monitoring and optimizing performance for the <code class="literal">jgroups</code> subsystem, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#jgroups_tuning" title="This content is not included in Mimir.">JGroups Subsystem Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
				</p></section><section class="section" id="jgroups_troubleshooting"><div class="titlepage"><div><div><h3 class="title">24.2.11. JGroups Troubleshooting</h3></div></div></div><section class="section" id="jgroups_nodes_do_not_form_cluster"><div class="titlepage"><div><div><h4 class="title">24.2.11.1. Nodes Do Not Form a Cluster</h4></div></div></div><p>
						Make sure your machine is set up correctly for IP multicast. There are two test programs that ship with JBoss EAP that can be used to test IP multicast: <code class="literal">McastReceiverTest</code> and <code class="literal">McastSenderTest</code>.
					</p><p>
						In a terminal, start <code class="literal">McastReceiverTest</code>.
					</p><pre class="screen">$ java -cp <span class="emphasis"><em>EAP_HOME</em></span>/bin/client/jboss-client.jar org.jgroups.tests.McastReceiverTest -mcast_addr 230.11.11.11 -port 5555</pre><p>
						Then in another terminal window, start <code class="literal">McastSenderTest</code>.
					</p><pre class="screen">$ java -cp <span class="emphasis"><em>EAP_HOME</em></span>/bin/client/jboss-client.jar org.jgroups.tests.McastSenderTest -mcast_addr 230.11.11.11 -port 5555</pre><p>
						If you want to bind to a specific network interface card (NIC), use <code class="literal">-bind_addr <span class="emphasis"><em>YOUR_BIND_ADDRESS</em></span></code>, where <code class="literal"><span class="emphasis"><em>YOUR_BIND_ADDRESS</em></span></code> is the IP address of the NIC to which you want to bind. Use this parameter in both the sender and the receiver.
					</p><p>
						When you type in the <code class="literal">McastSenderTest</code> terminal window, you should see the output in the <code class="literal">McastReceiverTest</code> window. If you do not, try the following steps.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Increase the time-to-live for multicast packets by adding <code class="literal">-ttl <span class="emphasis"><em>VALUE</em></span></code> to the sender command. The default used by this test program is <code class="literal">32</code> and the <code class="literal"><span class="emphasis"><em>VALUE</em></span></code> must be no greater than <code class="literal">255</code>.
							</li><li class="listitem">
								If the machines have multiple interfaces, verify that you are using the correct interface.
							</li><li class="listitem">
								Contact a system administrator to make sure that multicast will work on the interface you have chosen.
							</li></ul></div><p>
						Once you know multicast is working properly on each machine in your cluster, you can repeat the above test to test the network, putting the sender on one machine and the receiver on another.
					</p></section><section class="section" id="jgroups_missing_heartbeats_fd"><div class="titlepage"><div><div><h4 class="title">24.2.11.2. Causes of Missing Heartbeats in Failure Detection</h4></div></div></div><p>
						Sometimes a cluster member is suspected by failure detection (FD) because a heartbeat acknowledgement has not been received for some time <code class="literal">T</code>, which is defined by <code class="literal">timeout</code> and <code class="literal">max_tries</code>.
					</p><p>
						For an example cluster of nodes A, B, C, and D, where A pings B, B pings C, C pings D, and D pings A, C can be suspected for any of the following reasons:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								B or C are running at 100% CPU for more than <code class="literal">T</code> seconds. So even if C sends a heartbeat acknowledgement to B, B may not be able to process it because it is at 100% CPU usage.
							</li><li class="listitem">
								B or C are garbage collecting, which results in the same situation as above.
							</li><li class="listitem">
								A combination of the two cases above.
							</li><li class="listitem">
								The network loses packets. This usually happens when there is a lot of traffic on the network, and the switch starts dropping packets, usually broadcasts first, then IP multicasts, and TCP packets last.
							</li><li class="listitem">
								B or C are processing a callback. For example, if C received a remote method call over its channel that takes <code class="literal">T</code> + 1 seconds to process, during this time C will not process any other messages, including heartbeats. Therefore, B will not receive the heartbeat acknowledgement and will suspect C.
							</li></ul></div></section></section></section><section class="section" id="infinispan"><div class="titlepage"><div><div><h2 class="title">24.3. Infinispan</h2></div></div></div><section class="section" id="about_infinispan"><div class="titlepage"><div><div><h3 class="title">24.3.1. About Infinispan</h3></div></div></div><p>
					Infinispan is a Java data grid platform that provides a <a class="link mimir-link-warn" href="http://www.jcp.org/en/jsr/detail?id=107" title="Mimir does not include content from: www.jcp.org">JSR-107</a>-compatible cache interface for managing cached data. For more information about Infinispan functionality and configuration options see the <a class="link mimir-link-warn" href="http://infinispan.org/docs/8.1.x/index.html" title="Mimir does not include content from: infinispan.org">Infinispan Documentation</a>.
				</p><p>
					The <code class="literal">infinispan</code> subsystem provides caching support for JBoss EAP. It allows you to configure and view runtime metrics for named cache containers and caches.
				</p><p>
					When using a configuration that provides high availability capabilities, such as the <span class="emphasis"><em>ha</em></span> or <span class="emphasis"><em>full-ha</em></span> profile in a managed domain, or the <code class="literal">standalone-ha.xml</code> or <code class="literal">standalone-full-ha.xml</code> configuration file for a standalone server, the <code class="literal">infinispan</code> subsystem provides caching, state replication, and state distribution support. In non-high-availability configurations, the <code class="literal">infinispan</code> subsystem provides local caching support.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Infinispan is delivered as a private module in JBoss EAP to provide the caching capabilities of JBoss EAP. Infinispan is not supported for direct use by applications.
					</p></div></div></section><section class="section" id="cache_containers"><div class="titlepage"><div><div><h3 class="title">24.3.2. Cache Containers</h3></div></div></div><p>
					A cache container is a repository for the caches used by a subsystem. Each cache container defines a default cache to be used.
				</p><p>
					JBoss EAP 7 defines the following default Infinispan cache containers:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">server</code> for singleton caching
						</li><li class="listitem">
							<code class="literal">web</code> for web session clustering
						</li><li class="listitem">
							<code class="literal">ejb</code> for stateful session bean clustering
						</li><li class="listitem">
							<code class="literal">hibernate</code> for entity caching
						</li></ul></div><div class="formalpara"><p class="title"><strong>Example: Default Infinispan Configuration</strong></p><p>
						
<pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:infinispan:7.0"&gt;
  &lt;cache-container name="server" aliases="singleton cluster" default-cache="default" module="org.wildfly.clustering.server"&gt;
    &lt;transport lock-timeout="60000"/&gt;
    &lt;replicated-cache name="default"&gt;
      &lt;transaction mode="BATCH"/&gt;
    &lt;/replicated-cache&gt;
  &lt;/cache-container&gt;
  &lt;cache-container name="web" default-cache="dist" module="org.wildfly.clustering.web.infinispan"&gt;
    &lt;transport lock-timeout="60000"/&gt;
    &lt;distributed-cache name="dist"&gt;
      &lt;locking isolation="REPEATABLE_READ"/&gt;
      &lt;transaction mode="BATCH"/&gt;
      &lt;file-store/&gt;
    &lt;/distributed-cache&gt;
  &lt;/cache-container&gt;
  &lt;cache-container name="ejb" aliases="sfsb" default-cache="dist" module="org.wildfly.clustering.ejb.infinispan"&gt;
    &lt;transport lock-timeout="60000"/&gt;
    &lt;distributed-cache name="dist"&gt;
      &lt;locking isolation="REPEATABLE_READ"/&gt;
      &lt;transaction mode="BATCH"/&gt;
      &lt;file-store/&gt;
    &lt;/distributed-cache&gt;
  &lt;/cache-container&gt;
  &lt;cache-container name="hibernate" default-cache="local-query" module="org.hibernate.infinispan"&gt;
    &lt;transport lock-timeout="60000"/&gt;
    &lt;local-cache name="local-query"&gt;
      &lt;eviction size="1000"/&gt;
      &lt;expiration max-idle="100000"/&gt;
    &lt;/local-cache&gt;
    &lt;invalidation-cache name="entity"&gt;
      &lt;transaction mode="NON_XA"/&gt;
      &lt;eviction size="1000"/&gt;
      &lt;expiration max-idle="100000"/&gt;
    &lt;/invalidation-cache&gt;
    &lt;replicated-cache name="timestamps" mode="ASYNC"/&gt;
  &lt;/cache-container&gt;
&lt;/subsystem&gt;</pre>

					</p></div><p>
					Note the default cache defined in each cache container. For example, the <code class="literal">web</code> cache container defines the <code class="literal">dist</code> distributed cache as the default. The <code class="literal">dist</code> cache will therefore be used when clustering web sessions.
				</p><p>
					See <a class="link" href="#configure_cache_containers" title="24.3.2.1. Configure Cache Containers">Configure Cache Containers</a> for information on changing the default cache and adding additional caches.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						You can add additional caches and cache containers, for example, for HTTP sessions, stateful session beans, or singleton services or deployments. It is not supported to use these caches directly by user applications.
					</p></div></div><section class="section" id="configure_cache_containers"><div class="titlepage"><div><div><h4 class="title">24.3.2.1. Configure Cache Containers</h4></div></div></div><p>
						Cache containers and cache attributes can be configured using the management console or management CLI.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							You should avoid changing cache or cache container names, as other components in the configuration may reference them.
						</p></div></div><h6 id="configure_caches_using_the_management_console">Configure Caches Using the Management Console</h6><p>
						Once you navigate to the <span class="strong strong"><strong>Infinispan</strong></span> subsystem from the <span class="strong strong"><strong>Configuration</strong></span> tab in the management console, you can configure caches and cache containers. In a managed domain, make sure to select the appropriate profile to configure.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Add a cache container.
							</p><p class="simpara">
								Click the Add (<span class="strong strong"><strong>+</strong></span>) button next to the <span class="strong strong"><strong>Cache Container</strong></span> heading, choose <span class="strong strong"><strong>Add Cache Container</strong></span>, and enter the settings for the new cache container.
							</p></li><li class="listitem"><p class="simpara">
								Update cache container settings.
							</p><p class="simpara">
								Choose the appropriate cache container and click <span class="strong strong"><strong>View</strong></span>. Configure the cache container settings as necessary.
							</p></li><li class="listitem"><p class="simpara">
								Update cache container transport settings.
							</p><p class="simpara">
								Choose the appropriate cache container and click <span class="strong strong"><strong>View</strong></span>. Select the <span class="strong strong"><strong>Transport</strong></span> tab and configure the cache container transport settings as necessary.
							</p></li><li class="listitem"><p class="simpara">
								Configure caches.
							</p><p class="simpara">
								Choose the appropriate cache container and click <span class="strong strong"><strong>View</strong></span>. From the appropriate cache tab, for example, <span class="strong strong"><strong>Replicated Cache</strong></span>, you can add, update, and remove caches.
							</p></li></ul></div><h6 id="configure_caches_using_the_management_cli">Configure Caches Using the Management CLI</h6><p>
						You can configure caches and cache containers using the management CLI. In a managed domain, you must specify the profile to update by preceding these commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Add a cache container.
							</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>:add</pre></li><li class="listitem"><p class="simpara">
								Add a replicated cache.
							</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>/replicated-cache=<span class="emphasis"><em>CACHE</em></span>:add(mode=<span class="emphasis"><em>MODE</em></span>)</pre></li><li class="listitem"><p class="simpara">
								Set the default cache for a cache container.
							</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>:write-attribute(name=default-cache,value=<span class="emphasis"><em>CACHE</em></span>)</pre></li><li class="listitem"><p class="simpara">
								Configure batching for a replicated cache.
							</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>/replicated-cache=<span class="emphasis"><em>CACHE</em></span>/component=transaction:write-attribute(name=mode,value=BATCH)</pre></li></ul></div><p>
						The following example shows how to add a <code class="literal">concurrent</code> distributed cache to the <code class="literal">web</code> cache container. This cache configuration relaxes the locking constraints of the default cache, which allows multiple concurrent requests to access the same web session simultaneously. It achieves this by permitting lock-free reads and obtaining exclusive locks more frequently, but for a shorter duration.
					</p><p>
						Use the following management CLI commands to add the <code class="literal">concurrent</code> distributed cache to the <code class="literal">web</code> cache container and make it the default cache:
					</p><pre class="screen">batch
/subsystem=infinispan/cache-container=web/distributed-cache=concurrent:add
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache,value=concurrent)
/subsystem=infinispan/cache-container=web/distributed-cache=concurrent/store=file:add
run-batch</pre><p>
						This results in the following server configuration:
					</p><pre class="programlisting language-xml">&lt;cache-container name="web" default-cache="concurrent" module="org.wildfly.clustering.web.infinispan"&gt;
  ...
  &lt;distributed-cache name="concurrent"&gt;
      &lt;file-store/&gt;
  &lt;/distributed-cache&gt;
&lt;/cache-container&gt;</pre><h6 id="change_the_default_ejb_cache_container">Change the Default EJB Cache Container</h6><p>
						You can use cache containers in the <code class="literal">ejb3</code> subsystem as described below:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								To support passivation of EJB session beans, you can use the <code class="literal">ejb</code> cache container defined in the <code class="literal">infinispan</code> subsystem to store the sessions.
							</li><li class="listitem">
								For remote EJB clients connecting to a clustered deployment on a server, you must provide the cluster topology information to these clients, so that they can fail over to other nodes in the cluster if the node they are interacting with fails.
							</li></ul></div><p>
						If you are changing or renaming the default cache container, named <code class="literal">ejb</code>, which supports passivation and the provision of topology information, you must add the <code class="literal">cache-container</code> attribute to the <code class="literal">passivation-stores</code> element and the <code class="literal">cluster</code> attribute to the <code class="literal">remote</code> element, as shown in the example below. If you are just adding a new cache for your own use, you need not make those changes.
					</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:ejb3:5.0"&gt;
    &lt;passivation-stores&gt;
        &lt;passivation-store name="infinispan" cache-container="ejb-cltest" max-size="10000"/&gt;
    &lt;/passivation-stores&gt;

    &lt;remote cluster="ejb-cltest" connector-ref="http-remoting-connector" thread-pool-name="default"/&gt;
&lt;/subsystem&gt;

&lt;subsystem xmlns="urn:jboss:domain:infinispan:7.0"&gt;
    ...
    &lt;cache-container name="ejb-cltest" aliases="sfsb" default-cache="dist" module="org.wildfly.clustering.ejb.infinispan"&gt;
&lt;/subsystem&gt;</pre><h6 id="eviction_feature_hibernate_cache_container_infinispan">Eviction Feature in Hibernate Cache Container</h6><p>
						The <code class="literal">eviction</code> feature for the <code class="literal">hibernate</code> cache container removes cache entries from memory. This feature helps reduce the memory load on the subsystem.
					</p><p>
						The <code class="literal">size</code> attribute sets the maximum number of cache entries that will be stored before eviction of cache entries begins.
					</p><div class="formalpara"><p class="title"><strong>Example: Eviction Feature</strong></p><p>
							
<pre class="programlisting language-xml">  &lt;cache-container name="hibernate" default-cache="local-query" module="org.hibernate.infinispan"&gt;
    &lt;transport lock-timeout="60000"/&gt;
    &lt;local-cache name="local-query"&gt;
      &lt;eviction size="1000"/&gt;
      &lt;expiration max-idle="100000"/&gt;</pre>

						</p></div><p>
						Note that eviction only occurs within the memory. A cache store holds cache entries that are evicted to prevent permanent loss of information. For more information about the <code class="literal">eviction</code> feature, see the <a class="link mimir-link-warn" href="http://infinispan.org/docs/9.4.x/user_guide/user_guide.html#eviction_anchor" title="Mimir does not include content from: infinispan.org">Eviction and Data Container</a> section in the Infinispan User Guide.
					</p></section></section><section class="section" id="clustering_modes"><div class="titlepage"><div><div><h3 class="title">24.3.3. Clustering Modes</h3></div></div></div><p>
					Clustering can be configured in two different ways in JBoss EAP using Infinispan. The best method for your application will depend on your requirements. There is a trade-off between availability, consistency, reliability and scalability with each mode. Before choosing a clustering mode, you must identify what are the most important features of your network for you, and balance those requirements.
				</p><h5 id="cache_modes">Cache Modes</h5><div class="variablelist"><dl class="variablelist"><dt><span class="term">Replication</span></dt><dd>
								Replication mode automatically detects and adds new instances on the cluster. Changes made to these instances will be replicated to all nodes on the cluster. Replication mode typically works best in small clusters because of the amount of information that has to be replicated over the network. Infinispan can be configured to use UDP multicast, which alleviates network traffic congestion to a degree.
							</dd><dt><span class="term">Distribution</span></dt><dd><p class="simpara">
								Distribution mode allows Infinispan to scale the cluster linearly. Distribution mode uses a consistent hash algorithm to determine where in a cluster a new node should be placed. The number of copies, or owners, of information to be kept is configurable. There is a trade-off between the number of copies kept, durability of the data, and performance. The more copies that are kept, the more impact on performance, but the less likely you are to lose data in a server failure. The hash algorithm also works to reduce network traffic by locating entries without multicasting or storing metadata.
							</p><p class="simpara">
								You should consider using distribution mode as a caching strategy when the cluster size exceeds 6-8 nodes. With distribution mode, data is distributed to only a subset of nodes within the cluster, as opposed to all nodes.
							</p></dd><dt><span class="term">Scattered</span></dt><dd><p class="simpara">
								Scattered mode is similar to distribution mode in that it uses a consistent hash algorithm to determine ownership. However, ownership is limited to two members, and the originator, or node receiving the request for a given session, always assumes ownership for coordinating locking and cache entry updates. The cache write algorithm used in scattered mode guarantees that a write operation results in only a single RPC call, where distribution caches with two owners can often use two RPC calls. This can be useful for distributed web sessions because load balancer failover tends to direct traffic to a non-primary owner or even a backup node. This can potentially reduce contention and improve performance following a cluster topology change.
							</p><p class="simpara">
								Scattered mode does not support transactions or L1 caching. However, it does support biased reads, which allow the node that originates a cache write for a given entry to continue to service reads for that entry for some duration even though it is not the owner according to the consistent hash. The effect is similar to L1 caching, although the configuration attributes for biased reads versus L1 caching are distinct.
							</p></dd></dl></div><h5 id="synchronous_and_asynchronous_replication">Synchronous and Asynchronous Replication</h5><p>
					Replication can be performed either in synchronous or asynchronous mode, and the mode chosen depends on your requirements and your application.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Synchronous replication</span></dt><dd>
								With synchronous replication, the replication process runs in the same thread that handles the user request. Session replication is initiated after the completed response is sent back to the client, and the thread is released only after the replication is completed. Synchronous replication has an impact on network traffic because it requires a response from each node in the cluster. It has the advantage, however, of ensuring that all modifications have been made to all nodes in the cluster.
							</dd><dt><span class="term">Asynchronous replication</span></dt><dd>
								With asynchronous replication, Infinispan uses a thread pool to carry out replication in the background. The sender does not wait for replies from other nodes in the cluster. However, cache reads for the same session will block until the previous replication completes so that stale data is not read. Replication is triggered either on a time basis or by queue size. Failed replication attempts are written to a log, not notified in real time.
							</dd></dl></div><section class="section" id="configure_the_cache_mode"><div class="titlepage"><div><div><h4 class="title">24.3.3.1. Configure the Cache Mode</h4></div></div></div><p>
						You can change the default cache using the management CLI.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This section shows instructions specific to configuring the web session cache, which defaults to distribution mode. The steps and management CLI commands can easily be adjusted to apply to other cache containers.
						</p></div></div><h6 id="change_to_replication_cache_mode">Change to Replication Cache Mode</h6><p>
						The default JBoss EAP 7 configuration for the web session cache does not include a <code class="literal">repl</code> replication cache. This cache must first be added.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The below management CLI commands are for a standalone server. When running in a managed domain, you must specify which profile to update by preceding the <code class="literal">/subsystem=infinispan</code> commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
						</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Add the <code class="literal">repl</code> replication cache and set it as the default cache.
							</p><pre class="screen">batch
/subsystem=infinispan/cache-container=web/replicated-cache=repl:add(mode=ASYNC)
/subsystem=infinispan/cache-container=web/replicated-cache=repl/component=transaction:add(mode=BATCH)
/subsystem=infinispan/cache-container=web/replicated-cache=repl/component=locking:add(isolation=REPEATABLE_READ)
/subsystem=infinispan/cache-container=web/replicated-cache=repl/store=file:add
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache,value=repl)
run-batch</pre></li><li class="listitem"><p class="simpara">
								Reload the server.
							</p><pre class="screen">reload</pre></li></ol></div><h6 id="change_to_distribution_cache_mode">Change to Distribution Cache Mode</h6><p>
						The default JBoss EAP 7 configuration for the web session cache already includes a <code class="literal">dist</code> distribution cache.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The below management CLI commands are for a standalone server. When running in a managed domain, you must specify which profile to update by preceding the <code class="literal">/subsystem=infinispan</code> commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
						</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Change the default cache to the <code class="literal">dist</code> distribution cache.
							</p><pre class="screen">/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache,value=dist)</pre></li><li class="listitem"><p class="simpara">
								Set the number of owners for the distribution cache. The following command sets <code class="literal">5</code> owners. The default is <code class="literal">2</code>.
							</p><pre class="screen">/subsystem=infinispan/cache-container=web/distributed-cache=dist:write-attribute(name=owners,value=5)</pre></li><li class="listitem"><p class="simpara">
								Reload the server.
							</p><pre class="screen">reload</pre></li></ol></div><h6 id="change_to_scattered_cache_mode">Change to Scattered Cache Mode</h6><p>
						The default JBoss EAP configuration for the web session cache does not include a <code class="literal">scattered-cache</code>. The example below shows the management CLI commands to add a scattered cache and set it as the default cache.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The below management CLI commands are for a standalone server using the HA profile. When running in a managed domain, you must specify which profile to update by preceding the <code class="literal">/subsystem=infinispan</code> commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
						</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create the scattered cache with a read bias lifespan equal to the default web session timeout value of 30 minutes .
							</p><pre class="screen">/subsystem=infinispan/cache-container=web/scattered-cache=scattered:add(bias-lifespan=1800000)</pre></li><li class="listitem"><p class="simpara">
								Set <code class="literal">scattered</code> as the default cache.
							</p><pre class="screen">/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache,value=scattered)</pre></li></ol></div><p>
						This results in the following server configuration.
					</p><pre class="programlisting language-xml">&lt;cache-container name="web" default-cache="scattered" module="org.wildfly.clustering.web.infinispan"&gt;
    ...
    &lt;scattered-cache name="scattered" bias-lifespan="1800000"/&gt;
    ...
&lt;/cache-container&gt;</pre></section><section class="section" id="cache_strategy_performance"><div class="titlepage"><div><div><h4 class="title">24.3.3.2. Cache Strategy Performance</h4></div></div></div><p>
						When using a <code class="literal">SYNC</code> caching strategy, the cost of replication is easy to measure and directly seen in response times since the request does not complete until the replication completes.
					</p><p>
						Although it seems that the <code class="literal">ASYNC</code> caching strategy should result in lower response times than the <code class="literal">SYNC</code> caching strategy, this is only true under the right conditions. The <code class="literal">ASYNC</code> caching strategy is more difficult to measure, but it can provide better performance than the <code class="literal">SYNC</code> strategy when the duration between requests is long enough for the cache operation to complete. This is because the cost of replication is not immediately seen in response times.
					</p><p>
						If requests for the same session are made too quickly, the cost of replication for the previous request is shifted to the front of the subsequent request since it must wait for the replication from the previous request to complete. For rapidly fired requests where a subsequent request is sent immediately after a response is received, the <code class="literal">ASYNC</code> caching strategy will perform worse than the <code class="literal">SYNC</code> caching strategy. Consequently, there is a threshold for the period of time between requests for the same session where the <code class="literal">SYNC</code> caching strategy will actually perform better than the <code class="literal">ASYNC</code> caching strategy. In real world usage, requests for the same session are not normally received in rapid succession. Instead, there is typically a period of time in the order of a few seconds or more between the requests. In this case, the <code class="literal">ASYNC</code> caching strategy is a sensible default and provides the fastest response times.
					</p></section></section><section class="section" id="state_transfer"><div class="titlepage"><div><div><h3 class="title">24.3.4. State Transfer</h3></div></div></div><p>
					State transfer is both a basic data grid and clustered cache function. Without state transfer, data would be lost as nodes are added to or removed from the cluster.
				</p><p>
					State transfer adjusts the cache’s internal state in response to a change in the cache membership. This change automatically occurs when a node joins or leaves the cluster, when two or more cluster partitions merge, or after any combination of these events. The initial state transfer for a newly started cache is the most expensive, as the new cache must receive the maximum amount of state, based on the cache’s mode as discussed below.
				</p><p>
					The <code class="literal">timeout</code> attribute can be used to control how long the newly started cache waits to receive its state. If the <code class="literal">timeout</code> attribute is a positive number, then the cache will wait to receive all of its initial state before being made available to service requests. If the state transfer does not complete in the specified time, the default being <code class="literal">240000</code> milliseconds, then the cache will throw an error and cancel the startup. If <code class="literal">timeout</code> is set to <code class="literal">0</code>, then the cache is immediately available, and it will receive its initial state during background operations. Until the initial state transfer is complete, any requests for cache entries that the cache has not yet received will need to be fetched from a remote node.
				</p><p>
					The <code class="literal">timeout</code> attribute can be set to <code class="literal">0</code> with the following command.
				</p><pre class="programlisting language-xml">/subsystem=infinispan/cache-container=server/<span class="emphasis"><em>CACHE_TYPE</em></span>=<span class="emphasis"><em>CACHE</em></span>/component=state-transfer:write-attribute(name=timeout,value=0)</pre><p>
					The state transfer behavior is determined by the cache’s mode.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							In replication mode a new node joining the cache receives the entire cache state from the existing nodes. When a node leaves the cluster there is no state transfer.
						</li><li class="listitem">
							In distribution mode the new node receives only a part of the state from the existing nodes, and the existing nodes remove some of their state in order to keep <code class="literal">owners</code> copies of each key in the cache, as determined through consistent hashing. When a node leaves the cluster, a distribution cache needs to make additional copies of the keys that were stored on that node, so that owners of each key continue to exist.
						</li><li class="listitem">
							In invalidation mode the initial state transfer is similar to replication mode, the only difference being that the nodes are not guaranteed to have the same state. When a node leaves the cluster there is no state transfer.
						</li></ul></div><p>
					A state transfer transfers both in-memory and persistent state by default, but both can be disabled in the configuration. When state transfer is disabled, a <code class="literal">ClusterLoader</code> must be configured, otherwise a node will become the owner or backup owner of a key without the data being loaded into its cache. In addition, if state transfer is disabled in distribution mode then a key will occasionally have less than <code class="literal">owners</code> copies in the cache.
				</p></section><section class="section" id="configure_infinispan_thread_pools"><div class="titlepage"><div><div><h3 class="title">24.3.5. Configure Infinispan Thread Pools</h3></div></div></div><p>
					The <code class="literal">infinispan</code> subsystem contains the <code class="literal">async-operations</code>, <code class="literal">expiration</code>, <code class="literal">listener</code>, <code class="literal">persistence</code>, <code class="literal">remote-command</code>, <code class="literal">state-transfer</code>, and <code class="literal">transport</code> thread pools. These pools can be configured for any Infinispan cache container.
				</p><p>
					The following table lists the attributes you can configure for each thread pool in the <code class="literal">infinispan</code> subsystem and the default value for each.
				</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 28%; " class="col_1"><!--Empty--></col><col style="width: 18%; " class="col_2"><!--Empty--></col><col style="width: 18%; " class="col_3"><!--Empty--></col><col style="width: 18%; " class="col_4"><!--Empty--></col><col style="width: 18%; " class="col_5"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321693400000" scope="col">Thread Pool Name</th><th align="left" valign="top" id="idm140321693398912" scope="col">keepalive-time</th><th align="left" valign="top" id="idm140321693397824" scope="col">max-threads</th><th align="left" valign="top" id="idm140321693396736" scope="col">min-threads</th><th align="left" valign="top" id="idm140321693395648" scope="col">queue-length</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321693400000"> <p>
									async-operations
								</p>
								 </td><td align="left" valign="top" headers="idm140321693398912"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321693397824"> <p>
									25
								</p>
								 </td><td align="left" valign="top" headers="idm140321693396736"> <p>
									25
								</p>
								 </td><td align="left" valign="top" headers="idm140321693395648"> <p>
									1000
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321693400000"> <p>
									expiration
								</p>
								 </td><td align="left" valign="top" headers="idm140321693398912"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321693397824"> <p>
									1
								</p>
								 </td><td align="left" valign="top" headers="idm140321693396736"> <p>
									N/A
								</p>
								 </td><td align="left" valign="top" headers="idm140321693395648"> <p>
									N/A
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321693400000"> <p>
									listener
								</p>
								 </td><td align="left" valign="top" headers="idm140321693398912"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321693397824"> <p>
									1
								</p>
								 </td><td align="left" valign="top" headers="idm140321693396736"> <p>
									1
								</p>
								 </td><td align="left" valign="top" headers="idm140321693395648"> <p>
									100000
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321693400000"> <p>
									persistence
								</p>
								 </td><td align="left" valign="top" headers="idm140321693398912"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321693397824"> <p>
									4
								</p>
								 </td><td align="left" valign="top" headers="idm140321693396736"> <p>
									1
								</p>
								 </td><td align="left" valign="top" headers="idm140321693395648"> <p>
									0
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321693400000"> <p>
									remote-command
								</p>
								 </td><td align="left" valign="top" headers="idm140321693398912"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321693397824"> <p>
									200
								</p>
								 </td><td align="left" valign="top" headers="idm140321693396736"> <p>
									1
								</p>
								 </td><td align="left" valign="top" headers="idm140321693395648"> <p>
									0
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321693400000"> <p>
									state-transfer
								</p>
								 </td><td align="left" valign="top" headers="idm140321693398912"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321693397824"> <p>
									60
								</p>
								 </td><td align="left" valign="top" headers="idm140321693396736"> <p>
									1
								</p>
								 </td><td align="left" valign="top" headers="idm140321693395648"> <p>
									0
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321693400000"> <p>
									transport
								</p>
								 </td><td align="left" valign="top" headers="idm140321693398912"> <p>
									60000L
								</p>
								 </td><td align="left" valign="top" headers="idm140321693397824"> <p>
									25
								</p>
								 </td><td align="left" valign="top" headers="idm140321693396736"> <p>
									25
								</p>
								 </td><td align="left" valign="top" headers="idm140321693395648"> <p>
									100000
								</p>
								 </td></tr></tbody></table></div><p>
					Use the following syntax to configure an Infinispan thread pool using the management CLI.
				</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER_NAME</em></span>/thread-pool=<span class="emphasis"><em>THREAD_POOL_NAME</em></span>:write-attribute(name=<span class="emphasis"><em>ATTRIBUTE_NAME</em></span>, value=<span class="emphasis"><em>ATTRIBUTE_VALUE</em></span>)</pre><p>
					The following is an example of the management CLI command to set the <code class="literal">max-threads</code> value to <code class="literal">10</code> in the <code class="literal">persistence</code> thread pool for the <code class="literal">server</code> cache container.
				</p><pre class="screen">/subsystem=infinispan/cache-container=server/thread-pool=persistence:write-attribute(name="max-threads", value="10")</pre></section><section class="section" id="infinispan_statistics"><div class="titlepage"><div><div><h3 class="title">24.3.6. Infinispan Statistics</h3></div></div></div><p>
					Runtime statistics about Infinispan caches and cache containers can be enabled for monitoring purposes. Statistics collection is not enabled by default for performance reasons.
				</p><p>
					Statistics collection can be enabled for each cache container, cache, or both. The statistics option for each cache overrides the option for the cache container. Enabling or disabling statistics collection for a cache container will cause all caches in that container to inherit the setting, unless they explicitly specify their own.
				</p><section class="section" id="enable_infinispan_statistics"><div class="titlepage"><div><div><h4 class="title">24.3.6.1. Enable Infinispan Statistics</h4></div></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							Enabling Infinispan statistics may have a negative impact on the performance of the <code class="literal">infinispan</code> subsystem. Statistics should be enabled only when required.
						</p></div></div><p>
						You can enable or disable the collection of Infinispan statistics using the management console or the management CLI. From the management console, navigate to the <span class="strong strong"><strong>Infinispan</strong></span> subsystem from the <span class="strong strong"><strong>Configuration</strong></span> tab, select the appropriate cache or cache container, and edit the <span class="strong strong"><strong>Statistics Enabled</strong></span> attribute. Use the below commands to enable statistics using the management CLI.
					</p><p>
						Enable statistics collection for a cache container. A server reload will be required.
					</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>:write-attribute(name=statistics-enabled,value=true)</pre><p>
						Enable statistics collection for a cache. A server reload will be required.
					</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>/<span class="emphasis"><em>CACHE_TYPE</em></span>=<span class="emphasis"><em>CACHE</em></span>:write-attribute(name=statistics-enabled,value=true)</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You can use the following command to undefine the <code class="literal">statistics-enabled</code> attribute of a cache so that it will inherit the settings of its cache container’s <code class="literal">statistics-enabled</code> attribute.
						</p><pre class="screen">/subsystem=infinispan/cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>/<span class="emphasis"><em>CACHE_TYPE</em></span>=<span class="emphasis"><em>CACHE</em></span>:undefine-attribute(name=statistics-enabled)</pre></div></div></section></section><section class="section" id="infinispan_partition_handling"><div class="titlepage"><div><div><h3 class="title">24.3.7. Infinispan Partition Handling</h3></div></div></div><p>
					An <span class="emphasis"><em>Infinispan cluster</em></span> is built out of several nodes where data is stored. To prevent data loss if multiple nodes fail, Infinispan copies the same data over multiple nodes. This level of data redundancy is configured using the <code class="literal">owners</code> attribute. As long as fewer than the configured number of nodes crash simultaneously, Infinispan will have a copy of the data available.
				</p><p>
					However, there are potential catastrophic situations that could occur when too many nodes disappear from the cluster:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Split brain</span></dt><dd><p class="simpara">
								This splits the cluster in two or more partitions, or sub-clusters, that operate independently. In these circumstances, multiple clients reading and writing from different partitions see different versions of the same cache entry, which for many applications is problematic.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									There are ways to alleviate the possibility for the split brain to happen, such as redundant networks or <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/s2-networkscripts-interfaces-chan.html" title="This content is not included in Mimir.">IP bonding</a>; however, these only reduce the window of time for the problem to occur.
								</p></div></div></dd><dt><span class="term">Multiple nodes crash in sequence</span></dt><dd>
								If multiple nodes, specifically the number of owners, crash in rapid sequence and Infinispan does not have the time to properly rebalance its state between crashes, the result is partial data loss.
							</dd></dl></div><p>
					The goal is to avoid situations in which incorrect data is returned to the user as a result of either split brain or multiple nodes crashing in rapid sequence.
				</p><section class="section" id="split_brain"><div class="titlepage"><div><div><h4 class="title">24.3.7.1. Split Brain</h4></div></div></div><p>
						In a split brain situation, each network partition will install its own JGroups view, removing the nodes from the other partitions. We do not have a direct way to determine whether the cluster has been split into two or more partitions, since the partitions are unaware of each other. Instead, we assume the cluster has split when one or more nodes disappear from the JGroups cluster without sending an explicit leave message.
					</p><p>
						With partition handling disabled, each such partition would continue to function as an independent cluster. Each partition may only see a part of the data, and each partition could write conflicting updates in the cache.
					</p><p>
						With partition handling enabled, if we detect a split, each partition does not start a rebalance immediately, but first checks whether it should enter degraded mode instead:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If at least one segment has lost all its owners, meaning that at least the number of owners specified has left since the last rebalance ended, the partition enters degraded mode.
							</li><li class="listitem">
								If the partition does not contain a simple majority of the nodes (floor(numNodes/2) + 1) in the <span class="emphasis"><em>latest stable topology</em></span>, the partition also enters degraded mode.
							</li><li class="listitem">
								Otherwise, the partition keeps functioning normally and starts a rebalance.
							</li></ul></div><p>
						The <span class="emphasis"><em>stable topology</em></span> is updated every time a rebalance operation ends and the coordinator determines that another rebalance is not necessary. These rules ensure that at most, one partition stays in available mode, and the other partitions enter degraded mode.
					</p><p>
						When a partition is in degraded mode, it only allows access to the keys that are wholly owned:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Requests (reads and writes) for entries that have all the copies on nodes within this partition are honored.
							</li><li class="listitem">
								Requests for entries that are partially or totally owned by nodes that have disappeared are rejected with an <code class="literal">AvailabilityException</code>.
							</li></ul></div><p>
						This guarantees that partitions cannot write different values for the same key (cache is consistent), and also that one partition can not read keys that have been updated in the other partitions (no stale data).
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Two partitions could start up isolated, and as long as they do not merge, they can read and write inconsistent data. In the future, we may allow custom availability strategies (e.g. check that a certain node is part of the cluster, or check that an external machine is accessible) that could handle that situation as well.
						</p></div></div></section><section class="section" id="configuring_partition_handling"><div class="titlepage"><div><div><h4 class="title">24.3.7.2. Configuring Partition Handling</h4></div></div></div><p>
						Currently the partition handling is disabled by default. Use the following management CLI command to enable partition handling:
					</p><pre class="screen">/subsystem=infinispan/cache-container=web/distributed-cache=dist/component=partition-handling:write-attribute(name=enabled, value=true)</pre></section></section><section class="section" id="configuring_remote_cache_containers"><div class="titlepage"><div><div><h3 class="title">24.3.8. Configuring Remote Cache Containers</h3></div></div></div><section class="section" id="creating-remote-cache-container_config"><div class="titlepage"><div><div><h4 class="title">24.3.8.1. Creating a Remote Cache Container</h4></div></div></div><p>
						Each server group in a managed domain requires a unique remote cache. The caches can belong to the same data grid. Therefore, users must configure a remote cache for every server group by defining a socket binding for the server group and associating the socket binding with a remote cache container.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Define a <code class="literal">socket-binding</code>, repeating the command as necessary for each remote Red Hat Data Grid instance in the cluster.
							</p><pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=<span class="emphasis"><em>SOCKET_BINDING</em></span>:add(host=<span class="emphasis"><em>HOSTNAME</em></span>,port=<span class="emphasis"><em>PORT</em></span>)</pre></li><li class="listitem"><p class="simpara">
								Define a <code class="literal">remote-cache-container</code> that references the newly created socket bindings.
							</p><pre class="screen">batch
/subsystem=infinispan/remote-cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>:add(default-remote-cluster=data-grid-cluster)
/subsystem=infinispan/remote-cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>/remote-cluster=data-grid-cluster:add(socket-bindings=[<span class="emphasis"><em>SOCKET_BINDING</em></span>,<span class="emphasis"><em>SOCKET_BINDING_2</em></span>,...])
run-batch</pre></li></ol></div></section><section class="section" id="enabling-statistics-remote-cache-container_config"><div class="titlepage"><div><div><h4 class="title">24.3.8.2. Enabling Statistics for a Remote Cache Container</h4></div></div></div><p>
						The <code class="literal">statistics-enabled</code> attribute enables a collection of metrics for a given <code class="literal">remote-cache-container</code> and associated runtime caches.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For a <code class="literal">remote-cache-container</code> called "foo", enable statistics using the following operation:
							</li></ul></div><pre class="screen">/subsystem=infinispan/remote-cache-container=foo:write-attribute(name=statistics-enabled, value=true)</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For a <code class="literal">remote-cache-container</code> "foo", the following metrics are visible at runtime:
							</li></ul></div><pre class="screen">/subsystem=infinispan/remote-cache-container=foo:read-attribute(name=connections)
/subsystem=infinispan/remote-cache-container=foo:read-attribute(name=active-connections)
/subsystem=infinispan/remote-cache-container=foo:read-attribute(name=idle-connections)</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For descriptions of these metrics, execute a read-resource-description operation for the <code class="literal">remote-cache-container</code>:
							</li></ul></div><pre class="screen">/subsystem=infinispan/remote-cache-container=foo:read-resource-description</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The following metrics are specific to the remote cache used by the selected deployment:
							</li></ul></div><pre class="screen">/subsystem=infinispan/remote-cache-container=foo/remote-cache=bar.war:read-resource(include-runtime=true, recursive=true)
{
    "average-read-time" : 1,
    "average-remove-time" : 0,
    "average-write-time" : 2,
    "hits" : 9,
    "misses" : 0,
    "near-cache-hits" : 7,
    "near-cache-invalidations" : 8,
    "near-cache-misses" : 9,
    "near-cache-size" : 1,
    "removes" : 0,
    "time-since-reset" : 82344,
    "writes" : 8
}</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For descriptions of these metrics, execute a read-resource-description operation for the remote cache:
							</li></ul></div><pre class="screen">/subsystem=infinispan/remote-cache-container=foo/remote-cache=bar.war:read-resource-description</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Some of these metrics are computed values (example, average-*), while others are tallied, such as hits and misses. The tallied metrics can be reset by the following operation:
							</li></ul></div><pre class="screen">/subsystem=infinispan/remote-cache-container=foo/remote-cache=bar.war:reset-statistics()</pre></section></section><section class="section" id="jdg_externalize_http_sessions"><div class="titlepage"><div><div><h3 class="title">24.3.9. Externalize HTTP Sessions to Red Hat Data Grid</h3></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You need a Red Hat Data Grid subscription to use this functionality.
					</p></div></div><p>
					Red Hat Data Grid can be used as an external cache container for application-specific data in JBoss EAP, such as HTTP sessions. This allows scaling of the data layer independent of the application, and enables different JBoss EAP clusters, which may reside in various domains, to access data from the same Red Hat Data Grid cluster. Additionally, other applications can interface with the caches presented by Red Hat Data Grid.
				</p><p>
					The following example shows how to externalize HTTP sessions. It applies to both standalone instances of JBoss EAP as well as managed domains.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Create a <code class="literal">remote-cache-container</code>. For more information, see <a class="link" href="#configuring_remote_cache_containers" title="24.3.8. Configuring Remote Cache Containers">Configuring Remote Cache Containers</a>.
						</li><li class="listitem"><p class="simpara">
							Configure the HotRod store. The HotRod store uses one dedicated remote cache for each cache created by the JBoss EAP server. Typically, one invalidation cache is used on the JBoss EAP server, as shown in the CLI script below.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The remote caches need to be configured manually on the Red Hat Data Grid servers. The recommended configuration for these caches is a transactional distribution mode cache with pessimistic locking. Cache names must correspond to the deployment file names, such as <code class="literal">test.war</code>.
							</p></div></div><p class="simpara">
							Once the remote cache container has been configured, a <code class="literal">hotrod</code> store can be configured to replace any existing store. The following CLI script demonstrates a typical use case for offloading sessions in conjunction with the invalidation cache.
						</p><pre class="screen">batch
/subsystem=infinispan/cache-container=web/invalidation-cache=<span class="emphasis"><em>CACHE_NAME</em></span>:add()
/subsystem=infinispan/cache-container=web/invalidation-cache=<span class="emphasis"><em>CACHE_NAME</em></span>/store=hotrod:add(remote-cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>,fetch-state=false,purge=false,passivation=false,shared=true)
/subsystem=infinispan/cache-container=web/invalidation-cache=<span class="emphasis"><em>CACHE_NAME</em></span>/component=transaction:add(mode=BATCH)
/subsystem=infinispan/cache-container=web/invalidation-cache=<span class="emphasis"><em>CACHE_NAME</em></span>/component=locking:add(isolation=REPEATABLE_READ)
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache,value=<span class="emphasis"><em>CACHE_NAME</em></span>)
run-batch</pre><p class="simpara">
							The script configures a new invalidation cache. Session data is then maintained in the cache for performance and written to the store for resilience.
						</p><p class="simpara">
							A HotRod client can be injected directly into Java EE applications using the <code class="literal">@Resource</code> annotation. In the example below, the <code class="literal">@Resource</code> annotation looks up the configuration properties in the class path, in the <code class="literal">hotrod-client.properties</code> file.
						</p><pre class="programlisting language-java">@Resource(lookup = "java:jboss/infinispan/remote-container/web-sessions")
private org.infinispan.client.hotrod.RemoteCacheContainer client;</pre><div class="formalpara"><p class="title"><strong>Example: <code class="literal">hotrod-client.properties</code> File</strong></p><p>
								
<pre class="screen">infinispan.client.hotrod.transport_factory = org.infinispan.client.hotrod.impl.transport.tcp.TcpTransportFactory
infinispan.client.hotrod.server_list = 127.0.0.1:11222
infinispan.client.hotrod.marshaller = org.infinispan.commons.marshall.jboss.GenericJBossMarshaller
infinispan.client.hotrod.async_executor_factory = org.infinispan.client.hotrod.impl.async.DefaultAsyncExecutorFactory
infinispan.client.hotrod.default_executor_factory.pool_size = 1
infinispan.client.hotrod.default_executor_factory.queue_size = 10000
infinispan.client.hotrod.hash_function_impl.1 = org.infinispan.client.hotrod.impl.consistenthash.ConsistentHashV1
infinispan.client.hotrod.tcp_no_delay = true
infinispan.client.hotrod.ping_on_startup = true
infinispan.client.hotrod.request_balancing_strategy = org.infinispan.client.hotrod.impl.transport.tcp.RoundRobinBalancingStrategy
infinispan.client.hotrod.key_size_estimate = 64
infinispan.client.hotrod.value_size_estimate = 512
infinispan.client.hotrod.force_return_values = false

## below is connection pooling config

maxActive=-1
maxTotal = -1
maxIdle = -1
whenExhaustedAction = 1
timeBetweenEvictionRunsMillis=120000
minEvictableIdleTimeMillis=300000
testWhileIdle = true
minIdle = 1</pre>

							</p></div></li></ol></div><h5 id="securing_a_remote_cache_container">Securing a Remote Cache Container</h5><p>
					It is possible to secure the communication to the remote Red Hat Data Grid instance using SSL. This is accomplished by configuring the <code class="literal">remote-cache-container</code> on the JBoss EAP instance and adjusting the hotrod connector on the Red Hat Data Grid instance to use an active security realm.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a <code class="literal">client-ssl-context</code> in JBoss EAP. For additional information on creating a <code class="literal">client-ssl-context</code>, including generating the other elytron components, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#using_client_ssl_context" title="This content is not included in Mimir.">Using a client-ssl-context</a> in <span class="emphasis"><em>How to Configure Server Security</em></span> for JBoss EAP.
						</p><pre class="screen">/subsystem=elytron/client-ssl-context=<span class="emphasis"><em>CLIENT_SSL_CONTEXT</em></span>:add(key-manager=<span class="emphasis"><em>KEY_MANAGER</em></span>,trust-manager=<span class="emphasis"><em>TRUST_MANAGER</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Configure the remote cache container to use the client SSL context.
						</p><pre class="screen">/subsystem=infinispan/remote-cache-container=<span class="emphasis"><em>CACHE_CONTAINER</em></span>/component=security:write-attribute(name=ssl-context,value=<span class="emphasis"><em>CLIENT_SSL_CONTEXT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Secure the remote Red Hat Data Grid instance, repeating as necessary for each instance.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Copy the keystore used in the <code class="literal">client-ssl-context</code> to the remote Red Hat Data Grid instance.
								</li><li class="listitem"><p class="simpara">
									Configure the <code class="literal">ApplicationRealm</code> to use this keystore.
								</p><pre class="screen">/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:add(keystore-path="<span class="emphasis"><em>KEYSTORE_NAME</em></span>",keystore-relative-to="jboss.server.config.dir",keystore-password="<span class="emphasis"><em>KEYSTORE_PASSWORD</em></span>")</pre></li><li class="listitem"><p class="simpara">
									Adjust the hotrod connector to point to this security realm.
								</p><pre class="screen">/subsystem=datagrid-infinispan-endpoint/hotrod-connector=hotrod-connector/encryption=ENCRYPTION:add(require-ssl-client-auth=false,security-realm="ApplicationRealm")</pre></li><li class="listitem"><p class="simpara">
									Reload the remote Red Hat Data Grid instance.
								</p><pre class="screen">reload</pre></li></ol></div></li></ol></div></section><section class="section" id="externalize-http-sessions-to-jdg-remote-store"><div class="titlepage"><div><div><h3 class="title">24.3.10. Externalize HTTP Sessions to Red Hat Data Grid Using a Remote Store</h3></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You need a Red Hat Data Grid subscription to use this functionality.
					</p></div></div><p>
					The instructions here represent an older way of externalizing sessions. JBoss EAP 7.2 introduced a custom optimized cache store based on the HotRod protocol that integrates with the <code class="literal">elytron</code> subsystem. It is recommended to use the new <code class="literal">hotrod</code> store, as described in <a class="link" href="#jdg_externalize_http_sessions" title="24.3.9. Externalize HTTP Sessions to Red Hat Data Grid">Externalize HTTP Sessions to Red Hat Data Grid</a>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						For each distributable application, an entirely new cache must be created. It can be created in an existing cache container, for example, <code class="literal">web</code>.
					</p></div></div><p>
					To externalize HTTP sessions:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Define the location of the remote Red Hat Data Grid server by adding the networking information to the <code class="literal">socket-binding-group</code>.
						</p><div class="formalpara"><p class="title"><strong>Example: Adding Remote Socket Bindings</strong></p><p>
								
<pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-rhdg-server1:add(host=RHDGHostName1, port=11222)

/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-rhdg-server2:add(host=RHDGHostName2, port=11222)</pre>

							</p></div><div class="formalpara"><p class="title"><strong>Resulting XML</strong></p><p>
								
<pre class="programlisting language-xml">&lt;socket-binding-group name="standard-sockets" ... &gt;
  ...
  &lt;outbound-socket-binding name="remote-rhdg-server1"&gt;
    &lt;remote-destination host="RHDGHostName1" port="11222"/&gt;
  &lt;/outbound-socket-binding&gt;
  &lt;outbound-socket-binding name="remote-rhdg-server2"&gt;
    &lt;remote-destination host="RHDGHostName2" port="11222"/&gt;
  &lt;/outbound-socket-binding&gt;
&lt;/socket-binding-group&gt;</pre>

							</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You will need a remote socket binding configured for each Red Hat Data Grid server.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Ensure the remote cache containers are defined in JBoss EAP’s <code class="literal">infinispan</code> subsystem; in the example below the <code class="literal">cache</code> attribute in the <code class="literal">remote-store</code> element defines the cache name on the remote Red Hat Data Grid server.
						</p><p class="simpara">
							If you are running in a managed domain, precede these commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
						</p><div class="formalpara"><p class="title"><strong>Example: Adding a Remote Cache Container</strong></p><p>
								
<pre class="screen">/subsystem=infinispan/cache-container=web/invalidation-cache=rhdg:add(mode=SYNC)

/subsystem=infinispan/cache-container=web/invalidation-cache=rhdg/component=locking:write-attribute(name=isolation,value=REPEATABLE_READ)

/subsystem=infinispan/cache-container=web/invalidation-cache=rhdg/component=transaction:write-attribute(name=mode,value=BATCH)

/subsystem=infinispan/cache-container=web/invalidation-cache=rhdg/store=remote:add(remote-servers=["remote-rhdg-server1","remote-rhdg-server2"], cache=default, socket-timeout=60000, passivation=false, purge=false, shared=true)</pre>

							</p></div><div class="formalpara"><p class="title"><strong>Resulting XML</strong></p><p>
								
<pre class="programlisting language-xml">&lt;subsystem xmlns="urn:jboss:domain:infinispan:7.0"&gt;
  ...
  &lt;cache-container name="web" default-cache="dist" module="org.wildfly.clustering.web.infinispan" statistics-enabled="true"&gt;
    &lt;transport lock-timeout="60000"/&gt;
    &lt;invalidation-cache name="rhdg" mode="SYNC"&gt;
      &lt;locking isolation="REPEATABLE_READ"/&gt;
      &lt;transaction mode="BATCH"/&gt;
      &lt;remote-store cache="default" socket-timeout="60000" remote-servers="remote-rhdg-server1 remote-rhdg-server2" passivation="false" purge="false" shared="true"/&gt;
    &lt;/invalidation-cache&gt;
    ...
  &lt;/cache-container&gt;
&lt;/subsystem&gt;</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Add cache information into the application’s <code class="literal">jboss-web.xml</code>. In the following example, <code class="literal">web</code> is the name of the cache container and <code class="literal">rhdg</code> is the name of the appropriate cache located in this container.
						</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">jboss-web.xml</code> File</strong></p><p>
								
<pre class="programlisting language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;jboss-web xmlns="http://www.jboss.com/xml/ns/javaee"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-web_10_0.xsd"
           version="10.0"&gt;
    &lt;replication-config&gt;
        &lt;replication-granularity&gt;SESSION&lt;/replication-granularity&gt;
        &lt;cache-name&gt;web.rhdg&lt;/cache-name&gt;
    &lt;/replication-config&gt;
&lt;/jboss-web&gt;</pre>

							</p></div></li></ol></div></section></section><section class="section" id="configuring_jboss_eap_load_balancer"><div class="titlepage"><div><div><h2 class="title">24.4. Configuring JBoss EAP as a Front-end Load Balancer</h2></div></div></div><p>
				You can configure JBoss EAP and the <code class="literal">undertow</code> subsystem to act as a front-end load balancer to proxy requests to back-end JBoss EAP servers. Since Undertow makes use of asynchronous IO, the IO thread that is responsible for the connection is the only thread that is involved in the request. That same thread is also used for the connection made to the back-end server.
			</p><p>
				You can use the following protocols:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						HTTP over plain text (<code class="literal">http</code>), supporting HTTP/1 and HTTP/2 (<code class="literal">h2c</code>)
					</li><li class="listitem">
						HTTP over secured connection (<code class="literal">https</code>), supporting HTTP/1 and HTTP/2 (<code class="literal">h2</code>)
					</li><li class="listitem">
						AJP (<code class="literal">ajp</code>)
					</li></ul></div><p>
				You can either define a <a class="link" href="#configure_undertow_static_load_balancer" title="24.4.3. Configure Undertow as a Static Load Balancer">static load balancer</a> and specify the back-end hosts in your configuration, or use the <a class="link" href="#configure_undertow_load_balancer_mod_cluster" title="24.4.1. Configure Undertow as a Load Balancer Using mod_cluster">mod_cluster front end</a> to dynamically update the hosts.
			</p><p>
				See <a class="link" href="#configuring_http_2" title="17.13. Configuring HTTP/2">Configuring HTTP/2</a> for instructions to configure Undertow to use HTTP/2.
			</p><section class="section" id="configure_undertow_load_balancer_mod_cluster"><div class="titlepage"><div><div><h3 class="title">24.4.1. Configure Undertow as a Load Balancer Using mod_cluster</h3></div></div></div><p>
					You can use the built-in mod_cluster front-end load balancer to load balance other JBoss EAP instances.
				</p><p>
					This procedure assumes that you are running in a managed domain and already have the following configured:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							A JBoss EAP server that will act as the load balancer.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									This server uses the <code class="literal">load-balancer</code> profile, which is bound to the <code class="literal">load-balancer-sockets</code> socket binding group.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										The <code class="literal">load-balancer</code> profile is already preconfigured with the socket binding, mod-cluster Undertow filter, and reference in the default host to the filter in order to use this server as a front-end load balancer.
									</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Two JBoss EAP servers, which will act as the back-end servers.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									These servers are running in a cluster and use the <code class="literal">ha</code> profile, which is bound to the <code class="literal">ha-sockets</code> socket binding group.
								</li></ul></div></li><li class="listitem">
							The distributable application to be load balanced deployed to the back-end servers.
						</li></ul></div><h5 id="configure_the_mod_cluster_front_end_load_balancer">Configure the mod_cluster Front-end Load Balancer</h5><p>
					The below steps load balance servers in a managed domain, but they can be adjusted to apply to a set of standalone servers. Be sure to update the management CLI command values to suit your environment.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the mod_cluster advertise security key.
						</p><p class="simpara">
							Adding the advertise security key allows the load balancer and servers to authenticate during discovery.
						</p><p class="simpara">
							Use the following management CLI command to set the mod_cluster advertise security key.
						</p><pre class="screen">/profile=ha/subsystem=modcluster/proxy=default:write-attribute(name=advertise-security-key, value=mypassword)</pre></li><li class="listitem"><p class="simpara">
							Update the mod_cluster load balancer’s security key.
						</p><p class="simpara">
							Use the following management CLI command to set the security key for the mod_cluster filter.
						</p><pre class="screen">/profile=load-balancer/subsystem=undertow/configuration=filter/mod-cluster=load-balancer:write-attribute(name=security-key,value=mypassword)</pre></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						It is recommended that the management and advertise socket bindings used by mod_cluster only be exposed to the internal network, not a public IP address.
					</p></div></div><p>
					The load balancer JBoss EAP server can now load balance the two back-end JBoss EAP servers.
				</p><h5 id="multiple_mod_cluster_configurations">Multiple mod_cluster Configurations</h5><p>
					The <code class="literal">mod_cluster</code> subsystem supports multiple named proxy configurations which allows to register non-default <code class="literal">undertow</code> servers with the reverse proxies. Moreover, this allows single application server node to register with different groups of proxy servers.
				</p><p>
					The following example adds an <code class="literal">ajp-listener</code>, a server, and a host to the <code class="literal">undertow</code> server. It also adds a new <code class="literal">mod_cluster</code> configuration that registers the host using the advertise mechanism.
				</p><pre class="screen">/socket-binding-group=standard-sockets/socket-binding=ajp-other:add(port=8010)
/subsystem=undertow/server=other-server:add
/subsystem=undertow/server=other-server/ajp-listener=ajp-other:add(socket-binding=ajp-other)
/subsystem=undertow/server=other-server/host=other-host:add(default-web-module=root-other.war)
/subsystem=undertow/server=other-server/host=other-host
/location=other:add(handler=welcome-content)
/subsystem=undertow/server=other-server/host=other-host:write-attribute(name=alias,value=[localhost]))

/socket-binding-group=standard-sockets/socket-binding=modcluster-other:add(multicast-address=224.0.1.106,multicast-port=23364)
/subsystem=modcluster/proxy=other:add(advertise-socket=modcluster-other,balancer=other-balancer,connector=ajp-other)

reload</pre></section><section class="section" id="enabling-ranked-session-affinity-in-your-load-balancer_config"><div class="titlepage"><div><div><h3 class="title">24.4.2. Enabling Ranked Session Affinity in Your Load Balancer</h3></div></div></div><p>
					You must enable ranked session affinity in your load balancer to have session affinity with multiple, ordered routes in the <code class="literal">distributable-web</code> subsystem. For more information about the <code class="literal">distributable-web</code> subsystem and the different affinity options, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#distributable_web_subsystem">The distributable-web subsystem for Distributable Web Session Configurations</a> in the <span class="emphasis"><em>Development Guide</em></span> for JBoss EAP.
				</p><p>
					The default delimiter that separates the node routes is <code class="literal">.</code>. If you want a different value, you can configure the <code class="literal">delimiter</code> attribute of the <code class="literal">affinity</code> resource.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable ranked session affinity for a load balancer:
						</p><pre class="screen">/subsystem=undertow/configuration=filter/mod-cluster=load-balancer/affinity=ranked:add</pre></li><li class="listitem"><p class="simpara">
							Optional: Configure the <code class="literal">delimiter</code> attribute of the <code class="literal">affinity</code> resource:
						</p><pre class="screen">/subsystem=undertow/configuration=filter/mod-cluster=load-balancer/affinity=ranked:write-attribute(name=delimiter,value=':')</pre></li></ol></div></section><section class="section" id="configure_undertow_static_load_balancer"><div class="titlepage"><div><div><h3 class="title">24.4.3. Configure Undertow as a Static Load Balancer</h3></div></div></div><p>
					To configure a static load balancer with Undertow, you need to configure a proxy handler in the <code class="literal">undertow</code> subsystem. To configure a proxy handler in Undertow, you need to do the following on your JBoss EAP instance that will serve as your static load balancer:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Add a reverse proxy handler
						</li><li class="listitem">
							Define the outbound socket bindings for each remote host
						</li><li class="listitem">
							Add each remote host to the reverse proxy handler
						</li><li class="listitem">
							Add the reverse proxy location
						</li></ol></div><p>
					The following example shows how to configure a JBoss EAP instance to be a static load balancer. The JBoss EAP instance is located at <code class="literal">lb.example.com</code> and will load balance between two additional servers: <code class="literal">server1.example.com</code> and <code class="literal">server2.example.com</code>. The load balancer will reverse-proxy to the location <code class="literal">/app</code> and will use the AJP protocol.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To add a reverse proxy handler:
						</p><pre class="screen">/subsystem=undertow/configuration=handler/reverse-proxy=my-handler:add</pre></li><li class="listitem"><p class="simpara">
							To define the outbound socket bindings for each remote host:
						</p><pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-host1/:add(host=server1.example.com, port=8009)

/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-host2/:add(host=server2.example.com, port=8009)</pre></li><li class="listitem"><p class="simpara">
							To add each remote host to the reverse proxy handler:
						</p><pre class="screen">/subsystem=undertow/configuration=handler/reverse-proxy=my-handler/host=host1:add(outbound-socket-binding=remote-host1, scheme=ajp, instance-id=myroute1, path=/test)

/subsystem=undertow/configuration=handler/reverse-proxy=my-handler/host=host2:add(outbound-socket-binding=remote-host2, scheme=ajp, instance-id=myroute2, path=/test)</pre></li><li class="listitem"><p class="simpara">
							To add the reverse proxy location:
						</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/location=\/test:add(handler=my-handler)</pre></li></ol></div><p>
					When accessing <code class="literal">lb.example.com:8080/app</code>, you will now see the content proxied from <code class="literal">server1.example.com</code> and <code class="literal">server2.example.com</code>.
				</p></section></section><section class="section" id="using_external_web_server_proxy"><div class="titlepage"><div><div><h2 class="title">24.5. Using an External Web Server as a Proxy Server</h2></div></div></div><p>
				JBoss EAP can accept requests from an external web server using the supported HTTP, HTTPS, or AJP protocol, depending on the external web server configuration.
			</p><p>
				See <a class="link" href="#overview_http_connectors" title="24.5.1. Overview of HTTP Connectors">Overview of HTTP Connectors</a> for details on the supported HTTP connectors for each web server. Once you have decided which web server and HTTP connector to use, see the appropriate section for information on configuring your connector:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						See the <a class="link" href="#mod_cluster-config" title="24.6. The mod_cluster HTTP Connector">mod_cluster</a>, <a class="link" href="#mod_jk-config" title="24.7. Apache mod_jk HTTP Connector">mod_jk</a>, or <a class="link" href="#mod_proxy-config" title="24.8. Apache mod_proxy HTTP Connector">mod_proxy</a> section for <a class="link" href="#apache_http_server" title="24.5.2. Apache HTTP Server">Apache HTTP Server</a>.
					</li><li class="listitem">
						See the <a class="link" href="#ISAPI_config" title="24.9. Microsoft ISAPI Connector">ISAPI connector</a> section for Microsoft IIS.
					</li><li class="listitem">
						See the <a class="link" href="#NSAPI_config" title="24.10. Oracle NSAPI Connector">NSAPI connector</a> section for Oracle iPlanet Web Server.
					</li></ul></div><p>
				For the most current information about supported configurations for HTTP connectors, see <a class="link mimir-link-warn" href="https://access.redhat.com/articles/2026253" title="This content is not included in Mimir.">JBoss EAP supported configurations</a>.
			</p><p>
				You also will need to make sure that JBoss EAP is configured to <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">accept requests from external web servers</a>.
			</p><section class="section" id="overview_http_connectors"><div class="titlepage"><div><div><h3 class="title">24.5.1. Overview of HTTP Connectors</h3></div></div></div><p>
					JBoss EAP has the ability to use load-balancing and clustering mechanisms built into external web servers, such as Apache HTTP Server, Microsoft IIS, and Oracle iPlanet as well as through Undertow. JBoss EAP communicates with the web servers using a connector. These connectors are configured within the <code class="literal">undertow</code> subsystem of JBoss EAP.
				</p><p>
					The web servers include software modules which control the way that HTTP requests are routed to JBoss EAP nodes. Each of these modules varies in how it works and how it is configured. The modules are configured to balance work loads across multiple JBoss EAP nodes, to move work loads to alternate servers in case of a failure event, or both.
				</p><p>
					JBoss EAP supports several different connectors. The one you choose depends on the web server in use and the functionality you need. See the tables below for comparisons of the supported configurations and features of the various HTTP connectors that are compatible with JBoss EAP.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						See <a class="link" href="#configure_undertow_load_balancer_mod_cluster" title="24.4.1. Configure Undertow as a Load Balancer Using mod_cluster">Configure Undertow as a Load Balancer Using mod_cluster</a> for using JBoss EAP 7 as a multi-platform load balancer.
					</p></div></div><p>
					For the most current information about supported configurations for HTTP connectors, see <a class="link mimir-link-warn" href="https://access.redhat.com/articles/2026253" title="This content is not included in Mimir.">JBoss EAP supported configurations</a>.
				</p><div class="table" id="idm140321699117888"><p class="title"><strong>Table 24.1. HTTP Connector Supported Configurations</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 30%; " class="col_2"><!--Empty--></col><col style="width: 32%; " class="col_3"><!--Empty--></col><col style="width: 18%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692519184" scope="col">Connector</th><th align="left" valign="top" id="idm140321692518096" scope="col">Web Server</th><th align="left" valign="top" id="idm140321692517008" scope="col">Supported Operating Systems</th><th align="left" valign="top" id="idm140321692515904" scope="col">Supported Protocols</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692519184"> <p>
									<a class="link" href="#mod_cluster-config" title="24.6. The mod_cluster HTTP Connector">mod_cluster</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692518096"> <p>
									Red Hat JBoss Core Services Apache HTTP Server, Red Hat JBoss Web Server Apache HTTP Server, JBoss EAP (Undertow)
								</p>
								 </td><td align="left" valign="top" headers="idm140321692517008"> <p>
									Red Hat Enterprise Linux, Microsoft Windows Server, Oracle Solaris
								</p>
								 </td><td align="left" valign="top" headers="idm140321692515904"> <p>
									HTTP, HTTPS, AJP, WebSocket
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692519184"> <p>
									<a class="link" href="#mod_jk-config" title="24.7. Apache mod_jk HTTP Connector">mod_jk</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692518096"> <p>
									Red Hat JBoss Core Services Apache HTTP Server, Red Hat JBoss Web Server Apache HTTP Server
								</p>
								 </td><td align="left" valign="top" headers="idm140321692517008"> <p>
									Red Hat Enterprise Linux, Microsoft Windows Server, Oracle Solaris
								</p>
								 </td><td align="left" valign="top" headers="idm140321692515904"> <p>
									AJP
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692519184"> <p>
									<a class="link" href="#mod_proxy-config" title="24.8. Apache mod_proxy HTTP Connector">mod_proxy</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692518096"> <p>
									Red Hat JBoss Core Services Apache HTTP Server, Red Hat JBoss Web Server Apache HTTP Server
								</p>
								 </td><td align="left" valign="top" headers="idm140321692517008"> <p>
									Red Hat Enterprise Linux, Microsoft Windows Server, Oracle Solaris
								</p>
								 </td><td align="left" valign="top" headers="idm140321692515904"> <p>
									HTTP, HTTPS, AJP
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692519184"> <p>
									<a class="link" href="#ISAPI_config" title="24.9. Microsoft ISAPI Connector">ISAPI connector</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692518096"> <p>
									Microsoft IIS
								</p>
								 </td><td align="left" valign="top" headers="idm140321692517008"> <p>
									Microsoft Windows Server
								</p>
								 </td><td align="left" valign="top" headers="idm140321692515904"> <p>
									AJP
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692519184"> <p>
									<a class="link" href="#NSAPI_config" title="24.10. Oracle NSAPI Connector">NSAPI connector</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692518096"> <p>
									Oracle iPlanet Web Server
								</p>
								 </td><td align="left" valign="top" headers="idm140321692517008"> <p>
									Oracle Solaris
								</p>
								 </td><td align="left" valign="top" headers="idm140321692515904"> <p>
									AJP
								</p>
								 </td></tr></tbody></table></div></div><div class="table" id="idm140321692601024"><p class="title"><strong>Table 24.2. HTTP Connector Features</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 55%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692595264" scope="col">Connector</th><th align="left" valign="top" id="idm140321692594176" scope="col">Supports Sticky Sessions</th><th align="left" valign="top" id="idm140321692593072" scope="col">Adapts to Deployment Status</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692595264"> <p>
									<a class="link" href="#mod_cluster-config" title="24.6. The mod_cluster HTTP Connector">mod_cluster</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692594176"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140321692593072"> <p>
									Yes. Detects deployment and undeployment of applications and dynamically decides whether to direct client requests to a server based on whether the application is deployed on that server.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692595264"> <p>
									<a class="link" href="#mod_jk-config" title="24.7. Apache mod_jk HTTP Connector">mod_jk</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692594176"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140321692593072"> <p>
									No. Directs client requests to the container as long as the container is available, regardless of application status.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692595264"> <p>
									<a class="link" href="#mod_proxy-config" title="24.8. Apache mod_proxy HTTP Connector">mod_proxy</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692594176"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140321692593072"> <p>
									No. Directs client requests to the container as long as the container is available, regardless of application status.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692595264"> <p>
									<a class="link" href="#ISAPI_config" title="24.9. Microsoft ISAPI Connector">ISAPI connector</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692594176"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140321692593072"> <p>
									No. Directs client requests to the container as long as the container is available, regardless of application status.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140321692595264"> <p>
									<a class="link" href="#NSAPI_config" title="24.10. Oracle NSAPI Connector">NSAPI connector</a>
								</p>
								 </td><td align="left" valign="top" headers="idm140321692594176"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140321692593072"> <p>
									No. Directs client requests to the container as long as the container is available, regardless of application status.
								</p>
								 </td></tr></tbody></table></div></div></section><section class="section" id="apache_http_server"><div class="titlepage"><div><div><h3 class="title">24.5.2. Apache HTTP Server</h3></div></div></div><p>
					A standalone Apache HTTP Server bundle is now available as a separate download with Red Hat JBoss Core Services. This simplifies installation and configuration, and allows for a more consistent update experience.
				</p><section class="section" id="install_apache_http_server"><div class="titlepage"><div><div><h4 class="title">24.5.2.1. Installing Apache HTTP Server</h4></div></div></div><p>
						For information on installing Apache HTTP Server, see the JBoss Core Services <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_core_services_apache_http_server/2.4/html-single/apache_http_server_installation_guide/" title="This content is not included in Mimir."><span class="emphasis"><em>Apache HTTP Server Installation Guide</em></span></a>.
					</p></section></section><section class="section" id="configure_accept_requests_external_web_servers"><div class="titlepage"><div><div><h3 class="title">24.5.3. Accepting Requests from External Web Servers</h3></div></div></div><p>
					JBoss EAP does not require any special configuration to begin accepting requests from a proxy server as long as the correct protocol handler, for example AJP, HTTP, or HTTPS, is configured.
				</p><p>
					If the proxy server uses mod_jk, mod_proxy, ISAPI, or NSAPI, it sends requests to JBoss EAP and JBoss EAP simply provides a response. With mod_cluster, you must also configure your network to allow JBoss EAP to send information, such as its current load, application lifecycle events, and health status, to the proxy server to help it determine where to route requests. For more information about configuring a mod_cluster proxy server, see <a class="link" href="#mod_cluster-config" title="24.6. The mod_cluster HTTP Connector">The mod_cluster HTTP Connector</a>.
				</p><h6 id="update_jboss_eap_configuration">Update JBoss EAP Configuration</h6><p>
					In the following procedure, substitute the protocols and ports in the examples with the ones you need to configure.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Configure the <code class="literal">instance-id</code> attribute of Undertow.
						</p><p class="simpara">
							The external web server identifies the JBoss EAP instance in its connector configuration using the <code class="literal">instance-id</code>. Use the following management CLI command to set the <code class="literal">instance-id</code> attribute in Undertow.
						</p><pre class="screen">/subsystem=undertow:write-attribute(name=instance-id,value=node1)</pre><p class="simpara">
							In the above example, the external web server identifies the current JBoss EAP instance as <code class="literal">node1</code>.
						</p></li><li class="listitem"><p class="simpara">
							Add the necessary listeners to Undertow.
						</p><p class="simpara">
							In order for an external web server to be able to connect to JBoss EAP, Undertow needs a listener. Each protocol needs its own listener, which is tied to a socket binding.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Depending on your desired protocol and port configuration, this step may not be necessary. An HTTP listener is configured in all default JBoss EAP configurations, and an AJP listener is configured if you are using the <span class="emphasis"><em>ha</em></span> or <span class="emphasis"><em>full-ha</em></span> profile.
							</p><p>
								You can check whether the required listeners are already configured by reading the default server configuration:
							</p><pre class="screen">/subsystem=undertow/server=default-server:read-resource</pre></div></div><p class="simpara">
							To add a listener to Undertow, it must have a socket binding. The socket binding is added to the socket binding group used by your server or server group. The following management CLI command adds an <code class="literal">ajp</code> socket binding, bound to port <code class="literal">8009</code>, to the <code class="literal">standard-sockets</code> socket binding group
						</p><pre class="screen">/socket-binding-group=standard-sockets/socket-binding=ajp:add(port=8009)</pre><p class="simpara">
							The following management CLI command adds an <code class="literal">ajp</code> listener to Undertow, using the <code class="literal">ajp</code> socket binding.
						</p><pre class="screen">/subsystem=undertow/server=default-server/ajp-listener=ajp:add(socket-binding=ajp)</pre></li></ol></div></section></section><section class="section" id="mod_cluster-config"><div class="titlepage"><div><div><h2 class="title">24.6. The mod_cluster HTTP Connector</h2></div></div></div><p>
				The mod_cluster connector is an Apache HTTP Server-based load balancer. It uses a communication channel to forward requests from the Apache HTTP Server to one of a set of application server nodes.
			</p><p>
				The mod_cluster connector has several advantages over other connectors.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The mod_cluster Management Protocol (MCMP) is an additional connection between the JBoss EAP servers and the Apache HTTP Server with the mod_cluster module enabled. It is used by the JBoss EAP servers to transmit server-side load-balance factors and lifecycle events back to the Apache HTTP Server via a custom set of HTTP methods.
					</li><li class="listitem">
						Dynamic configuration of Apache HTTP Server with mod_cluster allows JBoss EAP servers to join the load-balancing arrangement without manual configuration.
					</li><li class="listitem">
						JBoss EAP performs the load-balancing factor calculations, rather than relying on the Apache HTTP Server with mod_cluster. This makes load-balancing metrics more accurate than other connectors.
					</li><li class="listitem">
						The mod_cluster connector gives fine-grained application lifecycle control. Each JBoss EAP server forwards web application context lifecycle events to the Apache HTTP Server, informing it to start or stop routing requests for a given context. This prevents end users from seeing HTTP errors due to unavailable resources.
					</li><li class="listitem">
						AJP, HTTP or HTTPS transports can be used.
					</li></ul></div><p>
				For more details on the specific configuration options of the <code class="literal">modcluster</code> subsystem, see the <a class="link" href="#mod_cluster-reference" title="A.37. ModCluster Subsystem Attributes">ModCluster Subsystem Attributes</a>.
			</p><section class="section" id="configure_mod_cluster_in_apache_http_server"><div class="titlepage"><div><div><h3 class="title">24.6.1. Configure mod_cluster in Apache HTTP Server</h3></div></div></div><p>
					The mod_cluster modules are already included when installing JBoss Core Services Apache HTTP Server or using JBoss Web Server and are loaded by default.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Apache HTTP Server is no longer distributed with JBoss Web Server as of version 3.1.0.
					</p></div></div><p>
					See the steps below to configure the mod_cluster module to suit your environment.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Red Hat customers can also use the <a class="link mimir-link-warn" href="https://access.redhat.com/labs/lbconfig/" title="This content is not included in Mimir.">Load Balancer Configuration Tool</a> on the Red Hat Customer Portal to quickly generate optimal configuration templates for mod_cluster and other connectors. Note that you must be logged in to access this tool.
					</p></div></div><h5 id="configure_mod_cluster">Configure mod_cluster</h5><p>
					Apache HTTP Server already contains a mod_cluster configuration file, <code class="literal">mod_cluster.conf</code>, that loads the mod_cluster modules and provides basic configuration. The IP address, port, and other settings in this file, shown below, can be configured to suit your needs.
				</p><pre class="screen"># mod_proxy_balancer should be disabled when mod_cluster is used
LoadModule proxy_cluster_module modules/mod_proxy_cluster.so
LoadModule cluster_slotmem_module modules/mod_cluster_slotmem.so
LoadModule manager_module modules/mod_manager.so
LoadModule advertise_module modules/mod_advertise.so

MemManagerFile cache/mod_cluster

&lt;IfModule manager_module&gt;
  Listen 6666
  &lt;VirtualHost *:6666&gt;
    &lt;Directory /&gt;
      Require ip 127.0.0.1
    &lt;/Directory&gt;
    ServerAdvertise on
    EnableMCPMReceive
    &lt;Location /mod_cluster_manager&gt;
      SetHandler mod_cluster-manager
      Require ip 127.0.0.1
   &lt;/Location&gt;
  &lt;/VirtualHost&gt;
&lt;/IfModule&gt;</pre><p>
					The Apache HTTP Server server is configured as a load balancer and can work with the <code class="literal">modcluster</code> subsystem running on JBoss EAP. You must <a class="link" href="#configure_mod_cluster_worker_node" title="24.6.3. Configure a mod_cluster Worker Node">configure a mod_cluster worker node</a> to make JBoss EAP aware of mod_cluster.
				</p><p>
					If you want to disable advertising for mod_cluster and configure a static proxy list instead, see <a class="link" href="#disable_advertising_mod_cluster" title="24.6.2. Disable Advertising for mod_cluster">Disable Advertisement for mod_cluster</a>. For more information on the available mod_cluster configuration options in Apache HTTP Server, see the <a class="link" href="#apache_http_server_mod_cluster_directives" title="A.36. Apache HTTP Server mod_cluster Directives">Apache HTTP Server mod_cluster Directives</a>
				</p><p>
					For more details on configuring mod_cluster, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_Web_Server/3/html-single/HTTP_Connectors_and_Load_Balancing_Guide/index.html#sect-Configure_Load_Balancing_Using_Apache_HTTP_Server_and_mod_cluster" title="This content is not included in Mimir.">Configure Load Balancing Using Apache HTTP Server and mod_cluster</a> section of the JBoss Web Server <span class="emphasis"><em>HTTP Connectors and Load Balancing Guide</em></span>.
				</p></section><section class="section" id="disable_advertising_mod_cluster"><div class="titlepage"><div><div><h3 class="title">24.6.2. Disable Advertising for mod_cluster</h3></div></div></div><p>
					By default, the <code class="literal">modcluster</code> subsystem’s balancer uses multicast UDP to advertise its availability to the background workers. You can disable advertising and to use a proxy list instead using the following procedure.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The management CLI commands in the following procedure assume that you are using the <code class="literal">full-ha</code> profile in a managed domain. If you are using a profile other than <code class="literal">full-ha</code>, use the appropriate profile name in the command. If you are running a standalone server, remove the <code class="literal">/profile=full-ha</code> completely.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Modify the Apache HTTP Server configuration.
						</p><p class="simpara">
							Edit the <code class="literal">httpd.conf</code> Apache HTTP Server configuration file. Make the following updates to the virtual host that listens for MCPM requests, using the <code class="literal">EnableMCPMReceive</code> directive.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add the directive to disable server advertisement.
								</p><p class="simpara">
									Set the <code class="literal">ServerAdvertise</code> directive to <code class="literal">Off</code> to disable server advertisement.
								</p><pre class="screen">ServerAdvertise Off</pre></li><li class="listitem"><p class="simpara">
									Disable the advertise frequency.
								</p><p class="simpara">
									If your configuration specifies the <code class="literal">AdvertiseFrequency</code> parameter, comment it out using a <code class="literal">#</code> character.
								</p><pre class="screen"># AdvertiseFrequency 5</pre></li><li class="listitem"><p class="simpara">
									Enable the ability to receive MCPM messages.
								</p><p class="simpara">
									Ensure that the <code class="literal">EnableMCPMReceive</code> directive exists, to allow the web server to receive MCPM messages from the worker nodes.
								</p><pre class="screen">EnableMCPMReceive</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Disable advertising in the JBoss EAP <code class="literal">modcluster</code> subsystem.
						</p><p class="simpara">
							Use the following management CLI command to disable advertising.
						</p><pre class="screen">/profile=full-ha/subsystem=modcluster/proxy=default:write-attribute(name=advertise,value=false)</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Be sure to continue to the next step to provide the list of proxies. Advertising will not be disabled if the list of proxies is empty.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Provide a list of proxies in the JBoss EAP <code class="literal">modcluster</code> subsystem.
						</p><p class="simpara">
							It is necessary to provide a list of proxies because the <code class="literal">modcluster</code> subsystem will not be able to automatically discover proxies if advertising is disabled.
						</p><p class="simpara">
							First, define the outbound socket bindings in the appropriate socket binding group.
						</p><pre class="screen">/socket-binding-group=full-ha-sockets/remote-destination-outbound-socket-binding=proxy1:add(host=10.33.144.3,port=6666)
/socket-binding-group=full-ha-sockets/remote-destination-outbound-socket-binding=proxy2:add(host=10.33.144.1,port=6666)</pre><p class="simpara">
							Next, add the proxies to the mod_cluster configuration.
						</p><pre class="screen">/profile=full-ha/subsystem=modcluster/proxy=default:list-add(name=proxies,value=proxy1)
/profile=full-ha/subsystem=modcluster/proxy=default:list-add(name=proxies,value=proxy2)</pre></li></ol></div><p>
					The Apache HTTP Server balancer no longer advertises its presence to worker nodes and UDP multicast is no longer used.
				</p></section><section class="section" id="configure_mod_cluster_worker_node"><div class="titlepage"><div><div><h3 class="title">24.6.3. Configure a mod_cluster Worker Node</h3></div></div></div><p>
					A mod_cluster worker node consists of a JBoss EAP server. This server can be a standalone server or part of a server group in a managed domain. A separate process runs within JBoss EAP, which manages all of the worker nodes of the cluster. This is called the master.
				</p><p>
					Worker nodes in a managed domain share an identical configuration across a server group. Worker nodes running as standalone servers are configured individually. The configuration steps are otherwise identical.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							A standalone server must be started with the <span class="emphasis"><em>standalone-ha</em></span> or <span class="emphasis"><em>standalone-full-ha</em></span> profile.
						</li><li class="listitem">
							A server group in a managed domain must use the <span class="emphasis"><em>ha</em></span> or <span class="emphasis"><em>full-ha</em></span> profile, and the <span class="emphasis"><em>ha-sockets</em></span> or <span class="emphasis"><em>full-ha-sockets</em></span> socket binding group. JBoss EAP ships with a cluster-enabled server group called other-server-group which meets these requirements.
						</li></ul></div><h6 id="configure_a_worker_node">Configure a Worker Node</h6><p>
					The management CLI commands in this procedure assume that you are using a managed domain with the <code class="literal">full-ha</code> profile. If you are running a standalone server, remove the <code class="literal">/profile=full-ha</code> portion of the commands.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Configure the network interfaces.
						</p><p class="simpara">
							By default, the network interfaces all default to <code class="literal">127.0.0.1</code>. Every physical host that hosts either a standalone server or one or more servers in a server group needs its interfaces to be configured to use its public IP address, which the other servers can see.
						</p><p class="simpara">
							Use the following management CLI commands to modify the external IP addresses for the <code class="literal">management</code>, <code class="literal">public</code>, and <code class="literal">unsecure</code> interfaces as appropriate for your environment. Be sure to replace <code class="literal"><span class="emphasis"><em>EXTERNAL_IP_ADDRESS</em></span></code> in the command with the actual external IP address of the host.
						</p><pre class="screen">/interface=management:write-attribute(name=inet-address,value="${jboss.bind.address.management:<span class="emphasis"><em>EXTERNAL_IP_ADDRESS</em></span>}")
/interface=public:write-attribute(name=inet-address,value="${jboss.bind.address.public:<span class="emphasis"><em>EXTERNAL_IP_ADDRESS</em></span>}")
/interface=unsecure:write-attribute(name=inet-address,value="${jboss.bind.address.unsecure:<span class="emphasis"><em>EXTERNAL_IP_ADDRESS</em></span>}")</pre><p class="simpara">
							Reload the server.
						</p><pre class="screen">reload</pre></li><li class="listitem"><p class="simpara">
							Configure host names.
						</p><p class="simpara">
							Set a unique host name for each host that participates in a managed domain. This name must be unique across slaves and will be used for the slave to identify to the cluster, so make a note of the name you use.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Start the JBoss EAP slave host, using the appropriate <code class="literal">host.xml</code> configuration file.
								</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml</pre></li><li class="listitem"><p class="simpara">
									Use the following management CLI command to set a unique host name. This example uses <code class="literal">slave1</code> as the new host name.
								</p><pre class="screen">/host=<span class="emphasis"><em>EXISTING_HOST_NAME</em></span>:write-attribute(name=name,value=slave1)</pre><p class="simpara">
									For more information on configuring a host name, see <a class="link" href="#configure_name_of_host" title="8.3.4. Configure the Name of a Host">Configure the Name of a Host</a>.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Configure each host to connect to the domain controller.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								This step does not apply for a standalone server.
							</p></div></div><p class="simpara">
							For newly configured hosts that need to join a managed domain, you must remove the local element and add the remote element host attribute that points to the domain controller.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Start the JBoss EAP slave host, using the appropriate <code class="literal">host.xml</code> configuration file.
								</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml</pre></li><li class="listitem"><p class="simpara">
									Use the following management CLI command to configure the domain controller settings.
								</p><pre class="screen">/host=<span class="emphasis"><em>SLAVE_HOST_NAME</em></span>:write-remote-domain-controller(host=<span class="emphasis"><em>DOMAIN_CONTROLLER_IP_ADDRESS</em></span>,port=${jboss.domain.master.port:9990},security-realm="ManagementRealm")</pre><p class="simpara">
									This modifies the XML in the host-slave.xml file as follows:
								</p><pre class="programlisting language-xml">&lt;domain-controller&gt;
    &lt;remote host="<span class="emphasis"><em>DOMAIN_CONTROLLER_IP_ADDRESS</em></span>" port="${jboss.domain.master.port:9990}" security-realm="ManagementRealm"/&gt;
&lt;/domain-controller&gt;</pre><p class="simpara">
									For more information, see <a class="link" href="#host_controller_configuration" title="8.3.3. Host Controller Configuration">Host Controller Configuration</a>.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Configure authentication for each slave host.
						</p><p class="simpara">
							Each slave server needs a username and password created in the domain controller’s or standalone master’s ManagementRealm. On the domain controller or standalone master, run the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.sh</code> command for each host. Add a management user for each host with the username that matches the host name of the slave.
						</p><p class="simpara">
							Be sure to answer <code class="literal">yes</code> to the last question, that asks "Is this new user going to be used for one AS process to connect to another AS process?", so that you are provided with a secret value.
						</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">add-user.sh</code> Script Output <span class="emphasis"><em>(trimmed)</em></span></strong></p><p>
								
<pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/add-user.sh

What type of user do you wish to add?
 a) Management User (mgmt-users.properties)
 b) Application User (application-users.properties)
(a): a

Username : slave1
Password : changeme
Re-enter Password : changeme
What groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]:
About to add user 'slave1' for realm 'ManagementRealm'
Is this correct yes/no? yes
Is this new user going to be used for one AS process to connect to another AS process?
e.g. for a slave host controller connecting to the master or for a Remoting connection for server to server EJB calls.
yes/no? yes
To represent the user add the following to the server-identities definition &lt;secret value="<span class="emphasis"><em>SECRET_VALUE</em></span>" /&gt;</pre>

							</p></div><p class="simpara">
							Copy the Base64-encoded secret value provided from this output, <code class="literal"><span class="emphasis"><em>SECRET_VALUE</em></span></code>, which may be used in the next step.
						</p><p class="simpara">
							For more information, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#add_user_master_domain_controller" title="This content is not included in Mimir.">Adding a User to the Master Domain Controller</a> section of the JBoss EAP <span class="emphasis"><em>How To Configure Server Security</em></span> guide.
						</p></li><li class="listitem"><p class="simpara">
							Modify the slave host’s security realm to use the new authentication.
						</p><p class="simpara">
							You can specify the password by setting the secret value in the server configuration, getting the password from a credential store or vault, or passing the password as a system property.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Specify the Base64-encoded password value in the server configuration file using the Management CLI.
								</p><p class="simpara">
									Use the following management CLI command to specify the secret value. Be sure to replace the <code class="literal"><span class="emphasis"><em>SECRET_VALUE</em></span></code> with the secret value returned from the add-user output from the previous step.
								</p><pre class="screen">/host=<span class="emphasis"><em>SLAVE_HOST_NAME</em></span>/core-service=management/security-realm=ManagementRealm/server-identity=secret:add(value="<span class="emphasis"><em>SECRET_VALUE</em></span>")</pre><p class="simpara">
									You will need to reload the server. The <code class="literal">--host</code> argument is not applicable for a standalone server.
								</p><pre class="screen">reload --host=<span class="emphasis"><em>HOST_NAME</em></span></pre><p class="simpara">
									For more information, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#configuring_slave_controllers_use_credential" title="This content is not included in Mimir.">Configuring the Slave Controllers to Use the Credential</a> section of the JBoss EAP <span class="emphasis"><em>How To Configure Server Security</em></span> guide.
								</p></li><li class="listitem"><p class="simpara">
									Configure the host to get the password from a credential store.
								</p><p class="simpara">
									If you have stored the secret value in a credential store, you can use the following command to set the server secret to be a value from a credential store:
								</p><pre class="screen">/host=<span class="emphasis"><em>SLAVE_HOST_NAME</em></span>/core-service=management/security-realm=ManagementRealm/server-identity=secret:add(credential-reference={store=<span class="emphasis"><em>STORE_NAME</em></span>,alias=<span class="emphasis"><em>ALIAS</em></span>}</pre><p class="simpara">
									You will need to reload the server. The <code class="literal">--host</code> argument is not applicable for a standalone server.
								</p><pre class="screen">reload --host=<span class="emphasis"><em>HOST_NAME</em></span></pre><p class="simpara">
									For more information, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#credential_store" title="This content is not included in Mimir.">Credential Store</a> section of the JBoss EAP <span class="emphasis"><em>How To Configure Server Security</em></span> guide.
								</p></li><li class="listitem"><p class="simpara">
									Configure the host to get the password from a vault.
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
											Use the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/vault.sh</code> script to generate a masked password. It will generate a string in the format <code class="literal">VAULT::secret::password::<span class="emphasis"><em>VAULT_SECRET_VALUE</em></span></code>, for example:
										</p><pre class="screen">VAULT::secret::password::ODVmYmJjNGMtZDU2ZC00YmNlLWE4ODMtZjQ1NWNmNDU4ZDc1TElORV9CUkVBS3ZhdWx0.</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												When creating a password in the vault, it must be specified in plain text, not Base64-encoded.
											</p></div></div></li><li class="listitem"><p class="simpara">
											Use the following management CLI command to specify the secret value. Be sure to replace the <code class="literal"><span class="emphasis"><em>VAULT_SECRET_VALUE</em></span></code> with the masked password generated in the previous step.
										</p><pre class="screen">/host=master/core-service=management/security-realm=ManagementRealm/server-identity=secret:add(value="${VAULT::secret::password::<span class="emphasis"><em>VAULT_SECRET_VALUE</em></span>}")</pre><p class="simpara">
											You will need to reload the server. The <code class="literal">--host</code> argument is not applicable for a standalone server.
										</p><pre class="screen">reload --host=<span class="emphasis"><em>HOST_NAME</em></span></pre><p class="simpara">
											For more information, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#password_vault" title="This content is not included in Mimir.">Password Vault</a> section of the JBoss EAP <span class="emphasis"><em>How To Configure Server Security</em></span> guide.
										</p></li></ol></div></li><li class="listitem"><p class="simpara">
									Specify the password as a system property.
								</p><p class="simpara">
									The following examples use <code class="literal">server.identity.password</code> as the system property name for the password.
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
											Specify the system property for the password in the server configuration file.
										</p><p class="simpara">
											Use the following managemente CLI command to configure the secret identity to use the system property.
										</p><pre class="screen">/host=<span class="emphasis"><em>SLAVE_HOST_NAME</em></span>/core-service=management/security-realm=ManagementRealm/server-identity=secret:add(value="${server.identity.password}")</pre><p class="simpara">
											You will need to reload the server. The <code class="literal">--host</code> argument is not applicable for a standalone server.
										</p><pre class="screen">reload --host=master</pre></li><li class="listitem"><p class="simpara">
											Set the password for the system property when starting the server.
										</p><p class="simpara">
											You can set the <code class="literal">server.identity.password</code> system property by passing it as a command line argument or in a properties file.
										</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
													Pass in as a plain text command line argument.
												</p><p class="simpara">
													Start the server and pass in the <code class="literal">server.identity.password</code> property.
												</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml -Dserver.identity.password=changeme</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
														The password must be entered in plain text and will be visible to anyone who issues a <code class="literal">ps -ef</code> command.
													</p></div></div></li><li class="listitem"><p class="simpara">
													Set the property in a properties file.
												</p><p class="simpara">
													Create a properties file and add the key/value pair to a properties file, for example:
												</p><pre class="screen">server.identity.password=changeme</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
														The password is in plain text and will be visible to anyone who has access to this properties file.
													</p></div></div><p class="simpara">
													Start the server with the command line arguments.
												</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.sh --host-config=host-slave.xml --properties=<span class="emphasis"><em>PATH_TO_PROPERTIES_FILE</em></span></pre></li></ol></div></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Restart the server.
						</p><p class="simpara">
							The slave will now authenticate to the master using its host name as the username and the encrypted string as its password.
						</p></li></ol></div><p>
					Your standalone server, or servers within a server group of a managed domain, are now configured as mod_cluster worker nodes. If you deploy a clustered application, its sessions are replicated to all cluster nodes for failover, and it can accept requests from an external web server or load balancer. Each node of the cluster discovers the other nodes using automatic discovery, by default.
				</p></section><section class="section" id="configure_fail_on_status_parameter"><div class="titlepage"><div><div><h3 class="title">24.6.4. Configure the mod_cluster fail_on_status Parameter</h3></div></div></div><p>
					The <code class="literal">fail_on_status</code> parameter lists those HTTP status codes which, when returned by a worker node in a cluster, will mark that node as having failed. The load balancer will then send future requests to another worker node in the cluster. The failed worker node will remain in a <code class="literal">NOTOK</code> state until it sends the load balancer a <code class="literal">STATUS</code> message.
				</p><p>
					The <code class="literal">fail_on_status</code> parameter must be configured in the <code class="literal">httpd</code> configuration file of your load balancer. Multiple HTTP status codes for <code class="literal">fail_on_status</code> can be specified as a comma-separated list. The following example specifies the HTTP status codes <code class="literal">203</code> and <code class="literal">204</code> for <code class="literal">fail_on_status</code>. ⁠
				</p><div class="formalpara"><p class="title"><strong>Example: Configuring fail_on_status</strong></p><p>
						
<pre class="screen">ProxyPass / balancer://MyBalancer stickysession=JSESSIONID|jsessionid nofailover=on failonstatus=203,204
ProxyPassReverse / balancer://MyBalancer
ProxyPreserveHost on</pre>

					</p></div></section><section class="section" id="migrate_traffic_between_clusters"><div class="titlepage"><div><div><h3 class="title">24.6.5. Migrate Traffic Between Clusters</h3></div></div></div><p>
					After creating a new cluster using JBoss EAP, you can migrate traffic from the previous cluster to the new one as part of an upgrade process. In this task, you will see the strategy that can be used to migrate this traffic with minimal outage or downtime.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							A new cluster setup. We will call this cluster <span class="emphasis"><em>ClusterNEW</em></span>.
						</li><li class="listitem">
							An old cluster setup that is being made redundant. We will call this cluster <span class="emphasis"><em>ClusterOLD</em></span>.
						</li></ul></div><h6 id="upgrade_process_for_clusters_load_balancing_groups">Upgrade Process for Clusters - Load-Balancing Groups</h6><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Set up your new cluster using the steps described in the prerequisites.
						</li><li class="listitem"><p class="simpara">
							In both <span class="emphasis"><em>ClusterNEW</em></span> and <span class="emphasis"><em>ClusterOLD</em></span>, ensure that the configuration option <code class="literal">sticky-session</code> is set to the default setting of <code class="literal">true</code>. Enabling this option means that all new requests made to a cluster node in any of the clusters will continue to go to the respective cluster node.
						</p><pre class="screen">/profile=full-ha/subsystem=modcluster/proxy=default:write-attribute(name=sticky-session,value=true)</pre></li><li class="listitem"><p class="simpara">
							Set the <code class="literal">load-balancing-group</code> to <code class="literal">ClusterOLD</code>, assuming that all the cluster nodes in <span class="emphasis"><em>ClusterOLD</em></span> are members of the <span class="emphasis"><em>ClusterOLD</em></span> load-balancing group.
						</p><pre class="screen">/profile=full-ha/subsystem=modcluster/proxy=default:write-attribute(name=load-balancing-group,value=ClusterOLD)</pre></li><li class="listitem"><p class="simpara">
							Add the nodes in <span class="emphasis"><em>ClusterNEW</em></span> to the mod_cluster configuration individually using the process described in the <a class="link" href="#configure_mod_cluster_worker_node" title="24.6.3. Configure a mod_cluster Worker Node">Configure a mod_cluster Worker Node</a> section. Additionally, use the aforementioned procedure and set their load-balancing group to <span class="emphasis"><em>ClusterNEW</em></span>.
						</p><p class="simpara">
							At this point, you can see an output similar to the undermentioned shortened example on the <span class="emphasis"><em>mod_cluster-manager</em></span> console:
						</p><pre class="screen">                mod_cluster/&lt;version&gt;

    LBGroup ClusterOLD: [Enable Nodes]   [Disable Nodes]   [Stop Nodes]
        Node node-1-jvmroute (ajp://node1.oldcluster.example:8009):
            [Enable Contexts]   [Disable Contexts]   [Stop Contexts]
            Balancer: qacluster, LBGroup: ClusterOLD, Flushpackets: Off, ..., Load: 100
            Virtual Host 1:
                Contexts:
                    /my-deployed-application-context, Status: ENABLED Request: 0 [Disable]   [Stop]

        Node node-2-jvmroute (ajp://node2.oldcluster.example:8009):
            [Enable Contexts]   [Disable Contexts]   [Stop Contexts]
            Balancer: qacluster, LBGroup: ClusterOLD, Flushpackets: Off, ..., Load: 100
            Virtual Host 1:
                Contexts:
                    /my-deployed-application-context, Status: ENABLED Request: 0 [Disable]   [Stop]


    LBGroup ClusterNEW: [Enable Nodes]   [Disable Nodes]   [Stop Nodes]
        Node node-3-jvmroute (ajp://node3.newcluster.example:8009):
            [Enable Contexts]   [Disable Contexts]   [Stop Contexts]
            Balancer: qacluster, LBGroup: ClusterNEW, Flushpackets: Off, ..., Load: 100
            Virtual Host 1:
                Contexts:
                    /my-deployed-application-context, Status: ENABLED Request: 0 [Disable]   [Stop]

        Node node-4-jvmroute (ajp://node4.newcluster.example:8009):
            [Enable Contexts]   [Disable Contexts]   [Stop Contexts]
            Balancer: qacluster, LBGroup: ClusterNEW, Flushpackets: Off, ..., Load: 100
            Virtual Host 1:
                Contexts:
                    /my-deployed-application-context, Status: ENABLED Request: 0 [Disable]   [Stop]</pre></li><li class="listitem"><p class="simpara">
							Any old active sessions are within the <span class="emphasis"><em>ClusterOLD</em></span> group, and any new sessions are created either within the <span class="emphasis"><em>ClusterOLD</em></span> or <span class="emphasis"><em>CLusterNEW</em></span> group. Next, we want to disable the whole <span class="emphasis"><em>ClusterOLD</em></span> group, so that its cluster nodes may be removed without causing any error to currently active client’s sessions.
						</p><p class="simpara">
							Click on the <span class="strong strong"><strong>Disable Nodes</strong></span> link for LBGroup <span class="emphasis"><em>ClusterOLD</em></span> on the <span class="emphasis"><em>mod_cluster-manager</em></span> web console.
						</p><p class="simpara">
							From this point on, only requests belonging to already established sessions will be routed to members of the <span class="emphasis"><em>ClusterOLD</em></span> load-balancing group. Any new client’s sessions will be created in the <span class="emphasis"><em>ClusterNEW</em></span> group only. As soon as there are no active sessions within <span class="emphasis"><em>ClusterOLD</em></span> group, we can safely remove its members.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Using <span class="strong strong"><strong>Stop Nodes</strong></span> would command the load balancer to stop routing any requests to this domain immediately. This will force a failover to another load-balancing group which will cause session data loss to clients, provided there is no session replication between <span class="emphasis"><em>ClusterNEW</em></span> and <span class="emphasis"><em>ClusterOLD</em></span>.
							</p></div></div></li></ol></div><h6 id="default_load_balancing_group">Default Load-Balancing Group</h6><p>
					In case the current <span class="emphasis"><em>ClusterOLD</em></span> setup does not contain any load-balancing group settings, found from LBGroup: on the <span class="emphasis"><em>mod_cluster-manager</em></span> console, one can still take advantage of disabling the <span class="emphasis"><em>ClusterOLD</em></span> nodes. In this case, click on <span class="strong strong"><strong>Disable Contexts</strong></span> for each of the <span class="emphasis"><em>ClusterOLD</em></span> nodes. Contexts of these nodes will be disabled, and once there are no active sessions present they will be ready for removal. New clients' sessions will be created only on nodes with enabled contexts, presumably <span class="emphasis"><em>ClusterNEW</em></span> members in this example.
				</p><h6 id="using_the_management_cli">Using the Management CLI</h6><p>
					In addition to using the <span class="emphasis"><em>mod_cluster-manager</em></span> web console, you can use the JBoss EAP management CLI to stop or disable a particular context.
				</p><div class="formalpara"><p class="title"><strong>Stop a Context</strong></p><p>
						
<pre class="screen">/host=master/server=server-one/subsystem=modcluster:stop-context(context=/my-deployed-application-context, virtualhost=default-host, waittime=0)</pre>

					</p></div><p>
					Stopping a context with <code class="literal">waittime</code> set to <code class="literal">0</code>, meaning no timeout, instructs the balancer to stop routing any request to it immediately, which forces failover to another available context.
				</p><p>
					If you set a timeout value using the <code class="literal">waittime</code> argument, no new sessions are created on this context, but existing sessions will continue to be directed to this node until they complete or the specified timeout has elapsed. The <code class="literal">waittime</code> argument defaults to <code class="literal">10</code> seconds.
				</p><div class="formalpara"><p class="title"><strong>Disable a Context</strong></p><p>
						
<pre class="screen">/host=master/server=server-one/subsystem=modcluster:disable-context(context=/my-deployed-application-context, virtualhost=default-host)</pre>

					</p></div><p>
					Disabling a context tells the balancer that no new sessions should be created on this context.
				</p></section></section><section class="section" id="mod_jk-config"><div class="titlepage"><div><div><h2 class="title">24.7. Apache mod_jk HTTP Connector</h2></div></div></div><p>
				<span class="emphasis"><em>Apache mod_jk</em></span> is an HTTP connector that is provided for customers who need it for compatibility purposes.
			</p><p>
				JBoss EAP can accept workloads from an Apache HTTP proxy server. The proxy server accepts client requests from the web front end, and passes the work to participating JBoss EAP servers. If sticky sessions are enabled, the same client request always goes to the same JBoss EAP server, unless the server is unavailable.
			</p><p>
				mod_jk communicates over the AJP 1.3 protocol. Other protocols can be used with <span class="emphasis"><em>mod_cluster</em></span> or <span class="emphasis"><em>mod_proxy</em></span>. See the <a class="link" href="#overview_http_connectors" title="24.5.1. Overview of HTTP Connectors">Overview of HTTP Connectors</a> for more information.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					<span class="emphasis"><em>mod_cluster</em></span> is a more advanced load balancer than mod_jk and is the recommended HTTP connector. mod_cluster provides all of the functionality of mod_jk, plus additional features. Unlike the JBoss EAP mod_cluster HTTP connector, an Apache mod_jk HTTP connector does not know the status of deployments on servers or server groups, and cannot adapt where it sends its work accordingly.
				</p></div></div><p>
				See the <a class="link mimir-link-warn" href="http://tomcat.apache.org/connectors-doc/" title="Mimir does not include content from: tomcat.apache.org">Apache mod_jk documentation</a> for more information.
			</p><section class="section" id="configure_mod_jk_in_apache_http_server"><div class="titlepage"><div><div><h3 class="title">24.7.1. Configure mod_jk in Apache HTTP Server</h3></div></div></div><p>
					The mod_jk module, <code class="literal">mod_jk.so</code>, is already included when installing JBoss Core Services Apache HTTP Server or using JBoss Web Server; however, it is not loaded by default.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Apache HTTP Server is no longer distributed with JBoss Web Server as of version 3.1.0.
					</p></div></div><p>
					Use the following steps to load and configure mod_jk in Apache HTTP Server. Note that these steps assume that you have already navigated to the <code class="literal">httpd/</code> directory for Apache HTTP Server, which will vary depending on your platform. For more information, see the installation instructions for your platform in the JBoss Core Services <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_core_services_apache_http_server/2.4/html-single/apache_http_server_installation_guide/" title="This content is not included in Mimir."><span class="emphasis"><em>Apache HTTP Server Installation Guide</em></span></a>.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Red Hat customers can also use the <a class="link mimir-link-warn" href="https://access.redhat.com/labs/lbconfig/" title="This content is not included in Mimir.">Load Balancer Configuration Tool</a> on the Red Hat Customer Portal to quickly generate optimal configuration templates for mod_jk and other connectors. Note that you must be logged in to access this tool.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Configure the mod_jk module.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								A sample mod_jk configuration file is provided at <code class="literal">conf.d/mod_jk.conf.sample</code>. You can use this sample instead of creating your own file by removing the <code class="literal">.sample</code> extension and modifying its contents as needed.
							</p></div></div><p class="simpara">
							Create a new file called <code class="literal">conf.d/mod_jk.conf</code>. Add the following configuration to the file, making sure to modify the contents to suite your needs.
						</p><pre class="screen"># Load mod_jk module
# Specify the filename of the mod_jk lib
LoadModule jk_module modules/mod_jk.so

# Where to find workers.properties
JkWorkersFile conf.d/workers.properties

# Where to put jk logs
JkLogFile logs/mod_jk.log

# Set the jk log level [debug/error/info]
JkLogLevel info

# Select the log format
JkLogStampFormat  "[%a %b %d %H:%M:%S %Y]"

# JkOptions indicates to send SSK KEY SIZE
JkOptions +ForwardKeySize +ForwardURICompat -ForwardDirectories

# JkRequestLogFormat
JkRequestLogFormat "%w %V %T"

# Mount your applications
JkMount /application/* loadbalancer

# Add shared memory.
# This directive is present with 1.2.10 and
# later versions of mod_jk, and is needed for
# for load balancing to work properly
JkShmFile logs/jk.shm

# Add jkstatus for managing runtime data
&lt;Location /jkstatus/&gt;
    JkMount status
    Require ip 127.0.0.1
&lt;/Location&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The JkMount directive specifies which URLs Apache HTTP Server must forward to the mod_jk module. Based on the directive’s configuration, mod_jk sends the received URL to the correct workers. To serve static content directly and only use the load balancer for Java applications, the URL path must be <code class="literal">/application/*</code>. To use mod_jk as a load balancer, use the value <code class="literal">/*</code>, to forward all URLs to mod_jk.
							</p></div></div><p class="simpara">
							Aside from general mod_jk configuration, this file specifies to load the <code class="literal">mod_jk.so</code> module, and defines where to find the <code class="literal">workers.properties</code> file.
						</p></li><li class="listitem"><p class="simpara">
							Configure the mod_jk worker nodes.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								A sample workers configuration file is provided at <code class="literal">conf.d/workers.properties.sample</code>. You can use this sample instead of creating your own file by removing the <code class="literal">.sample</code> extension and modifying its contents as needed.
							</p></div></div><p class="simpara">
							Create a new file called <code class="literal">conf.d/workers.properties</code>. Add the following configuration to the file, making sure to modify the contents to suite your needs.
						</p><pre class="screen"># Define list of workers that will be used
# for mapping requests
worker.list=loadbalancer,status

# Define Node1
# modify the host as your host IP or DNS name.
worker.node1.port=8009
worker.node1.host=node1.mydomain.com
worker.node1.type=ajp13
worker.node1.ping_mode=A
worker.node1.lbfactor=1

# Define Node2
# modify the host as your host IP or DNS name.
worker.node2.port=8009
worker.node2.host=node2.mydomain.com
worker.node2.type=ajp13
worker.node2.ping_mode=A
worker.node2.lbfactor=1

# Load-balancing behavior
worker.loadbalancer.type=lb
worker.loadbalancer.balance_workers=node1,node2
worker.loadbalancer.sticky_session=1

# Status worker for managing load balancer
worker.status.type=status</pre><p class="simpara">
							For details on the syntax of the mod_jk <code class="literal">workers.properties</code> file and other advanced configuration options, see <a class="link" href="#mod_jk_worker_properties" title="A.38. mod_jk Worker Properties">mod_jk Worker Properties</a>.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, specify a JKMountFile directive.
						</p><p class="simpara">
							In addition to the JKMount directive in the <code class="literal">mod-jk.conf</code>, you can specify a file which contains multiple URL patterns to be forwarded to mod_jk.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create a <code class="literal">uriworkermap.properties</code> file.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										A sample URI worker map configuration file is provided at <code class="literal">conf.d/uriworkermap.properties.sample</code>. You can use this sample instead of creating your own file by removing the <code class="literal">.sample</code> extension and modifying its contents as needed.
									</p></div></div><p class="simpara">
									Create a new file called <code class="literal">conf.d/uriworkermap.properties</code>. Add a line for each URL pattern to be matched, for example:
								</p><pre class="screen"># Simple worker configuration file
/*=loadbalancer</pre></li><li class="listitem"><p class="simpara">
									Update the configuration to point to <code class="literal">uriworkermap.properties</code> file.
								</p><p class="simpara">
									Append the following to <code class="literal">conf.d/mod_jk.conf</code>.
								</p><pre class="screen"># Use external file for mount points.
# It will be checked for updates each 60 seconds.
# The format of the file is: /url=worker
# /examples/*=loadbalancer
JkMountFile conf.d/uriworkermap.properties</pre></li></ol></div></li></ol></div><p>
					For more details on configuring mod_jk, see the <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_Web_Server/3/html-single/HTTP_Connectors_and_Load_Balancing_Guide/index.html#Configure_Load_Balancing_Using_Apache_and_mod_jk" title="This content is not included in Mimir.">Configuring Apache HTTP Server to Load mod_jk</a> section of the JBoss Web Server <span class="emphasis"><em>HTTP Connectors and Load Balancing Guide</em></span>.
				</p></section><section class="section" id="configure_jboss_eap_with_mod_jk"><div class="titlepage"><div><div><h3 class="title">24.7.2. Configure JBoss EAP to Communicate with mod_jk</h3></div></div></div><p>
					The JBoss EAP <code class="literal">undertow</code> subsystem needs to specify a listener in order to accept requests from and send replies back to an external web server. Since mod_jk uses the AJP protocol, an AJP listener must be configured.
				</p><p>
					If you are using one of the default high availability configurations, <span class="emphasis"><em>ha</em></span> or <span class="emphasis"><em>full-ha</em></span>, an AJP listener is already configured.
				</p><p>
					For instructions, see <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">Accepting Requests From External Web Servers</a>.
				</p></section></section><section class="section" id="mod_proxy-config"><div class="titlepage"><div><div><h2 class="title">24.8. Apache mod_proxy HTTP Connector</h2></div></div></div><p>
				<span class="emphasis"><em>Apache mod_proxy</em></span> is an HTTP connector that supports connections over AJP, HTTP, and HTTPS protocols. mod_proxy can be configured in load-balanced or non-load-balanced configurations, and it supports the notion of sticky sessions.
			</p><p>
				The mod_proxy module requires JBoss EAP to have the HTTP, HTTPS or AJP listener configured in the <code class="literal">undertow</code> subsystem, depending on which protocol you plan to use.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					<span class="emphasis"><em>mod_cluster</em></span> is a more advanced load balancer than mod_proxy and is the recommended HTTP connector. mod_cluster provides all of the functionality of mod_proxy, plus additional features. Unlike the JBoss EAP mod_cluster HTTP connector, an Apache mod_proxy HTTP connector does not know the status of deployments on servers or server groups, and cannot adapt where it sends its work accordingly.
				</p></div></div><p>
				See the <a class="link mimir-link-warn" href="http://httpd.apache.org/docs/2.4/mod/mod_proxy.html" title="Mimir does not include content from: httpd.apache.org">Apache mod_proxy documentation</a> for more information.
			</p><section class="section" id="configure_mod_proxy_apache_http_server"><div class="titlepage"><div><div><h3 class="title">24.8.1. Configure mod_proxy in Apache HTTP Server</h3></div></div></div><p>
					The mod_proxy modules are already included when installing JBoss Core Services Apache HTTP Server or using JBoss Web Server and are loaded by default.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Apache HTTP Server is no longer distributed with JBoss Web Server as of version 3.1.0.
					</p></div></div><p>
					See the appropriate section below to configure a basic <a class="link" href="#add_load_balancing_proxy" title="Add a Load-balancing Proxy">load-balancing</a> or <a class="link" href="#add_non_load_balancing_proxy" title="Add a Non-load-balancing Proxy">non-load-balancing</a> proxy. These steps assume that you have already navigated to the <code class="literal">httpd/</code> directory for Apache HTTP Server, which will vary depending on your platform. For more information, see the installation instructions for your platform in the JBoss Core Services <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_core_services_apache_http_server/2.4/html-single/apache_http_server_installation_guide/" title="This content is not included in Mimir."><span class="emphasis"><em>Apache HTTP Server Installation Guide</em></span></a>. These steps also assume that the necessary HTTP listener has already been configured in the JBoss EAP <code class="literal">undertow</code> subsystem.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Red Hat customers can also use the <a class="link mimir-link-warn" href="https://access.redhat.com/labs/lbconfig/" title="This content is not included in Mimir.">Load Balancer Configuration Tool</a> on the Red Hat Customer Portal to quickly generate optimal configuration templates for mod_proxy and other connectors. Note that you must be logged in to access this tool.
					</p></div></div><h5 id="add_non_load_balancing_proxy">Add a Non-load-balancing Proxy</h5><p>
					Add the following configuration to your <code class="literal">conf/httpd.conf</code> file, directly beneath any other <code class="literal">&lt;VirtualHost&gt;</code> directives you may have. Replace the values with ones appropriate to your setup.
				</p><pre class="screen">&lt;VirtualHost *:80&gt;
# Your domain name
ServerName <span class="emphasis"><em>YOUR_DOMAIN_NAME</em></span>

ProxyPreserveHost On

# The IP and port of JBoss
# These represent the default values, if your httpd is on the same host
# as your JBoss managed domain or server

ProxyPass / http://localhost:8080/
ProxyPassReverse / http://localhost:8080/

# The location of the HTML files, and access control information
DocumentRoot /var/www
&lt;Directory /var/www&gt;
Options -Indexes
Order allow,deny
Allow from all
&lt;/Directory&gt;
&lt;/VirtualHost&gt;</pre><h5 id="add_load_balancing_proxy">Add a Load-balancing Proxy</h5><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The default Apache HTTP Server configuration has the <code class="literal">mod_proxy_balancer.so</code> module disabled, as it is incompatible with mod_cluster. In order to complete this task, you will need to load this module and disable the mod_cluster modules.
					</p></div></div><p>
					To use mod_proxy as a load balancer, and send work to multiple JBoss EAP instances, add the following configuration to your <code class="literal">conf/httpd.conf</code> file. The example IP addresses are fictional. Replace them with the appropriate values for your environment.
				</p><pre class="screen">&lt;Proxy balancer://mycluster&gt;

Order deny,allow
Allow from all

# Add each JBoss Enterprise Application Server by IP address and port.
# If the route values are unique like this, one node will not fail over to the other.
BalancerMember http://192.168.1.1:8080 route=node1
BalancerMember http://192.168.1.2:8180 route=node2
&lt;/Proxy&gt;

&lt;VirtualHost *:80&gt;
 # Your domain name
 ServerName <span class="emphasis"><em>YOUR_DOMAIN_NAME</em></span>

 ProxyPreserveHost On
 ProxyPass / balancer://mycluster/

 # The location of the HTML files, and access control information DocumentRoot /var/www
 &lt;Directory /var/www&gt;
  Options -Indexes
  Order allow,deny
  Allow from all
 &lt;/Directory&gt;

&lt;/VirtualHost&gt;</pre><p>
					The examples above all communicate using the HTTP protocol. You can use AJP or HTTPS protocols instead, if you load the appropriate mod_proxy modules. See the <a class="link mimir-link-warn" href="http://httpd.apache.org/docs/2.4/mod/mod_proxy.html" title="Mimir does not include content from: httpd.apache.org">Apache mod_proxy documentation</a> for more details.
				</p><h6 id="enable_sticky_sessions">Enable Sticky Sessions</h6><p>
					A <span class="emphasis"><em>sticky session</em></span> means that if a client request originally goes to a specific JBoss EAP worker, all future requests will be sent to the same worker, unless it becomes unavailable. This is almost always the recommended behavior.
				</p><p>
					To enable sticky sessions for mod_proxy, add the <code class="literal">stickysession</code> parameter to the <code class="literal">ProxyPass</code> statement.
				</p><pre class="screen">ProxyPass / balancer://mycluster stickysession=JSESSIONID</pre><p>
					You can specify additional parameters to the <code class="literal">ProxyPass</code> statement, such as <code class="literal">lbmethod</code> and <code class="literal">nofailover</code>. See the <a class="link mimir-link-warn" href="http://httpd.apache.org/docs/2.4/mod/mod_proxy.html" title="Mimir does not include content from: httpd.apache.org">Apache mod_proxy documentation</a> for more information on the available parameters.
				</p></section><section class="section" id="configure_jboss_eap_mod_proxy"><div class="titlepage"><div><div><h3 class="title">24.8.2. Configure JBoss EAP to Communicate with mod_proxy</h3></div></div></div><p>
					The JBoss EAP <code class="literal">undertow</code> subsystem needs to specify a listener in order to accept requests from and send replies back to an external web server. Depending on the protocol that you will be using, you may need to configure a listener.
				</p><p>
					An HTTP listener is configured in the JBoss EAP default configuration. If you are using one of the default high availability configurations, <span class="emphasis"><em>ha</em></span> or <span class="emphasis"><em>full-ha</em></span>, an AJP listener is also preconfigured.
				</p><p>
					For instructions, see <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">Accepting Requests From External Web Servers</a>.
				</p></section></section><section class="section" id="ISAPI_config"><div class="titlepage"><div><div><h2 class="title">24.9. Microsoft ISAPI Connector</h2></div></div></div><p>
				The Internet Server API (ISAPI) is a set of APIs used to write OLE Server extensions and filters for web servers such as Microsoft’s Internet Information Services (IIS). <code class="literal">isapi_redirect.dll</code> is an extension of <span class="emphasis"><em>mod_jk</em></span> adjusted to IIS. <code class="literal">isapi_redirect.dll</code> enables you to configure JBoss EAP instances as worker nodes with IIS as a load balancer.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/articles/2026253" title="This content is not included in Mimir.">JBoss EAP supported configurations</a> for information on the supported configurations of Windows Server and IIS.
				</p></div></div><section class="section" id="configure_iis_use_isapi_connector"><div class="titlepage"><div><div><h3 class="title">24.9.1. Configure Microsoft IIS to Use the ISAPI Connector</h3></div></div></div><p>
					Download the ISAPI connector from the Red Hat Customer Portal:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open a browser and log in to the Red Hat Customer Portal <a class="link mimir-link-warn" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html" title="This content is not included in Mimir.">JBoss Software Downloads page</a>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Web Connectors</strong></span> in the <span class="strong strong"><strong>Product</strong></span> drop-down menu.
						</li><li class="listitem">
							Select the latest JBoss Core Services version from the <span class="strong strong"><strong>Version</strong></span> drop-down menu.
						</li><li class="listitem">
							Find the <span class="strong strong"><strong>Red Hat JBoss Core Services ISAPI Connector</strong></span> in the list, and click the <span class="strong strong"><strong>Download</strong></span> link.
						</li><li class="listitem">
							Extract the archive and copy the contents of the <code class="literal">sbin</code> directory to a location on your server. The instructions below assume that the contents were copied to <code class="literal">C:\connectors\</code>.
						</li></ol></div><p>
					To configure the IIS Redirector Using the IIS Manager (IIS 7):
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open the IIS manager by clicking <span class="strong strong"><strong>Start</strong></span> → <span class="strong strong"><strong>Run</strong></span>, and typing <code class="literal">inetmgr</code>.
						</li><li class="listitem">
							In the tree view pane at the left, expand <span class="strong strong"><strong>IIS 7</strong></span>.
						</li><li class="listitem">
							Double-click <span class="strong strong"><strong>ISAPI and CGI Registrations</strong></span> to open it in a new window.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Actions</strong></span> pane, click <span class="strong strong"><strong>Add</strong></span>. The <span class="strong strong"><strong>Add ISAPI or CGI Restriction</strong></span> window opens.
						</li><li class="listitem"><p class="simpara">
							Specify the following values:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>ISAPI or CGI Path</strong></span>: <code class="literal">C:\connectors\isapi_redirect.dll</code>
								</li><li class="listitem">
									<span class="strong strong"><strong>Description</strong></span>: <code class="literal">jboss</code>
								</li><li class="listitem">
									<span class="strong strong"><strong>Allow extension path to execute</strong></span>: select the check box.
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>OK</strong></span> to close the <span class="strong strong"><strong>Add ISAPI or CGI Restriction</strong></span> window.
						</li><li class="listitem"><p class="simpara">
							Define a JBoss Native virtual directory
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Right-click <span class="emphasis"><em>Default Web Site</em></span>, and click <span class="emphasis"><em>Add Virtual Directory</em></span>. The <span class="emphasis"><em>Add Virtual Directory</em></span> window opens.
								</li><li class="listitem"><p class="simpara">
									Specify the following values to add a virtual directory:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<span class="strong strong"><strong>Alias</strong></span>: <code class="literal">jboss</code>
										</li><li class="listitem">
											<span class="strong strong"><strong>Physical Path</strong></span>: <code class="literal">C:\connectors\</code>
										</li></ul></div></li><li class="listitem">
									Click <span class="strong strong"><strong>OK</strong></span> to save the values and close the <span class="strong strong"><strong>Add Virtual Directory</strong></span> window.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Define a JBoss Native ISAPI Redirect Filter
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									In the tree view pane, expand <span class="strong strong"><strong>Sites</strong></span> → <span class="strong strong"><strong>Default Web Site</strong></span>.
								</li><li class="listitem">
									Double-click <span class="strong strong"><strong>ISAPI Filters</strong></span>. The <span class="strong strong"><strong>ISAPI Filters Features</strong></span> view appears.
								</li><li class="listitem">
									In the <span class="strong strong"><strong>Actions</strong></span> pane, click Add. The <span class="strong strong"><strong>Add ISAPI Filter</strong></span> window appears.
								</li><li class="listitem"><p class="simpara">
									Specify the following values in the <span class="strong strong"><strong>Add ISAPI Filter</strong></span> window:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											<span class="strong strong"><strong>Filter name</strong></span>: <code class="literal">jboss</code>
										</li><li class="listitem">
											<span class="strong strong"><strong>Executable</strong></span>: <code class="literal">C:\connectors\isapi_redirect.dll</code>
										</li></ul></div></li><li class="listitem">
									Click <span class="strong strong"><strong>OK</strong></span> to save the values and close the <span class="strong strong"><strong>Add ISAPI Filters</strong></span> window.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Enable the ISAPI-dll handler
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Double-click the <span class="strong strong"><strong>IIS 7</strong></span> item in the tree view pane. The <span class="strong strong"><strong>IIS 7 Home Features View</strong></span> opens.
								</li><li class="listitem">
									Double-click <span class="strong strong"><strong>Handler Mappings</strong></span>. The <span class="strong strong"><strong>Handler Mappings Features View</strong></span> appears.
								</li><li class="listitem">
									In the <span class="strong strong"><strong>Group by</strong></span> combo box, select <span class="strong strong"><strong>State</strong></span>. The <span class="strong strong"><strong>Handler Mappings</strong></span> are displayed in <span class="strong strong"><strong>Enabled and Disabled Groups</strong></span>.
								</li><li class="listitem">
									Find <code class="literal">ISAPI-dll</code>. If it is in the <span class="strong strong"><strong>Disabled</strong></span> group, right-click it and select <span class="strong strong"><strong>Edit Feature Permissions</strong></span>.
								</li><li class="listitem"><p class="simpara">
									Enable the following permissions:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											Read
										</li><li class="listitem">
											Script
										</li><li class="listitem">
											Execute
										</li></ul></div></li><li class="listitem">
									Click <span class="strong strong"><strong>OK</strong></span> to save the values, and close the <span class="strong strong"><strong>Edit Feature Permissions</strong></span> window.
								</li></ul></div></li></ol></div><p>
					Microsoft IIS is now configured to use the ISAPI connector.
				</p></section><section class="section" id="configure_the_isapi_connector_to_send_client_requests_to_jboss_eap"><div class="titlepage"><div><div><h3 class="title">24.9.2. Configure the ISAPI Connector to Send Client Requests to JBoss EAP</h3></div></div></div><p>
					This task configures a group of JBoss EAP servers to accept requests from the ISAPI connector. It does not include configuration for load-balancing or high-availability failover.
				</p><p>
					This configuration is done on the IIS server, and assumes that you already have JBoss EAP configured to <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">accept requests from an external web server</a>. You also need full administrator access to the IIS server and to have <a class="link" href="#configure_iis_use_isapi_connector" title="24.9.1. Configure Microsoft IIS to Use the ISAPI Connector">configured IIS to use the ISAPI connector</a>.
				</p><h5 id="create_property_files_and_set_up_redirection">Create Property Files and Set Up Redirection</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a directory to store logs, property files, and lock files.
						</p><p class="simpara">
							The rest of this procedure assumes that you are using the directory <code class="literal">C:\connectors\</code> for this purpose. If you use a different directory, modify the instructions accordingly.
						</p></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">isapi_redirect.properties</code> file.
						</p><p class="simpara">
							Create a new file called <code class="literal">C:\connectors\isapi_redirect.properties</code>. Copy the following contents into the file.
						</p><pre class="screen"># Configuration file for the ISAPI Connector
# Extension uri definition
extension_uri=/jboss/isapi_redirect.dll

# Full path to the log file for the ISAPI Connector
log_file=c:\connectors\isapi_redirect.log

# Log level (debug, info, warn, error or trace)
log_level=info

# Full path to the workers.properties file
worker_file=c:\connectors\workers.properties

# Full path to the uriworkermap.properties file
worker_mount_file=c:\connectors\uriworkermap.properties

#Full path to the rewrite.properties file
rewrite_rule_file=c:\connectors\rewrite.properties</pre><p class="simpara">
							If you do not want to use a <code class="literal">rewrite.properties</code> file, comment out the last line by placing a <code class="literal">#</code> character at the beginning of the line.
						</p></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">uriworkermap.properties</code> file
						</p><p class="simpara">
							The <code class="literal">uriworkermap.properties</code> file contains mappings between deployed application URLs and which worker handles requests to them. The following example file shows the syntax of the file. Place your <code class="literal">uriworkermap.properties</code> file into <code class="literal">C:\connectors\</code>.
						</p><pre class="screen"># images and css files for path /status are provided by worker01
/status=worker01
/images/*=worker01
/css/*=worker01

# Path /web-console is provided by worker02
# IIS (customized) error page is used for http errors with number greater or equal to 400
# css files are provided by worker01
/web-console/*=worker02;use_server_errors=400
/web-console/css/*=worker01

# Example of exclusion from mapping, logo.gif won't be displayed
# !/web-console/images/logo.gif=*

# Requests to /app-01 or /app-01/something will be routed to worker01
/app-01|/*=worker01

# Requests to /app-02 or /app-02/something will be routed to worker02
/app-02|/*=worker02</pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">workers.properties</code> file.
						</p><p class="simpara">
							The <code class="literal">workers.properties</code> file contains mapping definitions between worker labels and server instances. This file follows the syntax of the same file used for <a class="link" href="#mod_jk_worker_properties" title="A.38. mod_jk Worker Properties">Apache mod_jk worker properties</a> configuration.
						</p><p class="simpara">
							The following is an example of a <code class="literal">workers.properties</code> file. The worker names, <code class="literal">worker01</code> and <code class="literal">worker02</code>, must match the <code class="literal">instance-id</code> <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">configured in the JBoss EAP <code class="literal">undertow</code> subsystem</a>.
						</p><p class="simpara">
							Place this file into the <code class="literal">C:\connectors\</code> directory.
						</p><pre class="screen"># An entry that lists all the workers defined
worker.list=worker01, worker02

# Entries that define the host and port associated with these workers

# First JBoss EAP server definition, port 8009 is standard port for AJP in EAP
worker.worker01.host=127.0.0.1
worker.worker01.port=8009
worker.worker01.type=ajp13

# Second JBoss EAP server definition
worker.worker02.host=127.0.0.100
worker.worker02.port=8009
worker.worker02.type=ajp13</pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">rewrite.properties</code> file.
						</p><p class="simpara">
							The <code class="literal">rewrite.properties</code> file contains simple URL rewriting rules for specific applications. The rewritten path is specified using name-value pairs, as shown in the example below. Place this file into the <code class="literal">C:\connectors\</code> directory.
						</p><pre class="screen">#Simple example
# Images are accessible under abc path
/app-01/abc/=/app-01/images/</pre></li><li class="listitem"><p class="simpara">
							Restart your IIS server by using the <code class="literal">net stop</code> and <code class="literal">net start</code> commands.
						</p><pre class="screen">C:\&gt; net stop was /Y
C:\&gt; net start w3svc</pre></li></ol></div><p>
					The IIS server is configured to send client requests to the specific JBoss EAP servers you have configured, on an application-specific basis.
				</p></section><section class="section" id="configure_the_isapi_connector_to_balance_client_requests_across_multiple_jboss_eap_servers"><div class="titlepage"><div><div><h3 class="title">24.9.3. Configure the ISAPI Connector to Balance Client Requests Across Multiple JBoss EAP Servers</h3></div></div></div><p>
					This configuration balances client requests across the JBoss EAP servers you specify. This configuration is done on the IIS server, and assumes that you already have JBoss EAP configured to <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">accept requests from an external web server</a>. You also need full administrator access to the IIS server and to have <a class="link" href="#configure_iis_use_isapi_connector" title="24.9.1. Configure Microsoft IIS to Use the ISAPI Connector">configured IIS to use the ISAPI connector</a>.
				</p><h5 id="balance_client_requests_across_multiple_servers">Balance Client Requests Across Multiple Servers</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a directory to store logs, property files, and lock files.
						</p><p class="simpara">
							The rest of this procedure assumes that you are using the directory <code class="literal">C:\connectors\</code> for this purpose. If you use a different directory, modify the instructions accordingly.
						</p></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">isapi_redirect.properties</code> file.
						</p><p class="simpara">
							Create a new file called <code class="literal">C:\connectors\isapi_redirect.properties</code>. Copy the following contents into the file.
						</p><pre class="screen"># Configuration file for the ISAPI Connector
# Extension uri definition
extension_uri=/jboss/isapi_redirect.dll

# Full path to the log file for the ISAPI Connector
log_file=c:\connectors\isapi_redirect.log

# Log level (debug, info, warn, error or trace)
log_level=info

# Full path to the workers.properties file
worker_file=c:\connectors\workers.properties

# Full path to the uriworkermap.properties file
worker_mount_file=c:\connectors\uriworkermap.properties

#OPTIONAL: Full path to the rewrite.properties file
rewrite_rule_file=c:\connectors\rewrite.properties</pre><p class="simpara">
							If you do not want to use a <code class="literal">rewrite.properties</code> file, comment out the last line by placing a <code class="literal">#</code> character at the beginning of the line.
						</p></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">uriworkermap.properties</code> file.
						</p><p class="simpara">
							The <code class="literal">uriworkermap.properties</code> file contains mappings between deployed application URLs and which worker handles requests to them. The following example file shows the syntax of the file, with a load-balanced configuration. The wildcard (<code class="literal">*</code>) character sends all requests for various URL sub-directories to the load balancer called router. The configuration of the load balancer is covered in the next step.
						</p><p class="simpara">
							Place your <code class="literal">uriworkermap.properties</code> file into <code class="literal">C:\connectors\</code>.
						</p><pre class="screen"># images, css files, path /status and /web-console will be
# provided by nodes defined in the load-balancer called "router"
/css/*=router
/images/*=router
/status=router
/web-console|/*=router

# Example of exclusion from mapping, logo.gif won't be displayed
# !/web-console/images/logo.gif=*

# Requests to /app-01 and /app-02 will be routed to nodes defined
# in the load-balancer called "router"
/app-01|/*=router
/app-02|/*=router

# mapping for management console, nodes in cluster can be enabled or disabled here
/jkmanager|/*=status</pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">workers.properties</code> file.
						</p><p class="simpara">
							The <code class="literal">workers.properties</code> file contains mapping definitions between worker labels and server instances. This file follows the syntax of the same file used for <a class="link" href="#mod_jk_worker_properties" title="A.38. mod_jk Worker Properties">Apache mod_jk worker properties</a> configuration.
						</p><p class="simpara">
							The following is an example of a <code class="literal">workers.properties</code> file. The load balancer is configured near the end of the file, to comprise workers <code class="literal">worker01</code> and <code class="literal">worker02</code>. These worker names must match the <code class="literal">instance-id</code> <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">configured in the JBoss EAP <code class="literal">undertow</code> subsystem</a>.
						</p><p class="simpara">
							Place this file into the <code class="literal">C:\connectors\</code> directory.
						</p><pre class="screen"># The advanced router LB worker
worker.list=router,status

# First EAP server definition, port 8009 is standard port for AJP in EAP
#
# lbfactor defines how much the worker will be used.
# The higher the number, the more requests are served
# lbfactor is useful when one machine is more powerful
# ping_mode=A – all possible probes will be used to determine that
# connections are still working

worker.worker01.port=8009
worker.worker01.host=127.0.0.1
worker.worker01.type=ajp13
worker.worker01.ping_mode=A
worker.worker01.socket_timeout=10
worker.worker01.lbfactor=3

# Second EAP server definition
worker.worker02.port=8009
worker.worker02.host=127.0.0.100
worker.worker02.type=ajp13
worker.worker02.ping_mode=A
worker.worker02.socket_timeout=10
worker.worker02.lbfactor=1

# Define the LB worker
worker.router.type=lb
worker.router.balance_workers=worker01,worker02

# Define the status worker for jkmanager
worker.status.type=status</pre><p class="simpara">
							⁠
						</p></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">rewrite.properties</code> file.
						</p><p class="simpara">
							The <code class="literal">rewrite.properties</code> file contains simple URL rewriting rules for specific applications. The rewritten path is specified using name-value pairs, as shown in the example below. Place this file into the <code class="literal">C:\connectors\</code> directory.
						</p><pre class="screen">#Simple example
# Images are accessible under abc path
/app-01/abc/=/app-01/images/
Restart the IIS server.

Restart your IIS server by using the net stop and net start commands.
C:\&gt; net stop was /Y
C:\&gt; net start w3svc</pre></li></ol></div><p>
					The IIS server is configured to send client requests to the JBoss EAP servers referenced in the <code class="literal">workers.properties</code> file, spreading the load across the servers in a <code class="literal">1:3</code> ratio. This ratio is derived from the load-balancing factor, <code class="literal">lbfactor</code>, assigned to each server.
				</p></section></section><section class="section" id="NSAPI_config"><div class="titlepage"><div><div><h2 class="title">24.10. Oracle NSAPI Connector</h2></div></div></div><p>
				The Netscape Server API (NSAPI) is an API provided by Oracle iPlanet Web Server, formerly Netscape Web Server, for implementing extensions to the server. These extensions are known as server plugins. The NSAPI connector is used in <code class="literal">nsapi_redirector.so</code>, which is an extension of mod_jk adjusted to Oracle iPlanet Web Server. The NSAPI connector enables you to configure JBoss EAP instances as worker nodes with Oracle iPlanet Web Server as a load balancer.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					See the <a class="link mimir-link-warn" href="https://access.redhat.com/articles/2026253" title="This content is not included in Mimir.">JBoss EAP supported configurations</a> for information on the supported configurations of Solaris and Oracle iPlanet Web Server.
				</p></div></div><section class="section" id="configure_oracle_iplanet_nsapi_connector"><div class="titlepage"><div><div><h3 class="title">24.10.1. Configure Oracle iPlanet Web Server to use the NSAPI Connector</h3></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							JBoss EAP is installed and configured on each server that will serve as a worker.
						</li></ul></div><p>
					Download the NSAPI connector from the Red Hat Customer Portal:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open a browser and log in to the Red Hat Customer Portal <a class="link mimir-link-warn" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html" title="This content is not included in Mimir.">JBoss Software Downloads page</a>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Web Connectors</strong></span> in the <span class="strong strong"><strong>Product</strong></span> drop-down menu.
						</li><li class="listitem">
							Select the latest JBoss Core Services version from the <span class="strong strong"><strong>Version</strong></span> drop-down menu.
						</li><li class="listitem">
							Find the <span class="strong strong"><strong>Red Hat JBoss Core Services NSAPI Connector</strong></span> in the list, ensuring that you select the correct platform and architecture for your system, and click the <span class="strong strong"><strong>Download</strong></span> link.
						</li><li class="listitem">
							Extract the <code class="literal">nsapi_redirector.so</code> file, which is located in either the <code class="literal">lib/</code> or the <code class="literal">lib64/</code> directory, into either the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/lib/</code> or the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/lib64/</code> directory.
						</li></ol></div><p>
					Set up the NSAPI Connector:
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In these instructions, <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span></code> refers to the Oracle iPlanet configuration directory, which is usually <code class="literal">/opt/oracle/webserver7/config/</code>. If your Oracle iPlanet configuration directory is different, modify the instructions accordingly.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Disable servlet mappings.
						</p><p class="simpara">
							Open the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/default.web.xml</code> file and locate the section with the heading <span class="emphasis"><em>Built In Server Mappings</em></span>. Disable the mappings to the following three servlets, by wrapping them in XML comment characters (<code class="literal">&lt;!--</code> and <code class="literal">--&gt;</code>).
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									default
								</li><li class="listitem">
									invoker
								</li><li class="listitem"><p class="simpara">
									jsp
								</p><p class="simpara">
									The following example configuration shows the disabled mappings.
								</p><pre class="screen">&lt;!-- ============== Built In Servlet Mappings =============== --&gt;
&lt;!-- The servlet mappings for the built in servlets defined above. --&gt;
&lt;!-- The mapping for the default servlet --&gt;
&lt;!--servlet-mapping&gt;
 &lt;servlet-name&gt;default&lt;/servlet-name&gt;
 &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping--&gt;
&lt;!-- The mapping for the invoker servlet --&gt;
&lt;!--servlet-mapping&gt;
 &lt;servlet-name&gt;invoker&lt;/servlet-name&gt;
 &lt;url-pattern&gt;/servlet/*&lt;/url-pattern&gt;
&lt;/servlet-mapping--&gt;
&lt;!-- The mapping for the JSP servlet --&gt;
&lt;!--servlet-mapping&gt;
 &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;
 &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
&lt;/servlet-mapping--&gt;</pre><p class="simpara">
									Save and exit the file.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Configure the iPlanet Web Server to load the NSAPI connector module.
						</p><p class="simpara">
							Add the following lines to the end of the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/magnus.conf</code> file, modifying file paths to suit your configuration. These lines define the location of the <code class="literal">nsapi_redirector.so</code> module, as well as the <code class="literal">workers.properties</code> file, which lists the workers and their properties.
						</p><pre class="screen">Init fn="load-modules" funcs="jk_init,jk_service" shlib="/lib/nsapi_redirector.so" shlib_flags="(global|now)"

Init fn="jk_init" worker_file="<span class="emphasis"><em>IPLANET_CONFIG</em></span>/connectors/workers.properties" log_level="info" log_file="<span class="emphasis"><em>IPLANET_CONFIG</em></span>/connectors/nsapi.log" shm_file="<span class="emphasis"><em>IPLANET_CONFIG</em></span>/connectors/tmp/jk_shm"</pre><p class="simpara">
							The configuration above is for a 32-bit architecture. If you use 64-bit Solaris, change the string <code class="literal">lib/nsapi_redirector.so</code> to <code class="literal">lib64/nsapi_redirector.so</code>.
						</p><p class="simpara">
							Save and exit the file.
						</p></li><li class="listitem"><p class="simpara">
							Configure the NSAPI connector.
						</p><p class="simpara">
							You can configure the NSAPI connector for a basic configuration, with no load balancing, or a load-balancing configuration. Choose one of the following options, after which your configuration will be complete.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="#configure_nsapi_connector_send_client_requests" title="24.10.2. Configure the NSAPI Connector to Send Client Requests to JBoss EAP">Configure the NSAPI Connector to Send Client Requests to JBoss EAP</a>
								</li><li class="listitem">
									<a class="link" href="#configure_nsapi_connector_balance_client_requests_multiple_servers" title="24.10.3. Configure the NSAPI Connector to Balance Client Requests Across Multiple JBoss EAP Servers">Configure the NSAPI Connector to Balance Client Requests Across Multiple JBoss EAP Servers</a>
								</li></ul></div></li></ol></div></section><section class="section" id="configure_nsapi_connector_send_client_requests"><div class="titlepage"><div><div><h3 class="title">24.10.2. Configure the NSAPI Connector to Send Client Requests to JBoss EAP</h3></div></div></div><p>
					This task configures the NSAPI connector to redirect client requests to JBoss EAP servers with no load balancing or failover. The redirection is done on a per-deployment, and therefore per-URL, basis.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						You must have already <a class="link" href="#configure_oracle_iplanet_nsapi_connector" title="24.10.1. Configure Oracle iPlanet Web Server to use the NSAPI Connector">configured the NSAPI connector</a> before continuing with this task.
					</p></div></div><h5 id="set_up_the_basic_http_connector">Set Up the Basic HTTP Connector</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Define the URL paths to redirect to the JBoss EAP servers.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/obj.conf</code>, spaces are not allowed at the beginning of a line, except when the line is a continuation of the previous line.
							</p></div></div><p class="simpara">
							Edit the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/obj.conf</code> file. Locate the section which starts with <span class="emphasis"><em>&lt;Object name="default"&gt;</em></span>, and add each URL pattern to match, in the format shown by the example file below. The string <span class="emphasis"><em>jknsapi</em></span> refers to the HTTP connector which will be defined in the next step. The example shows the use of wildcards for pattern matching.
						</p><pre class="screen">&lt;Object name="default"&gt;
[...]
NameTrans fn="assign-name" from="/status" name="jknsapi"
NameTrans fn="assign-name" from="/images(|/*)" name="jknsapi"
NameTrans fn="assign-name" from="/css(|/*)" name="jknsapi"
NameTrans fn="assign-name" from="/nc(|/*)" name="jknsapi"
NameTrans fn="assign-name" from="/jmx-console(|/*)" name="jknsapi"
&lt;/Object&gt;</pre></li><li class="listitem"><p class="simpara">
							Define the worker which serves each path.
						</p><p class="simpara">
							Continue editing the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/obj.conf</code> file. Add the following directly after the closing tag of the section you have just finished editing: <span class="emphasis"><em>&lt;/Object&gt;</em></span>.
						</p><pre class="screen">&lt;Object name="jknsapi"&gt;
ObjectType fn=force-type type=text/plain
Service fn="jk_service" worker="worker01" path="/status"
Service fn="jk_service" worker="worker02" path="/nc(/*)"
Service fn="jk_service" worker="worker01"
&lt;/Object&gt;</pre><p class="simpara">
							The example above redirects requests to the URL path <span class="emphasis"><em>/status</em></span> to the worker called <span class="emphasis"><em>worker01</em></span>, and all URL paths beneath <code class="literal">/nc/</code> to the worker called <span class="emphasis"><em>worker02</em></span>. The third line indicates that all URLs assigned to the <span class="emphasis"><em>jknsapi</em></span> object which are not matched by the previous lines are served to <span class="emphasis"><em>worker01</em></span>.
						</p><p class="simpara">
							Save and exit the file.
						</p></li><li class="listitem"><p class="simpara">
							Define the workers and their attributes.
						</p><p class="simpara">
							Create a file called <code class="literal">workers.properties</code> in the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/connectors/</code> directory. Paste the following contents into the file, and modify them to suit your environment.
						</p><pre class="screen"># An entry that lists all the workers defined
worker.list=worker01, worker02

# Entries that define the host and port associated with these workers
worker.worker01.host=127.0.0.1
worker.worker01.port=8009
worker.worker01.type=ajp13

worker.worker02.host=127.0.0.100
worker.worker02.port=8009
worker.worker02.type=ajp13</pre><p class="simpara">
							The <code class="literal">workers.properties</code> file uses the same syntax as Apache mod_jk.
						</p><p class="simpara">
							Save and exit the file.
						</p></li><li class="listitem"><p class="simpara">
							Restart the iPlanet Web Server
						</p><p class="simpara">
							Issue the following command to restart the iPlanet Web Server.
						</p><pre class="screen"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/../bin/stopserv
<span class="emphasis"><em>IPLANET_CONFIG</em></span>/../bin/startserv</pre></li></ol></div><p>
					iPlanet Web Server now sends client requests to the URLs you have configured to deployments on JBoss EAP.
				</p></section><section class="section" id="configure_nsapi_connector_balance_client_requests_multiple_servers"><div class="titlepage"><div><div><h3 class="title">24.10.3. Configure the NSAPI Connector to Balance Client Requests Across Multiple JBoss EAP Servers</h3></div></div></div><p>
					This task configures the NSAPI connector to send client requests to JBoss EAP servers in a load-balancing configuration.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						You must have already <a class="link" href="#configure_oracle_iplanet_nsapi_connector" title="24.10.1. Configure Oracle iPlanet Web Server to use the NSAPI Connector">configured the NSAPI connector</a> before continuing with this task.
					</p></div></div><h5 id="configure_the_connector_for_load_balancing">Configure the Connector for Load Balancing</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Define the URL paths to redirect to the JBoss EAP servers.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/obj.conf</code>, spaces are not allowed at the beginning of a line, except when the line is a continuation of the previous line.
							</p></div></div><p class="simpara">
							Edit the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/obj.conf</code> file. Locate the section which starts with <code class="literal">&lt;Object name="default"&gt;</code>, and add each URL pattern to match, in the format shown by the example file below. The string <code class="literal">jknsapi</code> refers to the HTTP connector that will be defined in the next step. The example shows the use of wildcards for pattern matching.
						</p><pre class="screen">&lt;Object name="default"&gt;
[...]
NameTrans fn="assign-name" from="/status" name="jknsapi"
NameTrans fn="assign-name" from="/images(|/*)" name="jknsapi"
NameTrans fn="assign-name" from="/css(|/*)" name="jknsapi"
NameTrans fn="assign-name" from="/nc(|/*)" name="jknsapi"
NameTrans fn="assign-name" from="/jmx-console(|/*)" name="jknsapi"
NameTrans fn="assign-name" from="/jkmanager/*" name="jknsapi"
&lt;/Object&gt;</pre></li><li class="listitem"><p class="simpara">
							Define the worker that serves each path.
						</p><p class="simpara">
							Continue editing the <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/obj.conf</code> file. Directly after the closing tag for the section you modified in the previous step, <code class="literal">&lt;/Object&gt;</code>, add the following new section and modify it to your needs:
						</p><pre class="screen">&lt;Object name="jknsapi"&gt;
ObjectType fn=force-type type=text/plain
Service fn="jk_service" worker="status" path="/jkmanager(/*)"
Service fn="jk_service" worker="router"
&lt;/Object&gt;</pre><p class="simpara">
							This <code class="literal">jksnapi</code> object defines the worker nodes used to serve each path that was mapped to the <code class="literal">name="jksnapi"</code> mapping in the <code class="literal">default</code> object. Everything except for URLs matching <code class="literal">/jkmanager/*</code> is redirected to the worker called <code class="literal">router</code>.
						</p></li><li class="listitem"><p class="simpara">
							Define the workers and their attributes.
						</p><p class="simpara">
							Create a file called <code class="literal">workers.properties</code> in <code class="literal"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/connector/</code>. Paste the following contents into the file, and modify them to suit your environment.
						</p><pre class="screen"># The advanced router LB worker
# A list of each worker
worker.list=router,status

# First JBoss EAP server
# (worker node) definition.
# Port 8009 is the standard port for AJP
#

worker.worker01.port=8009
worker.worker01.host=127.0.0.1
worker.worker01.type=ajp13
worker.worker01.ping_mode=A
worker.worker01.socket_timeout=10
worker.worker01.lbfactor=3

# Second JBoss EAP server
worker.worker02.port=8009
worker.worker02.host=127.0.0.100
worker.worker02.type=ajp13
worker.worker02.ping_mode=A
worker.worker02.socket_timeout=10
worker.worker02.lbfactor=1

# Define the load-balancer called "router"
worker.router.type=lb
worker.router.balance_workers=worker01,worker02

# Define the status worker
worker.status.type=status</pre><p class="simpara">
							The <code class="literal">workers.properties</code> file uses the same syntax as Apache mod_jk.
						</p><p class="simpara">
							Save and exit the file.
						</p></li><li class="listitem"><p class="simpara">
							Restart the iPlanet Web Server 7.0.
						</p><pre class="screen"><span class="emphasis"><em>IPLANET_CONFIG</em></span>/../bin/stopserv
<span class="emphasis"><em>IPLANET_CONFIG</em></span>/../bin/startserv</pre></li></ol></div><p>
					The iPlanet Web Server redirects the URL patterns you have configured to your JBoss EAP servers in a load-balancing configuration.
				</p></section></section></section><section class="chapter" id="eclipse_microprofile"><div class="titlepage"><div><div><h1 class="title">Chapter 25. Eclipse MicroProfile</h1></div></div></div><section class="section" id="using_microprofile_config"><div class="titlepage"><div><div><h2 class="title">25.1. Using Eclipse MicroProfile Config to Manage Configuration</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Eclipse Microprofile Config is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><section class="section" id="microprofile_config_about"><div class="titlepage"><div><div><h3 class="title">25.1.1. About the MicroProfile Config SmallRye Subsystem</h3></div></div></div><p>
					Configuration data can change dynamically and applications need to be able to access the latest configuration information without restarting the server. <a class="link mimir-link-warn" href="https://microprofile.io/project/eclipse/microprofile-config" title="Mimir does not include content from: microprofile.io">Eclipse MicroProfile Config</a> provides portable externalization of configuration data. This allows applications and microservices to be configured to run in multiple environments without a need for modification or repackaging. Eclipse MicroProfile Config functionality is implemented in JBoss EAP using the <a class="link mimir-link-warn" href="http://github.com/smallrye/smallrye-config/" title="Mimir does not include content from: github.com">SmallRye Config</a> component and is provided by the <code class="literal">microprofile-config-smallrye</code> subsystem. This subsystem is included in the default JBoss EAP 7.3 configuration.
				</p></section><section class="section" id="microprofile_config_supported_configsources"><div class="titlepage"><div><div><h3 class="title">25.1.2. ConfigSources Supported by the MicroProfile Config SmallRye Subsystem</h3></div></div></div><p>
					MicroProfile Config configuration properties, which can be in different formats and can come from different locations, are provided by ConfigSources, which are implementations of the <a class="link mimir-link-warn" href="https://access.redhat.com/webassets/avalon/d/jboss_enterprise_application_platform_continuous_delivery/18/javadocs/org/eclipse/microprofile/config/spi/ConfigSource.html" title="This content is not included in Mimir."><code class="literal">org.eclipse.microprofile.config.spi.ConfigSource</code></a> interface.
				</p><p>
					The MicroProfile Config specification provides the following default <code class="literal">ConfigSource</code> implementations for retrieving configuration values.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Using <code class="literal">System.getProperties()</code>.
						</li><li class="listitem">
							Using <code class="literal">System.getenv()</code>.
						</li><li class="listitem">
							From all <code class="literal">META-INF/microprofile-config.properties</code> files on the class path.
						</li></ul></div><p>
					The <code class="literal">microprofile-config-smallrye</code> subsystem supports the following additional types of <code class="literal">ConfigSource</code> resources for retrieving configuration values.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							From <a class="link" href="#microprofile_config_configsource_properties" title="Obtaining ConfigSource Configuraton from Properties">properties</a>.
						</li><li class="listitem">
							From a <a class="link" href="#microprofile_config_configsource_directory" title="Obtaining ConfigSource Configuraton from a Directory">files in a directory</a>.
						</li><li class="listitem">
							From a <a class="link" href="#microprofile_config_configsource_class" title="Obtaining ConfigSource Configuraton from a ConfigSource Class"><code class="literal">ConfigSource</code> class</a>.
						</li><li class="listitem">
							From a <a class="link" href="#microprofile_config_configsourceprovider_class" title="Obtaining ConfigSource Configuraton from a ConfigSourceProvider Class"><code class="literal">ConfigSourceProvider</code> class</a>.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Although the sections below use the management CLI to configure the <code class="literal">microprofile-config-smallrye</code> subsystem, you can also use the management console to accomplish these tasks by navigating to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>MicroProfile Config</strong></span> → and clicking <span class="strong strong"><strong>View</strong></span>.
					</p></div></div><p>
					See <a class="link" href="#microprofile_config_smallrye_subsystem_attributes" title="A.35. MicroProfile Config SmallRye Subsystem Attributes">MicroProfile Config SmallRye Subsystem Attributes</a> for the list of attributes available for configuring the MicroProfile Config SmallRye subsystem.
				</p><h5 id="microprofile_config_configsource_properties">Obtaining ConfigSource Configuraton from Properties</h5><p>
					You can store properties directly for access by a <code class="literal">ConfigSource</code> by adding a <code class="literal">config-source</code> attribute and specifying the <code class="literal">properties</code> as a list.
				</p><p>
					The following management CLI command creates a <code class="literal">ConfigSource</code> containing configuration data for the <code class="literal">property1</code> and <code class="literal">property2</code> properties.
				</p><pre class="screen">/subsystem=microprofile-config-smallrye/config-source=props:add(properties={property1=value1,property2=value2})</pre><p>
					This command results in the following XML configuration for the <code class="literal">microprofile-config-smallrye</code> subsystem.
				</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:wildfly:microprofile-config-smallrye:1.0"&gt;
    &lt;config-source name="props"&gt;
        &lt;property name="property1" value="value1"/&gt;
        &lt;property name="property2" value="value2"/&gt;
    &lt;/config-source&gt;
&lt;/subsystem&gt;</pre><h5 id="microprofile_config_configsource_directory">Obtaining ConfigSource Configuraton from a Directory</h5><p>
					You can create a <code class="literal">ConfigSource</code> to read properties from files in a directory by adding the <code class="literal">config-source</code> attribute and specifying the directory that contains the files. The name of each file in the <code class="literal">dir</code> directory is the name of a property and the file content is the value of the property,
				</p><p>
					The following management CLI command creates a <code class="literal">ConfigSource</code> that reads configuration properties from files in the <code class="literal">/etc/config/numbers-app/</code> directory.
				</p><pre class="screen">/subsystem=microprofile-config-smallrye/config-source=file-props:add(dir={path=/etc/config/numbers-app})</pre><p>
					This command results in the following XML configuration for the <code class="literal">microprofile-config-smallrye</code> subsystem.
				</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:wildfly:microprofile-config-smallrye:1.0"&gt;
    &lt;config-source name="file-props"&gt;
        &lt;dir path="/etc/config/numbers-app"/&gt;
    &lt;/config-source&gt;
&lt;/subsystem&gt;</pre><p>
					This structure corresponds to the structure used by OpenShift <code class="literal">ConfigMaps</code>. The <code class="literal">dir</code> value corresponds to the <code class="literal">mountPath</code> in the <code class="literal">ConfigMap</code> definition in OpenShift or Kubernetes.
				</p><p>
					Any application deployed in JBoss EAP can programmatically access the properties that are stored in the directory.
				</p><p>
					Assume that the directory <code class="literal">/etc/config/numbers-app/</code> contains the following two files:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">num.size</code>: This file contains the value <code class="literal">5</code>.
						</li><li class="listitem">
							<code class="literal">num.max</code>: This file contains the value <code class="literal">100</code>.
						</li></ul></div><p>
					In the code example below, <code class="literal">num.size</code> returns <code class="literal">5</code> and <code class="literal">num.max</code> returns <code class="literal">100</code>.
				</p><pre class="programlisting language-java">@Inject
@ConfigProperty(name = "num.size")
int numSize;

@Inject
@ConfigProperty(name = "num.max")
int numMax;</pre><h5 id="microprofile_config_configsource_class">Obtaining ConfigSource Configuraton from a ConfigSource Class</h5><p>
					You can create and configure a custom <a class="link mimir-link-warn" href="https://access.redhat.com/webassets/avalon/d/jboss_enterprise_application_platform_continuous_delivery/18/javadocs/org/eclipse/microprofile/config/spi/ConfigSource.html" title="This content is not included in Mimir."><code class="literal">org.eclipse.microprofile.config.spi.ConfigSource</code></a> implementation class to provide a source for the configuration values.
				</p><p>
					The following management CLI command creates a <code class="literal">ConfigSource</code> for the implementation class named <code class="literal">org.example.MyConfigSource</code> that is provided by a JBoss Module named <code class="literal">org.example</code>.
				</p><pre class="screen">/subsystem=microprofile-config-smallrye/config-source=my-config-source:add(class={name=org.example.MyConfigSource, module=org.example})</pre><p>
					This command results in the following XML configuration for the <code class="literal">microprofile-config-smallrye</code> subsystem.
				</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:wildfly:microprofile-config-smallrye:1.0"&gt;
    &lt;config-source name="my-config-source"&gt;
        &lt;class name="org.example.MyConfigSource" module="org.example"/&gt;
    &lt;/config-source&gt;
&lt;/subsystem&gt;</pre><p>
					Properties provided by this <code class="literal">ConfigSource</code> class are available to any JBoss EAP deployment.
				</p><p>
					For information about how to add a global module to the JBoss EAP server, see <a class="link" href="#add_a_global_module" title="6.5. Define Global Modules">Define Global Modules</a>.
				</p><h5 id="microprofile_config_configsourceprovider_class">Obtaining ConfigSource Configuraton from a ConfigSourceProvider Class</h5><p>
					You can create and configure a custom <a class="link mimir-link-warn" href="https://access.redhat.com/webassets/avalon/d/jboss_enterprise_application_platform_continuous_delivery/18/javadocs/org/eclipse/microprofile/config/spi/ConfigSourceProvider.html" title="This content is not included in Mimir."><code class="literal">org.eclipse.microprofile.config.spi.ConfigSourceProvider</code></a> implementation class that registers implementations for multiple <code class="literal">ConfigSource</code> instances.
				</p><p>
					The following management CLI command creates a <code class="literal">config-source-provider</code> for the implementation class named <code class="literal">org.example.MyConfigSourceProvider</code> that is provided by a JBoss Module named <code class="literal">org.example</code>.
				</p><pre class="screen">/subsystem=microprofile-config-smallrye/config-source-provider=my-config-source-provider:add(class={name=org.example.MyConfigSourceProvider, module=org.example})</pre><p>
					This command results in the following XML configuration for the <code class="literal">microprofile-config-smallrye</code> subsystem.
				</p><pre class="programlisting language-xml">&lt;subsystem xmlns="urn:wildfly:microprofile-config-smallrye:1.0"&gt;
    &lt;config-source-provider name="my-config-source-provider"&gt;
         &lt;class name="org.example.MyConfigSourceProvider" module="org.example"/&gt;
    &lt;/config-source-provider&gt;
&lt;/subsystem&gt;</pre><p>
					Properties provided by the <code class="literal">ConfigSourceProvider</code> implementation are available to any JBoss EAP deployment.
				</p><p>
					For information about how to add a global module to the JBoss EAP server, see <a class="link" href="#add_a_global_module" title="6.5. Define Global Modules">Define Global Modules</a>.
				</p></section><section class="section" id="deploy_applications_accessing_configsources"><div class="titlepage"><div><div><h3 class="title">25.1.3. Deploying Applications that Access ConfigSources</h3></div></div></div><p>
					Applications that access MicroProfile Config in their Java code must enable CDI, either by including a <code class="literal">META-INF/beans.xml</code> or <code class="literal">WEB-INF/beans.xml</code> file in the deployment archive, or by including a CDI bean annotation.
				</p><p>
					For more information about CDI, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#contexts_and_dependency_injection">Contexts and Dependency Injection (CDI)</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
				</p></section></section><section class="section" id="eclipse_microprofile_opentracing"><div class="titlepage"><div><div><h2 class="title">25.2. Tracing Requests with the MicroProfile OpenTracing SmallRye Subsystem</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Eclipse Microprofile OpenTracing is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><section class="section" id="microprofile_opentracing_about"><div class="titlepage"><div><div><h3 class="title">25.2.1. About Eclipse MicroProfile OpenTracing</h3></div></div></div><p>
					The ability to trace requests across service boundaries is important, especially in a microservices environment where a request can flow through multiple services during its life cycle. The <a class="link mimir-link-warn" href="https://github.com/eclipse/microprofile-opentracing/blob/master/spec/src/main/asciidoc/microprofile-opentracing.asciidoc" title="Mimir does not include content from: github.com">Eclipse Microprofile OpenTracing</a> specification defines behaviors and an API for accessing an OpenTracing compliant <a class="link mimir-link-warn" href="http://static.javadoc.io/io.opentracing/opentracing-api/0.32.0-RC1/io/opentracing/Tracer.html" title="Mimir does not include content from: static.javadoc.io"><code class="literal">Tracer</code></a> object within a JAX-RS application. The behaviors specify how OpenTracing Spans are to be created automatically for incoming and outgoing requests. The API defines how to explicitly disable or enable tracing for given endpoints.
				</p></section><section class="section" id="microprofile_opentracing_smallrye_about"><div class="titlepage"><div><div><h3 class="title">25.2.2. About the MicroProfile OpenTracing SmallRye Subsystem</h3></div></div></div><p>
					Eclipse Microprofile OpenTracing functionality is implemented in JBoss EAP using the <a class="link mimir-link-warn" href="https://github.com/smallrye/smallrye-opentracing" title="Mimir does not include content from: github.com">SmallRye OpenTracing</a> component and is provided by the <code class="literal">microprofile-opentracing-smallrye</code> subsystem. This subsystem implements Microprofile 1.3.0, which includes support for tracing requests to JAX-RS endpoints and CDI beans and is included in the default JBoss EAP 7.3 configuration.
				</p><p>
					The <code class="literal">microprofile-opentracing-smallrye</code> subsystem ships with the <a class="link mimir-link-warn" href="https://github.com/jaegertracing/jaeger-client-java" title="Mimir does not include content from: github.com">Jaeger Java Client</a> as the default tracer, plus a set of instrumentation libraries for components commonly used in Java EE applications, such as JAX-RS and CDI. Each individual WAR deployed to the JBoss EAP server automatically has its own <a class="link mimir-link-warn" href="http://static.javadoc.io/io.opentracing/opentracing-api/0.32.0-RC1/io/opentracing/Tracer.html" title="Mimir does not include content from: static.javadoc.io"><code class="literal">Tracer</code></a> instance. Each WAR within an EAR is treated as an individual WAR, and each has its own <code class="literal">Tracer</code> instance. By default, the service name used with the Jaeger Client is derived from the deployment’s name, which is usually the WAR file name.
				</p></section><section class="section" id="microprofile_opentracing_smallrye_configuring"><div class="titlepage"><div><div><h3 class="title">25.2.3. Configuring the MicroProfile OpenTracing SmallRye Subsystem</h3></div></div></div><p>
					The <code class="literal">microprofile-opentracing-smallrye</code> subsystem is included in the default JBoss EAP 7.3 configuration. Because there can be a memory or performance costs associated with OpenTracing enabled, you might want to disable this subsystem.
				</p><p>
					Use the following management CLI commands to disable the MicroProfile OpenTracing feature globally for the server instance by removing the subsystem from the server configuration.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Remove the subsystem.
						</p><pre class="screen">/subsystem=microprofile-opentracing-smallrye:remove()</pre></li><li class="listitem"><p class="simpara">
							Reload the server for the changes to take effect.
						</p><pre class="screen">reload</pre></li></ol></div><p>
					Use the following management CLI commands to enable the MicroProfile OpenTracing feature globally for the server instance by adding the subsystem to the server configuration.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the subsystem.
						</p><pre class="screen">/subsystem=microprofile-opentracing-smallrye:add()</pre></li><li class="listitem"><p class="simpara">
							Reload the server for the changes to take effect.
						</p><pre class="screen">reload</pre></li></ol></div><p>
					There are no other configuration options available for the <code class="literal">microprofile-opentracing-smallrye</code> subsystem. Instead, you configure the Jaeger Client by setting system properties or environment variables. See the <a class="link mimir-link-warn" href="https://github.com/jaegertracing/jaeger-client-java" title="Mimir does not include content from: github.com">Jaeger documentation</a> for information about how to configure the Jaeger Client. See <a class="link mimir-link-warn" href="https://github.com/jaegertracing/jaeger-client-java/tree/master/jaeger-core#configuration-via-environment" title="Mimir does not include content from: github.com">Configuration via Environment</a> in the Jaeger documentation for the list of valid system properties.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Because this feature is provided as Technology Preview, the current configuration options, particularly those related to configuring the Jaeger Java Client tracer using system properties and environment variables, might change in incompatible ways in future releases.
					</p><p>
						Also be aware that, by default, the Jaeger Client for Java has a probabilistic sampling strategy that is set to <code class="literal">0.001</code>, meaning that only approximately one in one thousand traces will be sampled. To sample every request, set the system properties <code class="literal">JAEGER_SAMPLER_TYPE</code> to <code class="literal">const</code> and <code class="literal">JAEGER_SAMPLER_PARAM</code> to <code class="literal">1</code>.
					</p></div></div><p>
					For information about how to override the default tracer and how to trace CDI beans, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#using_microprofile_opentracing_smallrye_tracer">Using Eclipse MicroProfile OpenTracing to Trace Requests</a> in the <span class="emphasis"><em>Development Guide</em></span>.
				</p></section></section><section class="section" id="microprofile_health_check"><div class="titlepage"><div><div><h2 class="title">25.3. Monitor Server Health Using Eclipse MicroProfile Health</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Eclipse MicroProfile Health is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><section class="section" id="about_the_microprofile_health_smallrye_subsystem"><div class="titlepage"><div><div><h3 class="title">25.3.1. MicroProfile Health SmallRye Subsystem</h3></div></div></div><p>
					JBoss EAP includes the <a class="link mimir-link-warn" href="https://github.com/smallrye/smallrye-health" title="Mimir does not include content from: github.com">SmallRye Health</a> component, which provides <a class="link mimir-link-warn" href="https://github.com/eclipse/microprofile-health/" title="Mimir does not include content from: github.com">Eclipse MicroProfile Health</a> functionality using the <code class="literal">microprofile-health-smallrye</code> subsystem. This subsystem is used to determine whether the JBoss EAP instance is responding as expected, and is enabled by default.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						By default, the MicroProfile Health SmallRye subsystem only evaluates whether the server is running. To include custom health checks, see the <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#microprofile_health_smallrye_custom_check">Implement a Custom Health Check</a> section in the <span class="emphasis"><em>Development Guide</em></span>.
					</p></div></div><p>
					Microprofile Health is only available when running JBoss EAP as a standalone server.
				</p></section><section class="section" id="examine_healthcheck_using_the_management_cli"><div class="titlepage"><div><div><h3 class="title">25.3.2. Health Check Using the Management CLI Examples</h3></div></div></div><p>
					Health checks can be examined using the management CLI.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">:check</code> attribute demonstrates obtaining the current health of the server (<code class="literal">liveness</code> and <code class="literal">readiness</code> probes).
						</li></ul></div><pre class="screen">/subsystem=microprofile-health-smallrye:check
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "outcome" =&gt; "UP",
        "checks" =&gt; []
    }
}</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">:check-live</code> attribute obtains the health data for <code class="literal">liveness</code> probes only.
						</li></ul></div><pre class="screen">/subsystem=microprofile-health-smallrye:check-live
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "outcome" =&gt; "UP",
        "checks" =&gt; []
    }
}</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">:check-ready</code> attribute obtains the health data for <code class="literal">readiness</code> probes only.
						</li></ul></div><pre class="screen">/subsystem=microprofile-health-smallrye:check-ready
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "outcome" =&gt; "UP",
        "checks" =&gt; []
    }
}</pre></section><section class="section" id="examine_the_healthcheck_using_the_management_console"><div class="titlepage"><div><div><h3 class="title">25.3.3. Examining the Health Check Using the Management Console</h3></div></div></div><p>
					The management console includes a check runtime operation that shows the health checks and the global outcome as boolean value.
				</p><p>
					To obtain the current health status of the server from the management console:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to the <span class="strong strong"><strong>Runtime</strong></span> tab and select the server.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Monitor</strong></span> column, click <span class="strong strong"><strong>MicroProfile Health</strong></span> → <span class="strong strong"><strong>View</strong></span>.
						</li></ol></div></section><section class="section" id="examine_healthcheck_using_the_http_endpoint"><div class="titlepage"><div><div><h3 class="title">25.3.4. Examine the Health Check Using the HTTP Endpoint</h3></div></div></div><p>
					Health check is automatically deployed to the <code class="literal">health</code> context on JBoss EAP.
				</p><pre class="literallayout">That means that in addition to being able to examine it using the management CLI, you can also obtain the current health using the HTTP endpoint. The default address for the `/health` endpoint, accessible from the management interfaces, is `http://127.0.0.1:9990/health`.</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							To obtain the current health of the server using the HTTP endpoint, the following URL would be used.
						</li></ol></div><pre class="screen">http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>9990</em></span>/health</pre><p>
					Accessing this context displays the health check in JSON format, indicating whether the server is healthy.This endpoint checks the health of both <code class="literal">liveness</code> and <code class="literal">readiness</code> probes.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The <code class="literal">/health/live</code> endpoint checks the current health of <code class="literal">liveness</code> probes.
						</li></ol></div><pre class="screen">http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>9990</em></span>/health/live</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The <code class="literal">/health/ready</code> endpoint checks the current health of <code class="literal">readiness</code> probes.
						</li></ol></div><pre class="screen">http://<span class="emphasis"><em>HOST</em></span>:<span class="emphasis"><em>9990</em></span>/health/ready</pre></section><section class="section" id="global_statuses_undefined_probes"><div class="titlepage"><div><div><h3 class="title">25.3.5. Global Status When Probes are not Defined</h3></div></div></div><p>
					The <code class="literal">:empty-readiness-checks-status</code> and <code class="literal">:empty-liveness-checks-status</code> are management attributes that specify the global status when no <code class="literal">readiness</code> or <code class="literal">liveness</code> probes are defined. These attributes allow applications to report ‘DOWN’ until their probes verify that the application is ready/live. By default, these attributes will report ‘UP’.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The <code class="literal">:empty-readiness-checks-status</code> attribute specifies the global status for <code class="literal">readiness</code> probes if no <code class="literal">readiness</code> probes have been defined.
						</li></ol></div><pre class="screen">/subsystem=microprofile-health-smallrye:read-attribute(name=empty-readiness-checks-status)
{
    "outcome" =&gt; "success",
    "result" =&gt; expression "${env.MP_HEALTH_EMPTY_READINESS_CHECKS_STATUS:UP}"
}</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The <code class="literal">:empty-liveness-checks-status`attribute specifies the global status for `liveness</code> probes if no <code class="literal">liveness</code> probes have been defined.
						</li></ol></div><pre class="screen">/subsystem=microprofile-health-smallrye:read-attribute(name=empty-liveness-checks-status)
{
    "outcome" =&gt; "success",
    "result" =&gt; expression "${env.MP_HEALTH_EMPTY_LIVENESS_CHECKS_STATUS:UP}"
}</pre><p>
					The <code class="literal">/health</code> HTTP endpoint and <code class="literal">:check</code> operation that check both <code class="literal">readiness</code> and <code class="literal">liveness</code> probes also take into account these attributes.
				</p></section><section class="section" id="enable_auth_http_endpoint"><div class="titlepage"><div><div><h3 class="title">25.3.6. Enable Authentication for the HTTP Endpoint</h3></div></div></div><p>
					The <code class="literal">health</code> context can be configured to require that users be authorized to access the context.
				</p><p>
					To enable authentication on this endpoint:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the <code class="literal">security-enabled</code> attribute to <code class="literal">true</code> on the <code class="literal">microprofile-health-smallrye</code> subsystem.
						</p><pre class="screen">/subsystem=microprofile-health-smallrye:write-attribute(name=security-enabled,value=true)</pre></li><li class="listitem"><p class="simpara">
							Reload the server for the changes to take effect.
						</p><pre class="screen">reload</pre></li></ol></div><p>
					Any subsequent attempts to access the <code class="literal">health</code> endpoint result in an authentication prompt.
				</p></section></section><section class="section" id="microprofile_metrics"><div class="titlepage"><div><div><h2 class="title">25.4. Eclipse MicroProfile Metrics</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Eclipse MicroProfile Metrics is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div></div><section class="section" id="about_the_microprofile_metrics_subsystem"><div class="titlepage"><div><div><h3 class="title">25.4.1. About the MicroProfile Metrics Subsystem</h3></div></div></div><p>
					JBoss EAP includes the <a class="link mimir-link-warn" href="http://github.com/smallrye/smallrye-metrics/" title="Mimir does not include content from: github.com">SmallRye Metrics</a> component, which provides <a class="link mimir-link-warn" href="https://github.com/eclipse/microprofile-metrics/" title="Mimir does not include content from: github.com">Eclipse MicroProfile Metrics</a> functionality using the <code class="literal">microprofile-metrics-smallrye</code> subsystem. This subsystem is used to provide monitoring data for the JBoss EAP instance, and is enabled by default.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						The <code class="literal">microprofile-metrics-smallrye</code> subsystem is only enabled in standalone configurations.
					</p></div></div></section><section class="section" id="examine_metrics_using_the_http_endpoint"><div class="titlepage"><div><div><h3 class="title">25.4.2. Examine Metrics Using the HTTP Endpoint</h3></div></div></div><p>
					Metrics are automatically available on the JBoss EAP management interface, with the following contexts available.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">/metrics/</code> - Contains metrics specified in the MicroProfile 3.0 specification.
						</li><li class="listitem">
							<code class="literal">/metrics/vendor</code> - Contains vendor-specific metrics, such as memory pools.
						</li><li class="listitem">
							<code class="literal">/metrics/application</code> - Contains metrics from deployed applications and subsystems that use the MicroProfile Metrics API.
						</li></ul></div><p>
					The JBoss EAP subsystem metrics are exposed in the Prometheus format.
				</p><p>
					The metric names are based on subsystem and attribute names. For example, the subsystem <code class="literal">undertow</code> exposes a metric attribute <code class="literal">request-count</code> for every servlet in an application deployment. The name of this metric is <code class="literal">jboss_undertow_request_count</code>. The prefix jboss helps identify the metrics source.
				</p><p>
					To see a list of the metrics exposed by EAP, execute the following command in the CLI:
				</p><pre class="screen">$ curl -v http://localhost:9990/metrics | grep -i type</pre><div class="formalpara"><p class="title"><strong>Example: Obtaining the request count for a JAX-RS application</strong></p><p>
						The following example demonstrates how to find the number of requests made to a web service deployed on JBoss EAP. The example uses the helloworld-rs quickstart as the web service. Download the quickstart from: <a class="link mimir-link-warn" href="https://github.com/jboss-developer/jboss-eap-quickstarts" title="Mimir does not include content from: github.com">jboss-eap-quickstarts</a>.
					</p></div><p>
					To examine the <code class="literal">request-count</code> metric in the helloworld-rs quickstart:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable statistics for the <code class="literal">undertow</code> subsystem:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Start the standalone server with statistics enabled:
								</p><pre class="screen">$ ./standalone.sh -Dwildfly.statistics-enabled=true</pre></li><li class="listitem"><p class="simpara">
									For an already running server, enable the statistics for the <code class="literal">undertow</code> subsystem:
								</p><pre class="screen">/subsystem=undertow/:write-attribute(name=statistics-enabled,value=true)</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Deploy the helloworld-rs quickstart:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									In the root directory of the quickstart, deploy the web application using Maven:
								</p><pre class="screen">$ mvn clean install wildfly:deploy</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Query the <code class="literal">http</code> endpoint in the CLI using the <code class="literal">curl</code> command and filter for <code class="literal">request_count</code>:
						</p><pre class="screen">$ curl -v http://localhost:9990/metrics |  grep request_count</pre><p class="simpara">
							Output:
						</p><pre class="screen">jboss_undertow_request_count_total{server="default-server",http_listener="default",} 0.0</pre><p class="simpara">
							The attribute value returned is <code class="literal">0.0</code>.
						</p></li><li class="listitem">
							Access the quickstart, located at <a class="link mimir-link-warn" href="http://localhost:8080/helloworld-rs/" title="Mimir does not include content from: localhost">http://localhost:8080/helloworld-rs/</a>, in a web browser and click any of the links.
						</li><li class="listitem"><p class="simpara">
							Query the <code class="literal">http</code> endpoint again from the CLI:
						</p><pre class="screen">$ curl -v http://localhost:9990/metrics |  grep request_count</pre><p class="simpara">
							Output:
						</p><pre class="screen">jboss_undertow_request_count_total{server="default-server",http_listener="default",} 1.0</pre><p class="simpara">
							The value is updated to <code class="literal">1.0</code>.
						</p><p class="simpara">
							You can verify that the request count is updated correctly by repeating the last two steps.
						</p></li></ol></div></section><section class="section" id="configure_microprofile_metrics_using_management_console"><div class="titlepage"><div><div><h3 class="title">25.4.3. Configure MicroProfile Metrics using the Management Console</h3></div></div></div><p>
					In the management console, you can perform the following configurations:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Enable or disable exposing metrics.
						</li><li class="listitem">
							Edit prefix for the exposed metrics.
						</li><li class="listitem">
							Enable or disable security.
						</li><li class="listitem">
							Reset non-required fields to initial or default values.
						</li></ul></div><p>
					To configure the MicroProfile metrics using the management console:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Access the management console and navigate to <span class="strong strong"><strong>Configuration</strong></span> → <span class="strong strong"><strong>Subsystems</strong></span> → <span class="strong strong"><strong>MicroProfile Metrics</strong></span> and click <span class="strong strong"><strong>View</strong></span> to open the <span class="strong strong"><strong>MicroProfile Metrics</strong></span> page.
						</li></ul></div></section><section class="section" id="enable_authentication_for_the_http_endpoint"><div class="titlepage"><div><div><h3 class="title">25.4.4. Enable Authentication for the HTTP Endpoint</h3></div></div></div><p>
					The <code class="literal">metrics</code> context, and all subcontexts, can be configured to require that users be authorized to access the context. The following procedure enables authentication on this endpoint.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the <code class="literal">security-enabled</code> attribute to <code class="literal">true</code> on the <code class="literal">microprofile-metrics-smallrye</code> subsystem.
						</p><pre class="screen">/subsystem=microprofile-metrics-smallrye:write-attribute(name=security-enabled,value=true)</pre></li><li class="listitem"><p class="simpara">
							Reload the server for the changes to take effect.
						</p><pre class="screen">reload</pre></li></ol></div><p>
					Any subsequent attempts to access the <code class="literal">metrics</code> endpoint will now result in an authentication prompt.
				</p></section></section></section><section class="appendix" id="reference_material"><div class="titlepage"><div><div><h1 class="title">Appendix A. Reference Material</h1></div></div></div><section class="section" id="reference_of_switches_and_arguments_to_pass_at_server_runtime"><div class="titlepage"><div><div><h2 class="title">A.1. Server Runtime Arguments</h2></div></div></div><p>
				The application server startup script accepts arguments and switches at runtime. This allows the server to start under alternative configurations to those defined in the <code class="literal">standalone.xml</code>, <code class="literal">domain.xml</code>, and <code class="literal">host.xml</code> configuration files.
			</p><p>
				Alternative configurations might include starting the server with an alternative socket bindings set or a secondary configuration.
			</p><p>
				The available parameters list can be accessed by passing the help switch <code class="literal">-h</code> or <code class="literal">--help</code> at startup.
			</p><div class="table" id="idm140321695125888"><p class="title"><strong>Table A.1. Runtime Switches and Arguments</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 18%; " class="col_2"><!--Empty--></col><col style="width: 48%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695119376" scope="col">Argument or Switch</th><th align="left" valign="top" id="idm140321695118288" scope="col">Operating Mode</th><th align="left" valign="top" id="idm140321695117200" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--admin-only
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set the server’s running type to <code class="literal">ADMIN_ONLY</code>. This will cause it to open administrative interfaces and accept management requests, but not start other runtime services or accept end user requests. Note that it is recommended to use <code class="literal">--start-mode=admin-only</code> instead.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--admin-only
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set the host controller’s running type to <code class="literal">ADMIN_ONLY</code> causing it to open administrative interfaces and accept management requests but not start servers or, if this host controller is the master for the domain, accept incoming connections from slave host controllers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-b=&lt;value&gt;, -b &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set system property <code class="literal">jboss.bind.address</code>, which is used in configuring the bind address for the public interface. This defaults to <code class="literal">127.0.0.1</code> if no value is specified. See the <code class="literal">-b&lt;interface&gt;=&lt;value&gt;</code> entry for setting the bind address for other interfaces.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-b&lt;interface&gt;=&lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set system property <code class="literal">jboss.bind.address.&lt;interface&gt;</code> to the given value. For example, <code class="literal">-bmanagement=<span class="emphasis"><em>IP_ADDRESS</em></span></code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--backup
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Keep a copy of the persistent domain configuration even if this host is not the domain controller.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-c=&lt;config&gt;, -c &lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the server configuration file to use. The default is <code class="literal">standalone.xml</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-c=&lt;config&gt;, -c &lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the server configuration file to use. The default is <code class="literal">domain.xml</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--cached-dc
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								If the host is not the domain controller and cannot contact the domain controller at boot, boot using a locally cached copy of the domain configuration.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--debug [&lt;port&gt;]
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Activate debug mode with an optional argument to specify the port. Only works if the launch script supports it.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-D&lt;name&gt;[=&lt;value&gt;]
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set a system property.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--domain-config=&lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the server configuration file to use. The default is <code class="literal">domain.xml</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--git-repo
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								The location of the Git repository that is used to manage and persist server configuration data. This can be <code class="literal">local</code> if you want to store it locally, or the URL to a remote repository.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--git-branch
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								The branch or tag name in the Git repository to use. This argument should name an existing branch or tag name as it will <span class="emphasis"><em>not</em></span> be created if it does not exist. If you use a tag name, you put the repository in a detached HEAD state, meaning future commits are not attached to any branches. Tag names are read-only and are normally used when you need to replicate a configuration across several nodes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--git-auth
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								The URL to an Elytron configuration file that contains the credentials to be used when connecting to a remote Git repository. This argument is required if your remote Git repository requires authentication. Although Git supports SSH authentication, Elytron does not; therefore, only default SSH authentication is supported using private keys without a password. This argument is not used with a <code class="literal">local</code> repository.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-h, --help
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Display the help message and exit.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--host-config=&lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the host configuration file to use. The default is <code class="literal">host.xml</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--interprocess-hc-address=&lt;address&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Address on which the host controller should listen for communication from the process controller.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--interprocess-hc-port=&lt;port&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Port on which the host controller should listen for communication from the process controller.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--master-address=&lt;address&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set system property <code class="literal">jboss.domain.master.address</code> to the given value. In a default slave host controller configuration, this is used to configure the address of the master host controller.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--master-port=&lt;port&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set system property <code class="literal">jboss.domain.master.port</code> to the given value. In a default slave host controller configuration, this is used to configure the port used for native management communication by the master host controller.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--read-only-server-config=&lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the server configuration file to use. This differs from <code class="literal">--server-config</code> and <code class="literal">-c</code> in that the original file is never overwritten.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--read-only-domain-config=&lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the domain configuration file to use. This differs from <code class="literal">--domain-config</code> and <code class="literal">-c</code> in that the initial file is never overwritten.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--read-only-host-config=&lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the host configuration file to use. This differs from <code class="literal">--host-config</code> in that the initial file is never overwritten.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-P=&lt;url&gt;, -P &lt;url&gt;, --properties=&lt;url&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Load system properties from the given URL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--pc-address=&lt;address&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Address on which the process controller listens for communication from processes it controls.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--pc-port=&lt;port&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Port on which the process controller listens for communication from processes it controls.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-S&lt;name&gt;[=&lt;value&gt;]
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set a security property.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-secmgr
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Runs the server with a security manager installed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--server-config=&lt;config&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Name of the server configuration file to use. The default is <code class="literal">standalone.xml</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								--start-mode=&lt;mode&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set the start mode of the server. This option cannot be used in conjunction with <code class="literal">--admin-only</code>. Valid values are:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">normal</code>: The server will start normally.
									</li><li class="listitem">
										<code class="literal">admin-only</code>: The server will only open administrative interfaces and accept management requests but not start other runtime services or accept end user requests.
									</li><li class="listitem">
										<code class="literal">suspend</code>: The server will start in suspended mode and will not service requests until it has been resumed.
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-u=&lt;value&gt;, -u &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Set system property <code class="literal">jboss.default.multicast.address</code>, which is used in configuring the multicast address in the socket-binding elements in the configuration files. This defaults to <code class="literal">230.0.0.4</code> if no value is specified.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695119376"> <p>
								-v, -V, --version
							</p>
							 </td><td align="left" valign="top" headers="idm140321695118288"> <p>
								Standalone, Domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695117200"> <p>
								Display the application server version and exit.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					The configuration files that ship with JBoss EAP are set up to handle the behavior of the switches, for example, <code class="literal">-b</code> and <code class="literal">-u</code>. If you change your configuration files to no longer use the system property controlled by the switch, then adding it to the launch command will have no effect.
				</p></div></div></section><section class="section" id="rpm_installation_configuration_files"><div class="titlepage"><div><div><h2 class="title">A.2. RPM Service Configuration Files</h2></div></div></div><p>
				The RPM installation of JBoss EAP includes two additional configuration files compared to a ZIP or installer installation. These files are used by the service init script to specify the JBoss EAP launch environment. The location of these service configuration files differ for Red Hat Enterprise Linux 6, and Red Hat Enterprise Linux 7 and later versions.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					For Red Hat Enterprise Linux 7 and later, RPM service configuration files are loaded using <code class="literal">systemd</code>, so variable expressions are not expanded.
				</p></div></div><div class="table" id="idm140321699151584"><p class="title"><strong>Table A.2. RPM Configuration Files for Red Hat Enterprise Linux 6</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695861520" scope="col">File</th><th align="left" valign="top" id="idm140321695860432" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695861520"> <p>
								/etc/sysconfig/eap7-standalone
							</p>
							 </td><td align="left" valign="top" headers="idm140321695860432"> <p>
								Settings specific to standalone JBoss EAP servers on Red Hat Enterprise Linux 6.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695861520"> <p>
								/etc/sysconfig/eap7-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321695860432"> <p>
								Settings specific to JBoss EAP running as a managed domain on Red Hat Enterprise Linux 6.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321695850752"><p class="title"><strong>Table A.3. RPM Configuration Files for Red Hat Enterprise Linux 7 and later</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695845136" scope="col">File</th><th align="left" valign="top" id="idm140321695844048" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695845136"> <p>
								/etc/opt/rh/eap7/wildfly/eap7-standalone.conf
							</p>
							 </td><td align="left" valign="top" headers="idm140321695844048"> <p>
								Settings specific to standalone JBoss EAP servers on Red Hat Enterprise Linux 7 and later.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695845136"> <p>
								/etc/opt/rh/eap7/wildfly/eap7-domain.conf
							</p>
							 </td><td align="left" valign="top" headers="idm140321695844048"> <p>
								Settings specific to JBoss EAP running as a managed domain on Red Hat Enterprise Linux 7 and later.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="rpm_installation_configuration_properties"><div class="titlepage"><div><div><h2 class="title">A.3. RPM Service Configuration Properties</h2></div></div></div><p>
				The following table shows a list of available configuration properties for the JBoss EAP RPM service along with their default values.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If a property has the same name in both the RPM service configuration file, such as <code class="literal">/etc/sysconfig/eap7-standalone</code>, and in the JBoss EAP startup configuration file, such as <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code>, the value that takes precedence is the one in the JBoss EAP startup configuration file. One such property is <code class="literal">JAVA_HOME</code>.
				</p></div></div><div class="table" id="idm140321695829168"><p class="title"><strong>Table A.4. RPM Service Configuration Properties</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695823584" scope="col">Property</th><th align="left" valign="top" id="idm140321695822496" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								JAVA_HOME
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The directory where your Java Runtime Environment is installed.
							</p>
							 <p>
								Default value: <code class="literal">/usr/lib/jvm/jre</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								JAVAPTH
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The path where the Java executable files are installed.
							</p>
							 <p>
								Default value: <code class="literal">$JAVA_HOME/bin</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_STARTUP_WAIT
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The number of seconds that the init script will wait until confirming that the server has launched successfully after receiving a start or restart command. This property only applies to Red Hat Enterprise Linux 6.
							</p>
							 <p>
								Default value: <code class="literal">60</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_SHUTDOWN_WAIT
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The number of seconds that the init script will wait for the server to shutdown before continuing when it receives a stop or restart command. This property only applies to Red Hat Enterprise Linux 6.
							</p>
							 <p>
								Default value: <code class="literal">20</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_CONSOLE_LOG
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The file that the CONSOLE log handler will be redirected to.
							</p>
							 <p>
								Default value: <code class="literal">/var/opt/rh/eap7/log/wildfly/standalone/console.log</code> for a standalone server, or <code class="literal">/var/opt/rh/eap7/log/wildfly/domain/console.log</code> for a managed domain.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_SH
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The script which is used to launch to JBoss EAP server.
							</p>
							 <p>
								Default value: <code class="literal">/opt/rh/eap7/root/usr/share/wildfly/bin/standalone.sh</code> for a standalone server, or <code class="literal">/opt/rh/eap7/root/usr/share/wildfly/bin/domain.sh</code> for a managed domain.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_SERVER_CONFIG
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The server configuration file to use.
							</p>
							 <p>
								There is no default for this property. Either <code class="literal">standalone.xml</code> or <code class="literal">domain.xml</code> can be defined at start.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_HOST_CONFIG
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								For a managed domain, this property allows a user to specify the host configuration file, such as <code class="literal">host.xml</code>. It has no value set as the default.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_MODULEPATH
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								The path of the JBoss EAP module directory.
							</p>
							 <p>
								Default value: <code class="literal">/opt/rh/eap7/root/usr/share/wildfly/modules</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_BIND
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								Sets the <code class="literal">jboss.bind.address</code> system property, which is used to configure the bind address for the public interface. This defaults to <code class="literal">0.0.0.0</code> if no value is specified.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695823584"> <p>
								WILDFLY_OPTS
							</p>
							 </td><td align="left" valign="top" headers="idm140321695822496"> <p>
								Additional arguments to include on startup. For example:
							</p>
							 
<pre class="screen">-Dorg.wildfly.openssl.path=<span class="emphasis"><em>PATH_TO_OPENSSL_LIBS</em></span></pre>
							 </td></tr></tbody></table></div></div></section><section class="section" id="jboss_eap_subsystems"><div class="titlepage"><div><div><h2 class="title">A.4. Overview of JBoss EAP Subsystems</h2></div></div></div><p>
				The table below gives a brief description of the JBoss EAP subsystems.
			</p><div class="table" id="idm140321692535552"><p class="title"><strong>Table A.5. JBoss EAP Subsystems</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692530720" scope="col">JBoss EAP Subsystem</th><th align="left" valign="top" id="idm140321692529632" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								batch-jberet
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								<a class="link" href="#configuring_batch_jobs" title="22.1. Configuring Batch Jobs">Configure an environment for running batch applications</a> and <a class="link" href="#managing_batch_jobs" title="22.2. Managing Batch Jobs">manage batch jobs</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								bean-validation
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure <a class="link" href="#bean_validation" title="Bean Validation">bean validation</a> for validating Java object data.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								core-management
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Register listeners for <a class="link" href="#monitor_server_lifecycle_events_management" title="3.11.1. Monitor Server Lifecycle Events Using the Core Management Subsystem">server lifecycle events</a> and track <a class="link" href="#view_config_changes" title="3.6.5. View Configuration Changes">configuration changes</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								datasources
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Create and configure <a class="link" href="#about_jboss_eap_datasources" title="12.1. About JBoss EAP Datasources">datasources</a> and manage <a class="link" href="#jdbc_drivers" title="12.2. JDBC Drivers">JDBC database drivers</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								deployment-scanner
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure <a class="link" href="#deploying_apps_using_scanner" title="7.3. Deploying Applications Using the Deployment Scanner">deployment scanners</a> to monitor particular locations for applications to deploy.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								ee
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure common functionality in the Java EE platform, such as defining <a class="link" href="#add_a_global_module" title="6.5. Define Global Modules">global modules</a>, enabling <a class="link" href="#descriptor_property_replacement" title="Descriptor-Based Property Replacement">descriptor-based property replacement</a>, and configuring default bindings.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								ejb3
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure Enterprise JavaBeans (EJBs), including session and message-driven beans.
							</p>
							 <p>
								More information for the <code class="literal">ejb3</code> subsystem can be found in <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/developing_ejb_applications/index/"><span class="emphasis"><em>Developing EJB Applications</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								elytron
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure server and application security.
							</p>
							 <p>
								More information on the <code class="literal">elytron</code> subsystem can be found in <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/security_architecture/" title="This content is not included in Mimir."><span class="emphasis"><em>Security Architecture</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								iiop-openjdk
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure Common Object Request Broker Architecture (CORBA) services for JTS transactions and other <a class="link" href="#orb_configuration" title="Chapter 15. ORB Configuration">ORB services</a>, including security. In JBoss EAP 6, this functionality was contained in the <code class="literal">jacorb</code> subsystem.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								infinispan
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure <a class="link" href="#infinispan" title="24.3. Infinispan">caching</a> functionality for JBoss EAP high availability services.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								io
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Define <a class="link" href="#io_configure_worker" title="19.2. Configuring a Worker">workers</a> and <a class="link" href="#io_configure_buffer_pool" title="19.3. Configuring a Buffer Pool">buffer pools</a> to be used by other subsystems.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jaxrs
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Enable the deployment and functionality of JAX-RS applications.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jca
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure the general settings for the <a class="link" href="#jca_management" title="Chapter 16. Java Connector Architecture (JCA) Management">Java EE Connector Architecture (JCA) container</a> and resource adapter deployments.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jdr
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Enable the gathering of diagnostic data to aid in troubleshooting. JBoss EAP subscribers can provide this information to Red Hat when requesting support.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jgroups
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure the protocol stacks and <a class="link" href="#cluster_communication_jgroups" title="24.2. Cluster Communication with JGroups">communication mechanisms</a> for how servers in a cluster talk to each other.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jmx
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure remote Java Management Extensions (JMX) access.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jpa
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Manages the Java Persistence API (JPA) 2.1 container-managed requirements and allows you to deploy persistent unit definitions, annotations, and descriptors.
							</p>
							 <p>
								More information for the <code class="literal">jpa</code> subsystem can be found in the JBoss EAP <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#java_persistence_api_jpa"><span class="emphasis"><em>Development Guide</em></span></a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jsf
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Manage JavaServer Faces (JSF) implementations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								jsr77
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Provide Java EE management capabilities defined by the <a class="link mimir-link-warn" href="https://jcp.org/en/jsr/detail?id=77" title="Mimir does not include content from: jcp.org">JSR-77</a> specification.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								logging
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure system and application-level logging through a system of <a class="link" href="#log_categories" title="11.3.2. Log Categories">log categories</a> and <a class="link" href="#log_handlers" title="11.3.3. Log Handlers">log handlers</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								mail
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure <a class="link" href="#configuring_the_mail_subsystem" title="10.1. Configuring the Mail Subsystem">mail server attributes</a> and <a class="link" href="#configuring_custom_transports" title="10.2. Configuring Custom Transports">custom mail transports</a> to create a mail service that allows applications deployed to JBoss EAP to send mail using that service.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								messaging-activemq
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure JMS destinations, connection factories, and other settings for Artemis, the integrated messaging provider. In JBoss EAP 6, messaging functionality was contained in the <code class="literal">messaging</code> subsystem.
							</p>
							 <p>
								More information for the <code class="literal">messaging-activemq</code> subsystem can be found in <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/configuring_messaging/" title="This content is not included in Mimir."><span class="emphasis"><em>Configuring Messaging</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								microprofile-config-smallrye
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Use <a class="link" href="#using_microprofile_config" title="25.1. Using Eclipse MicroProfile Config to Manage Configuration">MicroProfile Config SmallRye</a> to provide portable externalization of configuration data, allowing applications to access the latest configuration properties without restarting the server.
							</p>
							 <div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Eclipse Microprofile Config is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
								</p><p>
									See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								microprofile-health-smallrye
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Use <a class="link mimir-link-warn" href="https://github.com/smallrye/smallrye-health" title="Mimir does not include content from: github.com">SmallRye Health</a> to monitor server health. See <a class="link" href="#microprofile_health_check" title="25.3. Monitor Server Health Using Eclipse MicroProfile Health">Monitor Server Health Using Eclipse MicroProfile Health</a> for information about the <code class="literal">microprofile-health-smallrye</code> subsystem and how to configure it. For information about creating custom health checks, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#using_microprofile_health_smallrye">Using Eclipse MicroProfile Health to Monitor Server Health</a> in the <span class="emphasis"><em>Development Guide</em></span>.
							</p>
							 <div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Eclipse Microprofile Health is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
								</p><p>
									See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								microprofile-opentracing-smallrye
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Use <a class="link mimir-link-warn" href="https://github.com/smallrye/smallrye-opentracing" title="Mimir does not include content from: github.com">SmallRye OpenTracing</a> to trace requests across service boundaries. See <a class="link" href="#eclipse_microprofile_opentracing" title="25.2. Tracing Requests with the MicroProfile OpenTracing SmallRye Subsystem">Tracing Requests with the MicroProfile OpenTracing SmallRye Subsystem</a> for information about the <code class="literal">microprofile-opentracing-smallrye</code> subsystem and how to configure it. For information about how to customize tracing for CDI beans and JAX-RS endpoints, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#using_microprofile_opentracing_smallrye_tracer">Using Eclipse MicroProfile OpenTracing to Trace Requests</a> in the <span class="emphasis"><em>Development Guide</em></span>.
							</p>
							 <div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Eclipse Microprofile OpenTracing is provided as Technology Preview only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
								</p><p>
									See <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								modcluster
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure the server-side <a class="link" href="#configure_mod_cluster_worker_node" title="24.6.3. Configure a mod_cluster Worker Node">mod_cluster worker node</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								naming
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Bind entries into global JNDI namespaces and configure the remote JNDI interface.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								picketlink-federation
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure PicketLink SAML-based single sign-on (SSO).
							</p>
							 <p>
								More information on the <code class="literal">picketlink-federation</code> subsystem can be found in <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_set_up_sso_with_saml_v2/#configuring_idps_and_sps_via_the_federation_subsystem" title="This content is not included in Mimir."><span class="emphasis"><em>How To Set Up SSO with SAML v2</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								picketlink-identity-management
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure PicketLink identity management services. This subsystem is unsupported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								pojo
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Enable deployment of applications containing JBoss Microcontainer services, as supported by previous versions of JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								remoting
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure settings for inbound and outbound connections for local and <a class="link" href="#configuring_remoting" title="Chapter 18. Configuring Remoting">remote services</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								request-controller
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure settings to <a class="link" href="#graceful_shutdown_suspend" title="2.4. Suspend and Shut Down JBoss EAP Gracefully">suspend and shut down servers gracefully</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								resource-adapters
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure and maintain <a class="link" href="#configuring_resource_adapters" title="16.4. Configuring Resource Adapters">resource adapters</a> for communication between Java EE applications and an Enterprise Information System (EIS) using the Java Connector Architecture (JCA) specification.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								rts
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Unsupported implementation of REST-AT.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								sar
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Enable deployment of SAR archives containing MBean services, as supported by previous versions of JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								security
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Legacy method to configure application security settings.
							</p>
							 <p>
								More information on the <code class="literal">security</code> subsystem can be found in <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/security_architecture/" title="This content is not included in Mimir."><span class="emphasis"><em>Security Architecture</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								security-manager
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure Java security policies to be used by the Java Security Manager.
							</p>
							 <p>
								More information on the <code class="literal">security-manager</code> subsystem can be found in <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/how_to_configure_server_security/#java_security_manager" title="This content is not included in Mimir."><span class="emphasis"><em>How to Configure Server Security</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								singleton
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Define singleton policies to configure the behavior of singleton deployments or to create singleton MSC services.
							</p>
							 <p>
								More information on the <code class="literal">singleton</code> subsystem can be found in the JBoss EAP <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#clustered_ha_singleton_service"><span class="emphasis"><em>Development Guide</em></span></a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								transactions
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure the Transaction Manager (TM) options, such as timeout values, transaction logging, and whether to use Java Transaction Service (JTS).
							</p>
							 <p>
								More information on the <code class="literal">transactions</code> subsystem can be found in <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/managing_transactions_on_jboss_eap/index/"><span class="emphasis"><em>Managing Transactions on JBoss EAP</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								undertow
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure JBoss EAP’s <a class="link" href="#configuring_the_web_server_undertow" title="Chapter 17. Configuring the Web Server (Undertow)">web server</a> and servlet container settings. In JBoss EAP 6, this functionality was contained in the <code class="literal">web</code> subsystem.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								webservices
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure published endpoint addresses and endpoint handler chains, as well as the host name, ports, and WSDL address for the web services provider.
							</p>
							 <p>
								More information for the <code class="literal">webservices</code> subsystem can be found in <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/developing_web_services_applications/index/"><span class="emphasis"><em>Developing Web Services Applications</em></span></a> for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								weld
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure Contexts and Dependency Injection (CDI) functionality for JBoss EAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692530720"> <p>
								xts
							</p>
							 </td><td align="left" valign="top" headers="idm140321692529632"> <p>
								Configure settings for coordinating web services in a transaction.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="reference_of_add_user_utility_arguments"><div class="titlepage"><div><div><h2 class="title">A.5. Add-User Utility Arguments</h2></div></div></div><p>
				The following table describes the arguments available for the <code class="literal">add-user.sh</code> or <code class="literal">add-user.bat</code> script, which is a utility for adding new users to the properties file for out-of-the-box authentication.
			</p><div class="table" id="idm140321694074208"><p class="title"><strong>Table A.6. Add-User Command Arguments</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694069360" scope="col">Command Line Argument</th><th align="left" valign="top" id="idm140321694068272" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-a
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								Create a user in the application realm. If omitted, the default is to create a user in the management realm.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-dc &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								The domain configuration directory that will contain the properties files. If it is omitted, the default directory is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-sc &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								An alternative standalone server configuration directory that will contain the properties files. If omitted, the default directory is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-up, --user-properties &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								The name of the alternative user properties file. It can be an absolute path or it can be a file name used in conjunction with the <code class="literal">-sc</code> or <code class="literal">-dc</code> argument that specifies the alternative configuration directory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-g, --group &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								A comma-separated list of groups to assign to this user.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-gp, --group-properties &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								The name of the alternative group properties file. It can be an absolute path or it can be a file name used in conjunction with the <code class="literal">-sc</code> or <code class="literal">-dc</code> argument that specifies the alternative configuration directory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-p, --password &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								The password of the user.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-u, --user &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								The name of the user. User names can only contain the following characters, in any number and in any order:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Alphanumeric characters (a-z, A-Z, 0-9)
									</li><li class="listitem">
										Dashes (-), periods (.), commas (,), at sign (@)
									</li><li class="listitem">
										Backslash (\)
									</li><li class="listitem">
										Equals (=)
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-r, --realm &lt;value&gt;
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								The name of the realm used to secure the management interfaces. If omitted, the default is <code class="literal">ManagementRealm</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-s, --silent
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								Run the <code class="literal">add-user</code> script with no output to the console.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-e, --enable
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								Enable the user.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-d, --disable
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								Disable the user.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-cw, --confirm-warning
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								Automatically confirm warning in interactive mode.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-h, --help
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								Display usage information for the <code class="literal">add-user</code> script.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694069360"> <p>
								-ds, --display-secret
							</p>
							 </td><td align="left" valign="top" headers="idm140321694068272"> <p>
								Print the secret value in non-interactive mode.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="management_audit_logging_attributes"><div class="titlepage"><div><div><h2 class="title">A.6. Management Audit Logging Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-config_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321692960736"><p class="title"><strong>Table A.7. Management Audit Logging: Logger Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321693965504" scope="col">Attribute</th><th align="left" valign="top" id="idm140321693964416" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321693965504"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321693964416"> <p>
								Whether audit logging is enabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693965504"> <p>
								log-boot
							</p>
							 </td><td align="left" valign="top" headers="idm140321693964416"> <p>
								Whether operations should be logged on server boot.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693965504"> <p>
								log-read-only
							</p>
							 </td><td align="left" valign="top" headers="idm140321693964416"> <p>
								Whether operations that do not modify the configuration or any runtime services should be logged.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321693951136"><p class="title"><strong>Table A.8. Management Audit Logging: Log Formatter Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321693945536" scope="col">Attribute</th><th align="left" valign="top" id="idm140321693944448" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321693945536"> <p>
								compact
							</p>
							 </td><td align="left" valign="top" headers="idm140321693944448"> <p>
								If <code class="literal">true</code>, it will format the JSON on one line. There may still be values containing new lines, so if having the whole record on one line is important, set <code class="literal">escape-new-line</code> or <code class="literal">escape-control-characters</code> to <code class="literal">true</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693945536"> <p>
								date-format
							</p>
							 </td><td align="left" valign="top" headers="idm140321693944448"> <p>
								The date format to use as understood by <code class="literal">java.text.SimpleDateFormat</code>. This is ignored if <code class="literal">include-date</code> is set to <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693945536"> <p>
								date-separator
							</p>
							 </td><td align="left" valign="top" headers="idm140321693944448"> <p>
								The separator between the date and the rest of the formatted log message. This is ignored if <code class="literal">include-date</code> is set to <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693945536"> <p>
								escape-control-characters
							</p>
							 </td><td align="left" valign="top" headers="idm140321693944448"> <p>
								If <code class="literal">true</code>, it will escape all control characters, ASCII entries with a decimal value greater than <code class="literal">32</code>, with the ASCII code in octal. For example, a new line becomes <code class="literal">#012</code>. If <code class="literal">true</code>, this will override <code class="literal">escape-new-line=false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693945536"> <p>
								escape-new-line
							</p>
							 </td><td align="left" valign="top" headers="idm140321693944448"> <p>
								If <code class="literal">true</code>, it will escape all new lines with the ASCII code in octal: <code class="literal">#012</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693945536"> <p>
								include-date
							</p>
							 </td><td align="left" valign="top" headers="idm140321693944448"> <p>
								Whether or not to include the date in the formatted log record.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321693912240"><p class="title"><strong>Table A.9. Management Audit Logging: File Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321693906640" scope="col">Attribute</th><th align="left" valign="top" id="idm140321693905552" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321693906640"> <p>
								disabled-due-to-failure
							</p>
							 </td><td align="left" valign="top" headers="idm140321693905552"> <p>
								Whether this handler has been disabled due to logging failures (read-only).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693906640"> <p>
								failure-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321693905552"> <p>
								The number of logging failures since the handler was initialized (read-only).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693906640"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321693905552"> <p>
								The JSON formatter used to format the log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693906640"> <p>
								max-failure-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321693905552"> <p>
								The maximum number of logging failures before disabling this handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693906640"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321693905552"> <p>
								The path of the audit log file.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693906640"> <p>
								relative-to
							</p>
							 </td><td align="left" valign="top" headers="idm140321693905552"> <p>
								The name of another previously named path, or of one of the standard paths provided by the system. If <code class="literal">relative-to</code> is provided, the value of the <code class="literal">path</code> attribute is treated as relative to the path specified by this attribute.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693906640"> <p>
								rotate-at-startup
							</p>
							 </td><td align="left" valign="top" headers="idm140321693905552"> <p>
								Whether the old log file should be rotated at server startup.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321693350912"><p class="title"><strong>Table A.10. Management Audit Logging: Syslog Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321693345312" scope="col">Attribute</th><th align="left" valign="top" id="idm140321693344224" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								app-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The application name to add to the syslog records as defined in section 6.2.5 of <span class="emphasis"><em>RFC-5424</em></span>. If not specified it will default to the name of the product.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								disabled-due-to-failure
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								Whether this handler has been disabled due to logging failures (read-only).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								facility
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The facility to use for syslog logging as defined in section 6.2.1 of <span class="emphasis"><em>RFC-5424</em></span> and section 4.1.1 of <span class="emphasis"><em>RFC-3164</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								failure-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The number of logging failures since the handler was initialized (read-only).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The JSON formatter used to format the log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								max-failure-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The maximum number of logging failures before disabling this handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								max-length
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The maximum length in bytes a log message, including the header, is allowed to be. If undefined, it will default to <code class="literal">1024</code> bytes if the <code class="literal">syslog-format</code> is <code class="literal">RFC3164</code>, or <code class="literal">2048</code> bytes if the <code class="literal">syslog-format</code> is <code class="literal">RFC5424</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The protocol to use for the syslog handler. Must be one and only one of <code class="literal">udp</code>, <code class="literal">tcp</code> or <code class="literal">tls</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								syslog-format
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								The syslog format: <code class="literal">RFC5424</code> or <code class="literal">RFC3164</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693345312"> <p>
								truncate
							</p>
							 </td><td align="left" valign="top" headers="idm140321693344224"> <p>
								Whether or not a message, including the header, should truncate the message if the length in bytes is greater than the value of the <code class="literal">max-length</code> attribute. If set to <code class="literal">false</code>, messages will be split and sent with the same header values.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Syslog servers vary in their implementation, so not all settings are applicable to all syslog servers. Testing has been conducted using the <span class="emphasis"><em>rsyslog</em></span> syslog implementation.
				</p><p>
					This table lists only the high-level attributes. Each attribute has configuration parameters, and some have child configuration parameters.
				</p></div></div></section><section class="section" id="reference_of_interface_attributes"><div class="titlepage"><div><div><h2 class="title">A.7. Interface Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-config_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321694971344"><p class="title"><strong>Table A.11. Interface Attributes and Values</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694965760" scope="col">Interface Element</th><th align="left" valign="top" id="idm140321694964672" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								any
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Element indicating that part of the selection criteria for an interface should be that it meets at least one, but not necessarily all, of the nested set of criteria.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								any-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that sockets using this interface should be bound to a wildcard address. The IPv6 wildcard address (<code class="literal">::</code>) will be used unless the <code class="literal">java.net.preferIPv4Stack</code> system property is set to true, in which case the IPv4 wildcard address (<code class="literal">0.0.0.0</code>) will be used. If a socket is bound to an IPv6 anylocal address on a dual-stack machine, it can accept both IPv6 and IPv4 traffic; if it is bound to an IPv4 (IPv4-mapped) anylocal address, it can only accept IPv4 traffic.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								inet-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Either an IP address in IPv6 or IPv4 dotted decimal notation, or a host name that can be resolved to an IP address.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								link-local-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not an address associated with it is link-local.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								loopback
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not it is a loopback interface.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								loopback-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								A loopback address that may not actually be configured on the machine’s loopback interface. Differs from inet-address type in that the given value will be used even if no NIC can be found that has the IP address associated with it.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								multicast
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not it supports multicast.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								The name of the interface.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								nic
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								The name of a network interface (e.g. eth0, eth1, lo).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								nic-match
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								A regular expression against which the names of the network interfaces available on the machine can be matched to find an acceptable interface.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								not
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Element indicating that part of the selection criteria for an interface should be that it does not meet any of the nested set of criteria.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								point-to-point
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not it is a point-to-point interface.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								public-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not it has a publicly routable address.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								site-local-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not an address associated with it is site-local.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								subnet-match
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								A network IP address and the number of bits in the address' network prefix, written in <span class="emphasis"><em>slash notation</em></span>, for example, <code class="literal">192.168.0.0/16</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								up
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not it is currently up.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694965760"> <p>
								virtual
							</p>
							 </td><td align="left" valign="top" headers="idm140321694964672"> <p>
								Empty element indicating that part of the selection criteria for an interface should be whether or not it is a virtual interface.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="reference_of_socket_binding_attributes"><div class="titlepage"><div><div><h2 class="title">A.8. Socket Binding Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-config_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><p>
				The following tables show the attributes that can be configured for each of the three types of socket bindings.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#socket_binding_local" title="Table A.12. Inbound Socket Binding (socket-binding) Attributes">socket-binding</a>
					</li><li class="listitem">
						<a class="link" href="#socket_binding_outbound_remote" title="Table A.13. Remote Outbound Socket Binding (remote-destination-outbound-socket-binding) Attributes">remote-destination-outbound-socket-binding</a>
					</li><li class="listitem">
						<a class="link" href="#socket_binding_outbound_local" title="Table A.14. Local Outbound Socket Binding (local-destination-outbound-socket-binding) Attributes">local-destination-outbound-socket-binding</a>
					</li></ul></div><div class="table" id="socket_binding_local"><p class="title"><strong>Table A.12. Inbound Socket Binding (<code class="literal">socket-binding</code>) Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692155056" scope="col">Attribute</th><th align="left" valign="top" id="idm140321692153968" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692155056"> <p>
								client-mappings
							</p>
							 </td><td align="left" valign="top" headers="idm140321692153968"> <p>
								Specifies the client mappings for this socket binding. A client connecting to this socket should use the destination address specified in the mapping that matches its desired outbound interface. This allows for advanced network topologies that use either network address translation, or have bindings on multiple network interfaces to function. Each mapping should be evaluated in declared order, with the first successful match used to determine the destination.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692155056"> <p>
								fixed-port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692153968"> <p>
								Whether the port value should remain fixed even if numeric offsets are applied to the other sockets in the socket group.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692155056"> <p>
								interface
							</p>
							 </td><td align="left" valign="top" headers="idm140321692153968"> <p>
								Name of the interface to which the socket should be bound, or, for multicast sockets, the interface on which it should listen. This should be one of the declared interfaces. If not defined, the value of the <code class="literal">default-interface</code> attribute from the enclosing socket binding group will be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692155056"> <p>
								multicast-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321692153968"> <p>
								Multicast address on which the socket should receive multicast traffic. If unspecified, the socket will not be configured to receive multicast.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692155056"> <p>
								multicast-port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692153968"> <p>
								Port on which the socket should receive multicast traffic. Must be configured if <code class="literal">multicast-address</code> is configured.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692155056"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321692153968"> <p>
								The name of the socket. Services needing to access the socket configuration information will find it using this name. This attribute is required.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692155056"> <p>
								port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692153968"> <p>
								Number of the port to which the socket should be bound. Note that this value can be overridden if servers apply a port-offset to increment or decrement all port values.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="socket_binding_outbound_remote"><p class="title"><strong>Table A.13. Remote Outbound Socket Binding (<code class="literal">remote-destination-outbound-socket-binding</code>) Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692926944" scope="col">Attribute</th><th align="left" valign="top" id="idm140321692925856" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692926944"> <p>
								fixed-source-port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692925856"> <p>
								Whether the port value should remain fixed even if numeric offsets are applied to the other outbound sockets in the socket group.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692926944"> <p>
								host
							</p>
							 </td><td align="left" valign="top" headers="idm140321692925856"> <p>
								The host name or IP address of the remote destination to which this outbound socket will connect.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692926944"> <p>
								port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692925856"> <p>
								The port number of the remote destination to which the outbound socket should connect.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692926944"> <p>
								source-interface
							</p>
							 </td><td align="left" valign="top" headers="idm140321692925856"> <p>
								The name of the interface that will be used for the source address of the outbound socket.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692926944"> <p>
								source-port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692925856"> <p>
								The port number that will be used as the source port of the outbound socket.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="socket_binding_outbound_local"><p class="title"><strong>Table A.14. Local Outbound Socket Binding (<code class="literal">local-destination-outbound-socket-binding</code>) Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692898400" scope="col">Attribute</th><th align="left" valign="top" id="idm140321692897312" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692898400"> <p>
								fixed-source-port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692897312"> <p>
								Whether the port value should remain fixed even if numeric offsets are applied to the other outbound sockets in the socket group.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692898400"> <p>
								socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321692897312"> <p>
								The name of the local socket binding that will be used to determine the port to which this outbound socket connects.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692898400"> <p>
								source-interface
							</p>
							 </td><td align="left" valign="top" headers="idm140321692897312"> <p>
								The name of the interface that will be used for the source address of the outbound socket.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692898400"> <p>
								source-port
							</p>
							 </td><td align="left" valign="top" headers="idm140321692897312"> <p>
								The port number that will be used as the source port of the outbound socket.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="reference_of_default_socket_bindings"><div class="titlepage"><div><div><h2 class="title">A.9. Default Socket Bindings</h2></div></div></div><p>
				The following tables show the default socket bindings for each socket binding group.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#standard_sockets" title="Table A.15. standard-sockets">standard-sockets</a>
					</li><li class="listitem">
						<a class="link" href="#ha_sockets" title="Table A.16. ha-sockets">ha-sockets</a>
					</li><li class="listitem">
						<a class="link" href="#full_sockets" title="Table A.17. full-sockets">full-sockets</a>
					</li><li class="listitem">
						<a class="link" href="#full_ha_sockets" title="Table A.18. full-ha-sockets">full-ha-sockets</a>
					</li><li class="listitem">
						<a class="link" href="#load_balancer_sockets" title="Table A.19. load-balancer-sockets">load-balancer-sockets</a>
					</li></ul></div><div class="table" id="standard_sockets"><p class="title"><strong>Table A.15. standard-sockets</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 35%; " class="col_1"><!--Empty--></col><col style="width: 15%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691778672" scope="col">Socket Binding</th><th align="left" valign="top" id="idm140321691777584" scope="col">Port</th><th align="left" valign="top" id="idm140321691776496" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691778672"> <p>
								ajp
							</p>
							 </td><td align="left" valign="top" headers="idm140321691777584"> <p>
								8009
							</p>
							 </td><td align="left" valign="top" headers="idm140321691776496"> <p>
								Apache JServ Protocol. Used for HTTP clustering and load balancing.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691778672"> <p>
								http
							</p>
							 </td><td align="left" valign="top" headers="idm140321691777584"> <p>
								8080
							</p>
							 </td><td align="left" valign="top" headers="idm140321691776496"> <p>
								The default port for deployed web applications.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691778672"> <p>
								https
							</p>
							 </td><td align="left" valign="top" headers="idm140321691777584"> <p>
								8443
							</p>
							 </td><td align="left" valign="top" headers="idm140321691776496"> <p>
								SSL-encrypted connection between deployed web applications and clients.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691778672"> <p>
								management-http
							</p>
							 </td><td align="left" valign="top" headers="idm140321691777584"> <p>
								9990
							</p>
							 </td><td align="left" valign="top" headers="idm140321691776496"> <p>
								Used for HTTP communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691778672"> <p>
								management-https
							</p>
							 </td><td align="left" valign="top" headers="idm140321691777584"> <p>
								9993
							</p>
							 </td><td align="left" valign="top" headers="idm140321691776496"> <p>
								Used for HTTPS communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691778672"> <p>
								txn-recovery-environment
							</p>
							 </td><td align="left" valign="top" headers="idm140321691777584"> <p>
								4712
							</p>
							 </td><td align="left" valign="top" headers="idm140321691776496"> <p>
								The JTA transaction recovery manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691778672"> <p>
								txn-status-manager
							</p>
							 </td><td align="left" valign="top" headers="idm140321691777584"> <p>
								4713
							</p>
							 </td><td align="left" valign="top" headers="idm140321691776496"> <p>
								The JTA / JTS transaction manager.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="ha_sockets"><p class="title"><strong>Table A.16. ha-sockets</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 15%; " class="col_2"><!--Empty--></col><col style="width: 15%; " class="col_3"><!--Empty--></col><col style="width: 40%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691729728" scope="col">Socket Binding</th><th align="left" valign="top" id="idm140321691728640" scope="col">Port</th><th align="left" valign="top" id="idm140321691727552" scope="col">Multicast Port</th><th align="left" valign="top" id="idm140321691726464" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								ajp
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								8009
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								Apache JServ Protocol. Used for HTTP clustering and load balancing.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								http
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								8080
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								The default port for deployed web applications.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								https
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								8443
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								SSL-encrypted connection between deployed web applications and clients.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								jgroups-mping
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> </td><td align="left" valign="top" headers="idm140321691727552"> <p>
								45700
							</p>
							 </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								Multicast. Used to discover initial membership in a HA cluster.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								jgroups-tcp
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								7600
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								Unicast peer discovery in HA clusters using TCP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								jgroups-udp
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								55200
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> <p>
								45688
							</p>
							 </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								Multicast peer discovery in HA clusters using UDP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								management-http
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								9990
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								Used for HTTP communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								management-https
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								9993
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								Used for HTTPS communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								modcluster
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> </td><td align="left" valign="top" headers="idm140321691727552"> <p>
								23364
							</p>
							 </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								Multicast port for communication between JBoss EAP and the HTTP load balancer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								txn-recovery-environment
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								4712
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								The JTA transaction recovery manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691729728"> <p>
								txn-status-manager
							</p>
							 </td><td align="left" valign="top" headers="idm140321691728640"> <p>
								4713
							</p>
							 </td><td align="left" valign="top" headers="idm140321691727552"> </td><td align="left" valign="top" headers="idm140321691726464"> <p>
								The JTA / JTS transaction manager.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="full_sockets"><p class="title"><strong>Table A.17. full-sockets</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 35%; " class="col_1"><!--Empty--></col><col style="width: 15%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694746768" scope="col">Socket Binding</th><th align="left" valign="top" id="idm140321694745680" scope="col">Port</th><th align="left" valign="top" id="idm140321694744592" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								ajp
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								8009
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								Apache JServ Protocol. Used for HTTP clustering and load balancing.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								http
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								8080
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								The default port for deployed web applications.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								https
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								8443
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								SSL-encrypted connection between deployed web applications and clients.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								iiop
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								3528
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								CORBA services for JTS transactions and other ORB-dependent services.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								iiop-ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								3529
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								SSL-encrypted CORBA services.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								management-http
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								9990
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								Used for HTTP communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								management-https
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								9993
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								Used for HTTPS communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								txn-recovery-environment
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								4712
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								The JTA transaction recovery manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694746768"> <p>
								txn-status-manager
							</p>
							 </td><td align="left" valign="top" headers="idm140321694745680"> <p>
								4713
							</p>
							 </td><td align="left" valign="top" headers="idm140321694744592"> <p>
								The JTA / JTS transaction manager.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="full_ha_sockets"><p class="title"><strong>Table A.18. full-ha-sockets</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 15%; " class="col_2"><!--Empty--></col><col style="width: 15%; " class="col_3"><!--Empty--></col><col style="width: 40%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691599888" scope="col">Name</th><th align="left" valign="top" id="idm140321691598800" scope="col">Port</th><th align="left" valign="top" id="idm140321691597712" scope="col">Multicast Port</th><th align="left" valign="top" id="idm140321691596624" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								ajp
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								8009
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								Apache JServ Protocol. Used for HTTP clustering and load balancing.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								http
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								8080
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								The default port for deployed web applications.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								https
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								8443
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								SSL-encrypted connection between deployed web applications and clients.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								iiop
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								3528
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								CORBA services for JTS transactions and other ORB-dependent services.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								iiop-ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								3529
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								SSL-encrypted CORBA services.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								jgroups-mping
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> </td><td align="left" valign="top" headers="idm140321691597712"> <p>
								45700
							</p>
							 </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								Multicast. Used to discover initial membership in a HA cluster.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								jgroups-tcp
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								7600
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								Unicast peer discovery in HA clusters using TCP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								jgroups-udp
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								55200
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> <p>
								45688
							</p>
							 </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								Multicast peer discovery in HA clusters using UDP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								management-http
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								9990
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								Used for HTTP communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								management-https
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								9993
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								Used for HTTPS communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								modcluster
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> </td><td align="left" valign="top" headers="idm140321691597712"> <p>
								23364
							</p>
							 </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								Multicast port for communication between JBoss EAP and the HTTP load balancer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								txn-recovery-environment
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								4712
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								The JTA transaction recovery manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691599888"> <p>
								txn-status-manager
							</p>
							 </td><td align="left" valign="top" headers="idm140321691598800"> <p>
								4713
							</p>
							 </td><td align="left" valign="top" headers="idm140321691597712"> </td><td align="left" valign="top" headers="idm140321691596624"> <p>
								The JTA / JTS transaction manager.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="load_balancer_sockets"><p class="title"><strong>Table A.19. load-balancer-sockets</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 15%; " class="col_2"><!--Empty--></col><col style="width: 15%; " class="col_3"><!--Empty--></col><col style="width: 40%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321693237280" scope="col">Name</th><th align="left" valign="top" id="idm140321693207904" scope="col">Port</th><th align="left" valign="top" id="idm140321693206816" scope="col">Multicast Port</th><th align="left" valign="top" id="idm140321693205728" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321693237280"> <p>
								http
							</p>
							 </td><td align="left" valign="top" headers="idm140321693207904"> <p>
								8080
							</p>
							 </td><td align="left" valign="top" headers="idm140321693206816"> </td><td align="left" valign="top" headers="idm140321693205728"> <p>
								The default port for deployed web applications.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693237280"> <p>
								https
							</p>
							 </td><td align="left" valign="top" headers="idm140321693207904"> <p>
								8443
							</p>
							 </td><td align="left" valign="top" headers="idm140321693206816"> </td><td align="left" valign="top" headers="idm140321693205728"> <p>
								SSL-encrypted connection between deployed web applications and clients.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693237280"> <p>
								management-http
							</p>
							 </td><td align="left" valign="top" headers="idm140321693207904"> <p>
								9990
							</p>
							 </td><td align="left" valign="top" headers="idm140321693206816"> </td><td align="left" valign="top" headers="idm140321693205728"> <p>
								Used for HTTP communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693237280"> <p>
								management-https
							</p>
							 </td><td align="left" valign="top" headers="idm140321693207904"> <p>
								9993
							</p>
							 </td><td align="left" valign="top" headers="idm140321693206816"> </td><td align="left" valign="top" headers="idm140321693205728"> <p>
								Used for HTTPS communication with the management layer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693237280"> <p>
								mcmp-management
							</p>
							 </td><td align="left" valign="top" headers="idm140321693207904"> <p>
								8090
							</p>
							 </td><td align="left" valign="top" headers="idm140321693206816"> </td><td align="left" valign="top" headers="idm140321693205728"> <p>
								The port for the Mod-Cluster Management Protocol (MCMP) connection to transmit lifecycle events.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693237280"> <p>
								modcluster
							</p>
							 </td><td align="left" valign="top" headers="idm140321693207904"> </td><td align="left" valign="top" headers="idm140321693206816"> <p>
								23364
							</p>
							 </td><td align="left" valign="top" headers="idm140321693205728"> <p>
								Multicast port for communication between JBoss EAP and the HTTP load balancer.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="module_add_arguments"><div class="titlepage"><div><div><h2 class="title">A.10. Module Command Arguments</h2></div></div></div><p>
				The following arguments can be passed to the <code class="literal">module add</code> management CLI command:
			</p><div class="table" id="idm140321693163888"><p class="title"><strong>Table A.20. Module Command Arguments</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321693158304" scope="col">Argument</th><th align="left" valign="top" id="idm140321693157216" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--absolute-resources
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to specify a list of absolute file system paths to reference from its <code class="literal">module.xml</code> file. The files specified are not copied to the module directory.
							</p>
							 <p>
								See <code class="literal">--resource-delimiter</code> for delimiter details.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--allow-nonexistent-resources
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to create empty directories for resources specified by <code class="literal">--resources</code> that do not exist. The <code class="literal">module add</code> command will fail if there are resources that do not exist and this argument is not used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--dependencies
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to provide a comma-separated list of module names that this module depends on.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--export-dependencies
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to specify exported dependencies.
							</p>
							 
<pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar --export-dependencies=javax.api,javax.transaction.api</pre>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--main-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to specify the fully qualified class name that declares the module’s main method.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--module-root-dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument if you have <a class="link" href="#define_an_external_jboss_eap_module_directory" title="6.7. Define an External JBoss EAP Module Directory">defined an external JBoss EAP module directory</a> to use instead of the default <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory.
							</p>
							 
<pre class="screen">module add --module-root-dir=<span class="emphasis"><em>/path/to</em></span>/my-external-modules/ --name=com.mysql --resources=<span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar --dependencies=javax.api,javax.transaction.api</pre>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--module-xml
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to provide a file system path to a <code class="literal">module.xml</code> to use for this new module. This file is copied to the module directory. If this argument is not specified, a <code class="literal">module.xml</code> file is generated in the module directory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--name
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to provide the name of the module to add. This argument is required.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to provide a comma-separated list of <code class="literal"><span class="emphasis"><em>PROPERTY_NAME</em></span>=<span class="emphasis"><em>PROPERTY_VALUE</em></span></code> pairs that define module properties.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--resource-delimiter
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to set a user-defined file path separator for the list of resources provided to the <code class="literal">--resources</code> or <code class="literal">absolute-resources</code> argument. If not set, the file path separator is a colon (<code class="literal">:</code>) for Linux and a semicolon (<code class="literal">;</code>) for Windows.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--resources
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to specify the resources for this module by providing a list of file system paths. The files are copied to this module directory and referenced from its <code class="literal">module.xml</code> file. If you a provide a path to a directory, the directory and its contents are copied to the module directory. Symbolic links are not preserved; linked resources are copied to the module directory. This argument is required unless <code class="literal">--absolute-resources</code> or <code class="literal">--module-xml</code> is provided.
							</p>
							 <p>
								See <code class="literal">--resource-delimiter</code> for delimiter details.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321693158304"> <p>
								--slot
							</p>
							 </td><td align="left" valign="top" headers="idm140321693157216"> <p>
								Use this argument to add the module to a slot other than the default <code class="literal">main</code> slot.
							</p>
							 
<pre class="screen">module add --name=com.mysql --slot=8.0 --resources=<span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar --dependencies=javax.api,javax.transaction.api</pre>
							 </td></tr></tbody></table></div></div></section><section class="section" id="reference_deploy_scanner_marker_files"><div class="titlepage"><div><div><h2 class="title">A.11. Deployment Scanner Marker Files</h2></div></div></div><p>
				Marker files are used by the deployment scanner to mark the status of an application within the deployment directory of the JBoss EAP server instance. A marker file has the same name as the deployment, with the file suffix indicating the state of the application’s deployment.
			</p><p>
				For example, a successful deployment of <code class="literal">test-application.war</code> would have a marker file named <code class="literal">test-application.war.deployed</code>.
			</p><p>
				The following table lists the available marker file types and their meanings.
			</p><div class="table" id="idm140321691338336"><p class="title"><strong>Table A.21. Marker File Types</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 60%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691331840" scope="col">Filename Suffix</th><th align="left" valign="top" id="idm140321691330752" scope="col">Origin</th><th align="left" valign="top" id="idm140321691329664" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.deployed
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								System-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Indicates that the content has been deployed. The content will be undeployed if this file is deleted.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.dodeploy
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								User-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Indicates that the content should be deployed or redeployed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.failed
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								System-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Indicates deployment failure. The marker file contains information about the cause of failure. If the marker file is deleted, the content will be eligible for auto-deployment again.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.isdeploying
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								System-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Indicates that the deployment is in progress. This marker file will be deleted upon completion.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.isundeploying
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								System-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Triggered by deleting a <code class="literal">.deployed</code> file, this indicates that the content is being undeployed. This marker file will be deleted upon completion.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.pending
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								System-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Indicates that the deployment scanner recognizes the need to deploy content, but an issue is currently preventing auto-deployment (for example, if content is in the process of being copied). This marker serves as a global deployment road-block, meaning that the scanner will not instruct the server to deploy or undeploy <span class="emphasis"><em>any</em></span> content while this marker file exists.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.skipdeploy
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								User-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Disables auto-deploy of an application while present. Useful as a method of temporarily blocking the auto-deployment of exploded content, preventing the risk of incomplete content edits being pushed. Can be used with zipped content, although the scanner detects in-progress changes to zipped content and waits until completion.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691331840"> <p>
								.undeployed
							</p>
							 </td><td align="left" valign="top" headers="idm140321691330752"> <p>
								System-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321691329664"> <p>
								Indicates that the content has been undeployed. Deletion of this marker file has no impact to content redeployment.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="reference_deploy_scanner_attr"><div class="titlepage"><div><div><h2 class="title">A.12. Deployment Scanner Attributes</h2></div></div></div><p>
				The deployment scanner contains the following configurable attributes.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/jboss-as-deployment-scanner_2_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321691449088"><p class="title"><strong>Table A.22. Deployment Scanner Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691442576" scope="col">Name</th><th align="left" valign="top" id="idm140321691441488" scope="col">Default</th><th align="left" valign="top" id="idm140321691440400" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								auto-deploy-exploded
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								Allows the automatic deployment of exploded content without requiring a <code class="literal">.dodeploy</code> marker file. Recommended for only basic development scenarios to prevent exploded application deployment from occurring during changes by the developer or operating system.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								auto-deploy-xml
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								Allows the automatic deployment of XML content without requiring a <code class="literal">.dodeploy</code> marker file.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								auto-deploy-zipped
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								Allows the automatic deployment of zipped content without requiring a <code class="literal">.dodeploy</code> marker file.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								deployment-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								600
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								The time value in seconds for the deployment scanner to allow a deployment attempt before being canceled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								deployments
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								The actual file system path to be scanned. Treated as an absolute path, unless the <code class="literal">relative-to</code> attribute is specified, in which case the value is treated as relative to that path.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								relative-to
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								jboss.server.base.dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								Reference to a file system path defined as a <a class="link" href="#file_system_paths" title="3.7. File System Paths">path</a> in the server configuration.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								runtime-failure-causes-rollback
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								Whether a runtime failure of a deployment causes a rollback of the deployment as well as all other (possibly unrelated) deployments as part of the scan operation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								scan-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								Allows the automatic scanning for applications by <code class="literal">scan-interval</code> and at startup.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691442576"> <p>
								scan-interval
							</p>
							 </td><td align="left" valign="top" headers="idm140321691441488"> <p>
								5000
							</p>
							 </td><td align="left" valign="top" headers="idm140321691440400"> <p>
								The time interval in milliseconds that the repository should be scanned for changes. A value of less than <code class="literal">1</code> causes the scan to occur only at initial startup.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="jvm_config_attributes"><div class="titlepage"><div><div><h2 class="title">A.13. Managed Domain JVM Configuration Attributes</h2></div></div></div><p>
				The following JVM configuration options can be set for a managed domain at the host, server group, or server level. Note that valid values for some of these attributes are dependent upon your JVM. See your JDK vendor’s documentation for additional information.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-config_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321694485152"><p class="title"><strong>Table A.23. JVM Configuration Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694479680" scope="col">Attribute</th><th align="left" valign="top" id="idm140321694478592" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								agent-lib
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the value of the <code class="literal">-agentlib</code> <code class="literal">java</code> option, which specifies the Java agent library.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								agent-path
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the value of the <code class="literal">-agentpath</code> <code class="literal">java</code> option, which specifies the Java agent path.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								debug-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Whether to enable debug. This attribute only applies to JVM configurations at the server level.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								debug-options
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Specifies the JVM options to use when debug is enabled. This attribute only applies to JVM configurations at the server level.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								env-classpath-ignored
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Whether to ignore the <code class="literal">CLASSPATH</code> environment variable.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								environment-variables
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Specifies key/value pair environment variables.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								heap-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the value of the <code class="literal">-Xms</code> option, which specifies the initial heap size allocated by the JVM.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								java-agent
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the value of the <code class="literal">-javaagent</code> <code class="literal">java</code> option, which specifies the Java agent.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								java-home
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the value of the <code class="literal">JAVA_HOME</code> variable.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								jvm-options
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Specifies any additional JVM options needed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								launch-command
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Specifies an operating system level command to prefix before the <code class="literal">java</code> command used to launch the server process. For example, you could use the <code class="literal">sudo</code> command to run the Java process as another user.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								max-heap-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the value of the <code class="literal">-Xmx</code> option, which specifies the maximum heap size allocated by the JVM.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								max-permgen-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the maximum size of the permanent generation. <span class="emphasis"><em>Deprecated: The JVM no longer provides a separate permanent generation space.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								permgen-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the initial permanent generation size. <span class="emphasis"><em>Deprecated: The JVM no longer provides a separate permanent generation space.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								stack-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Sets the value of the <code class="literal">-Xss</code> option, which specifies the JVM stack size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694479680"> <p>
								type
							</p>
							 </td><td align="left" valign="top" headers="idm140321694478592"> <p>
								Specifies which vendor provided the JVM in use. Available options are <code class="literal">ORACLE</code>, <code class="literal">IBM</code>, <code class="literal">SUN</code>, or <code class="literal">OTHER</code>.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="mail_attributes"><div class="titlepage"><div><div><h2 class="title">A.14. Mail Subsystem Attributes</h2></div></div></div><p>
				The following tables describe the attributes in the <code class="literal">mail</code> subsystem for <a class="link" href="#mail_session_attributes" title="Table A.24. Mail Session Attributes">mail sessions</a> and the following mail server types:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#imap_attributes" title="Table A.25. IMAP Mail Server Attributes">imap</a>
					</li><li class="listitem">
						<a class="link" href="#pop3_attributes" title="Table A.26. POP3 Mail Server Attributes">pop3</a>
					</li><li class="listitem">
						<a class="link" href="#smtp_attributes" title="Table A.27. SMTP Mail Server Attributes">smtp</a>
					</li><li class="listitem">
						<a class="link" href="#custom_mail_attributes" title="Table A.28. Custom Mail Server Attributes">custom</a>
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-mail_3_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="mail_session_attributes"><p class="title"><strong>Table A.24. Mail Session Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694588912" scope="col">Attribute</th><th align="left" valign="top" id="idm140321694587824" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694588912"> <p>
								debug
							</p>
							 </td><td align="left" valign="top" headers="idm140321694587824"> <p>
								Whether to enable JavaMail debugging.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694588912"> <p>
								from
							</p>
							 </td><td align="left" valign="top" headers="idm140321694587824"> <p>
								The default "from" address to use if not set when sending.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694588912"> <p>
								jndi-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321694587824"> <p>
								The JNDI name to which the mail session should be bound.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="imap_attributes"><p class="title"><strong>Table A.25. IMAP Mail Server Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694569248" scope="col">Attribute</th><th align="left" valign="top" id="idm140321694568160" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694569248"> <p>
								credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321694568160"> <p>
								Credential, from a credential store, to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694569248"> <p>
								outbound-socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321694568160"> <p>
								Reference to the outbound socket binding for the mail server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694569248"> <p>
								password
							</p>
							 </td><td align="left" valign="top" headers="idm140321694568160"> <p>
								The password to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694569248"> <p>
								ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321694568160"> <p>
								Whether the server requires SSL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694569248"> <p>
								tls
							</p>
							 </td><td align="left" valign="top" headers="idm140321694568160"> <p>
								Whether the server requires TLS.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694569248"> <p>
								username
							</p>
							 </td><td align="left" valign="top" headers="idm140321694568160"> <p>
								The username to authenticate on the server.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="pop3_attributes"><p class="title"><strong>Table A.26. POP3 Mail Server Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694538544" scope="col">Attribute</th><th align="left" valign="top" id="idm140321694537456" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694538544"> <p>
								credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321694537456"> <p>
								Credential, from a credential store, to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694538544"> <p>
								outbound-socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321694537456"> <p>
								Reference to the outbound socket binding for the mail server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694538544"> <p>
								password
							</p>
							 </td><td align="left" valign="top" headers="idm140321694537456"> <p>
								The password to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694538544"> <p>
								ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321694537456"> <p>
								Whether the server requires SSL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694538544"> <p>
								tls
							</p>
							 </td><td align="left" valign="top" headers="idm140321694537456"> <p>
								Whether the server requires TLS.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694538544"> <p>
								username
							</p>
							 </td><td align="left" valign="top" headers="idm140321694537456"> <p>
								The username to authenticate on the server.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="smtp_attributes"><p class="title"><strong>Table A.27. SMTP Mail Server Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692285408" scope="col">Attribute</th><th align="left" valign="top" id="idm140321692284320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692285408"> <p>
								credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321692284320"> <p>
								Credential, from a credential store to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692285408"> <p>
								outbound-socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321692284320"> <p>
								Reference to the outbound socket binding for the mail server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692285408"> <p>
								password
							</p>
							 </td><td align="left" valign="top" headers="idm140321692284320"> <p>
								The password to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692285408"> <p>
								ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321692284320"> <p>
								Whether the server requires SSL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692285408"> <p>
								tls
							</p>
							 </td><td align="left" valign="top" headers="idm140321692284320"> <p>
								Whether the server requires TLS.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692285408"> <p>
								username
							</p>
							 </td><td align="left" valign="top" headers="idm140321692284320"> <p>
								The username to authenticate on the server.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="custom_mail_attributes"><p class="title"><strong>Table A.28. Custom Mail Server Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692254800" scope="col">Attribute</th><th align="left" valign="top" id="idm140321692253712" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692254800"> <p>
								credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321692253712"> <p>
								Credential, from a credential store, to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692254800"> <p>
								outbound-socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321692253712"> <p>
								Reference to the outbound socket binding for the mail server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692254800"> <p>
								password
							</p>
							 </td><td align="left" valign="top" headers="idm140321692253712"> <p>
								The password to authenticate on the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692254800"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321692253712"> <p>
								The JavaMail properties for this server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692254800"> <p>
								ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321692253712"> <p>
								Whether the server requires SSL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692254800"> <p>
								tls
							</p>
							 </td><td align="left" valign="top" headers="idm140321692253712"> <p>
								Whether the server requires TLS.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692254800"> <p>
								username
							</p>
							 </td><td align="left" valign="top" headers="idm140321692253712"> <p>
								The username to authenticate on the server.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="root_logger_attributes"><div class="titlepage"><div><div><h2 class="title">A.15. Root Logger Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/jboss-as-logging_3_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321692222272"><p class="title"><strong>Table A.29. Root Logger Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321692216704" scope="col">Attribute</th><th align="left" valign="top" id="idm140321692215616" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321692216704"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321692215616"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692216704"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321692215616"> <p>
								An expression value that defines a filter. The following expression defines a filter that excludes log entries that do <span class="emphasis"><em>not</em></span> match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692216704"> <p>
								handlers
							</p>
							 </td><td align="left" valign="top" headers="idm140321692215616"> <p>
								A list of log handlers that are used by the root logger.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321692216704"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321692215616"> <p>
								The lowest level of log message that the root logger records.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					A <code class="literal">filter-spec</code> specified for the root logger is <span class="emphasis"><em>not</em></span> inherited by other handlers. Instead a <code class="literal">filter-spec</code> must be specified per handler.
				</p></div></div></section><section class="section" id="log_category_attributes"><div class="titlepage"><div><div><h2 class="title">A.16. Log Category Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/jboss-as-logging_6_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321695424832"><p class="title"><strong>Table A.30. Log Category Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695419264" scope="col">Attribute</th><th align="left" valign="top" id="idm140321695418176" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695419264"> <p>
								category
							</p>
							 </td><td align="left" valign="top" headers="idm140321695418176"> <p>
								The log category from which log messages will be captured.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695419264"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695418176"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695419264"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321695418176"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695419264"> <p>
								handlers
							</p>
							 </td><td align="left" valign="top" headers="idm140321695418176"> <p>
								A list of log handlers associated with the logger.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695419264"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321695418176"> <p>
								The lowest level of log message that the log category records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695419264"> <p>
								use-parent-handlers
							</p>
							 </td><td align="left" valign="top" headers="idm140321695418176"> <p>
								If set to <code class="literal">true</code>, this category will use the log handlers of the root logger in addition to any other assigned handlers.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="log_handler_attributes"><div class="titlepage"><div><div><h2 class="title">A.17. Log Handler Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/jboss-as-logging_6_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="console_log_handler_attributes"><p class="title"><strong>Table A.31. Console Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695382272" scope="col">Attribute</th><th align="left" valign="top" id="idm140321695381184" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								autoflush
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								If set to <code class="literal">true</code>, the log messages will be sent to the handlers assigned file immediately upon receipt.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								The character encoding scheme to be used for the output.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								The log formatter used by this log handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								The name of the log handler. <span class="emphasis"><em>Deprecated since the handler’s address contains the name.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								The name of the defined formatter to be used on the handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695382272"> <p>
								target
							</p>
							 </td><td align="left" valign="top" headers="idm140321695381184"> <p>
								The system output stream where the output of the log handler is sent. This can be one of the following:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">System.err</code>: Log handler output goes to the system error stream.
									</li><li class="listitem">
										<code class="literal">System.out</code>: Log handler output goes to the standard output stream.
									</li><li class="listitem">
										<code class="literal">console</code>: Log hander output goes to the <a class="link mimir-link-warn" href="https://docs.oracle.com/javase/8/docs/api//java/io/PrintWriter.html" title="Mimir does not include content from: docs.oracle.com"><code class="literal">java.io.PrintWriter</code></a> class.
									</li></ul></div>
							 </td></tr></tbody></table></div></div><div class="table" id="file_log_handler_attributes"><p class="title"><strong>Table A.32. File Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696033120" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696032032" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								append
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								If set to <code class="literal">true</code>, all messages written by this handler will be appended to the file if it already exists. If set to <code class="literal">false</code>, a new file will be created each time the application server launches.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								autoflush
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								If set to <code class="literal">true</code>, the log messages will be sent to the handlers assigned file immediately upon receipt.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								The character encoding scheme to be used for the output.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								file
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								The object that represents the file where the output of this log handler is written to. It has two configuration properties, <code class="literal">relative-to</code> and <code class="literal">path</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								The log formatter used by this log handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								The name of the log handler. <span class="emphasis"><em>Deprecated since the handler’s address contains the name.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696033120"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321696032032"> <p>
								The name of the defined formatter to be used on the handler.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="periodic_log_handler_attributes"><p class="title"><strong>Table A.33. Periodic Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695977632" scope="col">Attribute</th><th align="left" valign="top" id="idm140321695976544" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								append
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								If set to <code class="literal">true</code>, all messages written by this handler will be appended to the file if it already exists. If set to <code class="literal">false</code>, a new file will be created each time the application server launches.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								autoflush
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								If set to <code class="literal">true</code>, the log messages will be sent to the handlers assigned file immediately upon receipt.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								The character encoding scheme to be used for the output.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								file
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								Object that represents the file to which the output of this log handler is written. It has two configuration properties, <code class="literal">relative-to</code> and <code class="literal">path</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								The log formatter used by this log handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								The name of the log handler. <span class="emphasis"><em>Deprecated since the handler’s address contains the name.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								The name of the defined formatter to be used on the handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695977632"> <p>
								suffix
							</p>
							 </td><td align="left" valign="top" headers="idm140321695976544"> <p>
								This string is included in the suffix appended to rotated logs. The format of the <code class="literal">suffix</code> is a dot (<code class="literal">.</code>) followed by a date string which is able to be parsed by the <code class="literal">SimpleDateFormat</code> class.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="size_log_handler_attributes"><p class="title"><strong>Table A.34. Size Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695780192" scope="col">Attribute</th><th align="left" valign="top" id="idm140321695779104" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								append
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								If set to <code class="literal">true</code>, all messages written by this handler will be appended to the file if it already exists. If set to <code class="literal">false</code>, a new file will be created each time the application server launches.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								autoflush
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								If set to <code class="literal">true</code> the log messages will be sent to the handlers assigned file immediately upon receipt.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								The character encoding scheme to be used for the output.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								file
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								Object that represents the file where the output of this log handler is written to. It has two configuration properties, <code class="literal">relative-to</code> and <code class="literal">path</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								The log formatter used by this log handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								max-backup-index
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								The maximum number of rotated logs that are kept. When this number is reached, the oldest log is reused. The default is <code class="literal">1</code>.
							</p>
							 <p>
								If the <code class="literal">suffix</code> attribute is used, the suffix of rotated log files is included in the rotation algorithm. When the log file is rotated, the oldest file whose name starts with <code class="literal">name</code>+<code class="literal">suffix</code> is deleted, the remaining rotated log files have their numeric suffix incremented and the newly rotated log file is given the numeric suffix <code class="literal">1</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								The name of the log handler. <span class="emphasis"><em>Deprecated since the handler’s address contains the name.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								The name of the defined formatter to be used on the handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								rotate-on-boot
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								If set to <code class="literal">true</code>, a new log file will be created on server restart. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								rotate-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								The maximum size that the log file can reach before it is rotated. A single character appended to the number indicates the size units: <code class="literal">b</code> for bytes, <code class="literal">k</code> for kilobytes, <code class="literal">m</code> for megabytes, <code class="literal">g</code> for gigabytes. For example, <code class="literal">50m</code> for 50 megabytes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695780192"> <p>
								suffix
							</p>
							 </td><td align="left" valign="top" headers="idm140321695779104"> <p>
								This string is included in the suffix appended to rotated logs. The format of the <code class="literal">suffix</code> is a dot (<code class="literal">.</code>) followed by a date string which is able to be parsed by the <code class="literal">SimpleDateFormat</code> class.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="periodic_size_log_handler_attributes"><p class="title"><strong>Table A.35. Periodic Size Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695337408" scope="col">Attribute</th><th align="left" valign="top" id="idm140321695336320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								append
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								If set to <code class="literal">true</code>, all messages written by this handler will be appended to the file if it already exists. If set to <code class="literal">false</code>, a new file will be created each time the application server launches.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								autoflush
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								If set to <code class="literal">true</code>, the log messages will be sent to the handlers assigned file immediately upon receipt.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								The character encoding scheme to be used for the output.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								file
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								Object that represents the file where the output of this log handler is written to. It has two configuration properties, <code class="literal">relative-to</code> and <code class="literal">path</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								The log formatter used by this log handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								max-backup-index
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								The maximum number of rotated logs that are kept. When this number is reached, the oldest log is reused. The default is <code class="literal">1</code>.
							</p>
							 <p>
								If the <code class="literal">suffix</code> attribute is used, the suffix of rotated log files is included in the rotation algorithm. When the log file is rotated, the oldest file whose name starts with <code class="literal">name</code>+<code class="literal">suffix</code> is deleted, the remaining rotated log files have their numeric suffix incremented and the newly rotated log file is given the numeric suffix <code class="literal">1</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								The name of the log handler. <span class="emphasis"><em>Deprecated since the handler’s address contains the name.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								The name of the defined formatter to be used on the handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								rotate-on-boot
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								If set to <code class="literal">true</code>, a new log file will be created on server restart. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								rotate-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								The maximum size that the log file can reach before it is rotated. A single character appended to the number indicates the size units: <code class="literal">b</code> for bytes, <code class="literal">k</code> for kilobytes, <code class="literal">m</code> for megabytes, <code class="literal">g</code> for gigabytes. For example, <code class="literal">50m</code> for 50 megabytes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695337408"> <p>
								suffix
							</p>
							 </td><td align="left" valign="top" headers="idm140321695336320"> <p>
								This string is included in the suffix appended to rotated logs. The format of the <code class="literal">suffix</code> is a dot (<code class="literal">.</code>) followed by a date string which is able to be parsed by the <code class="literal">SimpleDateFormat</code> class.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="syslog_handler_attributes"><p class="title"><strong>Table A.36. Syslog Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321695263696" scope="col">Attribute</th><th align="left" valign="top" id="idm140321695262608" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								app-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								The app name used when formatting the message in RFC5424 format. By default the app name is <code class="literal">java</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								facility
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								The facility as defined by RFC-5424 and RFC-3164.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								hostname
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								The name of the host from which the messages are being sent. For example, the name of the host the application server is running on.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								port
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								The port on which the syslog server is listening.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								server-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								The address of the syslog server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								syslog-format
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								Formats the log message according to the RFC specification.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321695263696"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321695262608"> <p>
								Formats the message of the syslog payload. With this attribute, you can customize the message as required.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="socket_log_handler_attributes"><p class="title"><strong>Table A.37. Socket Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691189440" scope="col">Attribute</th><th align="left" valign="top" id="idm140321691188352" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								autoflush
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								Whether to automatically flush after each write.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								block-on-reconnect
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								If set to <code class="literal">true</code>, the write methods will block when attempting to reconnect. This is only advisable to be set to <code class="literal">true</code> if using an asynchronous handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								The character encoding used by this handler
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								The name of the defined formatter to be used on the handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								outbound-socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								The reference to the outbound socket binding for the socket connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								The protocol the socket should communicate over. Allowed values are <code class="literal">TCP</code>, <code class="literal">UDP</code>, or <code class="literal">SSL_TCP</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691189440"> <p>
								ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321691188352"> <p>
								The reference to the defined SSL context. This is only used if <code class="literal">protocol</code> is set to <code class="literal">SSL_TCP</code>.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="custom_log_handler_attributes"><p class="title"><strong>Table A.38. Custom Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691138208" scope="col">Attribute</th><th align="left" valign="top" id="idm140321691137120" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								class
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The logging handler class to be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The character encoding scheme to be used for the output.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The log formatter used by this log handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The module one which the logging handler depends.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The name of the log handler. <span class="emphasis"><em>Deprecated since the handler’s address contains the name.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								named-formatter
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The name of the defined formatter to be used on the handler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691138208"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321691137120"> <p>
								The properties used for the logging handler.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="async_log_handler_attributes"><p class="title"><strong>Table A.39. Async Log Handler Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321691085328" scope="col">Attribute</th><th align="left" valign="top" id="idm140321691084240" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								If set to <code class="literal">true</code>, the handler is enabled and functioning as normal. If set to <code class="literal">false</code>, the handler is ignored when processing log messages.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								filter
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								Defines a simple filter type. <span class="emphasis"><em>Deprecated in favor of <code class="literal">filter-spec</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								filter-spec
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								An expression value that defines a filter. The following expression defines a filter that does not match a pattern: <code class="literal">not(match("WFLY.*"))</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								level
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								The lowest level of log message the log handler records.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								The name of the log handler. <span class="emphasis"><em>Deprecated since the handler’s address contains the name.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								overflow-action
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								How this handler responds when its queue length is exceeded. This can be set to <code class="literal">BLOCK</code> or <code class="literal">DISCARD</code>. <code class="literal">BLOCK</code> makes the logging application wait until there is available space in the queue. This is the same behavior as an non-async log handler. <code class="literal">DISCARD</code> allows the logging application to continue but the log message is deleted.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								queue-length
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								Maximum number of log messages that will be held by this handler while waiting for sub-handlers to respond.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321691085328"> <p>
								subhandlers
							</p>
							 </td><td align="left" valign="top" headers="idm140321691084240"> <p>
								The list of log handlers to which this async handler passes its log messages.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="log_formatter_attributes"><div class="titlepage"><div><div><h2 class="title">A.18. Log Formatter Attributes</h2></div></div></div><div class="table" id="format_characters_for_pattern_formatter"><p class="title"><strong>Table A.40. Format Characters for Pattern Formatter</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 12%; " class="col_1"><!--Empty--></col><col style="width: 88%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694236256" scope="col">Symbol</th><th align="left" valign="top" id="idm140321694235168" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%c
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The category of the logging event.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%p
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The level of the log entry (INFO, DEBUG, etc.).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%P
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The localized level of the log entry.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%d
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The current date/time (<code class="literal">yyyy-MM-dd HH:mm:ss,SSS</code> format).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%r
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The relative time (milliseconds since the log was initialized).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%z
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The time zone, which must be specified before the date (<code class="literal">%d</code>). For example, <code class="literal">%z{GMT}%d{HH:mm:ss,SSS}</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%k
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								A log resource key (used for localization of log messages).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%m
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The log message (including exception trace).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%s
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The simple log message (no exception trace).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%e
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The exception stack trace (no extended module information).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%E
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The exception stack trace (with extended module information).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%t
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The name of the current thread.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%n
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								A newline character.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%C
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The class of the code calling the log method (slow).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%F
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The filename of the class calling the log method (slow).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%l
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The source location of the code calling the log method (slow).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%L
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The line number of the code calling the log method (slow).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%M
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The method of the code calling the log method (slow).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%x
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The Nested Diagnostic Context.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%X
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								The Message Diagnostic Context.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694236256"> <p>
								%%
							</p>
							 </td><td align="left" valign="top" headers="idm140321694235168"> <p>
								A literal percent (<code class="literal">%</code>) character (escaping).
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="json_log_formatter_attributes"><p class="title"><strong>Table A.41. JSON Log Formatter Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321694148016" scope="col">Attribute</th><th align="left" valign="top" id="idm140321694146928" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								date-format
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								The date-time format pattern. The pattern must be a valid <code class="literal">java.time.format.DateTimeFormatter.ofPattern()</code> pattern. The default pattern is an ISO-8601 extended offset date-time format.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								exception-output-type
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								Indicates how the cause of the logged message, if one is available, is added to the JSON output. The allowed values are:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">detailed</code>
									</li><li class="listitem">
										<code class="literal">formatted</code>
									</li><li class="listitem">
										<code class="literal">detailed-and-formatted</code>
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								key-overrides
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								Allows the names of the keys for the JSON properties to be overridden.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								meta-data
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								Sets the metadata to be used in the JSON formatter.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								pretty-print
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								Whether or not pretty printing should be used when formatting.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								print-details
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								Whether or not details should be printed. The details include the source class name, source file name, source method name, source module name, source module version and source line number.
							</p>
							 <div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Printing the details can be expensive as the values are retrieved from the caller.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								record-delimiter
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								The value to be used to indicate the end of a record. If set to null no delimiter will be used at the end of the record. The default value is a line feed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321694148016"> <p>
								zone-id
							</p>
							 </td><td align="left" valign="top" headers="idm140321694146928"> <p>
								The zone ID for formatting the date and time. The system default is used if left undefined.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="xml_log_formatter_attributes"><p class="title"><strong>Table A.42. XML Log Formatter Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690737104" scope="col">Attribute</th><th align="left" valign="top" id="idm140321690736016" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								date-format
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								The date-time format pattern. The pattern must be a valid <code class="literal">java.time.format.DateTimeFormatter.ofPattern()</code> pattern. The default pattern is an ISO-8601 extended offset date-time format.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								exception-output-type
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								Indicates how the cause of the logged message, if one is available, is added to the XML output. The allowed values are:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">detailed</code>
									</li><li class="listitem">
										<code class="literal">formatted</code>
									</li><li class="listitem">
										<code class="literal">detailed-and-formatted</code>
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								key-overrides
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								Allows the names of the keys for the XML properties to be overridden.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								meta-data
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								Sets the meta data to use in the XML format. Properties are added to each log message.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								namespace-uri
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								Sets the namespace URI used for each record if print-namespace attribute is true. Note that if no namespace-uri is defined and there are overridden keys no namespace will be written regardless if the <code class="literal">print-namespace</code> attribute is set to true.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								pretty-print
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								Whether or not pretty printing should be used when formatting.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								print-details
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								Whether or not details should be printed. The details include the source class name, source file name, source method name, source module name, source module version and source line number.
							</p>
							 <div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Printing the details can be expensive as the values are retrieved from the caller.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								record-delimiter
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								The value to be used to indicate the end of a record. If this is null, no delimiter is used at the end of the record. The default value is a line feed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690737104"> <p>
								zone-id
							</p>
							 </td><td align="left" valign="top" headers="idm140321690736016"> <p>
								The zone ID for formatting the date and time. The system default is used if left undefined.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="datasource_connection_urls"><div class="titlepage"><div><div><h2 class="title">A.19. Datasource Connection URLs</h2></div></div></div><div class="table" id="idm140321690691664"><p class="title"><strong>Table A.43. Datasource Connection URLs</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690686080" scope="col">Datasource</th><th align="left" valign="top" id="idm140321690684992" scope="col">Connection URL</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								IBM DB2
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:db2://<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>/<span class="emphasis"><em>DATABASE_NAME</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								MariaDB
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:mariadb://<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>/<span class="emphasis"><em>DATABASE_NAME</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								MariaDB Galera Cluster
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:mariadb://<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>,<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>/<span class="emphasis"><em>DATABASE_NAME</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								Microsoft SQL Server
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:sqlserver://<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>;DatabaseName=<span class="emphasis"><em>DATABASE_NAME</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								MySQL
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:mysql://<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>/<span class="emphasis"><em>DATABASE_NAME</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								Oracle
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:oracle:thin:@<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>:<span class="emphasis"><em>ORACLE_SID</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								PostgreSQL
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:postgresql://<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>/<span class="emphasis"><em>DATABASE_NAME</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690686080"> <p>
								Sybase
							</p>
							 </td><td align="left" valign="top" headers="idm140321690684992"> <p>
								jdbc:sybase:Tds:<span class="emphasis"><em>SERVER_NAME</em></span>:<span class="emphasis"><em>PORT</em></span>/<span class="emphasis"><em>DATABASE_NAME</em></span>
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="datasource_parameters"><div class="titlepage"><div><div><h2 class="title">A.20. Datasource Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-datasources_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321690637696"><p class="title"><strong>Table A.44. Datasource Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690631200" scope="col">Attribute</th><th align="left" valign="top" id="idm140321690630112" scope="col">Datasource Type</th><th align="left" valign="top" id="idm140321690629024" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								allocation-retry
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The number of times that allocating a connection should be tried before throwing an exception. The default is <code class="literal">0</code>, so an exception is thrown upon the first failure.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								allocation-retry-wait-millis
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The amount of time, in milliseconds, to wait between retrying to allocate a connection. The default is <code class="literal">5000</code> ms.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								allow-multiple-users
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether multiple users will access the datasource through the <code class="literal">getConnection(user, password)</code> method and if the internal pool type accounts for this behavior.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								authentication-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The Elytron authentication context which defines the <code class="literal">javax.security.auth.Subject</code> that is used to distinguish connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								background-validation
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether connections should be validated on a background thread versus being validated prior to use. Background validation is typically not to be used with <code class="literal">validate-on-match</code> or there will be redundant checks. With background validation, there is an opportunity for a connection to go bad between the time of the validations can and being handed to the client, so the application must account for this possibility.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								background-validation-millis
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The frequency, in milliseconds, that background validation will run.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								blocking-timeout-wait-millis
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The maximum time, in milliseconds, to block while waiting for a connection before throwing an exception. Note that this blocks only while waiting for locking a connection, and will never throw an exception if creating a new connection takes an inordinately long time.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								capacity-decrementer-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Class defining the policy for decrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								capacity-decrementer-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Properties to be injected in the class defining the policy for decrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								capacity-incrementer-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Class defining the policy for incrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								capacity-incrementer-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Properties to be injected in the class defining the policy for incrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								check-valid-connection-sql
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								An SQL statement to check validity of a pool connection. This may be called when a managed connection is obtained from the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								connectable
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Enable the use of CMR, which means that a local resource can reliably participate in an XA transaction.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								connection-listener-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Specifies class name extending <code class="literal">org.jboss.jca.adapters.jdbc.spi.listener.ConnectionListener</code>. This class listens for connection activation and passivation in order to perform actions before the connection is returned to the application or to the pool. The specified class must be bundled together with the JDBC driver in one module using two resource JARs, as seen in <a class="link" href="#install_a_jdbc_driver_as_a_core_module" title="12.2.1. Installing a JDBC Driver as a Core Module">Installing a JDBC Driver as a Core Module</a>, or in a separate global module, as seen in <a class="link" href="#add_a_global_module" title="6.5. Define Global Modules">Define Global Modules</a>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								connection-listener-property
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Properties to be injected into the class specified in the <code class="literal">connection-listener-class</code>. The properties injected are compliant with the JavaBeans conventions. For example, if you specify a property named <code class="literal">foo</code>, then the connection listener class needs to have a method <code class="literal">setFoo</code> that accepts <code class="literal">String</code> as argument.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								connection-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Arbitrary string name/value pair connection properties to pass to the <code class="literal">Driver.connect(url, props)</code> method.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								connection-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The JDBC driver connection URL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Credential, from a credential store, to authenticate on datasource.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								datasource-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The fully-qualified name of the JDBC datasource class.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								driver-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The fully-qualified name of the JDBC driver class.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								driver-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Defines the JDBC driver the datasource should use. It is a symbolic name matching the name of installed driver. If the driver is deployed as JAR, the name is the name of the deployment.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								elytron-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Enables Elytron security for handling authentication of connections. The Elytron <code class="literal">authentication-context</code> to be used will be current context if no context is specified. See <code class="literal">authentication-context</code> for additional information.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether the datasource should be enabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								enlistment-trace
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether enlistment traces should be recorded. This is <code class="literal">false</code> by default.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								exception-sorter-class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								An instance of <code class="literal">org.jboss.jca.adapters.jdbc.ExceptionSorter</code> that provides a method to validate if an exception should broadcast an error.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								exception-sorter-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The exception sorter properties.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								flush-strategy
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Specifies how the pool should be flushed in case of an error. Valid values are:
							</p>
							 <div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">FailingConnectionOnly</code></span></dt><dd>
											Only the failing connection is removed. This is the default setting.
										</dd><dt><span class="term"><code class="literal">InvalidIdleConnections</code></span></dt><dd>
											The failing connection and idle connections that share the same credentials and are returned as invalid by the <a class="link mimir-link-warn" href="https://docs.oracle.com/javaee/7/api/javax/resource/spi/ValidatingManagedConnectionFactory.html#getInvalidConnections-java.util.Set-" title="Mimir does not include content from: docs.oracle.com">ValidatingManagedConnectionFactory.getInvalidConnections(…​)</a> method are removed.
										</dd><dt><span class="term"><code class="literal">IdleConnections</code></span></dt><dd>
											The failing connection and idle connections that share the same credentials are removed.
										</dd><dt><span class="term"><code class="literal">Gracefully</code></span></dt><dd>
											The failing connection and idle connections that share the same credentials are removed. Active connections that share the same credentials are destroyed upon return to the pool.
										</dd><dt><span class="term"><code class="literal">EntirePool</code></span></dt><dd>
											The failing connection and idle and active connections that share the same credentials are removed. This setting is not recommended for production systems.
										</dd><dt><span class="term"><code class="literal">AllInvalidIdleConnections</code></span></dt><dd>
											The failing connection and idle connections that are returned as invalid by the <a class="link mimir-link-warn" href="https://docs.oracle.com/javaee/7/api/javax/resource/spi/ValidatingManagedConnectionFactory.html#getInvalidConnections-java.util.Set-" title="Mimir does not include content from: docs.oracle.com">ValidatingManagedConnectionFactory.getInvalidConnections(…​)</a> method are removed.
										</dd><dt><span class="term"><code class="literal">AllIdleConnections</code></span></dt><dd>
											The failing connection and all idle connections are removed.
										</dd><dt><span class="term"><code class="literal">AllGracefully</code></span></dt><dd>
											The failing connection and all idle connections are removed. Active connections are destroyed upon return to the pool.
										</dd><dt><span class="term"><code class="literal">AllConnections</code></span></dt><dd>
											The failing connection and all idle and active connections are removed. This setting is not recommended for production systems.
										</dd></dl></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								idle-timeout-minutes
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The maximum time, in minutes, a connection may be idle before being closed. If not specified, the default is <code class="literal">30</code> minutes. The actual maximum time also depends on the IdleRemover scan time, which is half of the smallest idle-timeout-minutes value of any pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								initial-pool-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The initial number of connections a pool should hold.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								interleaving
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to enable interleaving for XA connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								jndi-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The unique JNDI name for the datasource.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								jta
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Enable JTA integration.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								max-pool-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The maximum number of connections that a pool can hold.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								mcp
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The <code class="literal">ManagedConnectionPool</code> implementation. For example, <code class="literal">org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								min-pool-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The minimum number of connections that a pool can hold.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								new-connection-sql
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								An SQL statement to execute whenever a connection is added to the connection pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								no-recovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether the connection pool should be excluded from recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								no-tx-separate-pool
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to create a separate sub-pool for each context. This may be required for some Oracle datasources, which may not allow XA connections to be used both inside and outside of a JTA transaction. Using this option will cause your total pool size to be twice the <code class="literal">max-pool-size</code>, because two actual pools will be created.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								pad-xid
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to pad the Xid.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								password
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The password to use when creating a new connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								pool-fair
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Defines if pool should be fair. This setting is part of a <code class="literal">Semaphore</code> class used to manage the connection pools in JCA, which provides a performance benefit in some use cases where the order of leasing connections is not required.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								pool-prefill
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether the pool should be prefilled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								pool-use-strict-min
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether <code class="literal">min-pool-size</code> should be considered strictly.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								prepared-statements-cache-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The number of prepared statements per connection in a Least Recently Used (LRU) cache.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								query-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The timeout for queries, in seconds. The default is no timeout.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								reauth-plugin-class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The fully-qualified class name of the reauthentication plugin implementation to reauthenticate physical connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								reauth-plugin-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The properties for the reauthentication plugin.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-authentication-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The Elytron authentication context which defines the <code class="literal">javax.security.auth.Subject</code> that is used to distinguish connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Credential, from a credential store, to authenticate on datasource.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-elytron-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Enables Elytron security for handling authentication of connections for recovery. The Elytron <code class="literal">authentication-context</code> used will be the current context if no <code class="literal">authentication-context</code> is specified. See <code class="literal">authentication-context</code> for additional information.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-password
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The password to use to connect to the resource for recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-plugin-class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The fully-qualified class name of the recovery plugin implementation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-plugin-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The properties for the recovery plugin.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The security domain to use to connect to the resource for recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								recovery-username
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The user name to use to connect to the resource for recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								same-rm-override
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether the <code class="literal">javax.transaction.xa.XAResource.isSameRM(XAResource)</code> class returns <code class="literal">true</code> or <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The name of a JAAS security-manager which handles authentication. This name correlates to the application-policy/name attribute of the JAAS login configuration.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								set-tx-query-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to set the query timeout based on the time remaining until transaction timeout. Any configured query timeout will be used if no transaction exists.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								share-prepared-statements
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether JBoss EAP should cache, instead of close or terminate, the underlying physical statement when the wrapper supplied to the application is closed by application code. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								spy
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Enable spy functionality on the JDBC layer. This logs all JDBC traffic to the datasource. Note that the logging category <code class="literal">jboss.jdbc.spy</code> must also be set to the log level <code class="literal">DEBUG</code> in the <code class="literal">logging</code> subsystem.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								stale-connection-checker-class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								An instance of <code class="literal">org.jboss.jca.adapters.jdbc.StaleConnectionChecker</code> that provides an <code class="literal">isStaleConnection(SQLException)</code> method. If this method returns <code class="literal">true</code>, then the exception is wrapped in an <code class="literal">org.jboss.jca.adapters.jdbc.StaleConnectionException</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								stale-connection-checker-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The stale connection checker properties.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether runtime statistics are enabled. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								track-statements
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to check for unclosed statements when a connection is returned to a pool and a statement is returned to the prepared statement cache. If false, statements are not tracked. Valid values:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">true</code>: Statements and result sets are tracked, and a warning is issued if they are not closed.
									</li><li class="listitem">
										<code class="literal">false</code>: Neither statements or result sets are tracked.
									</li><li class="listitem">
										<code class="literal">nowarn</code>: Statements are tracked but no warning is issued (<span class="emphasis"><em>default</em></span>).
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								tracking
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to track connection handles across transaction boundaries.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								transaction-isolation
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The <code class="literal">java.sql.Connection</code> transaction isolation level. Valid values:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">TRANSACTION_READ_UNCOMMITTED</code>
									</li><li class="listitem">
										<code class="literal">TRANSACTION_READ_COMMITTED</code>
									</li><li class="listitem">
										<code class="literal">TRANSACTION_REPEATABLE_READ</code>
									</li><li class="listitem">
										<code class="literal">TRANSACTION_SERIALIZABLE</code>
									</li><li class="listitem">
										<code class="literal">TRANSACTION_NONE</code>
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								url-delimiter
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The delimiter for URLs in connection-url for High Availability (HA) datasources.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								url-property
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The property for the <code class="literal">URL</code> property in the <code class="literal">xa-datasource-property</code> values.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								url-selector-strategy-class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								A class that implements <code class="literal">org.jboss.jca.adapters.jdbc.URLSelectorStrategy</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								use-ccm
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Enable the cached connection manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								use-fast-fail
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								If true, fail a connection allocation on the first attempt if the connection is invalid. If false, keep trying until the pool is exhausted.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								use-java-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to bind the datasource into global JNDI.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								use-try-lock
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								A timeout value for internal locks. This attempts to obtain the lock for the configured number of seconds, before timing out, rather than failing immediately if the lock is unavailable. Uses <code class="literal">tryLock()</code> instead of <code class="literal">lock()</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								user-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The user name to use when creating a new connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								valid-connection-checker-class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								An implementation of <code class="literal">org.jboss.jca.adaptors.jdbc.ValidConnectionChecker</code> which provides a <code class="literal">SQLException.isValidConnection(Connection e)</code> method to validate a connection. An exception means the connection is destroyed. This overrides the attribute <code class="literal">check-valid-connection-sql</code> if it is present.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								valid-connection-checker-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The valid connection checker properties.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								validate-on-match
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether connection validation is performed when a connection factory attempts to match a managed connection. This should be used when a client must have a connection validated prior to use. Validate-on-match is typically not to be used with <code class="literal">background-validation</code> or there will be redundant checks.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								wrap-xa-resource
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								Whether to wrap the XAResource in an <code class="literal">org.jboss.tm.XAResourceWrapper</code> instance.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								xa-datasource-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								The fully-qualified name of the <code class="literal">javax.sql.XADataSource</code> implementation class.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								xa-datasource-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								String name/value pair of XA datasource properties.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690631200"> <p>
								xa-resource-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321690630112"> <p>
								XA Only
							</p>
							 </td><td align="left" valign="top" headers="idm140321690629024"> <p>
								If non-zero, this value is passed to the <code class="literal">XAResource.setTransactionTimeout</code> method.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321690456688"><p class="title"><strong>Table A.45. JDBC Driver Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690450192" scope="col">Attribute</th><th align="left" valign="top" id="idm140321690449104" scope="col">Datasource Type</th><th align="left" valign="top" id="idm140321690448016" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690450192"> <p>
								datasource-class-info
							</p>
							 </td><td align="left" valign="top" headers="idm140321690449104"> <p>
								Non-XA, XA
							</p>
							 </td><td align="left" valign="top" headers="idm140321690448016"> <p>
								The available properties for the <code class="literal">datasource-class</code> and <code class="literal">xa-datasource-class</code> for the <code class="literal">jdbc-driver</code>. The <code class="literal">datasource-class</code> and <code class="literal">xa-datasource-class</code> attributes define the fully qualified class name that implements <code class="literal">javax.sql.DataSource</code> or <code class="literal">javax.sql.XADataSource</code> classes. The class defined can have setters for various properties. The <code class="literal">datasource-class-info</code> attribute lists these properties that can be set for the class.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="reference_of_datasource_statistics"><div class="titlepage"><div><div><h2 class="title">A.21. Datasource Statistics</h2></div></div></div><div class="table" id="idm140321690434992"><p class="title"><strong>Table A.46. Core Pool Statistics</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690429424" scope="col">Name</th><th align="left" valign="top" id="idm140321690428336" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								ActiveCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of active connections. Each of the connections is either in use by an application or available in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								AvailableCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of available connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								AverageBlockingTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time spent blocking on obtaining an exclusive lock on the pool. This value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								AverageCreationTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time spent creating a connection. This value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								AverageGetTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time spent obtaining a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								AveragePoolTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time that a connection spent in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								AverageUsageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time spent using a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								BlockingFailureCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of failures trying to obtain a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								CreatedCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of connections created.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								DestroyedCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of connections destroyed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								IdleCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of connections that are currently idle.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								InUseCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of connections currently in use.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								MaxCreationTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time it took to create a connection. This value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								MaxGetTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for obtaining a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								MaxPoolTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for a connection in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								MaxUsageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time using a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								MaxUsedCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum number of connections used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								MaxWaitCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum number of requests waiting for a connection at the same time.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								MaxWaitTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time spent waiting for an exclusive lock on the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								TimedOut
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of timed out connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								TotalBlockingTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time spent waiting for an exclusive lock on the pool. This value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								TotalCreationTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time spent creating connections. This value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								TotalGetTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time spent obtaining connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								TotalPoolTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time spent by connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								TotalUsageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time spent using connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								WaitCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of requests that had to wait to obtain a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XACommitAverageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time for an XAResource commit invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XACommitCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of XAResource commit invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XACommitMaxTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for an XAResource commit invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XACommitTotalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time for all XAResource commit invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAEndAverageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time for an XAResource end invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAEndCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of XAResource end invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAEndMaxTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for an XAResource end invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAEndTotalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time for all XAResource end invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAForgetAverageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time for an XAResource forget invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAForgetCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of XAResource forget invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAForgetMaxTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for an XAResource forget invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAForgetTotalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time for all XAResource forget invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAPrepareAverageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time for an XAResource prepare invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAPrepareCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of XAResource prepare invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAPrepareMaxTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for an XAResource prepare invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAPrepareTotalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time for all XAResource prepare invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARecoverAverageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time for an XAResource recover invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARecoverCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of XAResource recover invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARecoverMaxTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for an XAResource recover invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARecoverTotalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time for all XAResource recover invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARollbackAverageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time for an XAResource rollback invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARollbackCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of XAResource rollback invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARollbackMaxTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for an XAResource rollback invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XARollbackTotalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time for all XAResource rollback invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAStartAverageTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The average time for an XAResource start invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAStartCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The number of XAResource start invocations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAStartMaxTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The maximum time for an XAResource start invocation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690429424"> <p>
								XAStartTotalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321690428336"> <p>
								The total time for all XAResource start invocations.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321690227136"><p class="title"><strong>Table A.47. JDBC Statistics</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690221568" scope="col">Name</th><th align="left" valign="top" id="idm140321690220480" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690221568"> <p>
								PreparedStatementCacheAccessCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690220480"> <p>
								The number of times that the statement cache was accessed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690221568"> <p>
								PreparedStatementCacheAddCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690220480"> <p>
								The number of statements added to the statement cache.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690221568"> <p>
								PreparedStatementCacheCurrentSize
							</p>
							 </td><td align="left" valign="top" headers="idm140321690220480"> <p>
								The number of prepared and callable statements currently cached in the statement cache.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690221568"> <p>
								PreparedStatementCacheDeleteCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690220480"> <p>
								The number of statements discarded from the cache.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690221568"> <p>
								PreparedStatementCacheHitCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690220480"> <p>
								The number of times that statements from the cache were used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690221568"> <p>
								PreparedStatementCacheMissCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321690220480"> <p>
								The number of times that a statement request could not be satisfied with a statement from the cache.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="datasources_agroal_attributes"><div class="titlepage"><div><div><h2 class="title">A.22. Agroal Datasource Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-agroal_1_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321699067376"><p class="title"><strong>Table A.48. Agroal Datasource Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321699061792" scope="col">Attribute</th><th align="left" valign="top" id="idm140321699060704" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321699061792"> <p>
								connectable
							</p>
							 </td><td align="left" valign="top" headers="idm140321699060704"> <p>
								Whether to enable CMR (Commit Markable Resource) functionality on this datasource. This applies to non-XA datasources only.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699061792"> <p>
								jndi-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321699060704"> <p>
								Specifies the JNDI name for the datasource.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699061792"> <p>
								jta
							</p>
							 </td><td align="left" valign="top" headers="idm140321699060704"> <p>
								Whether to enable JTA integration. This applies to non-XA datasources only.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699061792"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321699060704"> <p>
								Whether to enable statistics for this datasource. Defaults to <code class="literal">false</code>.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321699043200"><p class="title"><strong>Table A.49. Agroal Datasource Connection Factory Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321699037600" scope="col">Attribute</th><th align="left" valign="top" id="idm140321699036512" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								authentication-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								Reference to an authentication context in the <code class="literal">elytron</code> subsystem.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								connection-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								Properties to be passed to the JDBC driver when creating a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								Credential, from a credential store, to authenticate with.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								driver
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								A unique reference to the JDBC driver.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								new-connection-sql
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								A SQL statement to be executed on a connection after creation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								password
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								The password to use for basic authentication with the database.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								transaction-isolation
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								Set the <code class="literal">java.sql.Connection</code> transaction isolation level to used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								url
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								The JDBC driver connection URL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321699037600"> <p>
								username
							</p>
							 </td><td align="left" valign="top" headers="idm140321699036512"> <p>
								The username to use for basic authentication with the database.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321699000240"><p class="title"><strong>Table A.50. Agroal Datasource Connection Pool Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698994640" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698993552" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698994640"> <p>
								background-validation
							</p>
							 </td><td align="left" valign="top" headers="idm140321698993552"> <p>
								The time, in milliseconds, between background validation runs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698994640"> <p>
								blocking-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321698993552"> <p>
								The maximum time, in milliseconds, to block while waiting for a connection before throwing an exception.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698994640"> <p>
								idle-removal
							</p>
							 </td><td align="left" valign="top" headers="idm140321698993552"> <p>
								The time, in minutes, that a connection must be idle before it can be removed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698994640"> <p>
								initial-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698993552"> <p>
								The initial number of connections the pool should hold.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698994640"> <p>
								leak-detection
							</p>
							 </td><td align="left" valign="top" headers="idm140321698993552"> <p>
								The time, in milliseconds, that a connection must be held before a leak warning.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698994640"> <p>
								max-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698993552"> <p>
								The maximum number of connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698994640"> <p>
								min-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698993552"> <p>
								The minimum number of connections the pool should hold.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="reference_of_transaction_manager_configuration_options"><div class="titlepage"><div><div><h2 class="title">A.23. Transaction Manager Configuration Options</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-txn_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321698961792"><p class="title"><strong>Table A.51. Transactions Subsystem Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698956208" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698955120" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								default-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								The default transaction timeout. This defaults to <code class="literal">300</code> seconds. You can override this programmatically, on a per-transaction basis.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								enable-statistics
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								<span class="emphasis"><em>Deprecated in favor of <code class="literal">statistics-enabled</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								enable-tsm-status
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether to enable the transaction status manager (TSM) service, which is used for out-of-process recovery. This option is not supported, as running an out-of-process recovery manager to contact the <code class="literal">ActionStatusService</code> from a different process, instead of in memory, is not supported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								hornetq-store-enable-async-io
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								<span class="emphasis"><em>Deprecated in favor of <code class="literal">journal-store-enable-async-io</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jdbc-action-store-drop-table
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether JDBC action store should drop tables. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jdbc-action-store-table-prefix
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Optional prefix for table used to write transaction logs in configured JDBC action store.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jdbc-communication-store-drop-table
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether JDBC communication store should drop tables. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jdbc-communication-store-table-prefix
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Optional prefix for table used to write transaction logs in configured JDBC communication store.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jdbc-state-store-drop-table
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether JDBC state store should drop tables. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jdbc-state-store-table-prefix
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Optional prefix for table used to write transaction logs in configured JDBC state store.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jdbc-store-datasource
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								JNDI name of non-XA datasource used. Datasource should be defined in the <code class="literal">datasources</code> subsystem.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								journal-store-enable-async-io
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether <code class="literal">AsyncIO</code> should be enabled for the journal store or not. Defaults to <code class="literal">false</code>. The server should be restarted for this setting to take effect.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								jts
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether to use Java Transaction Service (JTS) transactions. Defaults to <code class="literal">false</code>, which uses JTA transactions only.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								maximum-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								If a transaction is set to have a transaction timeout of <code class="literal">0</code>, which implies an unlimited timeout, the transaction manager uses the value set by this attribute instead. The default is <code class="literal">31536000</code> seconds (365 days).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								node-identifier
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								The node identifier for the transaction manager. If this option is not set, you will see a warning upon server startup. This option is required in the following situations:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										For JTS to JTS communications
									</li><li class="listitem">
										When two transaction managers access shared resource managers
									</li><li class="listitem">
										When two transaction managers access shared object stores
									</li></ul></div>
							 <p>
								The node-identifier must be unique for each transaction manager as it is required to enforce data integrity during recovery. The node-identifier must also be unique for JTA because multiple nodes may interact with the same resource manager or share a transaction object store.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								object-store-path
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								A relative or absolute file system path where the transaction manager object store stores data. By default relative to the <code class="literal">object-store-relative-to</code> parameter’s value. If <code class="literal">object-store-relative-to</code> is set to an empty string, this value is treated as an absolute path.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								object-store-relative-to
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								References a global path configuration in the domain model. The default value is the data directory for JBoss EAP, which is the value of the property <code class="literal">jboss.server.data.dir</code>, and defaults to <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/data/</code> for a managed domain, or <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/data/</code> for a standalone server instance. The value of the object store <code class="literal">object-store-path</code> transaction manager attribute is relative to this path. Set this attribute to an empty string to have <code class="literal">object-store-path</code> be treated as an absolute path.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								process-id-socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								The name of the socket binding configuration to use if the transaction manager should use a socket-based process ID. Will be <code class="literal">undefined</code> if <code class="literal">process-id-uuid</code> is <code class="literal">true</code>; otherwise must be set.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								process-id-socket-max-ports
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								The transaction manager creates a unique identifier for each transaction log. Two different mechanisms are provided for generating unique identifiers: a socket-based mechanism and a mechanism based on the process identifier of the process.
							</p>
							 <p>
								In the case of the socket-based identifier, a socket is opened and its port number is used for the identifier. If the port is already in use, the next port is probed, until a free one is found. The process-id-socket-max-ports represents the maximum number of sockets the transaction manager will try before failing. The default value is <code class="literal">10</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								process-id-uuid
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Set to <code class="literal">true</code> to use the process identifier to create a unique identifier for each transaction. Otherwise, the socket-based mechanism is used. Defaults to <code class="literal">true</code>. See <code class="literal">process-id-socket-max-ports</code> for more information. To enable <code class="literal">process-id-socket-binding</code>, set <code class="literal">process-id-uuid</code> to <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								recovery-listener
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether or not the transaction recovery process should listen on a network socket. Defaults to <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Specifies the name of the socket binding used by the transaction periodic recovery listener when <code class="literal">recovery-listener</code> is set to <code class="literal">true</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Whether statistics should be enabled. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								status-socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Specifies the socket binding to use for the transaction status manager. This configuration option is not supported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								use-hornetq-store
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								<span class="emphasis"><em>Deprecated in favor of <code class="literal">use-journal-store</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								use-jdbc-store
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Use the JDBC store for writing transaction logs. Set to <code class="literal">true</code> to enable and to <code class="literal">false</code> to use the default log store type.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698956208"> <p>
								use-journal-store
							</p>
							 </td><td align="left" valign="top" headers="idm140321698955120"> <p>
								Use Apache ActiveMQ Artemis journaled storage mechanisms instead of file-based storage for the transaction logs. This is disabled by default, but can improve I/O performance. It is not recommended for JTS transactions on separate transaction managers. When changing this option, the server has to be restarted using the <code class="literal">shutdown</code> command for the change to take effect.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321698825936"><p class="title"><strong>Table A.52. Log Store Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698820368" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698819280" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698820368"> <p>
								expose-all-logs
							</p>
							 </td><td align="left" valign="top" headers="idm140321698819280"> <p>
								Whether to expose all logs. The default is <code class="literal">false</code>, meaning that only a subset of transaction logs is exposed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698820368"> <p>
								type
							</p>
							 </td><td align="left" valign="top" headers="idm140321698819280"> <p>
								Specifies the implementation type of the logging store. The default is <code class="literal">default</code>.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321698808720"><p class="title"><strong>Table A.53. Commit Markable Resource Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 34%; " class="col_1"><!--Empty--></col><col style="width: 66%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698803136" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698802048" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698803136"> <p>
								batch-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698802048"> <p>
								The batch size for this CMR resource. The default is <code class="literal">100</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698803136"> <p>
								immediate-cleanup
							</p>
							 </td><td align="left" valign="top" headers="idm140321698802048"> <p>
								Whether to perform immediate cleanup for this CMR resource. The default is <code class="literal">true</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698803136"> <p>
								jndi-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698802048"> <p>
								The JNDI name of this CMR resource.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698803136"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698802048"> <p>
								The table name for storing XIDs. The default is <code class="literal">xids</code>.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="iiop_subsystem_attributes"><div class="titlepage"><div><div><h2 class="title">A.24. IIOP Subsystem Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-iiop-openjdk_3_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321698780128"><p class="title"><strong>Table A.54. IIOP Subsystem Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698774544" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698773456" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								add-component-via-interceptor
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether SSL components should be added by an IOR interceptor. <span class="emphasis"><em>Deprecated</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								auth-method
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The authentication method. Valid values are <code class="literal">none</code> and <code class="literal">username_password</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								authentication-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The name of the authentication context used when the security initializer is set to <code class="literal">elytron</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								caller-propagation
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the caller identity should be propagated in the SAS context. Valid values are <code class="literal">none</code> and <code class="literal">supported</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								client-requires
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Value that indicates the client SSL required parameters. Valid values are <code class="literal">None</code>, <code class="literal">ServerAuth</code>, <code class="literal">ClientAuth</code>, and <code class="literal">MutualAuth</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">client-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								client-requires-ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether IIOP connections from the server require SSL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								client-ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The name of the SSL context used to create client-side SSL sockets.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								client-supports
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Value that indicates the client SSL supported parameters. Valid values are <code class="literal">None</code>, <code class="literal">ServerAuth</code>, <code class="literal">ClientAuth</code>, and <code class="literal">MutualAuth</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">client-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								confidentiality
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the transport must require confidentiality protection or not. Valid values are <code class="literal">none</code>, <code class="literal">supported</code>, and <code class="literal">required</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								detect-misordering
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the transport must require misordering detection or not. Valid values are <code class="literal">none</code>, <code class="literal">supported</code>, and <code class="literal">required</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								detect-replay
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the transport must require replay detection or not. Valid values are <code class="literal">none</code>, <code class="literal">supported</code>, and <code class="literal">required</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								export-corbaloc
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the root context should be exported as <code class="literal">corbaloc::address:port/NameService</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								giop-version
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The GIOP version to be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								high-water-mark
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								TCP connection cache parameter. Each time the number of connections exceeds this value, the ORB tries to reclaim connections. The number of reclaimed connections is specified by the <code class="literal">number-to-reclaim</code> property. If this property is not set, then the OpenJDK ORB default is used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								integrity
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the transport must require integrity protection or not. Valid values are <code class="literal">none</code>, <code class="literal">supported</code>, and <code class="literal">required</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								number-to-reclaim
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								TCP connection cache parameter. Each time the number of connections exceeds the <code class="literal">high-water-mark</code> property, then the ORB tries to reclaim connections. The number of reclaimed connections is specified by this property. If it is not set, then the OpenJDK ORB default is used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								persistent-server-id
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Persistent ID of the server. Persistent object references are valid across many activations of the server and they identify it using this property. As a result of that, many activations of the same server should have this property set to the same value, and different server instances running on the same host should have different server IDs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								A list of generic key/value properties.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The authentication service realm name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								required
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether authentication is required.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								root-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The naming service root context.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								security
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the security interceptors are to be installed. Valid values are <code class="literal">client</code>, <code class="literal">identity</code>, <code class="literal">elytron</code>, and <code class="literal">none</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The name of the security domain that holds the keystores and truststores that will be used to establish SSL connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								server-requires
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Value that indicates the server SSL required parameters. Valid values are <code class="literal">None</code>, <code class="literal">ServerAuth</code>, <code class="literal">ClientAuth</code>, and <code class="literal">MutualAuth</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								server-requires-ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether IIOP connections to the server require SSL.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								server-ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The name of the SSL context used to create server-side SSL sockets.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								server-supports
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Value that indicates the server SSL supported parameters. Valid values are <code class="literal">None</code>, <code class="literal">ServerAuth</code>, <code class="literal">ClientAuth</code>, and <code class="literal">MutualAuth</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The name of the socket binding configuration that specifies the ORB port.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								ssl-socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								The name of the socket binding configuration that specifies the ORB SSL port.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								support-ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether SSL is supported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								transactions
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates whether the transactions interceptors are to be installed or not. Valid values are <code class="literal">full</code>, <code class="literal">spec</code>, and <code class="literal">none</code>. A value of <code class="literal">full</code> enables JTS while a value of <code class="literal">spec</code> enables a non-JTS spec-compliant mode that rejects incoming transaction contexts.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								trust-in-client
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates if the transport must require trust in client to be established. Valid values are <code class="literal">none</code>, <code class="literal">supported</code>, and <code class="literal">required</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698774544"> <p>
								trust-in-target
							</p>
							 </td><td align="left" valign="top" headers="idm140321698773456"> <p>
								Indicates if the transport must require trust in target to be established. Valid values are <code class="literal">none</code> and <code class="literal">supported</code>. <span class="emphasis"><em>Deprecated: Use <code class="literal">server-requires-ssl</code> instead</em></span>.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="resource_adapter_attributes"><div class="titlepage"><div><div><h2 class="title">A.25. Resource Adapter Attributes</h2></div></div></div><p>
				The following tables describe the resource adapter attributes.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-resource-adapters_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321698610256"><p class="title"><strong>Table A.55. Main Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698605424" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698604336" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								archive
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								The resource adapter archive.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								beanvalidationgroups
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								The bean validation groups that should be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								bootstrap-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								The unique name of the bootstrap context that should be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								config-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								Custom defined config properties.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								The module from which the resource adapter will be loaded.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								Whether runtime statistics are enabled or not.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								transaction-support
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								The transaction support level of the resource adapter. Valid values are <code class="literal">NoTransaction</code>, <code class="literal">LocalTransaction</code>, or <code class="literal">XATransaction</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-elytron-security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								Defines the name of the Elytron security domain that should be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-security
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								Toggle on/off <code class="literal">wm.security</code> for this resource adapter. In case of false, all <code class="literal">wm-security-*</code> parameters are ignored, even the defaults.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-security-default-groups
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								A default groups list that should be added to the used <code class="literal">Subject</code> instance.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-security-default-principal
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								A default principal name that should be added to the used <code class="literal">Subject</code> instance.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								The name of the security domain that should be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-security-mapping-groups
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								List of groups mappings.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-security-mapping-required
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								Defines if a mapping is required for security credentials.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698605424"> <p>
								wm-security-mapping-users
							</p>
							 </td><td align="left" valign="top" headers="idm140321698604336"> <p>
								List of user mappings.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If your resource adapter is using <code class="literal">bootstrap-context</code> along with a work manager that has <code class="literal">elytron-enabled</code> set to <code class="literal">true</code>, you must use the <code class="literal">wm-elytron-security-domain</code> attribute instead of the <code class="literal">wm-security-domain</code> attribute for security domain specification.
				</p></div></div><div class="table" id="idm140321698540000"><p class="title"><strong>Table A.56. admin-objects Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698535152" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698534064" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698535152"> <p>
								class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698534064"> <p>
								The fully qualified class name of an administration object.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698535152"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321698534064"> <p>
								Specifies if the administration object should be enabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698535152"> <p>
								jndi-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698534064"> <p>
								The JNDI name for the administration object.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698535152"> <p>
								use-java-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698534064"> <p>
								Setting this to false will bind the object into global JNDI.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321698517088"><p class="title"><strong>Table A.57. connection-definitions Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698512240" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698511152" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								allocation-retry
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Indicates the number of times that allocating a connection should be tried before throwing an exception.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								allocation-retry-wait-millis
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The amount of time, in milliseconds, to wait between retrying to allocate a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								authentication-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The Elytron authentication context which defines the <code class="literal">javax.security.auth.Subject</code> that is used to distinguish connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								authentication-context-and-application
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Indicates that either application-supplied parameters, such as from <code class="literal">getConnection(user, pw)</code>, or <code class="literal">Subject</code>, are used to distinguish connections in the pool. These parameters are provided by Elytron after authentication when using a configured <code class="literal">authentication-context</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								background-validation
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies that connections should be validated on a background thread versus being validated prior to use. Changing this value requires a server restart.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								background-validation-millis
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The amount of time, in milliseconds, that background validation will run. Changing this value requires a server restart.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								blocking-timeout-wait-millis
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The maximum time, in milliseconds, to block while waiting for a connection before throwing an exception. Note that this blocks only while waiting for locking a connection, and will never throw an exception if creating a new connection takes an inordinately long time.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								capacity-decrementer-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Class defining the policy for decrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								capacity-decrementer-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Properties to inject in class defining the policy for decrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								capacity-incrementer-class
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Class defining the policy for incrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								capacity-incrementer-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Properties to inject in class defining the policy for incrementing connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The fully qualified class name of a managed connection factory or admin object.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								connectable
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Enable the use of CMR. This feature means that a local resource can reliably participate in an XA transaction.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								elytron-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Enables Elytron security for handling authentication of connections. The Elytron <code class="literal">authentication-context</code> to be used will be the current context if no context is specified. See <code class="literal">authentication-context</code> for additional information.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if the resource adapter should be enabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								enlistment
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if lazy enlistment should be used if supported by the resource adapter.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								enlistment-trace
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if JBoss EAP/IronJacamar should record enlistment traces. This is <code class="literal">false</code> by default.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								flush-strategy
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies how the pool should be flushed in case of an error. Valid values are:
							</p>
							 <div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">FailingConnectionOnly</code></span></dt><dd>
											Only the failing connection is removed. This is the default setting.
										</dd><dt><span class="term"><code class="literal">InvalidIdleConnections</code></span></dt><dd>
											The failing connection and idle connections that share the same credentials and are returned as invalid by the <a class="link mimir-link-warn" href="https://docs.oracle.com/javaee/7/api/javax/resource/spi/ValidatingManagedConnectionFactory.html#getInvalidConnections-java.util.Set-" title="Mimir does not include content from: docs.oracle.com">ValidatingManagedConnectionFactory.getInvalidConnections(…​)</a> method are removed.
										</dd><dt><span class="term"><code class="literal">IdleConnections</code></span></dt><dd>
											The failing connection and idle connections that share the same credentials are removed.
										</dd><dt><span class="term"><code class="literal">Gracefully</code></span></dt><dd>
											The failing connection and idle connections that share the same credentials are removed. Active connections that share the same credentials are destroyed upon return to the pool.
										</dd><dt><span class="term"><code class="literal">EntirePool</code></span></dt><dd>
											The failing connection and idle and active connections that share the same credentials are removed. This setting is not recommended for production systems.
										</dd><dt><span class="term"><code class="literal">AllInvalidIdleConnections</code></span></dt><dd>
											The failing connection and idle connections that are returned as invalid by the <a class="link mimir-link-warn" href="https://docs.oracle.com/javaee/7/api/javax/resource/spi/ValidatingManagedConnectionFactory.html#getInvalidConnections-java.util.Set-" title="Mimir does not include content from: docs.oracle.com">ValidatingManagedConnectionFactory.getInvalidConnections(…​)</a> method are removed.
										</dd><dt><span class="term"><code class="literal">AllIdleConnections</code></span></dt><dd>
											The failing connection and all idle connections are removed.
										</dd><dt><span class="term"><code class="literal">AllGracefully</code></span></dt><dd>
											The failing connection and all idle connections are removed. Active connections are destroyed upon return to the pool.
										</dd><dt><span class="term"><code class="literal">AllConnections</code></span></dt><dd>
											The failing connection and all idle and active connections are removed. This setting is not recommended for production systems.
										</dd></dl></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								idle-timeout-minutes
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The maximum time, in minutes, a connection may be idle before being closed. The actual maximum time depends also on the <code class="literal">IdleRemover</code> scan time, which is half of the smallest <code class="literal">idle-timeout-minutes</code> value of any pool. Changing this value requires a server restart.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								initial-pool-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The initial number of connections a pool should hold.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								interleaving
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies whether to enable interleaving for XA connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								jndi-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The JNDI name for the connection factory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								max-pool-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The maximum number of connections for a pool. No more connections will be created in each sub-pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								mcp
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The <code class="literal">ManagedConnectionPool</code> implementation. For example: <code class="literal">org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								min-pool-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The minimum number of connections for a pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								no-recovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if the connection pool should be excluded from recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								no-tx-separate-pool
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Oracle does not like XA connections getting used both inside and outside a JTA transaction. To workaround the problem you can create separate sub-pools for the different contexts.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								pad-xid
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies whether the Xid should be padded.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								pool-fair
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if pool use should be fair.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								pool-prefill
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if the pool should be prefilled. Changing this value requires a server restart.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								pool-use-strict-min
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if the <code class="literal">min-pool-size</code> should be considered strict.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-authentication-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The Elytron authentication context used for recovery. If no <code class="literal">authentication-context</code> is specified, then the current one will be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Credential, from a credential store, to authenticate on recovery of the connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-elytron-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Indicates that an Elytron authentication context will be used for recovery. The default is <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-password
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The password used for recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-plugin-class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The fully qualified class name of the recovery plugin implementation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-plugin-properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The properties for the recovery plugin.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The security domain used for recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								recovery-username
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The user name used for recovery.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								same-rm-override
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Unconditionally set whether <code class="literal">javax.transaction.xa.XAResource.isSameRM(XAResource)</code> returns true or false.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								security-application
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Indicates that application-supplied parameters, such as from <code class="literal">getConnection(user, pw)</code>, are used to distinguish connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The security domain which defines the <code class="literal">javax.security.auth.Subject</code> that is used to distinguish connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								security-domain-and-application
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Indicates that either application-supplied parameters, such as from <code class="literal">getConnection(user, pw)</code>, or <code class="literal">Subject</code>, from the security domain, are used to distinguish connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								sharable
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Enable the use of sharable connections, which allows lazy association to be enabled if supported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								tracking
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if IronJacamar should track connection handles across transaction boundaries.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								use-ccm
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Enable the use of a cached connection manager.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								use-fast-fail
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								When set to <code class="literal">true</code>, fail a connection allocation on the first try if it is invalid. When set to <code class="literal">false</code>, keep trying until the pool is exhausted of all potential connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								use-java-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Setting this to <code class="literal">false</code> will bind the object into global JNDI.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								validate-on-match
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies if connection validation should be done when a connection factory attempts to match a managed connection. This is typically exclusive to the use of background validation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								wrap-xa-resource
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								Specifies whether <code class="literal">XAResource</code> instances should be wrapped in an <code class="literal">org.jboss.tm.XAResourceWrapper</code> instance.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698512240"> <p>
								xa-resource-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321698511152"> <p>
								The value is passed to <code class="literal">XAResource.setTransactionTimeout()</code>, in seconds. The default is <code class="literal">0</code>.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="resource_adapter_statistics"><div class="titlepage"><div><div><h2 class="title">A.26. Resource Adapter Statistics</h2></div></div></div><div class="table" id="idm140321698282592"><p class="title"><strong>Table A.58. Resource Adapter Statistics</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698277744" scope="col">Name</th><th align="left" valign="top" id="idm140321698276656" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								ActiveCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The number of active connections. Each of the connections is either in use by an application or available in the pool
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								AvailableCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The number of available connections in the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								AverageBlockingTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The average time spent blocking on obtaining an exclusive lock on the pool. The value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								AverageCreationTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The average time spent creating a connection. The value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								CreatedCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The number of connections created.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								DestroyedCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The number of connections destroyed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								InUseCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The number of connections currently in use.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								MaxCreationTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The maximum time it took to create a connection. The value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								MaxUsedCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The maximum number of connections used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								MaxWaitCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The maximum number of requests waiting for a connection at the same time.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								MaxWaitTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The maximum time spent waiting for an exclusive lock on the pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								TimedOut
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The number of timed out connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								TotalBlockingTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The total time spent waiting for an exclusive lock on the pool. The value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								TotalCreationTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The total time spent creating connections. The value is in milliseconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698277744"> <p>
								WaitCount
							</p>
							 </td><td align="left" valign="top" headers="idm140321698276656"> <p>
								The number of requests that had to wait for a connection.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="undertow-attribute-refs"><div class="titlepage"><div><div><h2 class="title">A.27. Undertow Subsystem Attributes</h2></div></div></div><p>
				See the tables below for the attributes of the various elements of the <code class="literal">undertow</code> subsystem.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-undertow_4_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#undertow_main_attributes" title="Table A.59. Main undertow Attributes">Main Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#application-security-domain_attributes" title="Application Security Domain Attributes">Application Security Domain Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#buffer_cache_attributes" title="Buffer Cache Attributes">Buffer Cache Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#byte_buffer_pool_attributes" title="Byte Buffer Pool Attributes">Byte Buffer Pool Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#servlet_container_attributes" title="Servlet Container Attributes">Servlet Container Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#filter_attributes" title="Filter Attributes">Filter Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#handler_attributes" title="Handler Attributes">Handler Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#server_attributes" title="Server Attributes">Server Attributes</a>
					</li></ul></div><div class="table" id="undertow_main_attributes"><p class="title"><strong>Table A.59. Main undertow Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698193568" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698192480" scope="col">Default</th><th align="left" valign="top" id="idm140321698191392" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698193568"> <p>
								default-security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698192480"> <p>
								other
							</p>
							 </td><td align="left" valign="top" headers="idm140321698191392"> <p>
								The default security domain used by web deployments.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698193568"> <p>
								default-server
							</p>
							 </td><td align="left" valign="top" headers="idm140321698192480"> <p>
								default-server
							</p>
							 </td><td align="left" valign="top" headers="idm140321698191392"> <p>
								The default server to use for deployments.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698193568"> <p>
								default-servlet-container
							</p>
							 </td><td align="left" valign="top" headers="idm140321698192480"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321698191392"> <p>
								The default servlet container to use for deployments.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698193568"> <p>
								default-virtual-host
							</p>
							 </td><td align="left" valign="top" headers="idm140321698192480"> <p>
								default-host
							</p>
							 </td><td align="left" valign="top" headers="idm140321698191392"> <p>
								The default virtual host to use for deployments.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698193568"> <p>
								instance-id
							</p>
							 </td><td align="left" valign="top" headers="idm140321698192480"> <p>
								${jboss.node.name}
							</p>
							 </td><td align="left" valign="top" headers="idm140321698191392"> <p>
								The cluster instance ID.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698193568"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321698192480"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321698191392"> <p>
								Whether statistics are enabled.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="application-security-domain_attributes">Application Security Domain Attributes</h4><p>
				The application security domain attributes has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#application-security-domain_attributes" title="Application Security Domain Attributes"><code class="literal">application-security-domain</code></a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								<code class="literal">setting</code>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<a class="link" href="#single-sign-on_attributes" title="single-sign-on Attributes"><code class="literal">single-sign-on</code></a>
									</li></ul></div></li></ul></div></li></ul></div><h5 id="application_security_domain_attributes">application-security-domain Attributes</h5><div class="table" id="idm140321698147344"><p class="title"><strong>Table A.60. application-security-domain Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698141568" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698140480" scope="col">Default</th><th align="left" valign="top" id="idm140321698139392" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698141568"> <p>
								enable-jacc
							</p>
							 </td><td align="left" valign="top" headers="idm140321698140480"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321698139392"> <p>
								Enable authorization using JACC.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698141568"> <p>
								enable-jaspi
							</p>
							 </td><td align="left" valign="top" headers="idm140321698140480"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321698139392"> <p>
								Enable JASPI authentication for the associated deployments.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698141568"> <p>
								http-authentication-factory
							</p>
							 </td><td align="left" valign="top" headers="idm140321698140480"> </td><td align="left" valign="top" headers="idm140321698139392"> <p>
								The HTTP authentication factory to be used by deployments that reference the mapped security domain.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698141568"> <p>
								integrated-jaspi
							</p>
							 </td><td align="left" valign="top" headers="idm140321698140480"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321698139392"> <p>
								Whether integrated JASPI should be used. When set to <code class="literal">true</code> during JASPI authentication, the identity is loaded from the <code class="literal">SecurityDomain</code> referenced by the deployment. When set to <code class="literal">false</code>, an ad hoc identity is created instead.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698141568"> <p>
								override-deployment-config
							</p>
							 </td><td align="left" valign="top" headers="idm140321698140480"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321698139392"> <p>
								Whether the authentication configuration in the deployment should be overridden by the factory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698141568"> <p>
								referencing-deployments
							</p>
							 </td><td align="left" valign="top" headers="idm140321698140480"> </td><td align="left" valign="top" headers="idm140321698139392"> <p>
								The deployments currently referencing this mapping.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698141568"> <p>
								security-domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698140480"> </td><td align="left" valign="top" headers="idm140321698139392"> <p>
								The <code class="literal">SecurityDomain</code> to be used by the deployments.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="single-sign-on_attributes">single-sign-on Attributes</h5><div class="table" id="idm140321698098880"><p class="title"><strong>Table A.61. single-sign-on Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698093104" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698092016" scope="col">Default</th><th align="left" valign="top" id="idm140321698090928" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								client-ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								Reference to the SSL context used to secure back-channel logout connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								cookie-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> <p>
								JSESSIONIDSSO
							</p>
							 </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								Name of the cookie.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								The credential reference to decrypt the private key entry.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								The cookie domain that will be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								http-only
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								Set cookie httpOnly attribute.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								key-alias
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								Alias of the private key entry used for signing and verifying back-channel logout connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								key-store
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								Reference to keystore containing a private key entry.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> <p>
								/
							</p>
							 </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								Cookie path.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698093104"> <p>
								secure
							</p>
							 </td><td align="left" valign="top" headers="idm140321698092016"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321698090928"> <p>
								Set cookie secure attribute.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="buffer_cache_attributes">Buffer Cache Attributes</h4><div class="table" id="idm140321698043456"><p class="title"><strong>Table A.62. buffer-cache Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698037696" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698036608" scope="col">Default</th><th align="left" valign="top" id="idm140321698035520" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698037696"> <p>
								buffer-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698036608"> <p>
								1024
							</p>
							 </td><td align="left" valign="top" headers="idm140321698035520"> <p>
								The size of the buffers. Smaller buffers allow space to be utilized more effectively.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698037696"> <p>
								buffers-per-region
							</p>
							 </td><td align="left" valign="top" headers="idm140321698036608"> <p>
								1024
							</p>
							 </td><td align="left" valign="top" headers="idm140321698035520"> <p>
								The numbers of buffers per region.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698037696"> <p>
								max-regions
							</p>
							 </td><td align="left" valign="top" headers="idm140321698036608"> <p>
								10
							</p>
							 </td><td align="left" valign="top" headers="idm140321698035520"> <p>
								The maximum number of regions. This controls the maximum amount of memory that can be used for caching.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="byte_buffer_pool_attributes">Byte Buffer Pool Attributes</h4><div class="table" id="idm140321698016144"><p class="title"><strong>Table A.63. byte-buffer-pool Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321698010368" scope="col">Attribute</th><th align="left" valign="top" id="idm140321698009280" scope="col">Default</th><th align="left" valign="top" id="idm140321698008192" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321698010368"> <p>
								buffer-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698009280"> </td><td align="left" valign="top" headers="idm140321698008192"> <p>
								The size, in bytes, of each buffer slice. If not specified, the size is set based on the available RAM of your system:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										512 bytes for less than 64 MB RAM
									</li><li class="listitem">
										1024 bytes (1 KB) for 64 MB - 128 MB RAM
									</li><li class="listitem">
										16384 bytes (16 KB) for more than 128 MB RAM
									</li></ul></div>
							 <p>
								For performance tuning advice on this attribute, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#io_buffer_pools" title="This content is not included in Mimir.">Configuring Buffer Pools</a> in the JBoss EAP <span class="emphasis"><em>Performance Tuning Guide</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698010368"> <p>
								direct
							</p>
							 </td><td align="left" valign="top" headers="idm140321698009280"> </td><td align="left" valign="top" headers="idm140321698008192"> <p>
								Boolean value that denotes if this buffer is a direct or heap pool. If not specified, the value is set based on the available RAM of your system:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										If available RAM is &lt; 64MB, the value is set to <code class="literal">false</code>
									</li><li class="listitem">
										If available RAM is &gt;= 64MB, the value is set to <code class="literal">true</code>
									</li></ul></div>
							 <p>
								Note that direct pools also have a corresponding heap pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698010368"> <p>
								leak-detection-percent
							</p>
							 </td><td align="left" valign="top" headers="idm140321698009280"> <p>
								0
							</p>
							 </td><td align="left" valign="top" headers="idm140321698008192"> <p>
								The percentage of buffers that should be allocated with a leak detector.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698010368"> <p>
								max-pool-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698009280"> </td><td align="left" valign="top" headers="idm140321698008192"> <p>
								The maximum number of buffers to keep in the pool. Buffers will still be allocated above this limit, but will not be retained if the pool is full.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321698010368"> <p>
								thread-local-cache-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321698009280"> <p>
								12
							</p>
							 </td><td align="left" valign="top" headers="idm140321698008192"> <p>
								The size of the per-thread cache. This is a maximum size, the cache will use smart sizing to only keep buffers on the thread if the thread is actually allocating buffers.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="servlet_container_attributes">Servlet Container Attributes</h4><p>
				The servlet container component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#servlet_container_attributes-1" title="servlet-container Attributes"><code class="literal">servlet-container</code></a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#mime_mapping_attributes" title="mime-mapping Attributes"><code class="literal">mime-mapping</code></a>
							</li><li class="listitem"><p class="simpara">
								<code class="literal">setting</code>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<a class="link" href="#crawler_session_management_attributes" title="crawler-session-management Attributes"><code class="literal">crawler-session-management</code></a>
									</li><li class="listitem">
										<a class="link" href="#jsp_attributes" title="jsp Attributes"><code class="literal">jsp</code></a>
									</li><li class="listitem">
										<a class="link" href="#persistent_sessions_attributes" title="persistent-sessions Attributes"><code class="literal">persistent-sessions</code></a>
									</li><li class="listitem">
										<a class="link" href="#session_cookie_attributes" title="session-cookie Attributes"><code class="literal">session-cookie</code></a>
									</li><li class="listitem">
										<a class="link" href="#websockets_attributes" title="websockets Attributes"><code class="literal">websockets</code></a>
									</li></ul></div></li><li class="listitem">
								<a class="link" href="#welcome_file_attributes" title="welcome-file Attributes"><code class="literal">welcome-file</code></a>
							</li></ul></div></li></ul></div><h5 id="servlet_container_attributes-1">servlet-container Attributes</h5><div class="table" id="idm140321697950064"><p class="title"><strong>Table A.64. servlet-container Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697944288" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697943200" scope="col">Default</th><th align="left" valign="top" id="idm140321697942112" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								allow-non-standard-wrappers
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								Whether request and response wrappers that do not extend the standard wrapper classes can be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								default-buffer-cache
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								The buffer cache to use for caching static resources.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								default-cookie-version
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								0
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								The default cookie version to use for cookies created by the application.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								default-encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								Default encoding to use for all deployed applications.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								default-session-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								30
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								The default session timeout in minutes for all applications deployed in the container.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								directory-listing
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								If directory listing should be enabled for default servlets.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								disable-caching-for-secured-pages
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								Whether to set headers to disable caching for secured paged. Disabling this can cause security problems, as sensitive pages may be cached by an intermediary.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								disable-file-watch-service
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								If set to <code class="literal">true</code>, then the file watch service will not be used to monitor exploded deployments for changes. This attribute overrides the <code class="literal">io.undertow.disable-file-system-watcher</code> system property.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								disable-session-id-reuse
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								If set to <code class="literal">true</code>, then an unknown session ID will never be reused and a new session ID will be generated. If set to <code class="literal">false</code>, then the session ID will be reused only if it is present in the session manager of another deployment to allow the same session ID to be shared between applications on the same server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								eager-filter-initialization
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								Whether to call filter init() on deployment start rather than when first requested.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								ignore-flush
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								Ignore flushes on the servlet output stream. In most cases these just hurt performance for no good reason.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								max-sessions
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								The maximum number of sessions that can be active at one time.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								proactive-authentication
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								Whether proactive authentication should be used. If this is <code class="literal">true</code>, a user will always be authenticated if credentials are present.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								session-id-length
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								30
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								The length of the generated session ID. Longer session ID’s are more secure.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								stack-trace-on-error
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								local-only
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								If an error page with the stack trace should be generated on error. Values are <code class="literal">all</code>, <code class="literal">none</code> and <code class="literal">local-only</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697944288"> <p>
								use-listener-encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321697943200"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697942112"> <p>
								Use encoding defined on listener.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="mime_mapping_attributes">mime-mapping Attributes</h5><div class="table" id="idm140321697851408"><p class="title"><strong>Table A.65. mime-mapping Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697845648" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697844560" scope="col">Default</th><th align="left" valign="top" id="idm140321697843472" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697845648"> <p>
								value
							</p>
							 </td><td align="left" valign="top" headers="idm140321697844560"> </td><td align="left" valign="top" headers="idm140321697843472"> <p>
								The mime type for this mapping.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="crawler_session_management_attributes">crawler-session-management Attributes</h6><p>
				Configures special session handling for crawler bots.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to manage the <code class="literal">crawler-session-management</code> element, it is available under <code class="literal">settings</code> in the <code class="literal">servlet-container</code> element. For example:
				</p><pre class="screen">/subsystem=undertow/servlet-container=default/setting=crawler-session-management:add
/subsystem=undertow/servlet-container=default/setting=crawler-session-management:read-resource</pre></div></div><div class="table" id="idm140321697831696"><p class="title"><strong>Table A.66. crawler-session-management Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697825920" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697824832" scope="col">Default</th><th align="left" valign="top" id="idm140321697823744" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697825920"> <p>
								session-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321697824832"> </td><td align="left" valign="top" headers="idm140321697823744"> <p>
								The session timeout in seconds for sessions that are owned by crawlers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697825920"> <p>
								user-agents
							</p>
							 </td><td align="left" valign="top" headers="idm140321697824832"> </td><td align="left" valign="top" headers="idm140321697823744"> <p>
								Regular expression that is used to match the user agent of a crawler.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="jsp_attributes">jsp Attributes</h6><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to manage the <code class="literal">jsp</code> element, it is available under <code class="literal">settings</code> in the <code class="literal">servlet-container</code> element. For example:
				</p><pre class="screen">/subsystem=undertow/servlet-container=default/setting=jsp:read-resource</pre></div></div><div class="table" id="idm140321697807696"><p class="title"><strong>Table A.67. jsp Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697801936" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697800848" scope="col">Default</th><th align="left" valign="top" id="idm140321697799760" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								check-interval
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								0
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Check interval for JSP updates using a background thread. This has no effect for most deployments where JSP change notifications are handled using the file system notification API. This only takes effect if the file watch service is disabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								development
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Enable development mode which enables reloading JSP on-the-fly.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								disabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Enable the JSP container.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								display-source-fragment
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								When a runtime error occurs, attempts to display corresponding JSP source fragment.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								dump-smap
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Write SMAP data to a file.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								error-on-use-bean-invalid-class-attribute
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Enable errors when using a bad class in useBean.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								generate-strings-as-char-arrays
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Generate String constants as char arrays.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								java-encoding
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								UTF8
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Specify the encoding used for Java sources.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								keep-generated
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Keep the generated servlets.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								mapped-file
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Map to the JSP source.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								modification-test-interval
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								4
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Minimum amount of time between two tests for updates, in seconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								optimize-scriptlets
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								If JSP scriptlets should be optimized to remove string concatenation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								recompile-on-fail
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Retry failed JSP compilations on each request.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								scratch-dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Specify a different work directory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								smap
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Enable SMAP.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								source-vm
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								1.8
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Source VM level for compilation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								tag-pooling
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Enable tag pooling.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								target-vm
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								1.8
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Target VM level for compilation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								trim-spaces
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Trim some spaces from the generated servlet.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697801936"> <p>
								x-powered-by
							</p>
							 </td><td align="left" valign="top" headers="idm140321697800848"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697799760"> <p>
								Enable advertising the JSP engine in x-powered-by.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="persistent_sessions_attributes">persistent-sessions Attributes</h6><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to manage the <code class="literal">persistent-sessions</code> element, it is available under <code class="literal">settings</code> in the <code class="literal">servlet-container</code> element. For example:
				</p><pre class="screen">/subsystem=undertow/servlet-container=default/setting=persistent-sessions:add
/subsystem=undertow/servlet-container=default/setting=persistent-sessions:read-resource</pre></div></div><div class="table" id="idm140321697688336"><p class="title"><strong>Table A.68. persistent-sessions Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697682560" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697681472" scope="col">Default</th><th align="left" valign="top" id="idm140321697680384" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697682560"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321697681472"> </td><td align="left" valign="top" headers="idm140321697680384"> <p>
								The path to the persistent session data directory. If this is null, sessions will be stored in memory.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697682560"> <p>
								relative-to
							</p>
							 </td><td align="left" valign="top" headers="idm140321697681472"> </td><td align="left" valign="top" headers="idm140321697680384"> <p>
								The directory the path is relative to.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="session_cookie_attributes">session-cookie Attributes</h6><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to manage the <code class="literal">session-cookie</code> element, it is available under <code class="literal">settings</code> in the <code class="literal">servlet-container</code> element. For example:
				</p><pre class="screen">/subsystem=undertow/servlet-container=default/setting=session-cookie:add
/subsystem=undertow/servlet-container=default/setting=session-cookie:read-resource</pre></div></div><div class="table" id="idm140321697664192"><p class="title"><strong>Table A.69. session-cookie Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697658416" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697657328" scope="col">Default</th><th align="left" valign="top" id="idm140321697656240" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697658416"> <p>
								comment
							</p>
							 </td><td align="left" valign="top" headers="idm140321697657328"> </td><td align="left" valign="top" headers="idm140321697656240"> <p>
								Cookie comment.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697658416"> <p>
								domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321697657328"> </td><td align="left" valign="top" headers="idm140321697656240"> <p>
								Cookie domain.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697658416"> <p>
								http-only
							</p>
							 </td><td align="left" valign="top" headers="idm140321697657328"> </td><td align="left" valign="top" headers="idm140321697656240"> <p>
								Whether the cookie is http-only.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697658416"> <p>
								max-age
							</p>
							 </td><td align="left" valign="top" headers="idm140321697657328"> </td><td align="left" valign="top" headers="idm140321697656240"> <p>
								Maximum age of the cookie.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697658416"> <p>
								name
							</p>
							 </td><td align="left" valign="top" headers="idm140321697657328"> </td><td align="left" valign="top" headers="idm140321697656240"> <p>
								Name of the cookie.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697658416"> <p>
								secure
							</p>
							 </td><td align="left" valign="top" headers="idm140321697657328"> </td><td align="left" valign="top" headers="idm140321697656240"> <p>
								Whether the cookie is secure.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="websockets_attributes">websockets Attributes</h6><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to manage the <code class="literal">websockets</code> element, it is available under <code class="literal">settings</code> in the <code class="literal">servlet-container</code> element. For example:
				</p><pre class="screen">/subsystem=undertow/servlet-container=default/setting=websockets:read-resource</pre></div></div><div class="table" id="idm140321697621984"><p class="title"><strong>Table A.70. websockets Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697616224" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697615136" scope="col">Default</th><th align="left" valign="top" id="idm140321697614048" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697616224"> <p>
								buffer-pool
							</p>
							 </td><td align="left" valign="top" headers="idm140321697615136"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321697614048"> <p>
								The buffer pool to use for websocket deployments.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697616224"> <p>
								deflater-level
							</p>
							 </td><td align="left" valign="top" headers="idm140321697615136"> <p>
								0
							</p>
							 </td><td align="left" valign="top" headers="idm140321697614048"> <p>
								Configures the level of compression of the DEFLATE algorithm.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697616224"> <p>
								dispatch-to-worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321697615136"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697614048"> <p>
								Whether callbacks should be dispatched to a worker thread. If this is <code class="literal">false</code>, then they will be run in the IO thread, which is faster however care must be taken not to perform blocking operations.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697616224"> <p>
								per-message-deflate
							</p>
							 </td><td align="left" valign="top" headers="idm140321697615136"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697614048"> <p>
								Enables websocket’s per-message compression extension.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697616224"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321697615136"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321697614048"> <p>
								The worker to use for websocket deployments.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="welcome_file_attributes">welcome-file Attributes</h5><p>
				Defines a welcome file and has no options.
			</p><h4 id="filter_attributes">Filter Attributes</h4><p>
				These components can be found at <code class="literal">/subsystem=undertow/configuration=filter</code>.
			</p><h5 id="custom_filter_filters">custom-filter Filters</h5><div class="table" id="idm140321697578896"><p class="title"><strong>Table A.71. custom-filter Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697573120" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697572032" scope="col">Default</th><th align="left" valign="top" id="idm140321697570944" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697573120"> <p>
								class-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321697572032"> </td><td align="left" valign="top" headers="idm140321697570944"> <p>
								Class name of HttpHandler.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697573120"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321697572032"> </td><td align="left" valign="top" headers="idm140321697570944"> <p>
								Module name where class can be loaded from.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697573120"> <p>
								parameters
							</p>
							 </td><td align="left" valign="top" headers="idm140321697572032"> </td><td align="left" valign="top" headers="idm140321697570944"> <p>
								Filter parameters.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="error_page_filters">error-page Filters</h5><p>
				The error pages
			</p><div class="table" id="idm140321697552896"><p class="title"><strong>Table A.72. error-page Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697547136" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697546048" scope="col">Default</th><th align="left" valign="top" id="idm140321697544960" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697547136"> <p>
								code
							</p>
							 </td><td align="left" valign="top" headers="idm140321697546048"> </td><td align="left" valign="top" headers="idm140321697544960"> <p>
								Error page code.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697547136"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321697546048"> </td><td align="left" valign="top" headers="idm140321697544960"> <p>
								Error page path.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="expression_filter_filters">expression-filter Filters</h5><p>
				A filter parsed from the Undertow expression language.
			</p><div class="table" id="idm140321697531440"><p class="title"><strong>Table A.73. expression-filter Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697525664" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697524576" scope="col">Default</th><th align="left" valign="top" id="idm140321697523488" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697525664"> <p>
								expression
							</p>
							 </td><td align="left" valign="top" headers="idm140321697524576"> </td><td align="left" valign="top" headers="idm140321697523488"> <p>
								The expression that defines the filter.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697525664"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321697524576"> </td><td align="left" valign="top" headers="idm140321697523488"> <p>
								Module to use to load the filter definitions.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="gzip_filters">gzip Filters</h5><p>
				Defines the gzip filter and has no attributes.
			</p><h5 id="mod_cluster_filters">mod-cluster Filters</h5><p>
				The mod-cluster filter component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#mod-cluster-attributes" title="Table A.74. mod-cluster Attributes"><code class="literal">mod-cluster</code></a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								<a class="link" href="#balancer-attributes" title="Table A.75. balancer Attributes"><code class="literal">balancer</code></a>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<a class="link" href="#load-balancing-group-attributes" title="load-balancing-group Attributes"><code class="literal">load-balancing-group</code></a>
									</li><li class="listitem"><p class="simpara">
										<a class="link" href="#node-attributes" title="Table A.76. node Attributes"><code class="literal">node</code></a>
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<a class="link" href="#context-attributes" title="Table A.77. context Attributes"><code class="literal">context</code></a>
											</li></ul></div></li></ul></div></li></ul></div></li></ul></div><div class="table" id="mod-cluster-attributes"><p class="title"><strong>Table A.74. mod-cluster Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697490160" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697489072" scope="col">Default</th><th align="left" valign="top" id="idm140321697487984" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								advertise-frequency
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								10000
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The frequency in milliseconds that mod_cluster advertises itself on the network.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								advertise-path
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								/
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The path that mod_cluster is registered under.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								advertise-protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								http
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The protocol that is in use.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								advertise-socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The multicast group that is used to advertise.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								broken-node-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								60000
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The amount of time that must elapse before a broken node is removed from the table.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								cached-connections-per-thread
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								5
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The number of connections that will be kept alive indefinitely.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								connection-idle-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								60
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The amount of time a connection can be idle before it will be closed. Connections will not time out once the pool size is down to the configured minimum, which is configured by <code class="literal">cached-connections-per-thread</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								connections-per-thread
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								10
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The number of connections that will be maintained to back-end servers, per IO thread.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								enable-http2
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								Whether the load balancer should attempt to upgrade back-end connections to HTTP/2. If HTTP/2 is not supported, HTTP or HTTPS will be used as normal.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								failover-strategy
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								LOAD_BALANCED
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The attribute that determines how a failover node is chosen, in the event that the node to which a session has affinity is not available.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								health-check-interval
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								10000
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The frequency of health check pings to back-end nodes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								http2-enable-push
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								Whether push should be enabled for HTTP/2 connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								http2-header-table-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								4096
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The size of the header table used for HPACK compression, in bytes. This amount of memory will be allocated per connection for compression. Larger values use more memory but may give better compression.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								http2-initial-window-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								65535
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The flow control window size, in bytes, that controls how quickly the client can send data to the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								http2-max-concurrent-streams
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The maximum number of HTTP/2 streams that can be active at any time on a single connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								http2-max-frame-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								16384
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The maximum HTTP/2 frame size, in bytes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								http2-max-header-list-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The maximum size, in bytes, of request headers the server is prepared to accept.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								management-access-predicate
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								A predicate that is applied to incoming requests to determine if they can perform mod cluster management commands. Provides additional security on top of what is provided by limiting management to requests that originate from the <code class="literal">management-socket-binding</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								management-socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The socket binding of the mod_cluster management port. When using mod_cluster two HTTP listeners should be defined, a public one to handle requests, and one bound to the internal network to handle mod cluster commands. This socket binding should correspond to the internal listener, and should not be publicly accessible.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								max-ajp-packet-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								8192
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The maximum size, in bytes, for AJP packets. Increasing this will allow AJP to work for requests and responses that have a large amount of headers. This must be the same between load balancers and backend servers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								max-request-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								-1
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The maximum amount of time that a request to a back-end node can take before it is killed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								max-retries
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The number of times that an attempt to retry a request will be made, if the request fails.
							</p>
							 <div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If a request is not considered idempotent, it will only be retried if the proxy can be sure that it was not sent to the backend server.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								request-queue-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								10
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The number of requests that can be queued if the connection pool is full before requests are rejected with a 503.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								security-key
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The security key that is used for the mod_cluster group. All members must use the same security key.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								security-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The security realm that provides the SSL configuration. <span class="emphasis"><em>Deprecated: Use the <code class="literal">ssl-context</code> attribute to reference a configured SSLContext directly.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The reference to the <code class="literal">SSLContext</code> that is used by the filter.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								use-alias
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								Whether an alias check is performed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697490160"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321697489072"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321697487984"> <p>
								The XNIO worker that is used to send the advertise notifications.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="balancer-attributes"><p class="title"><strong>Table A.75. balancer Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697332432" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697331344" scope="col">Default</th><th align="left" valign="top" id="idm140321697330256" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697332432"> <p>
								max-attempts
							</p>
							 </td><td align="left" valign="top" headers="idm140321697331344"> </td><td align="left" valign="top" headers="idm140321697330256"> <p>
								The number of attempts to send the request to a back-end server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697332432"> <p>
								sticky-session
							</p>
							 </td><td align="left" valign="top" headers="idm140321697331344"> </td><td align="left" valign="top" headers="idm140321697330256"> <p>
								If sticky sessions are enabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697332432"> <p>
								sticky-session-cookie
							</p>
							 </td><td align="left" valign="top" headers="idm140321697331344"> </td><td align="left" valign="top" headers="idm140321697330256"> <p>
								The session cookie name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697332432"> <p>
								sticky-session-force
							</p>
							 </td><td align="left" valign="top" headers="idm140321697331344"> </td><td align="left" valign="top" headers="idm140321697330256"> <p>
								If this is <code class="literal">true</code>, then an error will be returned if the request cannot be routed to the sticky node, otherwise it will be routed to another node.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697332432"> <p>
								sticky-session-path
							</p>
							 </td><td align="left" valign="top" headers="idm140321697331344"> </td><td align="left" valign="top" headers="idm140321697330256"> <p>
								The path of the sticky session cookie.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697332432"> <p>
								sticky-session-remove
							</p>
							 </td><td align="left" valign="top" headers="idm140321697331344"> </td><td align="left" valign="top" headers="idm140321697330256"> <p>
								Remove the session cookie if the request cannot be routed to the correct host.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697332432"> <p>
								wait-worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321697331344"> </td><td align="left" valign="top" headers="idm140321697330256"> <p>
								The number of seconds to wait for an available worker.
							</p>
							 </td></tr></tbody></table></div></div><div id="load-balancing-group-attributes" class="formalpara"><p class="title"><strong>load-balancing-group Attributes</strong></p><p>
					Defines a load balancing group and has no options.
				</p></div><div class="table" id="node-attributes"><p class="title"><strong>Table A.76. node Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697286928" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697285840" scope="col">Default</th><th align="left" valign="top" id="idm140321697284752" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								aliases
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The nodes aliases.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								cache-connections
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The number of connections to keep alive indefinitely.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								elected
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The elected count.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								flush-packets
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								If received data should be immediately flushed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								load
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The current load of this node.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								load-balancing-group
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The load balancing group this node belongs to.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								max-connections
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The maximum number of connections per IO thread.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								open-connections
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The current number of open connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								ping
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The nodes ping.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								queue-new-requests
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								If a request is received and there is no worker immediately available should it be queued.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								read
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The number of bytes read from the node.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								request-queue-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The size of the request queue.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								status
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The current status of this node.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The request timeout.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								ttl
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The time connections will stay alive with no requests before being closed, if the number of connections is larger than <code class="literal">cache-connections</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								uri
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The URI that the load balancer uses to connect to the node.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697286928"> <p>
								written
							</p>
							 </td><td align="left" valign="top" headers="idm140321697285840"> </td><td align="left" valign="top" headers="idm140321697284752"> <p>
								The number of bytes transferred to the node.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="context-attributes"><p class="title"><strong>Table A.77. context Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697197616" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697196528" scope="col">Default</th><th align="left" valign="top" id="idm140321697195440" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697197616"> <p>
								requests
							</p>
							 </td><td align="left" valign="top" headers="idm140321697196528"> </td><td align="left" valign="top" headers="idm140321697195440"> <p>
								The number of requests against this context.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697197616"> <p>
								status
							</p>
							 </td><td align="left" valign="top" headers="idm140321697196528"> </td><td align="left" valign="top" headers="idm140321697195440"> <p>
								The status of this context.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="request_limit_filters">request-limit Filters</h5><div class="table" id="idm140321697182464"><p class="title"><strong>Table A.78. request-limit Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697176688" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697175600" scope="col">Default</th><th align="left" valign="top" id="idm140321697174512" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697176688"> <p>
								max-concurrent-requests
							</p>
							 </td><td align="left" valign="top" headers="idm140321697175600"> </td><td align="left" valign="top" headers="idm140321697174512"> <p>
								Maximum number of concurrent requests.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697176688"> <p>
								queue-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697175600"> </td><td align="left" valign="top" headers="idm140321697174512"> <p>
								Number of requests to queue before they start being rejected.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="response_header_filters">response-header Filters</h5><p>
				Response header filter allows you to add custom headers.
			</p><div class="table" id="idm140321697160944"><p class="title"><strong>Table A.79. response-header Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697155168" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697154080" scope="col">Default</th><th align="left" valign="top" id="idm140321697152992" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697155168"> <p>
								header-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321697154080"> </td><td align="left" valign="top" headers="idm140321697152992"> <p>
								The header name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697155168"> <p>
								header-value
							</p>
							 </td><td align="left" valign="top" headers="idm140321697154080"> </td><td align="left" valign="top" headers="idm140321697152992"> <p>
								The header value.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="rewrite_filters">rewrite Filters</h5><div class="table" id="idm140321697140048"><p class="title"><strong>Table A.80. rewrite Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697134288" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697133200" scope="col">Default</th><th align="left" valign="top" id="idm140321697132112" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697134288"> <p>
								redirect
							</p>
							 </td><td align="left" valign="top" headers="idm140321697133200"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697132112"> <p>
								Whether a redirect will be done instead of a rewrite.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697134288"> <p>
								target
							</p>
							 </td><td align="left" valign="top" headers="idm140321697133200"> </td><td align="left" valign="top" headers="idm140321697132112"> <p>
								The expression that defines the target. If you are redirecting to a constant target put single quotes around the value.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="handler_attributes">Handler Attributes</h4><p>
				These components can be found at <code class="literal">/subsystem=undertow/configuration=handler</code>.
			</p><h5 id="file_attributes">file Attributes</h5><div class="table" id="idm140321697116112"><p class="title"><strong>Table A.81. file Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697110352" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697109264" scope="col">Default</th><th align="left" valign="top" id="idm140321697108176" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697110352"> <p>
								cache-buffer-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697109264"> <p>
								1024
							</p>
							 </td><td align="left" valign="top" headers="idm140321697108176"> <p>
								Size of the buffers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697110352"> <p>
								cache-buffers
							</p>
							 </td><td align="left" valign="top" headers="idm140321697109264"> <p>
								1024
							</p>
							 </td><td align="left" valign="top" headers="idm140321697108176"> <p>
								Number of buffers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697110352"> <p>
								case-sensitive
							</p>
							 </td><td align="left" valign="top" headers="idm140321697109264"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321697108176"> <p>
								Whether to use case-sensitive file handling. Note that setting this to <code class="literal">false</code> for case insensitivity will only work if the underlying file system is case insensitive.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697110352"> <p>
								directory-listing
							</p>
							 </td><td align="left" valign="top" headers="idm140321697109264"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697108176"> <p>
								Whether to enable directory listing.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697110352"> <p>
								follow-symlink
							</p>
							 </td><td align="left" valign="top" headers="idm140321697109264"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321697108176"> <p>
								Whether to enable following symbolic links.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697110352"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321697109264"> </td><td align="left" valign="top" headers="idm140321697108176"> <p>
								Path on the file system from where file handler will serve resources.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697110352"> <p>
								safe-symlink-paths
							</p>
							 </td><td align="left" valign="top" headers="idm140321697109264"> </td><td align="left" valign="top" headers="idm140321697108176"> <p>
								Paths that are safe to be targets of symbolic links.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="using_webdav_for_static_resources_2">Using WebDAV for Static Resources</h5><p>
				Previous versions of JBoss EAP allowed for using WebDAV with the <code class="literal">web</code> subsystem, by way of the <code class="literal">WebdavServlet</code>, to host static resources and enable additional HTTP methods for accessing and manipulating those files. In JBoss EAP 7, the <code class="literal">undertow</code> subsystem does provide a mechanism for serving static files using a file handler, but the <code class="literal">undertow</code> subsystem does not support WebDAV. If you want to use WebDAV with JBoss EAP 7, you can write a custom WebDAV servlet.
			</p><h5 id="reverse_proxy_attributes">reverse-proxy attributes</h5><p>
				The reverse-proxy handler component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#reverse-proxy-attributes" title="Table A.82. reverse-proxy Attributes"><code class="literal">reverse-proxy</code></a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#host-attributes" title="Table A.83. host Attributes"><code class="literal">host</code></a>
							</li></ul></div></li></ul></div><div class="table" id="reverse-proxy-attributes"><p class="title"><strong>Table A.82. reverse-proxy Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321697052032" scope="col">Attribute</th><th align="left" valign="top" id="idm140321697050944" scope="col">Default</th><th align="left" valign="top" id="idm140321697049856" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								cached-connections-per-thread
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								5
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								The number of connections that will be kept alive indefinitely.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								connection-idle-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								60
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								The amount of time a connection can be idle before it will be closed. Connections will not time out once the pool size is down to the configured minimum (as configured by cached-connections-per-thread).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								connections-per-thread
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								40
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								The number of connections that will be maintained to back-end servers, per IO thread.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								max-request-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								-1
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								The maximum time that a proxy request can be active for, before being killed. Defaults to unlimited.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								max-retries
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								The number of times that an attempt to retry a request will be made, if the request fails.
							</p>
							 <div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If a request is not considered idempotent, it will only be retried if the proxy can be sure that it was not sent to the backend server.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								problem-server-retry
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								30
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								Time in seconds to wait before attempting to reconnect to a server that is down.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								request-queue-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								10
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								The number of requests that can be queued if the connection pool is full before requests are rejected with a 503.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321697052032"> <p>
								session-cookie-names
							</p>
							 </td><td align="left" valign="top" headers="idm140321697050944"> <p>
								JSESSIONID
							</p>
							 </td><td align="left" valign="top" headers="idm140321697049856"> <p>
								Comma-separated list of session cookie names. Generally this will just be JSESSIONID.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="host-attributes"><p class="title"><strong>Table A.83. host Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696997824" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696996736" scope="col">Default</th><th align="left" valign="top" id="idm140321696995648" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696997824"> <p>
								enable-http2
							</p>
							 </td><td align="left" valign="top" headers="idm140321696996736"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696995648"> <p>
								If <code class="literal">true</code>, then the proxy will attempt to use HTTP/2 to connect to the back end. If it is not supported, it will fall back to HTTP/1.1.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696997824"> <p>
								instance-id
							</p>
							 </td><td align="left" valign="top" headers="idm140321696996736"> </td><td align="left" valign="top" headers="idm140321696995648"> <p>
								The instance ID, or JVM route, that will be used to enable sticky sessions.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696997824"> <p>
								outbound-socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696996736"> </td><td align="left" valign="top" headers="idm140321696995648"> <p>
								Outbound socket binding for this host.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696997824"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321696996736"> <p>
								/
							</p>
							 </td><td align="left" valign="top" headers="idm140321696995648"> <p>
								Optional path if host is using non root resource.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696997824"> <p>
								scheme
							</p>
							 </td><td align="left" valign="top" headers="idm140321696996736"> <p>
								http
							</p>
							 </td><td align="left" valign="top" headers="idm140321696995648"> <p>
								The kind of scheme that is used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696997824"> <p>
								security-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321696996736"> </td><td align="left" valign="top" headers="idm140321696995648"> <p>
								The security realm that provides the SSL configuration for the connection to the host.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696997824"> <p>
								ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321696996736"> </td><td align="left" valign="top" headers="idm140321696995648"> <p>
								Reference to the SSLContext to be used by this handler.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="server_attributes">Server Attributes</h4><p>
				The server component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#server-attributes-ref" title="server Attributes"><code class="literal">server</code></a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#ajp_listener_attributes" title="ajp-listener Attributes"><code class="literal">ajp-listener</code></a>
							</li><li class="listitem"><p class="simpara">
								<a class="link" href="#undertow_server_host_attr" title="host Attributes"><code class="literal">host</code></a>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<a class="link" href="#filter_ref_attributes" title="filter-ref Attributes"><code class="literal">filter-ref</code></a>
									</li><li class="listitem"><p class="simpara">
										<a class="link" href="#location_attributes" title="location Attributes"><code class="literal">location</code></a>
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<a class="link" href="#location_filter_ref" title="filter-ref Attributes"><code class="literal">filter-ref</code></a>
											</li></ul></div></li><li class="listitem"><p class="simpara">
										<code class="literal">setting</code>
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<a class="link" href="#access_log_attributes" title="access-log Attributes"><code class="literal">access-log</code></a>
											</li><li class="listitem">
												<a class="link" href="#console_access_log_attributes" title="console-access-log Attributes"><code class="literal">console-access-log</code></a>
											</li><li class="listitem">
												<a class="link" href="#http_invoker_attributes" title="http-invoker Attributes"><code class="literal">http-invoker</code></a>
											</li><li class="listitem">
												<a class="link" href="#single-sign-on_attributes" title="single-sign-on Attributes"><code class="literal">single-sign-on</code></a>
											</li></ul></div></li></ul></div></li><li class="listitem">
								<a class="link" href="#http_listener_attributes" title="http-listener Attributes"><code class="literal">http-listener</code></a>
							</li><li class="listitem">
								<a class="link" href="#https_listener_attributes" title="https-listener Attributes"><code class="literal">https-listener</code></a>
							</li></ul></div></li></ul></div><h5 id="server-attributes-ref">server Attributes</h5><div class="table" id="idm140321696928832"><p class="title"><strong>Table A.84. server Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696923072" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696921984" scope="col">Default</th><th align="left" valign="top" id="idm140321696920896" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696923072"> <p>
								default-host
							</p>
							 </td><td align="left" valign="top" headers="idm140321696921984"> <p>
								default-host
							</p>
							 </td><td align="left" valign="top" headers="idm140321696920896"> <p>
								The server’s default virtual host.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696923072"> <p>
								servlet-container
							</p>
							 </td><td align="left" valign="top" headers="idm140321696921984"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696920896"> <p>
								The server’s default servlet container.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="ajp_listener_attributes">ajp-listener Attributes</h5><div class="table" id="idm140321696906464"><p class="title"><strong>Table A.85. ajp-listener Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696900704" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696899616" scope="col">Default</th><th align="left" valign="top" id="idm140321696898528" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								allow-encoded-slash
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								If a request comes in with encoded characters, for example <code class="literal">%2F</code>, whether these will be decoded.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								allow-equals-in-cookie-value
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Whether to allow non-escaped equals characters in unquoted cookie values. Unquoted cookie values may not contain equals characters. If present the value ends before the equals sign. The remainder of the cookie value will be dropped.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								allow-unescaped-characters-in-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Whether to allow non-escaped characters in a URL. If set to <code class="literal">true</code>, the listener processes any URL containing non-escaped, non-ASCII characters. If set to <code class="literal">false</code>, the listener rejects any URL containing non-escaped, non-ASCII characters with an <code class="literal">HTTP Bad Request 400</code> response code.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								always-set-keep-alive
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Whether a Connection: keep-alive header will be added to responses, even when it is not strictly required by the specification.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								buffer-pipelined-data
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Whether to buffer pipelined requests.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								buffer-pool
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The AJP listener’s buffer pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								decode-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								If this is <code class="literal">true</code> then the parser will decode the URL and query parameters using the selected character encoding, defaulting to UTF-8. If this is false they will not be decoded. This will allow a later handler to decode them into whatever charset is desired.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								disallowed-methods
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								["TRACE"]
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								A comma-separated list of HTTP methods that are not allowed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								If the listener is enabled. <span class="emphasis"><em>Deprecated: Enabled attributes can cause problems in enforcement of configuration consistency.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-ajp-packet-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								8192
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum supported size of AJP packets. If this is modified it has be increased on the load balancer and the back-end server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-buffered-request-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								16384
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Maximum size of a buffered request, in bytesRequests are not usually buffered, the most common case is when performing SSL renegotiation for a POST request, and the post data must be fully buffered in order to perform the renegotiation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-connections
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum number of concurrent connections. If no value is set in the server configuration, the limit for the number of concurrent connections is <code class="literal">Integer.MAX_VALUE</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-cookies
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								200
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum number of cookies that will be parsed. This is used to protect against hash vulnerabilities.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-header-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								1048576
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum size in bytes of an HTTP request header.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-headers
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								200
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum number of headers that will be parsed. This is used to protect against hash vulnerabilities.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-parameters
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								1000
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum number of parameters that will be parsed. This is used to protect against hash vulnerabilities. This applies to both query parameters, and to POST data, but is not cumulative. For example, you can potentially have max parameters * 2 total parameters.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								max-post-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								10485760
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum size of a post that will be accepted
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								no-request-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								60000
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The length of time in milliseconds that the connection can be idle before it is closed by the container.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								read-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Configure a read timeout for a socket, in milliseconds. If the given amount of time elapses without a successful read taking place, the socket’s next read will throw a <code class="literal">ReadTimeoutException</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								receive-buffer
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The receive buffer size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								record-request-start-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Whether to record the request start time, to allow for request time to be logged. This has a small but measurable performance impact.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								redirect-socket
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								If this listener is supporting non-SSL requests, and a request is received for which a matching requires SSL transport, whether to automatically redirect the request to the socket binding port specified here.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								request-parse-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The maximum amount of time in milliseconds that can be spent parsing the request.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								resolve-peer-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Enables host DNS lookup.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								scheme
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The listener scheme, can be HTTP or HTTPS. By default the scheme will be taken from the incoming AJP request.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								secure
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								If this is <code class="literal">true</code>, then requests that originate from this listener are marked as secure, even if the request is not using HTTPS.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								send-buffer
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The send buffer size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The AJP listener’s socket binding.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								tcp-backlog
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Configure a server with the specified backlog.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								tcp-keep-alive
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Configure a channel to send TCP keep-alive messages in an implementation-dependent manner.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								url-charset
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								UTF-8
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								URL charset.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								The listener’s XNIO worker.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696900704"> <p>
								write-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696899616"> </td><td align="left" valign="top" headers="idm140321696898528"> <p>
								Configure a write timeout for a socket, in milliseconds. If the given amount of time elapses without a successful write taking place, the socket’s next write will throw a <code class="literal">WriteTimeoutException</code>.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="undertow_server_host_attr">host Attributes</h5><div class="table" id="idm140321696721408"><p class="title"><strong>Table A.86. host Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696715648" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696714560" scope="col">Default</th><th align="left" valign="top" id="idm140321696713472" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696715648"> <p>
								alias
							</p>
							 </td><td align="left" valign="top" headers="idm140321696714560"> </td><td align="left" valign="top" headers="idm140321696713472"> <p>
								Comma-separated list of aliases for the host.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696715648"> <p>
								default-response-code
							</p>
							 </td><td align="left" valign="top" headers="idm140321696714560"> <p>
								404
							</p>
							 </td><td align="left" valign="top" headers="idm140321696713472"> <p>
								If set, this will be response code sent back in case requested context does not exist on server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696715648"> <p>
								default-web-module
							</p>
							 </td><td align="left" valign="top" headers="idm140321696714560"> <p>
								ROOT.war
							</p>
							 </td><td align="left" valign="top" headers="idm140321696713472"> <p>
								Default web module.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696715648"> <p>
								disable-console-redirect
							</p>
							 </td><td align="left" valign="top" headers="idm140321696714560"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696713472"> <p>
								If set to <code class="literal">true</code>, <code class="literal">/console</code> redirect will not be enabled for this host.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696715648"> <p>
								queue-requests-on-start
							</p>
							 </td><td align="left" valign="top" headers="idm140321696714560"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696713472"> <p>
								If set to <code class="literal">true</code>, requests should be queued on start for this host. If set to <code class="literal">false</code>, the default response code is returned instead.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="filter_ref_attributes">filter-ref Attributes</h5><div class="table" id="idm140321696682128"><p class="title"><strong>Table A.87. filter-ref Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696676368" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696675280" scope="col">Default</th><th align="left" valign="top" id="idm140321696674192" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696676368"> <p>
								predicate
							</p>
							 </td><td align="left" valign="top" headers="idm140321696675280"> </td><td align="left" valign="top" headers="idm140321696674192"> <p>
								Predicates provide a simple way of making a true/false decision based on an exchange. Many handlers have a requirement that they be applied conditionally, and predicates provide a general way to specify a condition.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696676368"> <p>
								priority
							</p>
							 </td><td align="left" valign="top" headers="idm140321696675280"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321696674192"> <p>
								Defines filter order. A lower number instructs the server to be included earlier in the handler chain than others above the same context. Values range from <code class="literal">1</code>, indicating the filter will be handled first, to <code class="literal">2147483647</code>, resulting in the filter being handled last.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="location_attributes">location Attributes</h5><div class="table" id="idm140321696659248"><p class="title"><strong>Table A.88. location Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696653488" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696652400" scope="col">Default</th><th align="left" valign="top" id="idm140321696651312" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696653488"> <p>
								handler
							</p>
							 </td><td align="left" valign="top" headers="idm140321696652400"> </td><td align="left" valign="top" headers="idm140321696651312"> <p>
								Default handler for this location.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="location_filter_ref">filter-ref Attributes</h6><div class="table" id="idm140321696643232"><p class="title"><strong>Table A.89. filter-ref Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696637472" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696636384" scope="col">Default</th><th align="left" valign="top" id="idm140321696635296" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696637472"> <p>
								predicate
							</p>
							 </td><td align="left" valign="top" headers="idm140321696636384"> </td><td align="left" valign="top" headers="idm140321696635296"> <p>
								Predicates provide a simple way of making a true/false decision based on an exchange. Many handlers have a requirement that they be applied conditionally, and predicates provide a general way to specify a condition.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696637472"> <p>
								priority
							</p>
							 </td><td align="left" valign="top" headers="idm140321696636384"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321696635296"> <p>
								Defines filter order. It should be set to 1 or more. A higher number instructs the server to be included earlier in the handler chain than others under the same context.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="access_log_attributes">access-log Attributes</h6><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to manage the <code class="literal">access-log</code> element, it is available under <code class="literal">settings</code> in the <code class="literal">host</code> element. For example:
				</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=access-log:add
/subsystem=undertow/server=default-server/host=default-host/setting=access-log:read-resource</pre></div></div><div class="table" id="idm140321696618240"><p class="title"><strong>Table A.90. access-log Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696612480" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696611392" scope="col">Default</th><th align="left" valign="top" id="idm140321696610304" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								directory
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								${jboss.server.log.dir}
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								The directory in which to save logs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								extended
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								Whether the log uses the extended log file format.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								pattern
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								common
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								The access log pattern. For details about the options available for this attribute, see <a class="link" href="/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/development_guide/index/#undertow_available_handlers">Provided Undertow Handlers</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
							</p>
							 <div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If you set the <code class="literal">pattern</code> to print the time taken to process the request, you must also enable the <code class="literal">record-request-start-time</code> attribute on the appropriate listeners; otherwise the time will not be recorded properly in the access log. For example:
								</p><pre class="screen">/subsystem=undertow/server=default-server/http-listener=default:write-attribute(name=record-request-start-time,value=true)</pre></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								predicate
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								Predicate that determines whether the request should be logged.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								prefix
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								access_log.
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								Prefix for the log file name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								relative-to
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								The directory the path is relative to.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								rotate
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								Whether to rotate the access log every day.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								suffix
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								log
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								Suffix for the log file name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								use-server-log
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								Whether the log should be written to the server log, rather than a separate file.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696612480"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321696611392"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696610304"> <p>
								Name of the worker to use for logging.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="console_access_log_attributes">console-access-log Attributes</h6><div class="table" id="idm140321696551088"><p class="title"><strong>Table A.91. console-access-log attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696545312" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696544224" scope="col">Default</th><th align="left" valign="top" id="idm140321696543136" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696545312"> <p>
								attributes
							</p>
							 </td><td align="left" valign="top" headers="idm140321696544224"> <p>
								{remote-host={},remote-user={},date-time={},request-line={},response-code={},bytes-sent={}}
							</p>
							 </td><td align="left" valign="top" headers="idm140321696543136"> <p>
								Specifies log data to include in the console access log output, or customizations to default data.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696545312"> <p>
								include-host-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321696544224"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696543136"> <p>
								Specifies whether to include the host name in the JSON structured output. If set to <code class="literal">true</code> the key in the structured data is "hostName" and the value is the name of the host for which the console-access-log is configured.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696545312"> <p>
								metadata
							</p>
							 </td><td align="left" valign="top" headers="idm140321696544224"> </td><td align="left" valign="top" headers="idm140321696543136"> <p>
								Specifies custom metadata to include in console access log output.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696545312"> <p>
								predicate
							</p>
							 </td><td align="left" valign="top" headers="idm140321696544224"> </td><td align="left" valign="top" headers="idm140321696543136"> <p>
								Predicate that determines whether the request should be logged.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696545312"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321696544224"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696543136"> <p>
								Name of the worker to use for logging.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="http_invoker_attributes">http-invoker Attributes</h6><div class="table" id="http-invoker_attributes"><p class="title"><strong>Table A.92. http-invoker Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696507312" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696506224" scope="col">Default</th><th align="left" valign="top" id="idm140321696505136" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696507312"> <p>
								http-authentication-factory
							</p>
							 </td><td align="left" valign="top" headers="idm140321696506224"> </td><td align="left" valign="top" headers="idm140321696505136"> <p>
								The HTTP authentication factory to use for authentication.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696507312"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321696506224"> <p>
								wildfly-services
							</p>
							 </td><td align="left" valign="top" headers="idm140321696505136"> <p>
								The path that the services are installed under.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696507312"> <p>
								security-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321696506224"> </td><td align="left" valign="top" headers="idm140321696505136"> <p>
								The legacy security realm to use for authentication.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="single_sign_on_attributes">single-sign-on Attributes</h6><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to manage the <code class="literal">single-sign-on</code> element, it is available under <code class="literal">settings</code> in the <code class="literal">host</code> element. For example:
				</p><pre class="screen">/subsystem=undertow/server=default-server/host=default-host/setting=single-sign-on:add
/subsystem=undertow/server=default-server/host=default-host/setting=single-sign-on:read-resource</pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					While distributed single sign-on is no different from an application perspective from previous versions of JBoss EAP, in JBoss EAP 7 the caching and distribution of authentication information is handled differently. For JBoss EAP 7, when running the <span class="emphasis"><em>ha</em></span> profile, by default each host will have its own Infinispan cache which will store the relevant session and SSO cookie information. This cache is based on the default cache of the web cache container. JBoss EAP will also handle propagating information between all hosts' individual caches.
				</p></div></div><div class="table" id="idm140321696481456"><p class="title"><strong>Table A.93. single-sign-on Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696475680" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696474592" scope="col">Default</th><th align="left" valign="top" id="idm140321696473504" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696475680"> <p>
								cookie-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321696474592"> <p>
								JSESSIONIDSSO
							</p>
							 </td><td align="left" valign="top" headers="idm140321696473504"> <p>
								Name of the cookie.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696475680"> <p>
								domain
							</p>
							 </td><td align="left" valign="top" headers="idm140321696474592"> </td><td align="left" valign="top" headers="idm140321696473504"> <p>
								The cookie domain that will be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696475680"> <p>
								http-only
							</p>
							 </td><td align="left" valign="top" headers="idm140321696474592"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696473504"> <p>
								Set cookie httpOnly attribute.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696475680"> <p>
								path
							</p>
							 </td><td align="left" valign="top" headers="idm140321696474592"> <p>
								/
							</p>
							 </td><td align="left" valign="top" headers="idm140321696473504"> <p>
								Cookie path.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696475680"> <p>
								secure
							</p>
							 </td><td align="left" valign="top" headers="idm140321696474592"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696473504"> <p>
								Set cookie secure attribute.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="http_listener_attributes">http-listener Attributes</h5><div class="table" id="idm140321696444176"><p class="title"><strong>Table A.94. http-listener Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696438400" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696437312" scope="col">Default</th><th align="left" valign="top" id="idm140321696436224" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								allow-encoded-slash
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								If a request comes in with encoded characters, for example <code class="literal">%2F</code>, whether these will be decoded.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								allow-equals-in-cookie-value
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether to allow non-escaped equals characters in unquoted cookie values. Unquoted cookie values may not contain equals characters. If present the value ends before the equals sign. The remainder of the cookie value will be dropped.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								allow-unescaped-characters-in-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether to allow non-escaped characters in a URL. If set to <code class="literal">true</code>, the listener processes any URL containing non-escaped, non-ASCII characters. If set to <code class="literal">false</code>, the listener rejects any URL containing non-escaped, non-ASCII characters with an <code class="literal">HTTP Bad Request 400</code> response code.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								always-set-keep-alive
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether a Connection: keep-alive header will be added to responses, even when it is not strictly required by the specification.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								buffer-pipelined-data
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether to buffer pipelined requests.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								buffer-pool
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The listener’s buffer pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								certificate-forwarding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether certificate forwarding should be enabled. If this is enabled then the listener will take the certificate from the <code class="literal">SSL_CLIENT_CERT</code> attribute. This should only be enabled if behind a proxy, and the proxy is configured to always set these headers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								decode-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether the parser will decode the URL and query parameters using the selected character encoding, defaulting to UTF-8. If this is false they will not be decoded. This will allow a later handler to decode them into whatever charset is desired.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								disallowed-methods
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								["TRACE"]
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								A comma-separated list of HTTP methods that are not allowed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								enable-http2
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether to enable HTTP/2 support for this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether the listener is enabled. <span class="emphasis"><em>Deprecated: Enabled attributes can cause problems in enforcement of configuration consistency.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								http2-enable-push
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether server push is enabled for this connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								http2-header-table-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								4096
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The size, in bytes, of the header table used for HPACK compression. This amount of memory will be allocated per connection for compression. Larger values use more memory but may give better compression.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								http2-initial-window-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								65535
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The flow control window size, in bytes, that controls how quickly the client can send data to the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								http2-max-concurrent-streams
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum number of HTTP/2 streams that can be active at any time on a single connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								http2-max-frame-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								16384
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum HTTP/2 frame size, in bytes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								http2-max-header-list-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum size of request headers the server is prepared to accept.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								max-buffered-request-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								16384
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Maximum size of a buffered request, in bytesRequests are not usually buffered, the most common case is when performing SSL renegotiation for a POST request, and the post data must be fully buffered in order to perform the renegotiation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								max-connections
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum number of concurrent connections. If no value is set in the server configuration, the limit for the number of concurrent connections is <code class="literal">Integer.MAX_VALUE</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								max-cookies
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								200
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum number of cookies that will be parsed. This is used to protect against hash vulnerabilities.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								max-header-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								1048576
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum size in bytes of an HTTP request header.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								max-headers
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								200
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum number of headers that will be parsed. This is used to protect against hash vulnerabilities.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								max-parameters
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								1000
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum number of parameters that will be parsed. This is used to protect against hash vulnerabilities. This applies to both query parameters, and to POST data, but is not cumulative. For example, you can potentially have max parameters * 2 total parameters).
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								max-post-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								10485760
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum size of a post that will be accepted.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								no-request-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								60000
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The length of time in milliseconds that the connection can be idle before it is closed by the container.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								proxy-address-forwarding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether to enable x-forwarded-host and similar headers and set a remote IP address and host name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								proxy-protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether to use the PROXY protocol to transport connection information. If set to <code class="literal">true</code>, the listener uses the PROXY protocol Version 1, as defined by <a class="link mimir-link-warn" href="https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt" title="Mimir does not include content from: www.haproxy.org">The PROXY protocol Versions 1 &amp; 2</a> specification. This option must only be enabled for listeners that are behind a load balancer that supports the same protocol.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								read-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Configure a read timeout for a socket, in milliseconds. If the given amount of time elapses without a successful read taking place, the socket’s next read will throw a <code class="literal">ReadTimeoutException</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								receive-buffer
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The receive buffer size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								record-request-start-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Whether to record the request start time, to allow for request time to be logged. This has a small but measurable performance impact.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								redirect-socket
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								If this listener is supporting non-SSL requests, and a request is received for which a matching requires SSL transport, whether to automatically redirect the request to the socket binding port specified here.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								request-parse-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The maximum amount of time in milliseconds that can be spent parsing the request.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								require-host-http11
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								It requires all HTTP/1.1 requests to have a <code class="literal">Host</code> header. If the request does not include this header it will be rejected with a 403 error.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								resolve-peer-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Enables host DNS lookup.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								secure
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								If this is <code class="literal">true</code>, requests that originate from this listener are marked as secure, even if the request is not using HTTPS.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								send-buffer
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The send buffer size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The listener’s socket binding
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								tcp-backlog
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Configure a server with the specified backlog.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								tcp-keep-alive
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Configure a channel to send TCP keep-alive messages in an implementation-dependent manner.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								url-charset
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								UTF-8
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								URL charset.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								The listener’s XNIO worker.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696438400"> <p>
								write-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696437312"> </td><td align="left" valign="top" headers="idm140321696436224"> <p>
								Configure a write timeout for a socket, in milliseconds. If the given amount of time elapses without a successful write taking place, the socket’s next write will throw a <code class="literal">WriteTimeoutException</code>.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="https_listener_attributes">https-listener Attributes</h5><div class="table" id="idm140321696209648"><p class="title"><strong>Table A.95. https-listener Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321696203872" scope="col">Attribute</th><th align="left" valign="top" id="idm140321696202784" scope="col">Default</th><th align="left" valign="top" id="idm140321696201696" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								allow-encoded-slash
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								If a request comes in with encoded characters, for example <code class="literal">%2F</code>, whether these will be decoded.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								allow-equals-in-cookie-value
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether to allow non-escaped equals characters in unquoted cookie values. Unquoted cookie values may not contain equals characters. If present the value ends before the equals sign. The remainder of the cookie value will be dropped.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								allow-unescaped-characters-in-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether to allow non-escaped characters in a URL. If set to <code class="literal">true</code>, the listener processes any URL containing non-escaped, non-ASCII characters. If set to <code class="literal">false</code>, the listener rejects any URL containing non-escaped, non-ASCII characters with an <code class="literal">HTTP Bad Request 400</code> response code.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								always-set-keep-alive
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether a Connection: keep-alive header will be added to responses, even when it is not strictly required by the specification.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								buffer-pipelined-data
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether to buffer pipelined requests.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								buffer-pool
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The listener’s buffer pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								certificate-forwarding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether certificate forwarding should be enabled or not. If this is enabled then the listener will take the certificate from the <code class="literal">SSL_CLIENT_CERT</code> attribute. This should only be enabled if behind a proxy, and the proxy is configured to always set these headers.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								decode-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether the parser will decode the URL and query parameters using the selected character encoding, defaulting to UTF-8. If this is false they will not be decoded. This will allow a later handler to decode them into whatever charset is desired.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								disallowed-methods
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								["TRACE"]
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								A comma-separated list of HTTP methods that are not allowed.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								enable-http2
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Enables HTTP/2 support for this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								enable-spdy
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Enables SPDY support for this listener. <span class="emphasis"><em>Deprecated: SPDY has been replaced by HTTP/2.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								If the listener is enabled. <span class="emphasis"><em>Deprecated: Enabled attributes can cause problems in enforcement of configuration consistency.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								enabled-cipher-suites
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Configures Enabled SSL ciphers. <span class="emphasis"><em>Deprecated: Where an SSLContext is referenced it should be configured with the cipher suites to be supported.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								enabled-protocols
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Configures SSL protocols. <span class="emphasis"><em>Deprecated: Where an SSLContext is referenced it should be configured with the cipher suites to be supported.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								http2-enable-push
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								If server push is enabled for this connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								http2-header-table-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								4096
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The size, in bytes, of the header table used for HPACK compression. This amount of memory will be allocated per connection for compression. Larger values use more memory but may give better compression.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								http2-initial-window-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								65535
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The flow control window size, in bytes, that controls how quickly the client can send data to the server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								http2-max-concurrent-streams
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum number of HTTP/2 streams that can be active at any time on a single connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								http2-max-frame-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								16384
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum HTTP/2 frame size, in bytes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								http2-max-header-list-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum size of request headers the server is prepared to accept.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								max-buffered-request-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								16384
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Maximum size of a buffered request, in bytesRequests are not usually buffered, the most common case is when performing SSL renegotiation for a POST request, and the post data must be fully buffered in order to perform the renegotiation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								max-connections
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum number of concurrent connections. If no value is set in the server configuration, the limit for the number of concurrent connections is <code class="literal">Integer.MAX_VALUE</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								max-cookies
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								100
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum number of cookies that will be parsed. This is used to protect against hash vulnerabilities.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								max-header-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								1048576
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum size in bytes of an HTTP request header.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								max-headers
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								200
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum number of headers that will be parsed. This is used to protect against hash vulnerabilities.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								max-parameters
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								1000
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum number of parameters that will be parsed. This is used to protect against hash vulnerabilities. This applies to both query parameters, and to POST data, but is not cumulative. For example, you can potentially have max parameters * 2 total parameters.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								max-post-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								10485760
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum size of a post that will be accepted.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								no-request-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								60000
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The length of time in milliseconds that the connection can be idle before it is closed by the container.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								proxy-address-forwarding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Enables handling of x-forwarded-host header, and other x-forwarded-* headers, and uses this header information to set the remote address. This should only be used behind a trusted proxy that sets these headers otherwise a remote user can spoof their IP address.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								proxy-protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether to use the PROXY protocol to transport connection information. If set to <code class="literal">true</code>, the listener uses the PROXY protocol Version 1, as defined by <a class="link mimir-link-warn" href="https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt" title="Mimir does not include content from: www.haproxy.org">The PROXY protocol Versions 1 &amp; 2</a> specification. This option must only be enabled for listeners that are behind a load balancer that supports the same protocol.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								read-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Configure a read timeout for a socket, in milliseconds. If the given amount of time elapses without a successful read taking place, the socket’s next read will throw a <code class="literal">ReadTimeoutException</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								receive-buffer
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The receive buffer size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								record-request-start-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Whether to record the request start time, to allow for request time to be logged. This has a small but measurable performance impact.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								request-parse-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum amount of time in milliseconds that can be spent parsing the request.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								require-host-http11
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Require that all HTTP/1.1 requests have a 'Host' header. If the request does not include this header it will be rejected with a 403.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								resolve-peer-address
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Enables host DNS lookup.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								secure
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								If this is <code class="literal">true</code> then requests that originate from this listener are marked as secure, even if the request is not using HTTPS.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								security-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The listener’s security realm. <span class="emphasis"><em>Deprecated: Use the <code class="literal">ssl-context</code> attribute to reference a configured SSLContext directly.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								send-buffer
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The send buffer size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The listener’s socket binding.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Reference to the SSLContext to be used by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								ssl-session-cache-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The maximum number of active SSL sessions. <span class="emphasis"><em>Deprecated: This can now be configured on the Elytron security context.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								ssl-session-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The timeout for SSL sessions, in seconds. <span class="emphasis"><em>Deprecated: This can now be configured on the Elytron security context.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								tcp-backlog
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Configure a server with the specified backlog.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								tcp-keep-alive
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Configure a channel to send TCP keep-alive messages in an implementation-dependent manner.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								url-charset
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								UTF-8
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								URL charset.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								verify-client
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								NOT_REQUESTED
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The desired SSL client authentication mode for SSL channels. <span class="emphasis"><em>Deprecated: Where an SSLContext is referenced it should be configured directly for the required mode of client verification.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> <p>
								default
							</p>
							 </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								The listener’s XNIO worker.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321696203872"> <p>
								write-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321696202784"> </td><td align="left" valign="top" headers="idm140321696201696"> <p>
								Configure a write timeout for a socket, in milliseconds. If the given amount of time elapses without a successful write taking place, the socket’s next write will throw a <code class="literal">WriteTimeoutException</code>.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="undertow_subsystem_statistics"><div class="titlepage"><div><div><h2 class="title">A.28. Undertow Subsystem Statistics</h2></div></div></div><div class="table" id="idm140321690070704"><p class="title"><strong>Table A.96. <code class="literal">ajp-listener</code> Statistics</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690065552" scope="col">Name</th><th align="left" valign="top" id="idm140321690064464" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690065552"> <p>
								bytes-received
							</p>
							 </td><td align="left" valign="top" headers="idm140321690064464"> <p>
								The number of bytes that have been received by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690065552"> <p>
								bytes-sent
							</p>
							 </td><td align="left" valign="top" headers="idm140321690064464"> <p>
								The number of bytes that have been sent out on this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690065552"> <p>
								error-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321690064464"> <p>
								The number of 500 responses that have been sent by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690065552"> <p>
								max-processing-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321690064464"> <p>
								The maximum processing time taken by a request on this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690065552"> <p>
								processing-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321690064464"> <p>
								The total processing time of all requests handed by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690065552"> <p>
								request-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321690064464"> <p>
								The number of requests this listener has served.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321690040096"><p class="title"><strong>Table A.97. <code class="literal">http-listener</code> Statistics</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690034944" scope="col">Name</th><th align="left" valign="top" id="idm140321690033856" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690034944"> <p>
								bytes-received
							</p>
							 </td><td align="left" valign="top" headers="idm140321690033856"> <p>
								The number of bytes that have been received by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690034944"> <p>
								bytes-sent
							</p>
							 </td><td align="left" valign="top" headers="idm140321690033856"> <p>
								The number of bytes that have been sent out on this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690034944"> <p>
								error-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321690033856"> <p>
								The number of 500 responses that have been sent by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690034944"> <p>
								max-processing-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321690033856"> <p>
								The maximum processing time taken by a request on this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690034944"> <p>
								processing-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321690033856"> <p>
								The total processing time of all requests handed by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690034944"> <p>
								request-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321690033856"> <p>
								The number of requests this listener has served.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321690009488"><p class="title"><strong>Table A.98. <code class="literal">https-listener</code> Statistics</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"><!--Empty--></col><col style="width: 70%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321690004336" scope="col">Name</th><th align="left" valign="top" id="idm140321690003248" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321690004336"> <p>
								bytes-received
							</p>
							 </td><td align="left" valign="top" headers="idm140321690003248"> <p>
								The number of bytes that have been received by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690004336"> <p>
								bytes-sent
							</p>
							 </td><td align="left" valign="top" headers="idm140321690003248"> <p>
								The number of bytes that have been sent out on this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690004336"> <p>
								error-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321690003248"> <p>
								The number of 500 responses that have been sent by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690004336"> <p>
								max-processing-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321690003248"> <p>
								The maximum processing time taken by a request on this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690004336"> <p>
								processing-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321690003248"> <p>
								The total processing time of all requests handed by this listener.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321690004336"> <p>
								request-count
							</p>
							 </td><td align="left" valign="top" headers="idm140321690003248"> <p>
								The number of requests this listener has served.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="default_behavior_http_methods"><div class="titlepage"><div><div><h2 class="title">A.29. Default Behavior of HTTP Methods</h2></div></div></div><p>
				Compared to the <code class="literal">web</code> subsystem in previous JBoss EAP releases, the <code class="literal">undertow</code> subsystem in JBoss EAP 7.3 has different default behaviors of HTTP methods. The following table outlines the default behaviors in JBoss EAP 7.3.
			</p><div class="table" id="idm140321689975600"><p class="title"><strong>Table A.99. HTTP Method Default Behavior</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 30%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689968896" scope="col">HTTP Method</th><th align="left" valign="top" id="idm140321689967808" scope="col">JSP</th><th align="left" valign="top" id="idm140321689966720" scope="col">Static HTML</th><th align="left" valign="top" id="idm140321689965632" scope="col">Static HTML by File Handler</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689968896"> <p>
								GET
							</p>
							 </td><td align="left" valign="top" headers="idm140321689967808"> <p>
								OK
							</p>
							 </td><td align="left" valign="top" headers="idm140321689966720"> <p>
								OK
							</p>
							 </td><td align="left" valign="top" headers="idm140321689965632"> <p>
								OK
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689968896"> <p>
								POST
							</p>
							 </td><td align="left" valign="top" headers="idm140321689967808"> <p>
								OK
							</p>
							 </td><td align="left" valign="top" headers="idm140321689966720"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689965632"> <p>
								OK
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689968896"> <p>
								HEAD
							</p>
							 </td><td align="left" valign="top" headers="idm140321689967808"> <p>
								OK
							</p>
							 </td><td align="left" valign="top" headers="idm140321689966720"> <p>
								OK
							</p>
							 </td><td align="left" valign="top" headers="idm140321689965632"> <p>
								OK
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689968896"> <p>
								PUT
							</p>
							 </td><td align="left" valign="top" headers="idm140321689967808"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689966720"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689965632"> <p>
								NOT_ALLOWED
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689968896"> <p>
								TRACE
							</p>
							 </td><td align="left" valign="top" headers="idm140321689967808"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689966720"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689965632"> <p>
								NOT_ALLOWED
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689968896"> <p>
								DELETE
							</p>
							 </td><td align="left" valign="top" headers="idm140321689967808"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689966720"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689965632"> <p>
								NOT_ALLOWED
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689968896"> <p>
								OPTIONS
							</p>
							 </td><td align="left" valign="top" headers="idm140321689967808"> <p>
								NOT_ALLOWED
							</p>
							 </td><td align="left" valign="top" headers="idm140321689966720"> <p>
								OK
							</p>
							 </td><td align="left" valign="top" headers="idm140321689965632"> <p>
								NOT_ALLOWED
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For servlets, the default behavior depends on its implementation, except for the <code class="literal">TRACE</code> method, which has a default behavior of <code class="literal">NOT_ALLOWED</code>.
				</p></div></div></section><section class="section" id="remoting_attributes"><div class="titlepage"><div><div><h2 class="title">A.30. Remoting Subsystem Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-remoting_4_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321689910416"><p class="title"><strong>Table A.100. remoting Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689904656" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689903568" scope="col">Default</th><th align="left" valign="top" id="idm140321689902480" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689904656"> <p>
								worker-read-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321689903568"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321689902480"> <p>
								The number of read threads to create for the remoting worker.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689904656"> <p>
								worker-task-core-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321689903568"> <p>
								4
							</p>
							 </td><td align="left" valign="top" headers="idm140321689902480"> <p>
								The number of core threads for the remoting worker task thread pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689904656"> <p>
								worker-task-keepalive
							</p>
							 </td><td align="left" valign="top" headers="idm140321689903568"> <p>
								60
							</p>
							 </td><td align="left" valign="top" headers="idm140321689902480"> <p>
								The number of milliseconds to keep non-core remoting worker task threads alive.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689904656"> <p>
								worker-task-limit
							</p>
							 </td><td align="left" valign="top" headers="idm140321689903568"> <p>
								16384
							</p>
							 </td><td align="left" valign="top" headers="idm140321689902480"> <p>
								The maximum number of remoting worker tasks to allow before rejecting.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689904656"> <p>
								worker-task-max-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321689903568"> <p>
								16
							</p>
							 </td><td align="left" valign="top" headers="idm140321689902480"> <p>
								The maximum number of threads for the remoting worker task thread pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689904656"> <p>
								worker-write-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321689903568"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321689902480"> <p>
								The number of write threads to create for the remoting worker.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The above attributes of the <code class="literal">remoting</code> element are deprecated. These attributes should now be configured using the <code class="literal">io</code> subsystem.
				</p></div></div><div class="table" id="endpoint-attributes"><p class="title"><strong>Table A.101. endpoint Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689860368" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689859280" scope="col">Default</th><th align="left" valign="top" id="idm140321689858192" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								auth-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The authentication realm to use if no authentication CallbackHandler is specified.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								authentication-retries
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								3
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								Specify the number of times a client is allowed to retry authentication before closing the connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								authorize-id
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The SASL authorization ID. Used as authentication user name to use if no authentication CallbackHandler is specified and the selected SASL mechanism demands a user name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								buffer-region-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The size of allocated buffer regions.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								heartbeat-interval
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								2147483647
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The interval to use for connection heartbeat, in milliseconds. If the connection is idle in the outbound direction for this amount of time, a ping message will be sent, which will trigger a corresponding reply message.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								max-inbound-channels
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								40
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum number of concurrent inbound messages on a channel.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								max-inbound-message-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								9223372036854775807
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum inbound message size to be allowed. Messages exceeding this size will cause an exception to be thrown on the reading side as well as the writing side.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								max-inbound-messages
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								80
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum number of inbound channels to support for a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								max-outbound-channels
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								40
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum number of concurrent outbound messages on a channel.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								max-outbound-message-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								9223372036854775807
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum outbound message size to send. No messages larger than this well be transmitted; attempting to do so will cause an exception on the writing side.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								max-outbound-messages
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								65535
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum number of outbound channels to support for a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								receive-buffer-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								8192
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The size of the largest buffer that this endpoint will accept over a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								receive-window-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								131072
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum window size of the receive direction for connection channels, in bytes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								sasl-protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								<code class="literal">remote</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								When a <code class="literal">SaslServer</code> or <code class="literal">SaslClient</code> is created, the protocol specified by default is <code class="literal">remote</code>. This attribute can be used to override this protocol.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								send-buffer-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								8192
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The size of the largest buffer that this endpoint will transmit over a connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								server-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The server side of the connection passes it’s name to the client in the initial greeting, by default the name is automatically discovered from the local address of the connection or it can be overridden using this.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								transmit-window-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								131072
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								The maximum window size of the transmit direction for connection channels, in bytes.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689860368"> <p>
								worker
							</p>
							 </td><td align="left" valign="top" headers="idm140321689859280"> <p>
								<code class="literal">default</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140321689858192"> <p>
								Worker to use
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using the management CLI to update the <code class="literal">endpoint</code> element, it is available under <code class="literal">configuration</code> in the <code class="literal">remoting</code> element. For example: <code class="literal">/subsystem=remoting/configuration=endpoint/</code>.
				</p></div></div><h4 id="connector_attributes">Connector Attributes</h4><p>
				The connector component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#connector-attributes" title="Table A.102. connector Attributes">connector</a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#property-attributes" title="Table A.103. property Attributes">property</a>
							</li><li class="listitem"><p class="simpara">
								<a class="link" href="#security-attributes" title="Security Attributes">security</a>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p class="simpara">
										<a class="link" href="#sasl-attributes" title="Table A.104. sasl Attributes">sasl</a>
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<a class="link" href="#property-attributes" title="Table A.103. property Attributes">property</a>
											</li><li class="listitem"><p class="simpara">
												<a class="link" href="#sasl-policy-attributes" title="sasl-policy Attributes">sasl-policy</a>
											</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
														<a class="link" href="#policy-attributes" title="Table A.105. policy Attributes">policy</a>
													</li></ul></div></li></ul></div></li></ul></div></li></ul></div></li></ul></div><div class="table" id="connector-attributes"><p class="title"><strong>Table A.102. connector Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689734496" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689733408" scope="col">Default</th><th align="left" valign="top" id="idm140321689732320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689734496"> <p>
								authentication-provider
							</p>
							 </td><td align="left" valign="top" headers="idm140321689733408"> </td><td align="left" valign="top" headers="idm140321689732320"> <p>
								The <code class="literal">authentication-provider</code> element contains the name of the authentication provider to use for incoming connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689734496"> <p>
								sasl-authentication-factory
							</p>
							 </td><td align="left" valign="top" headers="idm140321689733408"> </td><td align="left" valign="top" headers="idm140321689732320"> <p>
								Reference to the SASL authentication factory to secure this connector.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689734496"> <p>
								sasl-protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321689733408"> <p>
								<code class="literal">remote</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140321689732320"> <p>
								The protocol to pass into the SASL mechanisms used for authentication.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689734496"> <p>
								security-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321689733408"> </td><td align="left" valign="top" headers="idm140321689732320"> <p>
								The associated security realm to use for authentication for this connector.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689734496"> <p>
								server-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321689733408"> </td><td align="left" valign="top" headers="idm140321689732320"> <p>
								The server name to send in the initial message exchange and for SASL based authentication.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689734496"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321689733408"> </td><td align="left" valign="top" headers="idm140321689732320"> <p>
								The name (or names) of the socket binding(s) to attach to.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689734496"> <p>
								ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321689733408"> </td><td align="left" valign="top" headers="idm140321689732320"> <p>
								Reference to the SSL context to use for this connector.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="property-attributes"><p class="title"><strong>Table A.103. property Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689689792" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689688704" scope="col">Default</th><th align="left" valign="top" id="idm140321689687616" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689689792"> <p>
								value
							</p>
							 </td><td align="left" valign="top" headers="idm140321689688704"> </td><td align="left" valign="top" headers="idm140321689687616"> <p>
								The property value.
							</p>
							 </td></tr></tbody></table></div></div><div id="security-attributes" class="formalpara"><p class="title"><strong>Security Attributes</strong></p><p>
					The <code class="literal">security</code> component allows you to configure the security for the connector, but contains no direct configuration attributes. It can be configured using its nested components, such as <a class="link" href="#sasl-attributes" title="Table A.104. sasl Attributes">sasl</a>.
				</p></div><div class="table" id="sasl-attributes"><p class="title"><strong>Table A.104. sasl Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689671232" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689670144" scope="col">Default</th><th align="left" valign="top" id="idm140321689669056" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689671232"> <p>
								include-mechanisms
							</p>
							 </td><td align="left" valign="top" headers="idm140321689670144"> </td><td align="left" valign="top" headers="idm140321689669056"> <p>
								The optional nested <code class="literal">include-mechanisms</code> element contains a whitelist of allowed SASL mechanism names. No mechanisms will be allowed which are not present in this list.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689671232"> <p>
								qop
							</p>
							 </td><td align="left" valign="top" headers="idm140321689670144"> </td><td align="left" valign="top" headers="idm140321689669056"> <p>
								The optional nested <code class="literal">qop</code> element contains a comma-separated list of quality-of-protection values, in decreasing order of preference.
							</p>
							 <p>
								Quality-of-protection values for this list are:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">auth</code>: authentication only
									</li><li class="listitem">
										<code class="literal">auth-int</code>: authentication, plus integrity protection
									</li><li class="listitem">
										<code class="literal">auth-conf</code>: authentication, plus integrity protection and confidentiality protection
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689671232"> <p>
								reuse-session
							</p>
							 </td><td align="left" valign="top" headers="idm140321689670144"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689669056"> <p>
								The optional nested <code class="literal">reuse-session</code> boolean element specifies whether or not the server should attempt to reuse previously authenticated session information. The mechanism may or may not support such reuse, and other factors may also prevent it.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689671232"> <p>
								server-auth
							</p>
							 </td><td align="left" valign="top" headers="idm140321689670144"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689669056"> <p>
								The optional nested <code class="literal">server-auth</code> boolean element specifies whether the server should authenticate to the client. Not all mechanisms may support this setting.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689671232"> <p>
								strength
							</p>
							 </td><td align="left" valign="top" headers="idm140321689670144"> </td><td align="left" valign="top" headers="idm140321689669056"> <p>
								The optional nested <code class="literal">strength</code> element contains a comma-separated list of cipher strength values, in decreasing order of preference.
							</p>
							 <p>
								Cipher strength values for this list are:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">high</code>
									</li><li class="listitem">
										<code class="literal">medium</code>
									</li><li class="listitem">
										<code class="literal">low</code>
									</li></ul></div>
							 </td></tr></tbody></table></div></div><div id="sasl-policy-attributes" class="formalpara"><p class="title"><strong>sasl-policy Attributes</strong></p><p>
					The <code class="literal">sasl-policy</code> component allows you to specify an optional policy to use to narrow down the available set of mechanisms, but contains no direct configuration attributes. It can be configured using its nested components, such as <a class="link" href="#policy-attributes" title="Table A.105. policy Attributes">policy</a>.
				</p></div><div class="table" id="policy-attributes"><p class="title"><strong>Table A.105. policy Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689619248" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689618160" scope="col">Default</th><th align="left" valign="top" id="idm140321689617072" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689619248"> <p>
								forward-secrecy
							</p>
							 </td><td align="left" valign="top" headers="idm140321689618160"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321689617072"> <p>
								The optional nested <code class="literal">forward-secrecy</code> element contains a boolean value which specifies whether mechanisms that implement forward secrecy between sessions are required. Forward secrecy means that breaking into one session will not automatically provide information for breaking into future sessions.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689619248"> <p>
								no-active
							</p>
							 </td><td align="left" valign="top" headers="idm140321689618160"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321689617072"> <p>
								The optional nested <code class="literal">no-active</code> element contains a boolean value which specifies whether mechanisms susceptible to active (non-dictionary) attacks are not permitted. <code class="literal">false</code> to permit, <code class="literal">true</code> to deny.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689619248"> <p>
								no-anonymous
							</p>
							 </td><td align="left" valign="top" headers="idm140321689618160"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321689617072"> <p>
								The optional nested <code class="literal">no-anonymous</code> element contains a boolean value which specifies whether mechanisms that accept anonymous login are permitted. <code class="literal">false</code> to permit, <code class="literal">true</code> to deny.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689619248"> <p>
								no-dictionary
							</p>
							 </td><td align="left" valign="top" headers="idm140321689618160"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321689617072"> <p>
								The optional nested <code class="literal">no-dictionary</code> element contains a boolean value which specifies whether mechanisms susceptible to passive dictionary attacks are permitted. <code class="literal">false</code> to permit, <code class="literal">true</code> to deny.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689619248"> <p>
								no-plain-text
							</p>
							 </td><td align="left" valign="top" headers="idm140321689618160"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321689617072"> <p>
								The optional nested <code class="literal">no-plain-text</code> element contains a boolean value which specifies whether mechanisms susceptible to simple plain passive attacks (for example, <code class="literal">PLAIN</code>) are not permitted. <code class="literal">false</code> to permit, <code class="literal">true</code> to deny.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689619248"> <p>
								pass-credentials
							</p>
							 </td><td align="left" valign="top" headers="idm140321689618160"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321689617072"> <p>
								The optional nested <code class="literal">pass-credentials</code> element contains a boolean value which specifies whether mechanisms that pass client credentials are required.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="http_connector_attributes">HTTP Connector Attributes</h4><p>
				The http-connector component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#http-connector-attributes" title="Table A.106. http-connector Attributes">http-connector</a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#property-attributes" title="Table A.103. property Attributes">property (same as connector)</a>
							</li><li class="listitem"><p class="simpara">
								<a class="link" href="#security-attributes" title="Security Attributes">security (same as connector)</a>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p class="simpara">
										<a class="link" href="#sasl-attributes" title="Table A.104. sasl Attributes">sasl (same as connector)</a>
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<a class="link" href="#property-attributes" title="Table A.103. property Attributes">property (same as connector)</a>
											</li><li class="listitem"><p class="simpara">
												<a class="link" href="#sasl-policy-attributes" title="sasl-policy Attributes">sasl-policy (same as connector)</a>
											</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
														<a class="link" href="#policy-attributes" title="Table A.105. policy Attributes">policy (same as connector)</a>
													</li></ul></div></li></ul></div></li></ul></div></li></ul></div></li></ul></div><div class="table" id="http-connector-attributes"><p class="title"><strong>Table A.106. http-connector Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689552352" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689551264" scope="col">Default</th><th align="left" valign="top" id="idm140321689550176" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689552352"> <p>
								authentication-provider
							</p>
							 </td><td align="left" valign="top" headers="idm140321689551264"> </td><td align="left" valign="top" headers="idm140321689550176"> <p>
								The <code class="literal">authentication-provider</code> element contains the name of the authentication provider to use for incoming connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689552352"> <p>
								connector-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321689551264"> </td><td align="left" valign="top" headers="idm140321689550176"> <p>
								The name (or names) of a connector in the <code class="literal">undertow</code> subsystem to connect to.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689552352"> <p>
								sasl-authentication-factory
							</p>
							 </td><td align="left" valign="top" headers="idm140321689551264"> </td><td align="left" valign="top" headers="idm140321689550176"> <p>
								Reference to the SASL authentication factory to secure this connector.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689552352"> <p>
								sasl-protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321689551264"> <p>
								<code class="literal">remote</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140321689550176"> <p>
								The protocol to pass into the SASL mechanisms used for authentication.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689552352"> <p>
								security-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321689551264"> </td><td align="left" valign="top" headers="idm140321689550176"> <p>
								The associated security realm to use for authentication for this connector.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689552352"> <p>
								server-name
							</p>
							 </td><td align="left" valign="top" headers="idm140321689551264"> </td><td align="left" valign="top" headers="idm140321689550176"> <p>
								The server name to send in the initial message exchange and for SASL based authentication.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="outbound_connection_attributes">Outbound Connection Attributes</h4><p>
				The <code class="literal">outbound-connection</code> component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#outbound-connection-attributes" title="Table A.107. outbound-connection Attributes">outbound-connection</a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#outbound-connection-property-attributes" title="Table A.108. property Attributes">property</a>
							</li></ul></div></li></ul></div><div class="table" id="outbound-connection-attributes"><p class="title"><strong>Table A.107. outbound-connection Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689504608" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689503520" scope="col">Default</th><th align="left" valign="top" id="idm140321689502432" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689504608"> <p>
								uri
							</p>
							 </td><td align="left" valign="top" headers="idm140321689503520"> </td><td align="left" valign="top" headers="idm140321689502432"> <p>
								The connection URI for the outbound connection.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="outbound-connection-property-attributes"><p class="title"><strong>Table A.108. property Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689489280" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689488192" scope="col">Default</th><th align="left" valign="top" id="idm140321689487104" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689489280"> <p>
								value
							</p>
							 </td><td align="left" valign="top" headers="idm140321689488192"> </td><td align="left" valign="top" headers="idm140321689487104"> <p>
								The property value.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The above <code class="literal">property</code> attributes are related to the XNIO Options that will be used during the connection creation.
				</p></div></div><h4 id="remote_outbound_connection">Remote Outbound Connection</h4><p>
				The <code class="literal">remote-outbound-connection</code> component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#remote-outbound-connection-attributes" title="Table A.109. remote-outbound-connection Attributes">remote-outbound-connection</a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#outbound-connection-property-attributes" title="Table A.108. property Attributes">property (same as outbound-connection)</a>
							</li></ul></div></li></ul></div><div class="table" id="remote-outbound-connection-attributes"><p class="title"><strong>Table A.109. remote-outbound-connection Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689465360" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689464272" scope="col">Default</th><th align="left" valign="top" id="idm140321689463184" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689465360"> <p>
								authentication-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321689464272"> </td><td align="left" valign="top" headers="idm140321689463184"> <p>
								Reference to the authentication context instance containing the configuration for outbound connections.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689465360"> <p>
								outbound-socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321689464272"> </td><td align="left" valign="top" headers="idm140321689463184"> <p>
								Name of the <code class="literal">outbound-socket-binding</code> which will be used to determine the destination address and port for the connection.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689465360"> <p>
								protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321689464272"> <p>
								<code class="literal">http-remoting</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140321689463184"> <p>
								The protocol to use for the remote connection. Defaults to <code class="literal">http-remoting</code>. <span class="emphasis"><em>Deprecated: Outbound security settings should be migrated to an <code class="literal">authentication-context</code> definition.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689465360"> <p>
								security-realm
							</p>
							 </td><td align="left" valign="top" headers="idm140321689464272"> </td><td align="left" valign="top" headers="idm140321689463184"> <p>
								Reference to the security realm to use to obtain the password and SSL configuration. <span class="emphasis"><em>Deprecated: Outbound security settings should be migrated to an <code class="literal">authentication-context</code> definition.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689465360"> <p>
								username
							</p>
							 </td><td align="left" valign="top" headers="idm140321689464272"> </td><td align="left" valign="top" headers="idm140321689463184"> <p>
								The user name to use when authenticating against the remote server. <span class="emphasis"><em>Deprecated: Outbound security settings should be migrated to an <code class="literal">authentication-context</code> definition.</em></span>
							</p>
							 </td></tr></tbody></table></div></div><h4 id="local_outbound_connection_attributes">Local Outbound Connection Attributes</h4><p>
				The <code class="literal">local-outbound-connection</code> component has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#local-outbound-connection-attributes" title="Table A.110. local-outbound-connection Attributes">local-outbound-connection</a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#outbound-connection-property-attributes" title="Table A.108. property Attributes">property (same as outbound-connection)</a>
							</li></ul></div></li></ul></div><div class="table" id="local-outbound-connection-attributes"><p class="title"><strong>Table A.110. local-outbound-connection Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689419168" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689418080" scope="col">Default</th><th align="left" valign="top" id="idm140321689416992" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689419168"> <p>
								outbound-socket-binding-ref
							</p>
							 </td><td align="left" valign="top" headers="idm140321689418080"> </td><td align="left" valign="top" headers="idm140321689416992"> <p>
								Name of the <code class="literal">outbound-socket-binding</code> which will be used to determine the destination address and port for the connection.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="io_attributes"><div class="titlepage"><div><div><h2 class="title">A.31. IO Subsystem Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-io_2_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321689406160"><p class="title"><strong>Table A.111. worker Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689400400" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689399312" scope="col">Default</th><th align="left" valign="top" id="idm140321689398224" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689400400"> <p>
								io-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321689399312"> </td><td align="left" valign="top" headers="idm140321689398224"> <p>
								The number of I/O threads to create for the worker. If not specified, the number of threads is set to the number of CPUs × 2.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689400400"> <p>
								stack-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689399312"> <p>
								0
							</p>
							 </td><td align="left" valign="top" headers="idm140321689398224"> <p>
								The stack size, in bytes, to attempt to use for worker threads.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689400400"> <p>
								task-keepalive
							</p>
							 </td><td align="left" valign="top" headers="idm140321689399312"> <p>
								60000
							</p>
							 </td><td align="left" valign="top" headers="idm140321689398224"> <p>
								The number of milliseconds to keep non-core task threads alive.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689400400"> <p>
								task-core-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321689399312"> <p>
								2
							</p>
							 </td><td align="left" valign="top" headers="idm140321689398224"> <p>
								The number of threads for the core task thread pool.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689400400"> <p>
								task-max-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321689399312"> </td><td align="left" valign="top" headers="idm140321689398224"> <p>
								The maximum number of threads for the worker task thread pool. If not specified, the maximum number of threads is set to the number of CPUs × 16, taking the <code class="literal">MaxFileDescriptorCount</code> JMX property, if set, into account.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321689370016"><p class="title"><strong>Table A.112. buffer-pool Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689364256" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689363168" scope="col">Default</th><th align="left" valign="top" id="idm140321689362080" scope="col">Description</th></tr></thead><tbody><tr><td colspan="3" align="left" valign="top" headers="idm140321689364256 idm140321689362080"> <div class="admonition note"><div class="admonition_header">Note</div><div><p>
									IO buffer pools are deprecated as of JBoss EAP 7.2. While they are still set as the default in the current release, they will be replaced by <a class="link" href="#configure_undertow_buffer_pools" title="17.3. Configuring Byte Buffer Pools">Undertow byte buffer pools</a> in a future release. See <a class="link" href="#byte_buffer_pool_attributes" title="Byte Buffer Pool Attributes">Byte Buffer Pool Attributes</a> for the byte buffer pool attribute list.
								</p></div></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689364256"> <p>
								buffer-size
							</p>
							 </td><td align="left" valign="top" headers="idm140321689363168"> </td><td align="left" valign="top" headers="idm140321689362080"> <p>
								The size, in bytes, of each buffer slice. If not specified, the size is set based on the available RAM of your system:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										512 bytes for less than 64 MB RAM
									</li><li class="listitem">
										1024 bytes (1 KB) for 64 MB - 128 MB RAM
									</li><li class="listitem">
										16384 bytes (16 KB) for more than 128 MB RAM
									</li></ul></div>
							 <p>
								For performance tuning advice on this attribute, see <a class="link mimir-link-warn" href="https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform_continuous_delivery/18/html-single/performance_tuning_guide/#io_buffer_pools" title="This content is not included in Mimir.">Configuring Buffer Pools</a> in the JBoss EAP <span class="emphasis"><em>Performance Tuning Guide</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689364256"> <p>
								buffers-per-slice
							</p>
							 </td><td align="left" valign="top" headers="idm140321689363168"> </td><td align="left" valign="top" headers="idm140321689362080"> <p>
								How many slices, or sections, to divide the larger buffer into. This can be more memory efficient than allocating many separate buffers. If not specified, the number of slices is set based on the available RAM of your system:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										10 for less than 128 MB RAM
									</li><li class="listitem">
										20 for more than 128 MB RAM
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689364256"> <p>
								direct-buffers
							</p>
							 </td><td align="left" valign="top" headers="idm140321689363168"> </td><td align="left" valign="top" headers="idm140321689362080"> <p>
								Whether the buffer pool uses direct buffers, which are faster in many cases with NIO. Note that some platforms do not support direct buffers.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="jsf_module_templates"><div class="titlepage"><div><div><h2 class="title">A.32. JSF Module Templates</h2></div></div></div><p>
				The following are example templates used for the various JSF modules required when installing a different JSF version for JBoss EAP. See <a class="link" href="#install_jsf_implementation" title="21.1.1. Installing a JSF Implementation">Installing a JSF Implementation</a> for full instructions.
			</p><h4 id="jsf_impl_mojarra">Example: Mojarra JSF Implementation JAR <code class="literal">module.xml</code></h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to use the appropriate values for the following replaceable variables in the template:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_VERSION</em></span></code>
						</li></ul></div></div></div><pre class="programlisting language-xml">&lt;module xmlns="urn:jboss:module:1.8" name="com.sun.jsf-impl:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;module name="javax.faces.api:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"/&gt;
        &lt;module name="javaee.api"/&gt;
        &lt;module name="javax.servlet.jstl.api"/&gt;
        &lt;module name="org.apache.xerces" services="import"/&gt;
        &lt;module name="org.apache.xalan" services="import"/&gt;
        &lt;module name="org.jboss.weld.core"/&gt;
        &lt;module name="org.jboss.weld.spi"/&gt;
        &lt;module name="javax.xml.rpc.api"/&gt;
        &lt;module name="javax.rmi.api"/&gt;
        &lt;module name="org.omg.api"/&gt;
    &lt;/dependencies&gt;

    &lt;resources&gt;
        &lt;resource-root path="jsf-impl-<span class="emphasis"><em>JSF_VERSION</em></span>.jar"/&gt;
    &lt;/resources&gt;
&lt;/module&gt;</pre><h4 id="jsf_impl_myfaces">Example: MyFaces JSF Implementation JAR <code class="literal">module.xml</code></h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to use the appropriate values for the following replaceable variables in the template:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_VERSION</em></span></code>
						</li></ul></div></div></div><pre class="programlisting language-xml">&lt;module xmlns="urn:jboss:module:1.8" name="com.sun.jsf-impl:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;module name="javax.faces.api:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"&gt;
            &lt;imports&gt;
                &lt;include path="META-INF/**"/&gt;
            &lt;/imports&gt;
        &lt;/module&gt;
        &lt;module name="javaee.api"/&gt;
        &lt;module name="javax.servlet.jstl.api"/&gt;
        &lt;module name="org.apache.xerces" services="import"/&gt;
        &lt;module name="org.apache.xalan" services="import"/&gt;

        &lt;!-- extra dependencies for MyFaces --&gt;
        &lt;module name="org.apache.commons.collections"/&gt;
        &lt;module name="org.apache.commons.codec"/&gt;
        &lt;module name="org.apache.commons.beanutils"/&gt;
        &lt;module name="org.apache.commons.digester"/&gt;

        &lt;!-- extra dependencies for MyFaces 1.1
        &lt;module name="org.apache.commons.logging"/&gt;
        &lt;module name="org.apache.commons.el"/&gt;
        &lt;module name="org.apache.commons.lang"/&gt; --&gt;
        &lt;module name="javax.xml.rpc.api"/&gt;
        &lt;module name="javax.rmi.api"/&gt;
        &lt;module name="org.omg.api"/&gt;
    &lt;/dependencies&gt;

    &lt;resources&gt;
        &lt;resource-root path="<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-impl-<span class="emphasis"><em>JSF_VERSION</em></span>.jar"/&gt;
    &lt;/resources&gt;
&lt;/module&gt;</pre><h4 id="jsf_api_mojarra">Example: Mojarra JSF API JAR <code class="literal">module.xml</code></h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to use the appropriate values for the following replaceable variables in the template:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_VERSION</em></span></code>
						</li></ul></div></div></div><pre class="programlisting language-xml">&lt;module xmlns="urn:jboss:module:1.8" name="javax.faces.api:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"&gt;
    &lt;dependencies&gt;
        &lt;module name="com.sun.jsf-impl:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"/&gt;
        &lt;module name="javax.enterprise.api" export="true"/&gt;
        &lt;module name="javax.servlet.api" export="true"/&gt;
        &lt;module name="javax.servlet.jsp.api" export="true"/&gt;
        &lt;module name="javax.servlet.jstl.api" export="true"/&gt;
        &lt;module name="javax.validation.api" export="true"/&gt;
        &lt;module name="org.glassfish.javax.el" export="true"/&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="javax.websocket.api"/&gt;
    &lt;/dependencies&gt;

    &lt;resources&gt;
        &lt;resource-root path="jsf-api-<span class="emphasis"><em>JSF_VERSION</em></span>.jar"/&gt;
    &lt;/resources&gt;
&lt;/module&gt;</pre><h4 id="jsf_api_myfaces">Example: MyFaces JSF API JAR <code class="literal">module.xml</code></h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to use the appropriate values for the following replaceable variables in the template:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_VERSION</em></span></code>
						</li></ul></div></div></div><pre class="programlisting language-xml">&lt;module xmlns="urn:jboss:module:1.8" name="javax.faces.api:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"&gt;
    &lt;dependencies&gt;
        &lt;module name="javax.enterprise.api" export="true"/&gt;
        &lt;module name="javax.servlet.api" export="true"/&gt;
        &lt;module name="javax.servlet.jsp.api" export="true"/&gt;
        &lt;module name="javax.servlet.jstl.api" export="true"/&gt;
        &lt;module name="javax.validation.api" export="true"/&gt;
        &lt;module name="org.glassfish.javax.el" export="true"/&gt;
        &lt;module name="javax.api"/&gt;

        &lt;!-- extra dependencies for MyFaces 1.1
        &lt;module name="org.apache.commons.logging"/&gt;
        &lt;module name="org.apache.commons.el"/&gt;
        &lt;module name="org.apache.commons.lang"/&gt; --&gt;
    &lt;/dependencies&gt;

    &lt;resources&gt;
        &lt;resource-root path="myfaces-api-<span class="emphasis"><em>JSF_VERSION</em></span>.jar"/&gt;
    &lt;/resources&gt;
&lt;/module&gt;</pre><h4 id="jsf_injection_mojarra">Example: Mojarra JSF Injection JAR <code class="literal">module.xml</code></h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to use the appropriate values for the following replaceable variables in the template:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_VERSION</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>INJECTION_VERSION</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>WELD_VERSION</em></span></code>
						</li></ul></div></div></div><pre class="programlisting language-xml">&lt;module xmlns="urn:jboss:module:1.8" name="org.jboss.as.jsf-injection:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;resources&gt;
        &lt;resource-root path="wildfly-jsf-injection-<span class="emphasis"><em>INJECTION_VERSION</em></span>.jar"/&gt;
        &lt;resource-root path="weld-core-jsf-<span class="emphasis"><em>WELD_VERSION</em></span>.jar"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;module name="com.sun.jsf-impl:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"/&gt;
        &lt;module name="java.naming"/&gt;
        &lt;module name="java.desktop"/&gt;
        &lt;module name="org.jboss.as.jsf"/&gt;
        &lt;module name="org.jboss.as.web-common"/&gt;
        &lt;module name="javax.servlet.api"/&gt;
        &lt;module name="org.jboss.as.ee"/&gt;
        &lt;module name="org.jboss.as.jsf"/&gt;
        &lt;module name="javax.enterprise.api"/&gt;
        &lt;module name="org.jboss.logging"/&gt;
        &lt;module name="org.jboss.weld.core"/&gt;
        &lt;module name="org.jboss.weld.api"/&gt;

        &lt;module name="javax.faces.api:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h4 id="jsf_injection_myfaces">Example: MyFaces JSF Injection JAR <code class="literal">module.xml</code></h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to use the appropriate values for the following replaceable variables in the template:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_IMPL_NAME</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>JSF_VERSION</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>INJECTION_VERSION</em></span></code>
						</li><li class="listitem">
							<code class="literal"><span class="emphasis"><em>WELD_VERSION</em></span></code>
						</li></ul></div></div></div><pre class="programlisting language-xml">&lt;module xmlns="urn:jboss:module:1.8" name="org.jboss.as.jsf-injection:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;resources&gt;
        &lt;resource-root path="wildfly-jsf-injection-<span class="emphasis"><em>INJECTION_VERSION</em></span>.jar"/&gt;
        &lt;resource-root path="weld-jsf-<span class="emphasis"><em>WELD_VERSION</em></span>.jar"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;module name="com.sun.jsf-impl:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"/&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="org.jboss.as.web-common"/&gt;
        &lt;module name="javax.servlet.api"/&gt;
        &lt;module name="org.jboss.as.jsf"/&gt;
        &lt;module name="org.jboss.as.ee"/&gt;
        &lt;module name="org.jboss.as.jsf"/&gt;
        &lt;module name="javax.enterprise.api"/&gt;
        &lt;module name="org.jboss.logging"/&gt;
        &lt;module name="org.jboss.weld.core"/&gt;
        &lt;module name="org.jboss.weld.api"/&gt;
        &lt;module name="org.wildfly.security.elytron"/&gt;

        &lt;module name="javax.faces.api:<span class="emphasis"><em>JSF_IMPL_NAME</em></span>-<span class="emphasis"><em>JSF_VERSION</em></span>"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre><h4 id="jsf_commons_digester_myfaces">Example: MyFaces commons-digester JAR <code class="literal">module.xml</code></h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Be sure to use the appropriate value for the <code class="literal"><span class="emphasis"><em>VERSION</em></span></code> replaceable variable in the template.
				</p></div></div><pre class="programlisting language-xml">&lt;module xmlns="urn:jboss:module:1.5" name="org.apache.commons.digester"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;resources&gt;
        &lt;resource-root path="commons-digester-<span class="emphasis"><em>VERSION</em></span>.jar"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;module name="javax.api"/&gt;
        &lt;module name="org.apache.commons.collections"/&gt;
        &lt;module name="org.apache.commons.logging"/&gt;
        &lt;module name="org.apache.commons.beanutils"/&gt;
    &lt;/dependencies&gt;
&lt;/module&gt;</pre></section><section class="section" id="jgroups_subsystem_attributes"><div class="titlepage"><div><div><h2 class="title">A.33. JGroups Subsystem Attributes</h2></div></div></div><p>
				See the tables below for the attributes of the various elements of the <code class="literal">jgroups</code> subsystem.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#main_jgroups_attributes" title="Table A.113. Main jgroups Attributes">Main Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#jgroups_channel_attributes" title="Channel Attributes">Channel Attributes</a>
					</li><li class="listitem">
						<a class="link" href="#jgroups_stack_attributes" title="Stack Attributes">Stack Attributes</a>
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/jboss-as-jgroups_5_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="main_jgroups_attributes"><p class="title"><strong>Table A.113. Main jgroups Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689232528" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689231440" scope="col">Default</th><th align="left" valign="top" id="idm140321689230352" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689232528"> <p>
								default-channel
							</p>
							 </td><td align="left" valign="top" headers="idm140321689231440"> <p>
								ee
							</p>
							 </td><td align="left" valign="top" headers="idm140321689230352"> <p>
								The default JGroups channel.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689232528"> <p>
								default-stack
							</p>
							 </td><td align="left" valign="top" headers="idm140321689231440"> </td><td align="left" valign="top" headers="idm140321689230352"> <p>
								The default JGroups protocol stack.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="jgroups_channel_attributes">Channel Attributes</h4><p>
				The channel element has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#channel_attributes" title="channel Attributes"><code class="literal">channel</code></a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								<code class="literal">fork</code>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<code class="literal">protocol</code>
									</li></ul></div></li><li class="listitem">
								<code class="literal">protocol</code>
							</li></ul></div></li></ul></div><h5 id="channel_attributes">channel Attributes</h5><div class="table" id="idm140321689207168"><p class="title"><strong>Table A.114. channel Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689201408" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689200320" scope="col">Default</th><th align="left" valign="top" id="idm140321689199232" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689201408"> <p>
								cluster
							</p>
							 </td><td align="left" valign="top" headers="idm140321689200320"> </td><td align="left" valign="top" headers="idm140321689199232"> <p>
								The cluster name of the JGroups channel. If undefined, the name of the channel will be used.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689201408"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321689200320"> <p>
								org.wildfly.clustering.server
							</p>
							 </td><td align="left" valign="top" headers="idm140321689199232"> <p>
								The module from which to load channel services.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689201408"> <p>
								stack
							</p>
							 </td><td align="left" valign="top" headers="idm140321689200320"> </td><td align="left" valign="top" headers="idm140321689199232"> <p>
								The protocol stack of the JGroups channel.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689201408"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321689200320"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689199232"> <p>
								Whether statistics are enabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689201408"> <p>
								stats-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321689200320"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689199232"> <p>
								Whether statistics are enabled. <span class="emphasis"><em>Deprecated: Use the <code class="literal">statistics-enabled</code> attribute instead</em></span>.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="jgroups_stack_attributes">Stack Attributes</h4><p>
				The stack element has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#stack_attributes" title="stack Attributes"><code class="literal">stack</code></a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<a class="link" href="#jgroups_protocol_attributes" title="protocol Attributes"><code class="literal">protocol</code></a>
							</li><li class="listitem"><p class="simpara">
								<a class="link" href="#relay_attributes" title="relay Attributes"><code class="literal">relay</code></a>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<a class="link" href="#remote_site_attributes" title="remote-site Attributes"><code class="literal">remote-site</code></a>
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<a class="link" href="#transport_attributes" title="transport Attributes"><code class="literal">transport</code></a>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<a class="link" href="#thread_pool_attributes" title="thread-pool Attributes"><code class="literal">thread-pool</code></a>
									</li></ul></div></li></ul></div></li></ul></div><h5 id="stack_attributes">stack Attributes</h5><div class="table" id="idm140321689154352"><p class="title"><strong>Table A.115. stack Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689148592" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689147504" scope="col">Default</th><th align="left" valign="top" id="idm140321689146416" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689148592"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321689147504"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689146416"> <p>
								Indicates whether or not all protocols in the stack will collect statistics.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="jgroups_protocol_attributes">protocol Attributes</h6><p>
				For a list of commonly used protocols, see the <a class="link" href="#jgroups_protocols" title="A.34. JGroups Protocols">JGroups Protocols</a> section.
			</p><div class="table" id="idm140321689136256"><p class="title"><strong>Table A.116. protocol Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689130496" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689129408" scope="col">Default</th><th align="left" valign="top" id="idm140321689128320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689130496"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321689129408"> <p>
								org.jgroups
							</p>
							 </td><td align="left" valign="top" headers="idm140321689128320"> <p>
								The module with which to resolve the protocol type.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689130496"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321689129408"> </td><td align="left" valign="top" headers="idm140321689128320"> <p>
								Properties of this protocol.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689130496"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321689129408"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689128320"> <p>
								Indicates whether or not this protocol will collect statistics, overriding the stack configuration.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="relay_attributes">relay Attributes</h6><div class="table" id="idm140321689109424"><p class="title"><strong>Table A.117. relay Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689103664" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689102576" scope="col">Default</th><th align="left" valign="top" id="idm140321689101488" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689103664"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321689102576"> <p>
								org.jgroups
							</p>
							 </td><td align="left" valign="top" headers="idm140321689101488"> <p>
								The module with which to resolve the protocol type.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689103664"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321689102576"> </td><td align="left" valign="top" headers="idm140321689101488"> <p>
								Properties of this protocol.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689103664"> <p>
								site
							</p>
							 </td><td align="left" valign="top" headers="idm140321689102576"> </td><td align="left" valign="top" headers="idm140321689101488"> <p>
								The name of the local site.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689103664"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321689102576"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689101488"> <p>
								Indicates whether or not this protocol will collect statistics, overriding the stack configuration.
							</p>
							 </td></tr></tbody></table></div></div><h3 id="remote_site_attributes">remote-site Attributes</h3><div class="table" id="idm140321689077984"><p class="title"><strong>Table A.118. remote-site Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689072224" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689071136" scope="col">Default</th><th align="left" valign="top" id="idm140321689070048" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689072224"> <p>
								channel
							</p>
							 </td><td align="left" valign="top" headers="idm140321689071136"> </td><td align="left" valign="top" headers="idm140321689070048"> <p>
								The name of the bridge channel used to communicate with this remote site.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689072224"> <p>
								cluster
							</p>
							 </td><td align="left" valign="top" headers="idm140321689071136"> </td><td align="left" valign="top" headers="idm140321689070048"> <p>
								The cluster name of the bridge channel to this remote site. <span class="emphasis"><em>Deprecated: Use an explicitly defined <code class="literal">channel</code> instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689072224"> <p>
								stack
							</p>
							 </td><td align="left" valign="top" headers="idm140321689071136"> </td><td align="left" valign="top" headers="idm140321689070048"> <p>
								The stack from which to create a bridge to this remote site. <span class="emphasis"><em>Deprecated: Use an explicitly defined <code class="literal">channel</code> instead</em></span>.
							</p>
							 </td></tr></tbody></table></div></div><h6 id="transport_attributes">transport Attributes</h6><div class="table" id="idm140321689050528"><p class="title"><strong>Table A.119. transport Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321689044768" scope="col">Attribute</th><th align="left" valign="top" id="idm140321689043680" scope="col">Default</th><th align="left" valign="top" id="idm140321689042592" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								default-executor
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								The thread pool executor to handle incoming messages. <span class="emphasis"><em>Deprecated: Configure the predefined <code class="literal">default</code> thread pool instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								diagnostics-socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								The diagnostics socket binding specification for this protocol layer, used to specify IP interfaces and ports for communication.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								machine
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								Machine, or host, identifier for this node. Used by Infinispan’s topology-aware consistent hash.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> <p>
								org.jgroups
							</p>
							 </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								Module with which to resolve the protocol type.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								oob-executor
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								The thread pool executor to handle incoming out-of-band messages. <span class="emphasis"><em>Deprecated: Configure the predefined <code class="literal">oob</code> thread pool instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								Properties of this transport.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								rack
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								Rack, such as the server rack, identifier for this node. Used by Infinispan’s topology-aware consistent hash.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								shared
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								If <code class="literal">true</code>, the underlying transport is shared by all channels using this stack. <span class="emphasis"><em>Deprecated: Configure a <code class="literal">fork</code> of the channel instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								site
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								Site, such as the data center, identifier for this node. Used by Infinispan’s topology-aware consistent hash.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								The socket binding specification for this protocol layer, used to specify IP interfaces and ports for communication.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								Indicates whether or not this protocol will collect statistics, overriding the stack configuration.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								thread-factory
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								The thread factory to use for handling asynchronous transport-specific tasks. <span class="emphasis"><em>Deprecated: Configure the predefined <code class="literal">internal</code> thread pool instead</em></span>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321689044768"> <p>
								timer-executor
							</p>
							 </td><td align="left" valign="top" headers="idm140321689043680"> </td><td align="left" valign="top" headers="idm140321689042592"> <p>
								The thread pool executor to handle protocol-related timing tasks. <span class="emphasis"><em>Deprecated: Configure the predefined <code class="literal">timer</code> thread pool instead</em></span>.
							</p>
							 </td></tr></tbody></table></div></div><h3 id="thread_pool_attributes">thread-pool Attributes</h3><div class="table" id="idm140321688970880"><p class="title"><strong>Table A.120. thread-pool Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688965120" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688964032" scope="col">Default</th><th align="left" valign="top" id="idm140321688962944" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688965120"> <p>
								keepalive-time
							</p>
							 </td><td align="left" valign="top" headers="idm140321688964032"> <p>
								5000L
							</p>
							 </td><td align="left" valign="top" headers="idm140321688962944"> <p>
								The amount of milliseconds that pool threads should be kept running when idle. If not specified, then threads will run until the executor is shut down.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688965120"> <p>
								max-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321688964032"> <p>
								4
							</p>
							 </td><td align="left" valign="top" headers="idm140321688962944"> <p>
								The maximum thread pool size.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688965120"> <p>
								min-threads
							</p>
							 </td><td align="left" valign="top" headers="idm140321688964032"> <p>
								2
							</p>
							 </td><td align="left" valign="top" headers="idm140321688962944"> <p>
								The core thread pool size, which is smaller than <code class="literal">max-threads</code>. If undefined, the core thread pool size is the same as <code class="literal">max-threads</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688965120"> <p>
								queue-length
							</p>
							 </td><td align="left" valign="top" headers="idm140321688964032"> <p>
								500
							</p>
							 </td><td align="left" valign="top" headers="idm140321688962944"> <p>
								The queue length.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="jgroups_protocols"><div class="titlepage"><div><div><h2 class="title">A.34. JGroups Protocols</h2></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 60%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688932000" scope="col">Protocol</th><th align="left" valign="top" id="idm140321688930912" scope="col">Protocol Type</th><th align="left" valign="top" id="idm140321688929824" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								ASYM_ENCRYPT
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Encryption
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Uses a secret key, stored in a coordinator on the cluster, for encrypting messages between cluster members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								AUTH
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Authentication
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Provides a layer of authentication to cluster members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								azure.AZURE_PING
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Discovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Supports node discovery using Microsoft Azure’s blob storage.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								FD_ALL
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Failure Detection
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Provides failure detection based on a simple heartbeat protocol.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								FD_SOCK
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Failure Detection
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Provides failure detection based on a ring of TCP sockets created between cluster members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								JDBC_PING
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Discovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Discovers cluster members by using a shared database where members write their address.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								MERGE3
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Merge
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Merges the subclusters together in the event of a cluster split.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								MFC
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Flow Control
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Provides multicast flow control between a sender and all cluster members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								MPING
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Discovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Discovers cluster members with IP multicast.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								pbcast.GMS
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Group Membership
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Handles group membership, including new members joining the cluster, leave requests by existing members, and <code class="literal">SUSPECT</code> messages for crashed members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								pbcast.NAKACK2
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Message Transmission
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Ensures message reliability and order, guaranteeing that all messages sent by one sender will be received in the order they were sent.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								pbcast.STABLE
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Message Stability
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Deletes messages that have been seen by all members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								PING
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Discovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Initial discovery of members, with support for dynamic discovery of cluster members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								SASL
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Authentication
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Provides a layer of authentication to cluster members using SASL mechanisms.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								SYM_ENCRYPT
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Encryption
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Uses a shared keystore for encrypting messages between cluster members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								S3_PING
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Discovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Uses Amazon S3 to discover initial members.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								TCPGOSSIP
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Discovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Discovers cluster members by using an external gossip router.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								TCPPING
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Discovery
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Contains a static list of cluster member’s addresses to form the cluster.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								UFC
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Flow Control
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Provides unicast flow control between a sender and all cluster members
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								UNICAST3
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Message Transmission
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Ensures message reliability and order for unicast messages, guaranteeing that all messages sent by one sender will be received in the order they were sent.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688932000"> <p>
								VERIFY_SUSPECT
							</p>
							 </td><td align="left" valign="top" headers="idm140321688930912"> <p>
								Failure Detection
							</p>
							 </td><td align="left" valign="top" headers="idm140321688929824"> <p>
								Verifies that a suspected member has died by pinging the member one final time before evicting it.
							</p>
							 </td></tr></tbody></table></div><h4 id="generic_protocol_attributes">Generic Protocol Attributes</h4><p>
				All of the protocols have access to the following attributes.
			</p><div class="table" id="idm140321688813664"><p class="title"><strong>Table A.121. protocol Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688807904" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688806816" scope="col">Default</th><th align="left" valign="top" id="idm140321688805728" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688807904"> <p>
								module
							</p>
							 </td><td align="left" valign="top" headers="idm140321688806816"> <p>
								org.jgroups
							</p>
							 </td><td align="left" valign="top" headers="idm140321688805728"> <p>
								The module with which to resolve the protocol type.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688807904"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321688806816"> </td><td align="left" valign="top" headers="idm140321688805728"> <p>
								Properties of this protocol.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688807904"> <p>
								statistics-enabled
							</p>
							 </td><td align="left" valign="top" headers="idm140321688806816"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321688805728"> <p>
								Whether statistics are enabled.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="authentication_protocols">Authentication Protocols</h4><p>
				The authentication protocols are used to perform authentication, and are primarily responsible for ensuring that only authenticated members can join the cluster. These protocols sit below the <code class="literal">GMS</code> protocol, so that they may listen for requests to join the cluster.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#auth_attributes" title="AUTH Attributes">AUTH</a>
					</li><li class="listitem">
						<a class="link" href="#sasl_attributes" title="SASL Attributes">SASL</a>
					</li></ul></div><h5 id="auth_attributes">AUTH Attributes</h5><p>
				While the <code class="literal">AUTH</code> protocol contains no additional attributes, it must have a token defined as a child element.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When defining this protocol, the <code class="literal">auth-protocol</code> element is used instead of the <code class="literal">protocol</code> element.
				</p></div></div><h6 id="token_types">Token Types</h6><p>
				When using Elytron for security, it is recommended to use one of the following authentication tokens. These authentication tokens were intentionally designed for use with Elytron, and may not be used with legacy security configurations.
			</p><div class="table" id="idm140321688775056"><p class="title"><strong>Table A.122. Elytron Token Types</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688770224" scope="col">Token</th><th align="left" valign="top" id="idm140321688769136" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688770224"> <p>
								cipher-token
							</p>
							 </td><td align="left" valign="top" headers="idm140321688769136"> <p>
								An authentication token where the shared secret is transformed. RSA is the default algorithm used for the transformation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688770224"> <p>
								digest-token
							</p>
							 </td><td align="left" valign="top" headers="idm140321688769136"> <p>
								An authentication token where the shared secret is transformed. SHA-256 is the default algorithm used for the transformation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688770224"> <p>
								plain-token
							</p>
							 </td><td align="left" valign="top" headers="idm140321688769136"> <p>
								An authentication token with no additional transformations to the shared secret.
							</p>
							 </td></tr></tbody></table></div></div><p>
				The following authentication tokens are inherited from JGroups, and are eligible for use in any configuration where authentication is desired.
			</p><div class="table" id="idm140321688755088"><p class="title"><strong>Table A.123. JGroups Token Types</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688750256" scope="col">Token</th><th align="left" valign="top" id="idm140321688749168" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688750256"> <p>
								MD5Token
							</p>
							 </td><td align="left" valign="top" headers="idm140321688749168"> <p>
								An authentication token where the shared secret is encrypted using either an MD5 or SHA hash. MD5 is the default algorithm used for the encryption.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688750256"> <p>
								SimpleToken
							</p>
							 </td><td align="left" valign="top" headers="idm140321688749168"> <p>
								An authentication token with no additional transformations to the shared secret. This token is case-insensitive, and case is not considered when determining if strings match.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688750256"> <p>
								X509Token
							</p>
							 </td><td align="left" valign="top" headers="idm140321688749168"> <p>
								An authentication token where the shared secret is encrypted using an X509 certificate.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="sasl_attributes">SASL Attributes</h5><div class="table" id="idm140321688734368"><p class="title"><strong>Table A.124. SASL Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688728608" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688727520" scope="col">Default</th><th align="left" valign="top" id="idm140321688726432" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								client_callback_handler
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The class name of the <code class="literal">CallbackHandler</code> to use when a node acts as a client.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								client_name
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The name to use when a node acts as a client. This name will also be used to obtain the subject if using a JAAS login module.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								client_password
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The password to use when a node acts as a client. This password will also be used to obtain the subject if using a JAAS login module.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								login_module_name
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The name of the JAAS login module to use as a subject for creating the SASL client and server. This attribute is only required by certain <code class="literal">mech</code> values, such as GSSAPI.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								mech
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The name of the SASL authentication mechanism. This name can be any mechanism supported by the local SASL provider, and the JDK supplies <code class="literal">CRAM-MD5</code>, <code class="literal">DIGEST-MD5</code>, <code class="literal">GSSAPI</code>, and <code class="literal">NTLM</code> by default.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								sasl_props
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								Properties of the defined <code class="literal">mech</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								server_callback_handler
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The class name of the <code class="literal">CallbackHandler</code> to use when a node acts as a server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								server_name
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The fully qualified server name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688728608"> <p>
								timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321688727520"> <p>
								5000
							</p>
							 </td><td align="left" valign="top" headers="idm140321688726432"> <p>
								The number of milliseconds to wait for a response to a challenge.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="discovery_protocols">Discovery Protocols</h4><p>
				The following protocols are used to find an initial membership for the cluster, which can then be used to determine the current coordinator. A list of the discovery protocols are below.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#azure_ping_attributes" title="AZURE_PING Attributes">AZURE_PING</a>
					</li><li class="listitem">
						<a class="link" href="#jdbc_ping_attributes" title="JDBC_PING Attributes">JDBC_PING</a>
					</li><li class="listitem">
						MPING
					</li><li class="listitem">
						PING
					</li><li class="listitem">
						<a class="link" href="#s3_ping_attributes" title="S3_PING Attributes">S3_PING</a>
					</li><li class="listitem">
						<a class="link" href="#tcpgossip_attributes" title="TCPGOSSIP Attributes">TCPGOSSIP</a>
					</li><li class="listitem">
						<a class="link" href="#tcpping_attributes" title="TCPPING Attributes">TCPPING</a>
					</li></ul></div><h5 id="azure_ping_attributes">AZURE_PING Attributes</h5><div class="table" id="idm140321688663312"><p class="title"><strong>Table A.125. AZURE_PING Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688657552" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688656464" scope="col">Default</th><th align="left" valign="top" id="idm140321688655376" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688657552"> <p>
								container
							</p>
							 </td><td align="left" valign="top" headers="idm140321688656464"> </td><td align="left" valign="top" headers="idm140321688655376"> <p>
								The name of the blob container to use for <span class="strong strong"><strong>PING</strong></span> data. This must be a valid DNS name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688657552"> <p>
								storage_access_key
							</p>
							 </td><td align="left" valign="top" headers="idm140321688656464"> </td><td align="left" valign="top" headers="idm140321688655376"> <p>
								The secret access key for the storage account.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688657552"> <p>
								storage_account_name
							</p>
							 </td><td align="left" valign="top" headers="idm140321688656464"> </td><td align="left" valign="top" headers="idm140321688655376"> <p>
								The name of the Microsoft Azure storage account that contains your blob container.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="jdbc_ping_attributes">JDBC_PING Attributes</h5><div class="table" id="idm140321688637232"><p class="title"><strong>Table A.126. JDBC_PING Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688631472" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688630384" scope="col">Default</th><th align="left" valign="top" id="idm140321688629296" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688631472"> <p>
								data-source
							</p>
							 </td><td align="left" valign="top" headers="idm140321688630384"> </td><td align="left" valign="top" headers="idm140321688629296"> <p>
								Datasource reference, to be used instead of the connection and JNDI lookup properties.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When defining a <code class="literal">JDBC_PING</code> protocol, the <code class="literal">jdbc-protocol</code> element is used instead of the <code class="literal">protocol</code> element.
				</p></div></div><h5 id="s3_ping_attributes">S3_PING Attributes</h5><div class="table" id="idm140321688618752"><p class="title"><strong>Table A.127. S3_PING Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688612992" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688611904" scope="col">Default</th><th align="left" valign="top" id="idm140321688610816" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								access_key
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								The Amazon S3 access key used to access an S3 bucket.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								host
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> <p>
								s3.amazonaws.com
							</p>
							 </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								Destination of the S3 web service.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								location
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								Name of the Amazon S3 bucket to use. The bucket must exist and use a unique name.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								pre_signed_delete_url
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								The pre-signed URL to be used for the DELETE operation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								port
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										443 if <code class="literal">use_ssl</code> is <code class="literal">true</code>.
									</li><li class="listitem">
										80 if <code class="literal">use_ssl</code> is <code class="literal">false</code>.
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								The port on which the web service is listening.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								pre_signed_put_url
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								The pre-signed URL to be used for the PUT operation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								prefix
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								If set, and <code class="literal">location</code> is set, define the bucket name as <code class="literal"><span class="emphasis"><em>PREFIX</em></span></code>-<code class="literal"><span class="emphasis"><em>LOCATION</em></span></code>. If set, and a bucket does not exist at the specified <code class="literal"><span class="emphasis"><em>PREFIX</em></span></code>-<code class="literal"><span class="emphasis"><em>LOCATION</em></span></code>, then the bucket name becomes <code class="literal"><span class="emphasis"><em>PREFIX</em></span></code> followed by a random UUID.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								secret_access_key
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								The Amazon S3 secret access key used to access an S3 bucket.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688612992"> <p>
								use_ssl
							</p>
							 </td><td align="left" valign="top" headers="idm140321688611904"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321688610816"> <p>
								Determines if SSL is used when contacting the host and port combination.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="tcpgossip_attributes">TCPGOSSIP Attributes</h5><div class="table" id="idm140321688556336"><p class="title"><strong>Table A.128. TCPGOSSIP Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688550576" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688549488" scope="col">Default</th><th align="left" valign="top" id="idm140321688548400" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688550576"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321688549488"> </td><td align="left" valign="top" headers="idm140321688548400"> <p>
								The socket binding specification for this protocol layer. <span class="emphasis"><em>Deprecated: Use <code class="literal">socket-bindings</code> instead.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688550576"> <p>
								socket-bindings
							</p>
							 </td><td align="left" valign="top" headers="idm140321688549488"> </td><td align="left" valign="top" headers="idm140321688548400"> <p>
								The outbound socket bindings for this protocol.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When defining a <code class="literal">TCPGOSSIP</code> protocol, the <code class="literal">socket-discovery-protocol</code> element is used instead of the <code class="literal">protocol</code> element.
				</p></div></div><h5 id="tcpping_attributes">TCPPING Attributes</h5><div class="table" id="idm140321688532304"><p class="title"><strong>Table A.129. TCPPING Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688526544" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688525456" scope="col">Default</th><th align="left" valign="top" id="idm140321688524368" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688526544"> <p>
								socket-binding
							</p>
							 </td><td align="left" valign="top" headers="idm140321688525456"> </td><td align="left" valign="top" headers="idm140321688524368"> <p>
								The socket binding specification for this protocol layer. <span class="emphasis"><em>Deprecated: Use <code class="literal">socket-bindings</code> instead.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688526544"> <p>
								socket-bindings
							</p>
							 </td><td align="left" valign="top" headers="idm140321688525456"> </td><td align="left" valign="top" headers="idm140321688524368"> <p>
								The outbound socket bindings for this protocol.
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When defining a <code class="literal">TCPPING</code> protocol, the <code class="literal">socket-discovery-protocol</code> element is used instead of the <code class="literal">protocol</code> element.
				</p></div></div><h4 id="encrypt_protocols">Encrypt Protocols</h4><p>
				The following protocols are used to secure the communication stack. Encryption is based on a shared secret key that all members of the cluster have. This key is either acquired from a shared keystore, when using <code class="literal">SYM_ENCRYPT</code> or from a public/private key exchange, when using <code class="literal">ASYM_ENCRYPT</code>. When defining any of the following protocols an <code class="literal">encrypt-protocol</code> element is created in the resulting XML.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If using <code class="literal">ASYM_ENCRYPT</code>, then the same stack must have an <code class="literal">AUTH</code> protocol defined. The <code class="literal">AUTH</code> protocol is optional when using <code class="literal">SYM_ENCRYPT</code>.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#asym_encrypt_attributes" title="ASYM_ENCRYPT Attributes">ASYM_ENCRYPT</a>
					</li><li class="listitem">
						<a class="link" href="#sym_encrypt_attributes" title="SYM_ENCRYPT Attributes">SYM_ENCRYPT</a>
					</li></ul></div><h5 id="asym_encrypt_attributes">ASYM_ENCRYPT Attributes</h5><div class="table" id="idm140321688497584"><p class="title"><strong>Table A.130. ASYM_ENCRYPT Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688491824" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688490736" scope="col">Default</th><th align="left" valign="top" id="idm140321688489648" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688491824"> <p>
								key-alias
							</p>
							 </td><td align="left" valign="top" headers="idm140321688490736"> </td><td align="left" valign="top" headers="idm140321688489648"> <p>
								The alias of the encryption key from the specified keystore.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688491824"> <p>
								key-credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321688490736"> </td><td align="left" valign="top" headers="idm140321688489648"> <p>
								The credentials required to obtain the encryption key from the keystore.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688491824"> <p>
								key-store
							</p>
							 </td><td align="left" valign="top" headers="idm140321688490736"> </td><td align="left" valign="top" headers="idm140321688489648"> <p>
								A reference to a keystore containing the encryption key.
							</p>
							 </td></tr></tbody></table></div></div><h5 id="sym_encrypt_attributes">SYM_ENCRYPT Attributes</h5><div class="table" id="idm140321688472256"><p class="title"><strong>Table A.131. SYM_ENCRYPT Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688466496" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688465408" scope="col">Default</th><th align="left" valign="top" id="idm140321688464320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688466496"> <p>
								key-alias
							</p>
							 </td><td align="left" valign="top" headers="idm140321688465408"> </td><td align="left" valign="top" headers="idm140321688464320"> <p>
								The alias of the encryption key from the specified keystore.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688466496"> <p>
								key-credential-reference
							</p>
							 </td><td align="left" valign="top" headers="idm140321688465408"> </td><td align="left" valign="top" headers="idm140321688464320"> <p>
								The credentials required to obtain the encryption key from the keystore.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688466496"> <p>
								key-store
							</p>
							 </td><td align="left" valign="top" headers="idm140321688465408"> </td><td align="left" valign="top" headers="idm140321688464320"> <p>
								A reference to a keystore containing the encryption key.
							</p>
							 </td></tr></tbody></table></div></div><h4 id="failure_detection_protocols">Failure Detection Protocols</h4><p>
				The following protocols are used to probe members of the cluster to determine if they are still alive. These protocols do not have any additional attributes beyond the generic attributes.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						FD_ALL
					</li><li class="listitem">
						FD_SOCK
					</li><li class="listitem">
						VERIFY_SUSPECT
					</li></ul></div><h4 id="flow_control_protocols">Flow Control Protocols</h4><p>
				The following protocols are responsible for flow control, or the process of adjusting the rate of a message sender to the slowest receiver. If a sender continuously sends messages at a rate faster than the receiver, then the receivers will either queue up or discard messages, resulting in retransmissions. These protocols do not have any additional attributes beyond the generic attributes.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						MFC - Multicast Flow Control
					</li><li class="listitem">
						UFC - Unicast Flow Control
					</li></ul></div><h4 id="group_membership_protocols">Group Membership Protocols</h4><p>
				The <code class="literal">pbcast.GMS</code> protocol is responsible for new members joining the cluster, existing members leaving the cluster, and members that are suspected of having crashed. This protocol does not have any additional attributes beyond the generic attributes.
			</p><h4 id="merge_protocols">Merge Protocols</h4><p>
				If the cluster becomes split, then the <code class="literal">MERGE3</code> protocol is responsible for merging the subclusters back together. While this protocol is responsible for merging the cluster members back together, this will not merge the state of the cluster. The application is responsible for handling the callback to merge states. This protocol does not have any additional attributes beyond the generic attributes.
			</p><h4 id="message_stability">Message Stability</h4><p>
				The <code class="literal">pbcast.STABLE</code> protocol is responsible for garbage collecting messages that have been seen by all members of the cluster. This protocol initiates a stable message containing message numbers for a given member, called a digest. Once all members of the cluster have received the others' digests, then the message may be removed from the retransmission table. This protocol does not have any additional attributes beyond the generic attributes.
			</p><h4 id="reliable_message_transmission">Reliable Message Transmission</h4><p>
				The following protocols provide reliable message delivery and FIFO properties for messages sent to all nodes in a cluster. Reliable delivery means that no messages sent by a sender will ever be lost, as all messages are numbered, and retransmission requests are sent if a sequence number is not received. These protocols do not have any additional attributes beyond the generic attributes.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						pbcast.NAKACK2
					</li><li class="listitem">
						pbcast.UNICAST3
					</li></ul></div><h4 id="deprecated_protocols">Deprecated Protocols</h4><p>
				The following protocols have been deprecated, and have been replaced by a protocol that contains only the class name. For instance, instead of specifying <code class="literal">org.jgroups.protocols.ASYM_ENCRYPT</code>, the protocol name would be <code class="literal">ASYM_ENCRYPT</code>.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						org.jgroups.protocols.ASYM_ENCRYPT
					</li><li class="listitem">
						org.jgroups.protocols.AUTH
					</li><li class="listitem">
						org.jgroups.protocols.JDBC_PING
					</li><li class="listitem">
						org.jgroups.protocols.SYM_ENCRYPT
					</li><li class="listitem">
						org.jgroups.protocols.TCPGOSSIP
					</li><li class="listitem">
						org.jgroups.protocols.TCPPING
					</li></ul></div></section><section class="section" id="microprofile_config_smallrye_subsystem_attributes"><div class="titlepage"><div><div><h2 class="title">A.35. MicroProfile Config SmallRye Subsystem Attributes</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-microprofile-config-smallrye_1_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="microprofile_config_smallrye_subsystem_configsource_attributes"><p class="title"><strong>Table A.132. MicroProfile Config SmallRye Subsystem: <code class="literal">config-source</code> Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688403872" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688402784" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688403872"> <p>
								class
							</p>
							 </td><td align="left" valign="top" headers="idm140321688402784"> <p>
								The <code class="literal">ConfigSource</code> class to load. The <code class="literal">ConfigSource</code> provides a source for the configuration values.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688403872"> <p>
								dir
							</p>
							 </td><td align="left" valign="top" headers="idm140321688402784"> <p>
								The directory to scan. This directory contains properties files where each file name is the name of the property and the file content is its value.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688403872"> <p>
								ordinal
							</p>
							 </td><td align="left" valign="top" headers="idm140321688402784"> <p>
								The ordinal value, or priority, for the <code class="literal">ConfigSource</code>. The values provided by ConfigSources with higher ordinal values override those provided by ConfigSources with lower ordinal values.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688403872"> <p>
								properties
							</p>
							 </td><td align="left" valign="top" headers="idm140321688402784"> <p>
								Properties to store directly in the <code class="literal">ConfigSource</code>.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="microprofile_config_smallrye_subsystem_configsourceprovider_attributes"><p class="title"><strong>Table A.133. MicroProfile Config SmallRye Subsystem: <code class="literal">config-source-provider</code> Attributes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688377056" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688375968" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688377056"> <p>
								class
							</p>
							 </td><td align="left" valign="top" headers="idm140321688375968"> <p>
								The <code class="literal">ConfigSourceProvider</code> class to load. The <code class="literal">ConfigSourceProvider</code> registers implementations for multiple <code class="literal">ConfigSource</code> instances.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="apache_http_server_mod_cluster_directives"><div class="titlepage"><div><div><h2 class="title">A.36. Apache HTTP Server mod_cluster Directives</h2></div></div></div><p>
				The mod_cluster connector is an Apache HTTP Server-based load balancer. It uses a communication channel to forward requests from the Apache HTTP Server to one of a set of application server nodes. The following directives can be set to configure mod_cluster.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					There is no need to use <span class="emphasis"><em>ProxyPass</em></span> directives because mod_cluster automatically configures the URLs that must be forwarded to Apache HTTP Server.
				</p></div></div><div class="table" id="idm140321688364800"><p class="title"><strong>Table A.134. mod_cluster Directives</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688359040" scope="col">Directive</th><th align="left" valign="top" id="idm140321688357952" scope="col">Description</th><th align="left" valign="top" id="idm140321688356864" scope="col">Values</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688359040"> <p>
								CreateBalancers
							</p>
							 </td><td align="left" valign="top" headers="idm140321688357952"> <p>
								Defines how the balancers are created in the Apache HTTP Server VirtualHosts. This allows directives like: <code class="literal">ProxyPass /balancer://mycluster1/</code>.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688356864"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">0</code>: Create all VirtualHosts defined in Apache HTTP Server
									</li><li class="listitem">
										<code class="literal">1</code>: Do not create balancers (at least one <span class="emphasis"><em>ProxyPass</em></span> or <span class="emphasis"><em>ProxyMatch</em></span> is required to define the balancer names)
									</li><li class="listitem">
										<code class="literal">2</code>: Create only the main server <span class="emphasis"><em>(default)</em></span>
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688359040"> <p>
								UseAlias
							</p>
							 </td><td align="left" valign="top" headers="idm140321688357952"> <p>
								Check that the alias corresponds to the server name.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688356864"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">0</code>: Ignore aliases <span class="emphasis"><em>(default)</em></span>
									</li><li class="listitem">
										<code class="literal">1</code>: Check aliases
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688359040"> <p>
								LBstatusRecalTime
							</p>
							 </td><td align="left" valign="top" headers="idm140321688357952"> <p>
								Time interval in seconds for load-balancing logic to recalculate the status of a node.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688356864"> <p>
								Default: 5 seconds
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688359040"> <p>
								WaitBeforeRemove
							</p>
							 </td><td align="left" valign="top" headers="idm140321688357952"> <p>
								Time in seconds before a removed node is forgotten by httpd.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688356864"> <p>
								Default: 10 seconds
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688359040"> <p>
								ProxyPassMatch/ProxyPass
							</p>
							 </td><td align="left" valign="top" headers="idm140321688357952"> <p>
								ProxyPassMatch and ProxyPass are <span class="emphasis"><em>mod_proxy</em></span> directives which, when using <span class="emphasis"><em>!</em></span> instead of the back-end URL, prevent reverse-proxy in the path. This is used to allow Apache HTTP Server to serve static content. For example: <code class="literal">ProxyPassMatch ^(/.*\.gif)$ !</code> This example allows the Apache HTTP Server to serve the .gif files directly.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688356864"> </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Due to performance optimizations for sessions in JBoss EAP 7, configuring hot-standby nodes is not supported.
				</p></div></div><div class="formalpara"><p class="title"><strong>mod_manager</strong></p><p>
					The context of a mod_manager directive is VirtualHost in all cases, except when mentioned otherwise. <span class="emphasis"><em>server config</em></span> context implies that the directive must be outside a VirtualHost configuration. If not, an error message is displayed and the Apache HTTP Server does not start.
				</p></div><div class="table" id="idm140321688314240"><p class="title"><strong>Table A.135. mod_manager Directives</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688308480" scope="col">Directive</th><th align="left" valign="top" id="idm140321688307392" scope="col">Description</th><th align="left" valign="top" id="idm140321688306304" scope="col">Values</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								EnableMCPMReceive
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								Allow the VirtualHost to receive the <span class="emphasis"><em>MCPM</em></span> from the nodes. Include <span class="emphasis"><em>EnableMCPMReceive</em></span> in the Apache HTTP Server configuration to allow mod_cluster to work. Save it in the VirtualHost where you configure advertising.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								MemManagerFile
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								The base name for the names that <span class="emphasis"><em>mod_manager</em></span> uses to store configuration, generate keys for shared memory or locked files. This must be an absolute path name; the directories are created if needed. It is recommended that these files are placed on a local drive and not an NFS share. Context: server config
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								<code class="literal">$server_root/logs/</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								Maxcontext
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								The maximum number of contexts supported by mod_cluster. Context: server config
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								Default: <code class="literal">100</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								Maxnode
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								The maximum number of nodes supported by mod_cluster. Context: server config
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								Default: <code class="literal">20</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								Maxhost
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								The maximum number of hosts, or aliases, supported by mod_cluster. It also includes the maximum number of balancers. Context: server config
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								Default: <code class="literal">20</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								Maxsessionid
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								The number of active <span class="emphasis"><em>sessionid</em></span> stored to provide the number of active sessions in the <span class="emphasis"><em>mod_cluster-manager</em></span> handler. A session is inactive when mod_cluster does not receive any information from the session within 5 minutes. Context: server config. This field is for demonstration and debugging purposes only.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								<code class="literal">0</code>: the logic is not activated.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								MaxMCMPMaxMessSize
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								The maximum size of MCMP messages from other Max directives
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								Calculated from other Max directives. Min: <code class="literal">1024</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								ManagerBalancerName
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								The name of balancer to use when the JBoss EAP instance does not provide a balancer name.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								<span class="emphasis"><em>mycluster</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								PersistSlots
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								Tells mod_slotmem to persist nodes, aliases and contexts in files. Context: server config
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								Off
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								CheckNonce
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								Switch check of <span class="emphasis"><em>nonce</em></span> when using <span class="emphasis"><em>mod_cluster-manager</em></span> handler.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								on/off Default: on - Nonce checked
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								AllowDisplay
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								Switch additional display on <span class="emphasis"><em>mod_cluster-manager</em></span> main page.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								on/off Default: off - only version is displayed
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								AllowCmd
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								Allow commands using <span class="emphasis"><em>mod_cluster-manager</em></span> URL.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								on/off Default: on - Commands allowed
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								ReduceDisplay
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								Reduce the information displayed on the main <span class="emphasis"><em>mod_cluster-manager</em></span> page, so that more nodes can be displayed on the page.
							</p>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								on/off Default: off - full information is displayed
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688308480"> <p>
								SetHandler mod_cluster-manager
							</p>
							 </td><td align="left" valign="top" headers="idm140321688307392"> <p>
								Displays information about the node that mod_cluster sees from the cluster. The information includes generic information and additionally counts the number of active sessions.
							</p>
							 
<pre class="programlisting language-xml">&lt;Location /mod_cluster-manager&gt;
  SetHandler mod_cluster-manager
  Require ip 127.0.0.1
&lt;/Location&gt;</pre>
							 </td><td align="left" valign="top" headers="idm140321688306304"> <p>
								on/off Default: off
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When accessing the location defined in <code class="literal">httpd.conf</code>:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Transferred: Corresponds to the POST data sent to the back-end server.
						</li><li class="listitem">
							Connected: Corresponds to the number of requests that have been processed when the mod_cluster status page was requested.
						</li><li class="listitem">
							Num_sessions: Corresponds to the number of sessions mod_cluster report as active (on which there was a request within the past 5 minutes). This field is not present when Maxsessionid is zero and is for demonstration and debugging purposes only.
						</li></ul></div></div></div></section><section class="section" id="mod_cluster-reference"><div class="titlepage"><div><div><h2 class="title">A.37. ModCluster Subsystem Attributes</h2></div></div></div><p>
				The <code class="literal">modcluster</code> subsystem has the following structure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<a class="link" href="#proxy-options" title="Table A.136. proxy Configuration Options">proxy</a>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								<a class="link" href="#dynamic-load-provider-config-options" title="Table A.137. load-provider=dynamic Configuration Options">load-provider=dynamic</a>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<a class="link" href="#custom-load-metric-attr-options" title="Table A.138. custom-load-metric Attribute Options">custom-load-metric</a>
									</li><li class="listitem">
										<a class="link" href="#load-metric-attr-options" title="Table A.139. load-metric Attribute Options">load-metric</a>
									</li></ul></div></li><li class="listitem">
								load-provider=simple
							</li><li class="listitem">
								<a class="link" href="#ssl-config-attr-options" title="Table A.140. ssl Attribute Options">ssl</a>
							</li></ul></div></li></ul></div><p>
				The <code class="literal">load-provider=dynamic</code> resource allows you to configure factors, such as CPU, sessions, heap, memory, and weight to determine the load balancing behavior.
			</p><p>
				The <code class="literal">load-provider=simple</code> resource allows setting only a static constant as the factor attribute. This helps when the user does not need dynamic or complex rules to load balance the incoming HTTP requests.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in these tables are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/jboss-as-mod-cluster_3_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="proxy-options"><p class="title"><strong>Table A.136. proxy Configuration Options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688191184" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688190096" scope="col">Default</th><th align="left" valign="top" id="idm140321688189008" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								advertise
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Whether to enable multicast-based advertise mechanism.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								advertise-security-key
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								It is a shared secret between an httpd instance and the JBoss EAP servers listening for advertisements from the httpd instance.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								advertise-socket
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								The name of the balancer on the reverse proxy to register with.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								auto-enable-contexts
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								If set to <code class="literal">false</code>, contexts are registered with the reverse proxy as disabled. You can enable the context using the <code class="literal">enable-context</code> operation or by using the mod_cluster_manager console.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								balancer
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								The name of the balancer on the reverse proxy to register with. If not set, the value is configured on the Apache HTTP Server side with the <code class="literal">ManagerBalancerName</code> directive, which defaults to <code class="literal">mycluster</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								connector
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								The name of Undertow listener that mod_cluster reverse proxy will connect to.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								excluded-contexts
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								A list of contexts to exclude from registration with the reverse proxies. If no host is indicated, the host is assumed to be <code class="literal">localhost</code>. <code class="literal">ROOT</code> indicates the root context of the web application.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								flush-packets
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Whether or not to enable packet flushing to the web server.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								flush-wait
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								-1
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Time to wait before flushing packets in httpd. Max value is <code class="literal">2,147,483,647</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								listener
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								The name of the Undertow listener that will be registered with the reverse proxy.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								load-balancing-group
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								If set, requests are sent to the specified load balancing group on the load balancer.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								max-attempts
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								The number of times the reverse proxy will attempt to send a given request to a worker before giving up.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								node-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								-1
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Timeout, in seconds, for proxy connections to a worker. This is the time that mod_cluster will wait for the back-end response before returning an error. If the <code class="literal">node-timeout</code> attribute is undefined, the httpd <code class="literal">ProxyTimeout</code> directive is used. If <code class="literal">ProxyTimeout</code> is undefined, the httpd <code class="literal">Timeout</code> directive is used, which defaults to 300 seconds.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								ping
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								10
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Time, in seconds, in which to wait for a pong answer to a ping.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								proxies
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								List of proxies for mod_cluster to register with defined by <code class="literal">outbound-socket-binding</code> in <code class="literal">socket-binding-group</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								proxy-list
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								List of proxies. The format is <code class="literal"><span class="emphasis"><em>HOST_NAME</em></span>:<span class="emphasis"><em>PORT</em></span></code>, separated with commas. <span class="emphasis"><em>Deprecated in favor of <code class="literal">proxies</code>.</em></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								proxy-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								/
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Base URL for MCMP requests.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								session-draining-strategy
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								DEFAULT
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Session draining strategy used during undeployment of a web application. Valid values are <code class="literal">DEFAULT</code>, <code class="literal">ALWAYS</code>, or <code class="literal">NEVER</code>.
							</p>
							 <div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">DEFAULT</code></span></dt><dd>
											Drain sessions before web application undeploy only if the web application is non-distributable.
										</dd><dt><span class="term"><code class="literal">ALWAYS</code></span></dt><dd>
											Always drain sessions before web application undeploy, even for distributable web applications.
										</dd><dt><span class="term"><code class="literal">NEVER</code></span></dt><dd>
											Do not drain sessions before web application undeploy.
										</dd></dl></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								load-provider=simple
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								A load provider to use if no dynamic load provider is present. It assigns each cluster member a load factor of <code class="literal">1</code>, and distributes work evenly without applying a load balancing algorithm.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								smax
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								-1
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Soft maximum idle connection count in httpd.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								socket-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								20
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Number of seconds to wait for a response from an httpd proxy to MCMP commands before timing out, and flagging the proxy as in error.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								ssl-context
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Reference to the <code class="literal">SSLContext</code> to be used by mod_cluster.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								status-interval
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								10
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Number of seconds a STATUS message is sent from the application server to the reverse proxy. Allowed values are between <code class="literal">1</code> and <code class="literal">2,147,483,647</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								sticky-session
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								true
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Whether subsequent requests for a given session should be routed to the same node, if possible.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								sticky-session-force
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Whether the reverse proxy should return an error in the event that the balancer is unable to route a request to the node to which it is stuck. This setting is ignored if sticky sessions are disabled.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								sticky-session-remove
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								false
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Remove session information on failover.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								stop-context-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								10
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								The maximum time, in seconds, to wait for a context to process pending requests, for a distributable context, or to destroy active sessions, for a non-distributable context.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								ttl
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								-1
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Time to live, in seconds, for idle connections above smax. Allowed values are between <code class="literal">-1</code> and <code class="literal">2,147,483,647</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688191184"> <p>
								worker-timeout
							</p>
							 </td><td align="left" valign="top" headers="idm140321688190096"> <p>
								-1
							</p>
							 </td><td align="left" valign="top" headers="idm140321688189008"> <p>
								Timeout to wait in httpd for an available worker to process the requests. Allowed values are between <code class="literal">-1</code> and <code class="literal">2,147,483,647</code>.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="dynamic-load-provider-config-options"><p class="title"><strong>Table A.137. load-provider=dynamic Configuration Options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321688013248" scope="col">Attribute</th><th align="left" valign="top" id="idm140321688012160" scope="col">Default</th><th align="left" valign="top" id="idm140321688011072" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321688013248"> <p>
								decay
							</p>
							 </td><td align="left" valign="top" headers="idm140321688012160"> <p>
								2
							</p>
							 </td><td align="left" valign="top" headers="idm140321688011072"> <p>
								The decay.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688013248"> <p>
								history
							</p>
							 </td><td align="left" valign="top" headers="idm140321688012160"> <p>
								9
							</p>
							 </td><td align="left" valign="top" headers="idm140321688011072"> <p>
								The history.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321688013248"> <p>
								initial-load
							</p>
							 </td><td align="left" valign="top" headers="idm140321688012160"> <p>
								0
							</p>
							 </td><td align="left" valign="top" headers="idm140321688011072"> <p>
								The initial load reported by a node. The valid range is <code class="literal">0-100</code>, with <code class="literal">0</code> indicating maximum load.
							</p>
							 <p>
								This attribute helps to gradually increase the load value of a newly joined node to avoid overloading it while joining a cluster.
							</p>
							 <p>
								You can disable this behavior by setting the value as <code class="literal">-1</code>. When disabled, the node will report a load value of <code class="literal">100</code>, indicating that it has no load when joining a cluster.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="custom-load-metric-attr-options"><p class="title"><strong>Table A.138. custom-load-metric Attribute Options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687983776" scope="col">Attribute</th><th align="left" valign="top" id="idm140321687982688" scope="col">Default</th><th align="left" valign="top" id="idm140321687981600" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687983776"> <p>
								capacity
							</p>
							 </td><td align="left" valign="top" headers="idm140321687982688"> <p>
								1.0
							</p>
							 </td><td align="left" valign="top" headers="idm140321687981600"> <p>
								The capacity of the metric.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687983776"> <p>
								class
							</p>
							 </td><td align="left" valign="top" headers="idm140321687982688"> </td><td align="left" valign="top" headers="idm140321687981600"> <p>
								The class name of the custom metric.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687983776"> <p>
								property
							</p>
							 </td><td align="left" valign="top" headers="idm140321687982688"> </td><td align="left" valign="top" headers="idm140321687981600"> <p>
								The properties for the metric.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687983776"> <p>
								weight
							</p>
							 </td><td align="left" valign="top" headers="idm140321687982688"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321687981600"> <p>
								The weight of the metric.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="load-metric-attr-options"><p class="title"><strong>Table A.139. load-metric Attribute Options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687953520" scope="col">Attribute</th><th align="left" valign="top" id="idm140321687952432" scope="col">Default</th><th align="left" valign="top" id="idm140321687951344" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687953520"> <p>
								capacity
							</p>
							 </td><td align="left" valign="top" headers="idm140321687952432"> <p>
								1.0
							</p>
							 </td><td align="left" valign="top" headers="idm140321687951344"> <p>
								The capacity of the metric.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687953520"> <p>
								property
							</p>
							 </td><td align="left" valign="top" headers="idm140321687952432"> </td><td align="left" valign="top" headers="idm140321687951344"> <p>
								The properties for the metric.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687953520"> <p>
								type
							</p>
							 </td><td align="left" valign="top" headers="idm140321687952432"> </td><td align="left" valign="top" headers="idm140321687951344"> <p>
								The type of the metric. Valid values are <code class="literal">cpu</code>, <code class="literal">mem</code>, <code class="literal">heap</code>, <code class="literal">sessions</code>, <code class="literal">receive-traffic</code>, <code class="literal">send-traffic</code>, <code class="literal">requests</code>, or <code class="literal">busyness</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687953520"> <p>
								weight
							</p>
							 </td><td align="left" valign="top" headers="idm140321687952432"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm140321687951344"> <p>
								The weight of the metric.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="ssl-config-attr-options"><p class="title"><strong>Table A.140. ssl Attribute Options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 17%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687919424" scope="col">Attribute</th><th align="left" valign="top" id="idm140321687918336" scope="col">Default</th><th align="left" valign="top" id="idm140321687917248" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687919424"> <p>
								ca-certificate-file
							</p>
							 </td><td align="left" valign="top" headers="idm140321687918336"> </td><td align="left" valign="top" headers="idm140321687917248"> <p>
								Certificate authority.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687919424"> <p>
								ca-revocation-url
							</p>
							 </td><td align="left" valign="top" headers="idm140321687918336"> </td><td align="left" valign="top" headers="idm140321687917248"> <p>
								Certificate authority revocation list.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687919424"> <p>
								certificate-key-file
							</p>
							 </td><td align="left" valign="top" headers="idm140321687918336"> <p>
								${user.home}/.keystore
							</p>
							 </td><td align="left" valign="top" headers="idm140321687917248"> <p>
								Key file for the certificate.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687919424"> <p>
								cipher-suite
							</p>
							 </td><td align="left" valign="top" headers="idm140321687918336"> </td><td align="left" valign="top" headers="idm140321687917248"> <p>
								The allowed cipher suite.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687919424"> <p>
								key-alias
							</p>
							 </td><td align="left" valign="top" headers="idm140321687918336"> </td><td align="left" valign="top" headers="idm140321687917248"> <p>
								The key alias.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687919424"> <p>
								password
							</p>
							 </td><td align="left" valign="top" headers="idm140321687918336"> <p>
								changeit
							</p>
							 </td><td align="left" valign="top" headers="idm140321687917248"> <p>
								Password.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687919424"> <p>
								protocol
							</p>
							 </td><td align="left" valign="top" headers="idm140321687918336"> <p>
								TLS
							</p>
							 </td><td align="left" valign="top" headers="idm140321687917248"> <p>
								The SSL protocols that are enabled.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="mod_jk_worker_properties"><div class="titlepage"><div><div><h2 class="title">A.38. mod_jk Worker Properties</h2></div></div></div><p>
				The <code class="literal">workers.properties</code> file defines the behavior of the workers to which mod_jk passes client requests. The <code class="literal">workers.properties</code> file defines where the different application servers are located and the way the workload should be balanced across them.
			</p><p>
				The general structure of a property is <code class="literal">worker.<span class="emphasis"><em>WORKER_NAME</em></span>.<span class="emphasis"><em>DIRECTIVE</em></span></code>. The <code class="literal"><span class="emphasis"><em>WORKER_NAME</em></span></code> is a unique name that must match the <code class="literal">instance-id</code> <a class="link" href="#configure_accept_requests_external_web_servers" title="24.5.3. Accepting Requests from External Web Servers">configured in the JBoss EAP <code class="literal">undertow</code> subsystem</a>. The <code class="literal"><span class="emphasis"><em>DIRECTIVE</em></span></code> is the setting to be applied to the worker.
			</p><div class="formalpara"><p class="title"><strong>Configuration Reference for Apache mod_jk Load Balancers</strong></p><p>
					Templates specify default per-load-balancer settings. You can override the template within the load-balancer settings itself.
				</p></div><div class="table" id="idm140321687871328"><p class="title"><strong>Table A.141. Global properties</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687866496" scope="col">Property</th><th align="left" valign="top" id="idm140321687865408" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687866496"> <p>
								worker.list
							</p>
							 </td><td align="left" valign="top" headers="idm140321687865408"> <p>
								A comma separated list of worker names that will be used by <span class="emphasis"><em>mod_jk</em></span>.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321687859040"><p class="title"><strong>Table A.142. Mandatory Directives</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687854208" scope="col">Property</th><th align="left" valign="top" id="idm140321687853120" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687854208"> <p>
								type
							</p>
							 </td><td align="left" valign="top" headers="idm140321687853120"> <p>
								The type of worker. The default type is <code class="literal">ajp13</code>. Other possible values are <code class="literal">ajp14</code>, <code class="literal">lb</code>, <code class="literal">status</code>. For more information on these directives, see the Apache Tomcat Connectors Reference at <a class="link mimir-link-warn" href="https://tomcat.apache.org/connectors-doc/reference/workers.html" title="Mimir does not include content from: tomcat.apache.org">https://tomcat.apache.org/connectors-doc/reference/workers.html</a>.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321687844368"><p class="title"><strong>Table A.143. Load Balancing Directives</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687839520" scope="col">Property</th><th align="left" valign="top" id="idm140321687838432" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687839520"> <p>
								balance_workers
							</p>
							 </td><td align="left" valign="top" headers="idm140321687838432"> <p>
								Specifies the worker nodes that the load balancer must manage. You can use the directive multiple times for the same load balancer. It consists of a comma-separated list of worker node names.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687839520"> <p>
								sticky_session
							</p>
							 </td><td align="left" valign="top" headers="idm140321687838432"> <p>
								Specifies whether requests from the same session are always routed to the same worker. The default is <code class="literal">1</code>, meaning that sticky sessions are enabled. To disable sticky sessions, set it to <code class="literal">0</code>. Sticky sessions should usually be enabled, unless all of your requests are truly stateless.
							</p>
							 </td></tr></tbody></table></div></div><div class="table" id="idm140321687827568"><p class="title"><strong>Table A.144. Connection Directives</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687822736" scope="col">Property</th><th align="left" valign="top" id="idm140321687821648" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687822736"> <p>
								host
							</p>
							 </td><td align="left" valign="top" headers="idm140321687821648"> <p>
								The host name or IP address of the back-end server. The back-end server must support the <code class="literal">ajp</code> protocol stack. The default value is <code class="literal">localhost</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687822736"> <p>
								port
							</p>
							 </td><td align="left" valign="top" headers="idm140321687821648"> <p>
								The port number of the back-end server instance listening for defined protocol requests. The default value is <code class="literal">8009</code>, which is the default listening port for AJP13 workers. The default value for AJP14 workers is <code class="literal">8011</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687822736"> <p>
								ping_mode
							</p>
							 </td><td align="left" valign="top" headers="idm140321687821648"> <p>
								The conditions under which connections are probed for network status. The probe uses an empty AJP13 packet for CPing, and expects a CPong in response. Specify the conditions by using a combination of directive flags. The flags are not separated by a comma or any white-space. The ping_mode can be any combination of C, P, I, and A.
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										C - Connect. Probe the connection one time after connecting to the server. Specify the timeout using the value of connect_timeout. Otherwise, the value of ping_timeout is used.
									</li><li class="listitem">
										P - Prepost. Probe the connection before sending each request to the server. Specify the timeout using the prepost_timeout directive. Otherwise, the value of ping_timeout is used.
									</li><li class="listitem">
										I - Interval. Probe the connection at an interval specified by connection_ping_interval, if present. Otherwise, the value of ping_timeout is used.
									</li><li class="listitem">
										A - All. A shortcut for CPI, which specifies that all connection probes are used.
									</li></ul></div>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687822736"> <p>
								ping_timeout, connect_timeout, prepost_timeout, connection_ping_interval
							</p>
							 </td><td align="left" valign="top" headers="idm140321687821648"> <p>
								The timeout values for the connection probe settings above. The value is specified in milliseconds, and the default value for <code class="literal">ping_timeout</code> is <code class="literal">10000</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687822736"> <p>
								lbfactor
							</p>
							 </td><td align="left" valign="top" headers="idm140321687821648"> <p>
								Specifies the load-balancing factor for an individual back-end server instance. This is useful to give a more powerful server more of the workload. To give a worker 3 times the default load, set this to <code class="literal">3</code>: <code class="literal">worker.my_worker.lbfactor=3</code>
							</p>
							 </td></tr></tbody></table></div></div><p>
				The example below demonstrates load balancing with sticky sessions between two worker nodes, <code class="literal">node1</code> and <code class="literal">node2</code>, listening on port <code class="literal">8009</code>.
			</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">workers.properties</code> File</strong></p><p>
					
<pre class="screen"># Define list of workers that will be used for mapping requests
worker.list=loadbalancer,status

# Define Node1
# modify the host as your host IP or DNS name.
worker.node1.port=8009
worker.node1.host=node1.mydomain.com
worker.node1.type=ajp13
worker.node1.ping_mode=A
worker.node1.lbfactor=1

# Define Node2
# modify the host as your host IP or DNS name.
worker.node2.port=8009
worker.node2.host= node2.mydomain.com
worker.node2.type=ajp13
worker.node2.ping_mode=A
worker.node2.lbfactor=1

# Load-balancing behavior
worker.loadbalancer.type=lb
worker.loadbalancer.balance_workers=node1,node2
worker.loadbalancer.sticky_session=1

# Status worker for managing load balancer
worker.status.type=status</pre>

				</p></div><p>
				Further configuration details for Apache mod_jk are out of the scope of this document and can be found in the <a class="link mimir-link-warn" href="http://tomcat.apache.org/connectors-doc/" title="Mimir does not include content from: tomcat.apache.org">Apache documentation</a>.
			</p></section><section class="section" id="security-manager-reference"><div class="titlepage"><div><div><h2 class="title">A.39. Security Manager Subsystem Attributes</h2></div></div></div><p>
				The <code class="literal">security-manager</code> subsystem itself does not have configurable attributes, but it has one child resource with configurable attributes: <code class="literal">deployment-permissions=default</code>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Attribute names in this table are listed as they appear in the management model, for example, when using the management CLI. See the schema definition file located at <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/docs/schema/wildfly-security-manager_1_0.xsd</code> to view the elements as they appear in the XML, as there may be differences from the management model.
				</p></div></div><div class="table" id="idm140321687779968"><p class="title"><strong>Table A.145. deployment-permissions Configuration Options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"><!--Empty--></col><col style="width: 60%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140321687775104" scope="col">Attribute</th><th align="left" valign="top" id="idm140321687774016" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140321687775104"> <p>
								maximum-permissions
							</p>
							 </td><td align="left" valign="top" headers="idm140321687774016"> <p>
								The maximum set of permissions that can be granted to a deployment or JARs.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140321687775104"> <p>
								minimum-permissions
							</p>
							 </td><td align="left" valign="top" headers="idm140321687774016"> <p>
								The minimum set of permissions to be granted to a deployment or JARs.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="install_openssl_jbcs"><div class="titlepage"><div><div><h2 class="title">A.40. Install OpenSSL from JBoss Core Services</h2></div></div></div><p>
				The JBoss Core Services OpenSSL files can be installed either from the <a class="link" href="#openssl-zip-installation" title="Using JBoss Core Services OpenSSL ZIP File Distribution">ZIP</a> or from the <a class="link" href="#openssl-rpm-installation" title="Using JBoss Core Services OpenSSL RPM Distribution">RPM</a> distributions. Follow the below steps depending on your installation method of choice.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					On Red Hat Enterprise Linux 8, standard system OpenSSL is supported thus installation of OpenSSL from JBoss Core Services is not necessary anymore.
				</p></div></div><h4 id="openssl-zip-installation">Using JBoss Core Services OpenSSL ZIP File Distribution</h4><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The path to <code class="literal">libs/</code> directory in the ZIP archive is <code class="literal">jbcs-openssl-<span class="emphasis"><em>VERSION</em></span>/openssl/lib(64)</code> for Linux and <code class="literal">jbcs-openssl-<span class="emphasis"><em>VERSION</em></span>/openssl/bin</code> for Windows.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Download the OpenSSL package from the <a class="link mimir-link-warn" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=core.service.openssl&amp;downloadType=distributions" title="This content is not included in Mimir.">Software Downloads</a> page that pertains to your operating system and architecture.
					</li><li class="listitem">
						Extract the downloaded ZIP file to your installation directory.
					</li><li class="listitem"><p class="simpara">
						Notify JBoss EAP where to find the OpenSSL libaries.
					</p><p class="simpara">
						You can do this using either of the following methods. In each of the following commands, be sure to replace <code class="literal"><span class="emphasis"><em>JBCS_OPENSSL_PATH</em></span></code> with the path to the JBoss Core Services OpenSSL libraries, for example, <code class="literal">/opt/rh/jbcs-httpd24/root/usr/lib64</code>.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								You can add the OpenSSL path to the <code class="literal">JAVA_OPTS</code> variable in the <code class="literal">standalone.conf</code> or <code class="literal">domain.conf</code> configuration file using the following argument.
							</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Dorg.wildfly.openssl.path=<span class="emphasis"><em>JBCS_OPENSSL_PATH</em></span></pre></li><li class="listitem"><p class="simpara">
								You can define a system property that specifies the OpenSSL path using the following management CLI command.
							</p><pre class="screen">/system-property=org.wildfly.openssl.path:add(value=<span class="emphasis"><em>JBCS_OPENSSL_PATH</em></span>)</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Regardless of the method you use, you must perform a server restart for either the <code class="literal">JAVA_OPTS</code> value or the system property to take effect. A server reload is not sufficient.
								</p></div></div></li></ul></div></li></ol></div><h4 id="openssl-rpm-installation">Using JBoss Core Services OpenSSL RPM Distribution</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Ensure that the system is registered to the JBoss Core Services channel:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Determine the JBoss Core Services CDN repository name for your operating system version and architecture:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<span class="strong strong"><strong>RHEL 6</strong></span>: jb-coreservices-1-for-rhel-6-server-rpms
									</li><li class="listitem">
										<span class="strong strong"><strong>RHEL 7</strong></span>: jb-coreservices-1-for-rhel-7-server-rpms
									</li></ul></div></li><li class="listitem"><p class="simpara">
								Enable the repository on the system:
							</p><pre class="screen"># subscription-manager repos --enable <span class="emphasis"><em>REPO_NAME</em></span></pre></li><li class="listitem"><p class="simpara">
								Ensure the following message is seen:
							</p><pre class="screen">Repository <span class="emphasis"><em>REPO_NAME</em></span> is enabled for this system.</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Install OpenSSL from this channel:
					</p><pre class="screen"># yum install jbcs-httpd24-openssl</pre></li><li class="listitem">
						Once the installation completes, the JBCS OpenSSL libraries will be available in <code class="literal">/opt/rh/jbcs-httpd24/root/usr/lib64</code>, or just <code class="literal">/opt/rh/jbcs-httpd24/root/usr/lib</code> on x86 architecture.
					</li><li class="listitem"><p class="simpara">
						Notify JBoss EAP where to find the OpenSSL libaries.
					</p><p class="simpara">
						You can do this using either of the following methods. In each of the following commands, be sure to replace <code class="literal"><span class="emphasis"><em>JBCS_OPENSSL_PATH</em></span></code> with the path to the JBoss Core Services OpenSSL libraries, for example, <code class="literal">/opt/rh/jbcs-httpd24/root/usr/lib64</code>.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								You can update the <code class="literal">WILDFLY_OPTS</code> variable for the <code class="literal">eap7-standalone</code> or <code class="literal">eap7-domain</code> settings in the service configuration file.
							</p><pre class="screen">WILDFLY_OPTS="$WILDFLY_OPTS -Dorg.wildfly.openssl.path=<span class="emphasis"><em>JBCS_OPENSSL_PATH</em></span>"</pre></li><li class="listitem"><p class="simpara">
								You can define a system property that specifies the OpenSSL path using the following management CLI command.
							</p><pre class="screen">/system-property=org.wildfly.openssl.path:add(value=<span class="emphasis"><em>JBCS_OPENSSL_PATH</em></span>)</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Regardless of the method you use, you must perform a server restart for either the <code class="literal">WILDFLY_OPTS</code> value or the system property to take effect. A server reload is not sufficient.
								</p></div></div></li></ul></div></li></ol></div></section><section class="section" id="configure_eap_openssl"><div class="titlepage"><div><div><h2 class="title">A.41. Configure JBoss EAP to Use OpenSSL</h2></div></div></div><p>
				There are multiple ways in which you can configure JBoss EAP to use OpenSSL:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You can reconfigure the <code class="literal">elytron</code> subsystem to give OpenSSL priority so that it is used in all cases by default.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Although OpenSSL is installed in the <code class="literal">elytron</code> subsystem, it is not the default TLS provider.
						</p></div></div><pre class="screen">/subsystem=elytron:write-attribute(name=initial-providers, value=combined-providers)
/subsystem=elytron:undefine-attribute(name=final-providers)

reload</pre></li><li class="listitem"><p class="simpara">
						In the <code class="literal">elytron</code> subsystem, the OpenSSL provider can also be specified on the <code class="literal">ssl-context</code> resource. That way, the OpenSSL protocol can be selected on a case-by-case basis instead of using the default priority.
					</p><p class="simpara">
						To create the <code class="literal">ssl-context</code> resource and use the OpenSSL libraries in your Elytron-based SSL/TLS configuration, use the following command.
					</p><pre class="screen">/subsystem=elytron/server-ssl-context=httpsSSC:add(key-manager=localhost-manager, trust-manager=ca-manager, provider-name=openssl)

reload</pre></li><li class="listitem"><p class="simpara">
						To use the OpenSSL libraries in your legacy <code class="literal">security</code> subsystem SSL/TLS configuration:
					</p><pre class="screen">/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:write-attribute(name=protocol,value=openssl.TLSv1.2)

reload</pre><p class="simpara">
						The different OpenSSL protocols that can be used are:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								openssl.TLS
							</li><li class="listitem">
								openssl.TLSv1
							</li><li class="listitem">
								openssl.TLSv1.1
							</li><li class="listitem">
								openssl.TLSv1.2
							</li></ul></div></li></ul></div><p>
				JBoss EAP will automatically try to search for the OpenSSL libraries on the system and use them. You can also specify a custom OpenSSL libraries location by using the <code class="literal">org.wildfly.openssl.path</code> property during JBoss EAP startup. Only the OpenSSL library version 1.0.2 or greater provided by JBoss Core Services is supported.
			</p><p>
				If OpenSSL is loaded properly, you will see a message in the <code class="literal">server.log</code> during JBoss EAP startup, similar to:
			</p><pre class="screen">15:37:59,814 INFO [org.wildfly.openssl.SSL] (MSC service thread 1-7) WFOPENSSL0002 OpenSSL Version OpenSSL 1.0.2k-fips 23 Mar 2017</pre></section><section class="section" id="platform_modules_provided_for_java_8"><div class="titlepage"><div><div><h2 class="title">A.42. Platform Modules Provided for Java 8</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">java.base</code>: This dependency is always included in the provided module loaders
					</li><li class="listitem">
						<code class="literal">java.compiler</code>
					</li><li class="listitem">
						<code class="literal">java.datatransfer</code>
					</li><li class="listitem">
						<code class="literal">java.desktop</code>
					</li><li class="listitem">
						<code class="literal">java.instrument</code>
					</li><li class="listitem">
						<code class="literal">java.jnlp</code>
					</li><li class="listitem">
						<code class="literal">java.logging</code>
					</li><li class="listitem">
						<code class="literal">java.management</code>
					</li><li class="listitem">
						<code class="literal">java.management.rmi</code>
					</li><li class="listitem">
						<code class="literal">java.naming</code>
					</li><li class="listitem">
						<code class="literal">java.prefs</code>
					</li><li class="listitem">
						<code class="literal">java.rmi</code>
					</li><li class="listitem">
						<code class="literal">java.scripting</code>
					</li><li class="listitem"><p class="simpara">
						<code class="literal">java.se</code>: This module alias aggregates the following set of base modules:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">java.compiler</code>
							</li><li class="listitem">
								<code class="literal">java.datatransfer</code>
							</li><li class="listitem">
								<code class="literal">java.desktop</code>
							</li><li class="listitem">
								<code class="literal">java.instrument</code>
							</li><li class="listitem">
								<code class="literal">java.logging</code>
							</li><li class="listitem">
								<code class="literal">java.management</code>
							</li><li class="listitem">
								<code class="literal">java.management.rmi</code>
							</li><li class="listitem">
								<code class="literal">java.naming</code>
							</li><li class="listitem">
								<code class="literal">java.prefs</code>
							</li><li class="listitem">
								<code class="literal">java.rmi</code>
							</li><li class="listitem">
								<code class="literal">java.scripting</code>
							</li><li class="listitem">
								<code class="literal">java.security.jgss</code>
							</li><li class="listitem">
								<code class="literal">java.security.sasl</code>
							</li><li class="listitem">
								<code class="literal">java.sql</code>
							</li><li class="listitem">
								<code class="literal">java.sql.rowset</code>
							</li><li class="listitem">
								<code class="literal">java.xml</code>
							</li><li class="listitem">
								<code class="literal">java.xml.crypto</code>
							</li></ul></div></li><li class="listitem">
						<code class="literal">java.security.jgss</code>
					</li><li class="listitem">
						<code class="literal">java.security.sasl</code>
					</li><li class="listitem">
						<code class="literal">java.smartcardio</code>
					</li><li class="listitem">
						<code class="literal">java.sql</code>
					</li><li class="listitem">
						<code class="literal">java.sql.rowset</code>
					</li><li class="listitem">
						<code class="literal">java.xml</code>
					</li><li class="listitem">
						<code class="literal">java.xml.crypto</code>
					</li><li class="listitem">
						<code class="literal">javafx.base</code>
					</li><li class="listitem">
						<code class="literal">javafx.controls</code>
					</li><li class="listitem">
						<code class="literal">javafx.fxml</code>
					</li><li class="listitem">
						<code class="literal">javafx.graphics</code>
					</li><li class="listitem">
						<code class="literal">javafx.media</code>
					</li><li class="listitem">
						<code class="literal">javafx.swing</code>
					</li><li class="listitem">
						<code class="literal">javafx.web</code>
					</li><li class="listitem">
						<code class="literal">jdk.accessibility</code>
					</li><li class="listitem">
						<code class="literal">jdk.attach</code>
					</li><li class="listitem">
						<code class="literal">jdk.compiler</code>
					</li><li class="listitem">
						<code class="literal">jdk.httpserver</code>
					</li><li class="listitem">
						<code class="literal">jdk.jartool</code>
					</li><li class="listitem">
						<code class="literal">jdk.javadoc</code>
					</li><li class="listitem">
						<code class="literal">jdk.jconsole</code>
					</li><li class="listitem">
						<code class="literal">jdk.jdi</code>
					</li><li class="listitem">
						<code class="literal">jdk.jfr</code>
					</li><li class="listitem">
						<code class="literal">jdk.jsobject</code>
					</li><li class="listitem">
						<code class="literal">jdk.management</code>
					</li><li class="listitem">
						<code class="literal">jdk.management.cmm</code>
					</li><li class="listitem">
						<code class="literal">jdk.management.jfr</code>
					</li><li class="listitem">
						<code class="literal">jdk.management.resource</code>
					</li><li class="listitem">
						<code class="literal">jdk.net</code>
					</li><li class="listitem">
						<code class="literal">jdk.plugin.dom</code>
					</li><li class="listitem">
						<code class="literal">jdk.scripting.nashorn</code>
					</li><li class="listitem">
						<code class="literal">jdk.sctp</code>
					</li><li class="listitem">
						<code class="literal">jdk.security.auth</code>
					</li><li class="listitem">
						<code class="literal">jdk.security.jgss</code>
					</li><li class="listitem">
						<code class="literal">jdk.unsupported</code>
					</li><li class="listitem">
						<code class="literal">jdk.xml.dom</code>
					</li></ul></div><p>
				<br/><br/><br/><br/>
			</p><p>
				<span class="emphasis"><em><span class="right right">Revised on 2019-12-05 13:41:19 UTC</span></em></span>
			</p></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140321746236224"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2019 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri mimir-link-warn" href="http://creativecommons.org/licenses/by-sa/3.0/" title="Mimir does not include content from: creativecommons.org">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body>

        
        
    </div>
    

</div> 


                            </bdo>
                        </main>
                    </div>
                </main>
            </div>
        
            <!--#include virtual="/includes/footer/index.html" -->
        </div>
    </body>
</html>
