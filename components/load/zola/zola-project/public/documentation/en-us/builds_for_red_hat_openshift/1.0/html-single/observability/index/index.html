<!DOCTYPE html>
<html>
    <head>
        
        <link rel="stylesheet" type="text/css" media="screen" href="/mimir/styles/mimir.min.css">
        




    <link rel="stylesheet" type="text/css" media="screen" href="/sites/dxp-docs/files/css/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="/sites/dxp-docs/files/css/css_Bwzy34i9pSdDlzGALvqVwG4fpgGp08KLMAkClGNY9M4.css" />



<link rel="stylesheet" type="text/css" media="screen" href="/mimir/styles/mimir-doc-toc.min.css" />



        
        <!--#include virtual="/includes/head/index.html" -->

        
        <title>
Observability - builds for Red Hat OpenShift 1.0
</title>
        
<meta name="product" content="builds for Red Hat OpenShift" />
<meta name="documentation_version" content="1.0" />
<meta name="documentKind" content="documentation" />
<meta name="portal_content_subtype" content="title" />
<meta name="lastModifiedDate" content="2024-02-13T10:23:49.000Z" />


        
            
        
        
            
                
                
                <!-- mimir_solr_yesindex -->
                <meta name="mimir_solr_yesindex" content="true" />
            
        
    </head>

    <body class="mimir-body">

        
        

        
        <div id="page-wrap" class="page-wrap">
            <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">
                <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
                <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

                <header class="masthead" id="masthead">

                    
                    <!--#include virtual="/includes/header/index.html" -->

                    
                    
                    
                        
                    
                    
                        <div class="breadcrumbs">
                            <div id="breadcrumbs" class="container">
                                
                                <a href="/">Home</a>
                                
                                <a href="/products/">Product Documentation</a>
                                
                                <a href="/documentation/en-us/builds_for_red_hat_openshift/1.0/">builds for Red Hat OpenShift</a>
                                
                                <a href="/documentation/en-us/builds_for_red_hat_openshift/1.0/">1.0</a>
                                
                                
                                Observability
                                
                            </div>
                        </div>
                    
                </header>

                <main id="cp-main" class="portal-content-area">
                    <div id="cp-content" class="main-content">
                        
                        <main class="container mimir-docs">
                            
                            <bdo>
                                

<script type="module" src="/mimir/scripts/mimir-doc-toc.min.js"></script>






<div class="docs-grid">

    <nav id="mimir-doc-toc" class="mimir-doc-toc">
      <div class="mimir-doc-toc-inner">
          <!-- single-page -->
        
            
              <ol>
                <li>
                        
                        <a href="#">Observability</a>
                    </li><li>
                        <a href="#build-controller-observability">
                            1. Build controller observability
                        </a><ol>
                <li>
                        <a href="#ob-build-controller-metrics_build-controller-observability">
                            1.1. Build controller metrics
                        </a><ol>
                <li>
                        <a href="#ob-histogram-metrics_build-controller-observability">
                            1.1.1. Histogram metrics
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#idm140172458576240">
                            Legal Notice
                        </a>
                    </li>
            </ol>
            
        
      </div>
    </nav>

    
    <div class="pvof-doc__wrapper" id="doc-wrapper">
        <section class="mimir-doc-title" id="mimir-doc--observability">
            <h1 class="title">Observability</h1>
        </section>
        <body><div xml:lang="en-US" class="book" id="idm140172452841776"><div class="titlepage"><div><div class="producttitle"><span class="productname">builds for Red Hat OpenShift</span> <span class="productnumber">1.0</span></div><div><h2 class="subtitle">Build controller observability</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat OpenShift Documentation Team</span></div></div><div><a href="#idm140172458576240">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document provides information about build controller observability.
			</div></div></div></div><hr/></div><section class="chapter" id="build-controller-observability"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Build controller observability</h1></div></div></div><p>
			Builds exposes several metrics to help you monitor the performance and functioning of your build resources. The build controller metrics are exposed on the port <code class="literal">8383</code>.
		</p><section class="section" id="ob-build-controller-metrics_build-controller-observability"><div class="titlepage"><div><div><h2 class="title">1.1. Build controller metrics</h2></div></div></div><p>
				You can check the following build controller metrics for monitoring purposes:
			</p><div class="table" id="idm140172455019648"><p class="title"><strong>Table 1.1. Build controller metrics</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 27%; " class="col_1"><!--Empty--></col><col style="width: 9%; " class="col_2"><!--Empty--></col><col style="width: 27%; " class="col_3"><!--Empty--></col><col style="width: 27%; " class="col_4"><!--Empty--></col><col style="width: 9%; " class="col_5"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140172458573504" scope="col">Name</th><th align="left" valign="top" id="idm140172458572416" scope="col">Type</th><th align="left" valign="top" id="idm140172458571328" scope="col">Description</th><th align="left" valign="top" id="idm140172458570240" scope="col">Labels</th><th align="left" valign="top" id="idm140172458569152" scope="col">Status</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140172458573504"> <p>
								<code class="literal">build_builds_registered_total</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140172458572416"> <p>
								Counter
							</p>
							 </td><td align="left" valign="top" headers="idm140172458571328"> <p>
								The number of total registered builds.
							</p>
							 </td><td align="left" valign="top" headers="idm140172458570240"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">buildstrategy=&lt;build_buildstrategy_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">namespace=&lt;buildrun_namespace&gt;</code>
									</li><li class="listitem">
										<code class="literal">build=&lt;build_name&gt;</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140172458569152"> <p>
								experimental
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140172458573504"> <p>
								<code class="literal">build_buildruns_completed_total</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140172458572416"> <p>
								Counter
							</p>
							 </td><td align="left" valign="top" headers="idm140172458571328"> <p>
								The number of total completed build runs.
							</p>
							 </td><td align="left" valign="top" headers="idm140172458570240"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">buildstrategy=&lt;build_buildstrategy_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">namespace=&lt;buildrun_namespace&gt;</code>
									</li><li class="listitem">
										<code class="literal">build=&lt;build_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">buildrun=&lt;buildrun_name&gt;</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140172458569152"> <p>
								experimental
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140172458573504"> <p>
								<code class="literal">build_buildrun_establish_duration_seconds</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140172458572416"> <p>
								Histogram
							</p>
							 </td><td align="left" valign="top" headers="idm140172458571328"> <p>
								The build run establish duration in seconds.
							</p>
							 </td><td align="left" valign="top" headers="idm140172458570240"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">buildstrategy=&lt;build_buildstrategy_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">namespace=&lt;buildrun_namespace&gt;</code>
									</li><li class="listitem">
										<code class="literal">build=&lt;build_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">buildrun=&lt;buildrun_name&gt;</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140172458569152"> <p>
								experimental
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140172458573504"> <p>
								<code class="literal">build_buildrun_completion_duration_seconds</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140172458572416"> <p>
								Histogram
							</p>
							 </td><td align="left" valign="top" headers="idm140172458571328"> <p>
								The build run completion duration in seconds.
							</p>
							 </td><td align="left" valign="top" headers="idm140172458570240"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">buildstrategy=&lt;build_buildstrategy_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">namespace=&lt;buildrun_namespace&gt;</code>
									</li><li class="listitem">
										<code class="literal">build=&lt;build_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">buildrun=&lt;buildrun_name&gt;</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140172458569152"> <p>
								experimental
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140172458573504"> <p>
								<code class="literal">build_buildrun_rampup_duration_seconds</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140172458572416"> <p>
								Histogram
							</p>
							 </td><td align="left" valign="top" headers="idm140172458571328"> <p>
								The build run ramp-up duration in seconds.
							</p>
							 </td><td align="left" valign="top" headers="idm140172458570240"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">buildstrategy=&lt;build_buildstrategy_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">namespace=&lt;buildrun_namespace&gt;</code>
									</li><li class="listitem">
										<code class="literal">build=&lt;build_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">buildrun=&lt;buildrun_name&gt;</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140172458569152"> <p>
								experimental
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140172458573504"> <p>
								<code class="literal">build_buildrun_taskrun_rampup_duration_seconds</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140172458572416"> <p>
								Histogram
							</p>
							 </td><td align="left" valign="top" headers="idm140172458571328"> <p>
								The build run ramp-up duration for a task run in seconds.
							</p>
							 </td><td align="left" valign="top" headers="idm140172458570240"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">buildstrategy=&lt;build_buildstrategy_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">namespace=&lt;buildrun_namespace&gt;</code>
									</li><li class="listitem">
										<code class="literal">build=&lt;build_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">buildrun=&lt;buildrun_name&gt;</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140172458569152"> <p>
								experimental
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140172458573504"> <p>
								<code class="literal">build_buildrun_taskrun_pod_rampup_duration_seconds</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140172458572416"> <p>
								Histogram
							</p>
							 </td><td align="left" valign="top" headers="idm140172458571328"> <p>
								The build run ramp-up duration for a task run pod in seconds.
							</p>
							 </td><td align="left" valign="top" headers="idm140172458570240"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<code class="literal">buildstrategy=&lt;build_buildstrategy_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">namespace=&lt;buildrun_namespace&gt;</code>
									</li><li class="listitem">
										<code class="literal">build=&lt;build_name&gt;</code>
									</li><li class="listitem">
										<code class="literal">buildrun=&lt;buildrun_name&gt;</code>
									</li></ul></div>
							 </td><td align="left" valign="top" headers="idm140172458569152"> <p>
								experimental
							</p>
							 </td></tr></tbody></table></div></div><section class="section" id="ob-histogram-metrics_build-controller-observability"><div class="titlepage"><div><div><h3 class="title">1.1.1. Histogram metrics</h3></div></div></div><p>
					To use custom buckets for the build controller, you must set the environment variable for a particular histogram metric. The following table shows the environment variables for all histogram metrics:
				</p><div class="table" id="idm140172455973280"><p class="title"><strong>Table 1.2. Histogram metrics</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140172456208384" scope="col">Metric</th><th align="left" valign="top" id="idm140172456207296" scope="col">Environment variable</th><th align="left" valign="top" id="idm140172456206208" scope="col">Default</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140172456208384"> <p>
									<code class="literal">build_buildrun_establish_duration_seconds</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456207296"> <p>
									<code class="literal">PROMETHEUS_BR_EST_DUR_BUCKETS</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456206208"> <p>
									<code class="literal">0,1,2,3,5,7,10,15,20,30</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140172456208384"> <p>
									<code class="literal">build_buildrun_completion_duration_seconds</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456207296"> <p>
									<code class="literal">PROMETHEUS_BR_COMP_DUR_BUCKETS</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456206208"> <p>
									<code class="literal">50,100,150,200,250,300,350,400,450,500</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140172456208384"> <p>
									<code class="literal">build_buildrun_rampup_duration_seconds</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456207296"> <p>
									<code class="literal">PROMETHEUS_BR_RAMPUP_DUR_BUCKETS</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456206208"> <p>
									<code class="literal">0,1,2,3,4,5,6,7,8,9,10</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140172456208384"> <p>
									<code class="literal">build_buildrun_taskrun_rampup_duration_seconds</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456207296"> <p>
									<code class="literal">PROMETHEUS_BR_RAMPUP_DUR_BUCKETS</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456206208"> <p>
									<code class="literal">0,1,2,3,4,5,6,7,8,9,10</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140172456208384"> <p>
									<code class="literal">build_buildrun_taskrun_pod_rampup_duration_seconds</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456207296"> <p>
									<code class="literal">PROMETHEUS_BR_RAMPUP_DUR_BUCKETS</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140172456206208"> <p>
									<code class="literal">0,1,2,3,4,5,6,7,8,9,10</code>
								</p>
								 </td></tr></tbody></table></div></div></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140172458576240"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri mimir-link-warn" href="http://creativecommons.org/licenses/by-sa/3.0/" title="Mimir does not include content from: creativecommons.org">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body>

        
        
    </div>
    

</div> 


                            </bdo>
                        </main>
                    </div>
                </main>
            </div>
        
            <!--#include virtual="/includes/footer/index.html" -->
        </div>
    </body>
</html>
