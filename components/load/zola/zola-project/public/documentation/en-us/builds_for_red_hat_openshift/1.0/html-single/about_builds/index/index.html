<!DOCTYPE html>
<html>
    <head>
        
        <link rel="stylesheet" type="text/css" media="screen" href="/mimir/styles/mimir.min.css">
        




    <link rel="stylesheet" type="text/css" media="screen" href="/sites/dxp-docs/files/css/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="/sites/dxp-docs/files/css/css_Bwzy34i9pSdDlzGALvqVwG4fpgGp08KLMAkClGNY9M4.css" />



<link rel="stylesheet" type="text/css" media="screen" href="/mimir/styles/mimir-doc-toc.min.css" />



        
        <!--#include virtual="/includes/head/index.html" -->

        
        <title>
About Builds - builds for Red Hat OpenShift 1.0
</title>
        
<meta name="product" content="builds for Red Hat OpenShift" />
<meta name="documentation_version" content="1.0" />
<meta name="documentKind" content="documentation" />
<meta name="portal_content_subtype" content="title" />
<meta name="lastModifiedDate" content="2024-02-13T10:14:51.000Z" />


        
            
        
        
            
                
                
                <!-- mimir_solr_yesindex -->
                <meta name="mimir_solr_yesindex" content="true" />
            
        
    </head>

    <body class="mimir-body">

        
        

        
        <div id="page-wrap" class="page-wrap">
            <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">
                <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
                <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

                <header class="masthead" id="masthead">

                    
                    <!--#include virtual="/includes/header/index.html" -->

                    
                    
                    
                        
                    
                    
                        <div class="breadcrumbs">
                            <div id="breadcrumbs" class="container">
                                
                                <a href="/">Home</a>
                                
                                <a href="/products/">Product Documentation</a>
                                
                                <a href="/documentation/en-us/builds_for_red_hat_openshift/1.0/">builds for Red Hat OpenShift</a>
                                
                                <a href="/documentation/en-us/builds_for_red_hat_openshift/1.0/">1.0</a>
                                
                                
                                About Builds
                                
                            </div>
                        </div>
                    
                </header>

                <main id="cp-main" class="portal-content-area">
                    <div id="cp-content" class="main-content">
                        
                        <main class="container mimir-docs">
                            
                            <bdo>
                                

<script type="module" src="/mimir/scripts/mimir-doc-toc.min.js"></script>






<div class="docs-grid">

    <nav id="mimir-doc-toc" class="mimir-doc-toc">
      <div class="mimir-doc-toc-inner">
          <!-- single-page -->
        
            
              <ol>
                <li>
                        
                        <a href="#">About Builds</a>
                    </li><li>
                        <a href="#ob-release-notes">
                            1. Release notes
                        </a><ol>
                <li>
                        <a href="#compatibility-support-matrix_ob-release-notes">
                            1.1. Compatibility and support matrix
                        </a>
                    </li><li>
                        <a href="#making-open-source-more-inclusive_ob-release-notes">
                            1.2. Making open source more inclusive
                        </a>
                    </li><li>
                        <a href="#ob-release-notes-1-0_ob-release-notes">
                            1.3. Release notes for Builds General Availability 1.0
                        </a><ol>
                <li>
                        <a href="#new-features-1-0_ob-release-notes">
                            1.3.1. New features
                        </a><ol>
                <li>
                        <a href="#builds-new-features-1-0_ob-release-notes">
                            1.3.1.1. Builds
                        </a>
                    </li><li>
                        <a href="#cli-new-features-1-0_ob-release-notes">
                            1.3.1.2. CLI
                        </a>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li>
            </ol>
                    </li><li>
                        <a href="#overview-openshift-builds">
                            2. Overview of Builds
                        </a><ol>
                <li>
                        <a href="#about-builds_overview-openshift-builds">
                            2.1. Build resource
                        </a>
                    </li><li>
                        <a href="#about-build-strategies_overview-openshift-builds">
                            2.2. BuildStrategy and ClusterBuildStrategy resources
                        </a>
                    </li><li>
                        <a href="#about-buildrun_overview-openshift-builds">
                            2.3. BuildRun resource
                        </a>
                    </li><li>
                        <a href="#about-build-controller_overview-openshift-builds">
                            2.4. Build controller
                        </a><ol>
                <li>
                        <a href="#build-validations_overview-openshift-builds">
                            2.4.1. Build validations
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#additional-resources_overview-openshift-builds">
                            2.5. Additional resources
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#build-strategies">
                            3. Build strategies
                        </a><ol>
                <li>
                        <a href="#about-buildah_build-strategies">
                            3.1. Buildah
                        </a>
                    </li><li>
                        <a href="#about-s2i_build-strategies">
                            3.2. Source-to-image
                        </a>
                    </li><li>
                        <a href="#additional-resources_installing-sample-build-strategies">
                            3.3. Additional resources
                        </a>
                    </li>
            </ol>
                    </li><li>
                        <a href="#idm140575700587456">
                            Legal Notice
                        </a>
                    </li>
            </ol>
            
        
      </div>
    </nav>

    
    <div class="pvof-doc__wrapper" id="doc-wrapper">
        <section class="mimir-doc-title" id="mimir-doc--about_builds">
            <h1 class="title">About Builds</h1>
        </section>
        <body><div xml:lang="en-US" class="book" id="idm140575695469312"><div class="titlepage"><div><div class="producttitle"><span class="productname">builds for Red Hat OpenShift</span> <span class="productnumber">1.0</span></div><div><h2 class="subtitle">Introduction to Builds</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat OpenShift Documentation Team</span></div></div><div><a href="#idm140575700587456">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document provides an overview of Builds features. It also includes release notes and details on how to get support.
			</div></div></div></div><hr/></div><section class="chapter" id="ob-release-notes"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Release notes</h1></div></div></div><p>
			Release notes contain information about new and deprecated features, breaking changes, and known issues. The following release notes apply for the most recent Builds releases on OpenShift Container Platform.
		</p><p>
			Builds is an extensible build framework based on the <a class="link mimir-link-warn" href="https://shipwright.io/" title="Mimir does not include content from: shipwright.io">Shipwright project</a>, which you can use to build container images on an OpenShift Container Platform cluster. You can build container images from source code and Dockerfiles by using image build tools, such as Source-to-Image (S2I) and Buildah. You can create and apply build resources, view logs of build runs, and manage builds in your OpenShift Container Platform namespaces.
		</p><p>
			Builds includes the following capabilities:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Standard Kubernetes-native API for building container images from source code and Dockerfiles
				</li><li class="listitem">
					Support for Source-to-Image (S2I) and Buildah build strategies
				</li><li class="listitem">
					Extensibility with your own custom build strategies
				</li><li class="listitem">
					Execution of builds from source code in a local directory
				</li><li class="listitem">
					Shipwright CLI for creating and viewing logs, and managing builds on the cluster
				</li><li class="listitem">
					Integrated user experience with the <span class="strong strong"><strong>Developer</strong></span> perspective of the OpenShift Container Platform web console
				</li></ul></div><p>
			For more information about Builds, see <a class="link" href="#overview-openshift-builds" title="Chapter 2. Overview of Builds">Overview of Builds</a>.
		</p><section class="section" id="compatibility-support-matrix_ob-release-notes"><div class="titlepage"><div><div><h2 class="title">1.1. Compatibility and support matrix</h2></div></div></div><p>
				In the table, components are marked with the following statuses:
			</p><div class="horizontal"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 15%; "><!--Empty--></col><col style="width: 85%; "><!--Empty--></col></colgroup><tbody valign="top"><tr><td valign="top"> <p>
								TP
							</p>
							 </td><td valign="top"> <p>
								Technology Preview
							</p>
							 </td></tr><tr><td valign="top"> <p>
								GA
							</p>
							 </td><td valign="top"> <p>
								General Availability
							</p>
							 </td></tr></tbody></table></div><p>
				The <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/techpreview" title="This content is not included in Mimir.">Technology Preview</a> features are experimental features and are not intended for production use.
			</p><div class="table" id="idm140575695049344"><p class="title"><strong>Table 1.1. Compatibility and support matrix</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 20%; " class="col_3"><!--Empty--></col><col style="width: 20%; " class="col_4"><!--Empty--></col><col style="width: 20%; " class="col_5"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140575695989664" scope="col">Builds Version</th><th colspan="2" align="left" valign="top" id="idm140575695988576" scope="col">Component Version</th><th align="left" valign="top" id="idm140575696743008" scope="col">Compatible Openshift Pipelines Version</th><th align="left" valign="top" id="idm140575696742064" scope="col">OpenShift Version</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140575695989664"> <p>
								Operator
							</p>
							 </td><td align="left" valign="top" headers="idm140575695988576"> <p>
								Builds (Shipwright)
							</p>
							 </td><td align="left" valign="top" headers="idm140575695988576"> <p>
								CLI
							</p>
							 </td><td align="left" valign="top" headers="idm140575696743008"> </td><td align="left" valign="top" headers="idm140575696742064"> </td></tr><tr><td align="left" valign="top" headers="idm140575695989664"> <p>
								1.0
							</p>
							 </td><td align="left" valign="top" headers="idm140575695988576"> <p>
								0.12.0 (GA)
							</p>
							 </td><td align="left" valign="top" headers="idm140575695988576"> <p>
								0.12.0 (GA)
							</p>
							 </td><td align="left" valign="top" headers="idm140575696743008"> <p>
								1.12 and later
							</p>
							 </td><td align="left" valign="top" headers="idm140575696742064"> <p>
								4.14
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="making-open-source-more-inclusive_ob-release-notes"><div class="titlepage"><div><div><h2 class="title">1.2. Making open source more inclusive</h2></div></div></div><p>
				Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a class="link mimir-link-warn" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language" title="Mimir does not include content from: www.redhat.com">our CTO Chris Wright’s message</a>.
			</p></section><section class="section" id="ob-release-notes-1-0_ob-release-notes"><div class="titlepage"><div><div><h2 class="title">1.3. Release notes for Builds General Availability 1.0</h2></div></div></div><p>
				Builds General Availability (GA) 1.0 is now available on OpenShift Container Platform 4.14.
			</p><section class="section" id="new-features-1-0_ob-release-notes"><div class="titlepage"><div><div><h3 class="title">1.3.1. New features</h3></div></div></div><p>
					The following sections highlight what is new in Builds 1.0.
				</p><section class="section" id="builds-new-features-1-0_ob-release-notes"><div class="titlepage"><div><div><h4 class="title">1.3.1.1. Builds</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								This release supports the <code class="literal">buildah</code> and <code class="literal">source-to-image</code> build strategies. The Builds for Red Hat OpenShift Operator automatically installs these strategies for use.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The <code class="literal">buildpacks</code> build strategy is currently in <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/devpreview" title="This content is not included in Mimir.">Developer Preview</a>. Red Hat plans to make this strategy generally available for use in a future release.
								</p></div></div></li><li class="listitem">
								With this release, you can define volume mounts in your <code class="literal">BuildStartegy</code> resource. When defining a strategy, you can declare volumes which can be shared across build steps and build runs. You can also declare the mount point for the volume which is fixed across all build steps. Volumes can either have a fixed volume source, or an overridable volume source that you can set in a <code class="literal">Build</code> or <code class="literal">BuildRun</code> resource.
							</li><li class="listitem">
								With this release, you can embed a complete build specification into your <code class="literal">BuildRun</code> resource by using the <code class="literal">spec.build.spec</code> field. By embedding specifications, you can build an image without creating and maintaining a dedicated <code class="literal">Build</code> resource.
							</li><li class="listitem">
								This release supports automated cleaning of completed build runs after a specific time or when a certain number of build runs is reached. By using retention parameters, you can specify the duration for which a completed build run can exist and the number of succeeded or failed build runs that can exist.
							</li><li class="listitem">
								With this release, you can configure a build by defining the source, build strategy, parameter values, builder or docker file, output, retention parameters, and volumes in a <code class="literal">Build</code> resource.
							</li><li class="listitem">
								With this release, you can configure a build strategy by defining strategy parameters, system parameters, step resources definitions, annotations, and volumes in a <code class="literal">BuildStrategy</code> or <code class="literal">ClusterBuildStrategy</code> resource.
							</li><li class="listitem">
								With this release, you can configure a build run by defining the build reference, build specification, parameter values, service account, output, retention parameters, and volumes.
							</li><li class="listitem">
								With this release, you can monitor your build resources by using build controller metrics.
							</li><li class="listitem">
								With this release, you can add an annotation <code class="literal">build.shipwright.io/referenced.secret: "true"</code> to a build secret. Based on this annotation, the build controller takes a reconcile action when an event, such as create, update, or delete triggers for the build secret.
							</li></ul></div></section><section class="section" id="cli-new-features-1-0_ob-release-notes"><div class="titlepage"><div><div><h4 class="title">1.3.1.2. CLI</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								With this release, you can create, delete, list, or run a <code class="literal">Build</code> resource.
							</li><li class="listitem">
								With this release, you can create or list a <code class="literal">BuildRun</code> resource, or view its logs.
							</li></ul></div></section></section></section></section><section class="chapter" id="overview-openshift-builds"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Overview of Builds</h1></div></div></div><p>
			Builds is an extensible build framework based on the <a class="link mimir-link-warn" href="https://shipwright.io/" title="Mimir does not include content from: shipwright.io">Shipwright project</a>, which you can use to build container images on an OpenShift Container Platform cluster. You can build container images from source code and Dockerfiles by using image build tools, such as Source-to-Image (S2I) and Buildah. You can create and apply build resources, view logs of build runs, and manage builds in your OpenShift Container Platform namespaces.
		</p><p>
			Builds includes the following capabilities:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Standard Kubernetes-native API for building container images from source code and Dockerfiles
				</li><li class="listitem">
					Support for Source-to-Image (S2I) and Buildah build strategies
				</li><li class="listitem">
					Extensibility with your own custom build strategies
				</li><li class="listitem">
					Execution of builds from source code in a local directory
				</li><li class="listitem">
					Shipwright CLI for creating and viewing logs, and managing builds on the cluster
				</li><li class="listitem">
					Integrated user experience with the <span class="strong strong"><strong>Developer</strong></span> perspective of the OpenShift Container Platform web console
				</li></ul></div><p>
			Builds consists of the following custom resources (CRs):
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">Build</code>
				</li><li class="listitem">
					<code class="literal">BuildStrategy</code> and <code class="literal">ClusterBuildStrategy</code>
				</li><li class="listitem">
					<code class="literal">BuildRun</code>
				</li></ul></div><section class="section" id="about-builds_overview-openshift-builds"><div class="titlepage"><div><div><h2 class="title">2.1. Build resource</h2></div></div></div><p>
				The <code class="literal">Build</code> resource defines the source code of your application and the location where your application images will be pushed. The following example shows a simple build that consists of a Git source, a build strategy, and an output image:
			</p><pre class="programlisting language-yaml">apiVersion: shipwright.io/v1beta1
kind: Build
metadata:
  name: buildah-golang-build
spec:
  source:
    git:
      url: https://github.com/username/taxi
  strategy:
    name: buildah
    kind: ClusterBuildStrategy
  output:
    image: registry.mycompany.com/my-org/taxi-app:latest</pre><p>
				You can also extend a <code class="literal">Build</code> resource to push your images to a private registry or use a Dockerfile.
			</p></section><section class="section" id="about-build-strategies_overview-openshift-builds"><div class="titlepage"><div><div><h2 class="title">2.2. BuildStrategy and ClusterBuildStrategy resources</h2></div></div></div><p>
				The <code class="literal">BuildStrategy</code> and <code class="literal">ClusterBuildStrategy</code> resources define a series of steps to assemble an application. You can use the <code class="literal">BuildStrategy</code> resources within a namespace and the <code class="literal">ClusterBuildStrategy</code> resources within a cluster.
			</p><p>
				The specification of a <code class="literal">BuildStrategy</code> or <code class="literal">ClusterBuildStrategy</code> resource consists of a <code class="literal">steps</code> object. The following example shows the specification of the <code class="literal">buildah</code> cluster build strategy:
			</p><pre class="programlisting language-yaml">apiVersion: shipwright.io/v1beta1
kind: ClusterBuildStrategy
metadata:
  name: buildah
spec:
  steps:
    - name: build-and-push
      image: quay.io/containers/buildah:v1.31.0
      workingDir: $(params.shp-source-root)
      command:
        - /bin/bash
       # ...
# ...</pre></section><section class="section" id="about-buildrun_overview-openshift-builds"><div class="titlepage"><div><div><h2 class="title">2.3. BuildRun resource</h2></div></div></div><p>
				A <code class="literal">BuildRun</code> resource invokes a build on your cluster, similar to any cluster job or Tekton task run. The <code class="literal">BuildRun</code> resource represents a workload on your cluster, which results in a running pod. A <code class="literal">BuildRun</code> is the running instance of a build. It instantiates a build for execution with specific parameters on a cluster.
			</p><p>
				A <code class="literal">BuildRun</code> resource helps you to define the following elements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A unique <code class="literal">BuildRun</code> name to monitor the status of the build
					</li><li class="listitem">
						A referenced <code class="literal">Build</code> instance to use during the build
					</li><li class="listitem">
						A service account to host all secrets for the build
					</li></ul></div><p>
				Each <code class="literal">BuildRun</code> resource is available within a namespace.
			</p></section><section class="section" id="about-build-controller_overview-openshift-builds"><div class="titlepage"><div><div><h2 class="title">2.4. Build controller</h2></div></div></div><p>
				The build controller monitors any updates in the <code class="literal">Build</code> resource and performs the following tasks:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Validates if the referenced <code class="literal">Strategy</code> object exists in the <code class="literal">Build</code> resource.
					</li><li class="listitem">
						Validates if the specified parameters in the <code class="literal">Build</code> CR exist in the referenced build strategy. It also validates if the parameter names collide with any reserved names.
					</li><li class="listitem">
						Validates if the container registry output secret exists in the <code class="literal">Build</code> resource.
					</li><li class="listitem">
						Validates if the referenced <code class="literal">spec.source.git.url</code> endpoint URL exists in the <code class="literal">Build</code> resource.
					</li></ul></div><p>
				The build run controller monitors any updates in the <code class="literal">Build</code> or <code class="literal">TaskRun</code> resource and performs the following tasks:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Searches for any existing <code class="literal">TaskRun</code> resource and updates its parent <code class="literal">BuildRun</code> resource status.
					</li><li class="listitem">
						Retrieves the specified service account and sets it along with the output secret in the <code class="literal">Build</code> resource.
					</li><li class="listitem">
						If a <code class="literal">TaskRun</code> resource does not exist, the controller generates a new Tekton <code class="literal">TaskRun</code> resource and sets a reference to the <code class="literal">TaskRun</code> resource.
					</li><li class="listitem">
						For any subsequent updates in the <code class="literal">TaskRun</code> resource, the controller updates the parent <code class="literal">BuildRun</code> resource.
					</li></ul></div><section class="section" id="build-validations_overview-openshift-builds"><div class="titlepage"><div><div><h3 class="title">2.4.1. Build validations</h3></div></div></div><p>
					To avoid triggering <code class="literal">BuildRun</code> resources that will fail because of incorrect or missing dependencies or configuration settings, the build controller validates them in advance. If all validations are successful, you view a <code class="literal">status.reason</code> field named <code class="literal">Succeeded</code>. However, if any validations fail, you must check the <code class="literal">status.reason</code> and <code class="literal">status.message</code> fields to understand the root cause.
				</p><div class="table" id="idm140575703297600"><p class="title"><strong>Table 2.1. Validation of builds by the build controller</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140575703292736" scope="col">status.reason field</th><th align="left" valign="top" id="idm140575703291648" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">BuildStrategyNotFound</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The referenced strategy at namespace level does not exist.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">ClusterBuildStrategyNotFound</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The referenced strategy at cluster level does not exist.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">SetOwnerReferenceFailed</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									Setting owner references between a <code class="literal">Build</code> and a <code class="literal">BuildRun</code> resources failed. This status is triggered when you set the <code class="literal">spec.retention.atBuildDeletion</code> field to <code class="literal">true</code> in a build.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">SpecSourceSecretRefNotFound</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The secret used to authenticate to Git does not exist.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">SpecOutputSecretRefNotFound</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The secret used to authenticate to the container registry does not exist.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">SpecBuilderSecretRefNotFound</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The secret used to authenticate to the container registry does not exist.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">MultipleSecretRefNotFound</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									Multiple secrets used for authentication are missing.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">RestrictedParametersInUse</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									One or many defined <code class="literal">params</code> are colliding with any reserved parameters.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">UndefinedParameter</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The parameters are not defined in the referenced strategy. You must define those parameters in the <code class="literal">spec.parameters</code> specification in your strategy.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">RemoteRepositoryUnreachable</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The defined <code class="literal">spec.source.git.url</code> specification was not found. This validation only takes place for HTTP and HTTPS protocols.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">BuildNameInvalid</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									The build name in the <code class="literal">metadata.name</code> field is invalid. You must use a valid label value for the build name.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">SpecEnvNameCanNotBeBlank</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									Indicates that the name for a user-provided environment variable is blank.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140575703292736"> <p>
									<code class="literal">SpecEnvValueCanNotBeBlank</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140575703291648"> <p>
									Indicates that the value for a user-provided environment variable is blank.
								</p>
								 </td></tr></tbody></table></div></div></section></section><section class="section _additional-resources" id="additional-resources_overview-openshift-builds"><div class="titlepage"><div><div><h2 class="title">2.5. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="/documentation/en-us/builds_for_red_hat_openshift/1.0/html-single/install/index/#installing-builds-with-operator_installing-openshift-builds">Installing Builds by using the console</a>
					</li><li class="listitem">
						<a class="link" href="/documentation/en-us/builds_for_red_hat_openshift/1.0/html-single/install/index/#installing-builds-using-CLI_installing-openshift-builds">Installing Builds by using the CLI</a>
					</li></ul></div></section></section><section class="chapter" id="build-strategies"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Build strategies</h1></div></div></div><p>
			You can use a curated set of build strategies or cluster build strategies on the OpenShift Container Platform cluster. The Builds for Red Hat OpenShift Operator automatically installs these strategies for use. This automated installation of strategies helps you to quickly get started with Builds.
		</p><p>
			Builds supports the following cluster build strategies:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">buildah</code>: Supported on all platforms
				</li><li class="listitem">
					<code class="literal">source-to-image</code>: Supported on the linux/amd64 platform
				</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				The <code class="literal">buildpacks</code> build strategy is currently in <a class="link mimir-link-warn" href="https://access.redhat.com/support/offerings/devpreview" title="This content is not included in Mimir.">Developer Preview</a>. For more information, see the <a class="link mimir-link-warn" href="https://github.com/redhat-developer/openshift-builds-catalog/blob/main/clusterBuildStrategy/buildpacks/README.md" title="Mimir does not include content from: github.com">buildpacks example</a>.
			</p></div></div><section class="section" id="about-buildah_build-strategies"><div class="titlepage"><div><div><h2 class="title">3.1. Buildah</h2></div></div></div><p>
				The <code class="literal">buildah</code> cluster build strategy uses a Dockerfile to build a container image and pushes it to the target registry. You must specify the Dockerfile in the <code class="literal">spec.paramValues</code> field of the <code class="literal">Build</code> CR.
			</p><p>
				You can share the <code class="literal">buildah</code> strategy across different namespaces within your cluster because the Builds for Red Hat OpenShift Operator installs the <code class="literal">buildah</code> strategy at cluster level.
			</p><p>
				You can configure the following parameters for the <code class="literal">buildah</code> strategy:
			</p><div class="table" id="idm140575696611296"><p class="title"><strong>Table 3.1. Configuration parameters for <code class="literal">buildah</code></strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140575696604320" scope="col">Name</th><th align="left" valign="top" id="idm140575696603232" scope="col">Type</th><th align="left" valign="top" id="idm140575696602144" scope="col">Description</th><th align="left" valign="top" id="idm140575696601056" scope="col">Default</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140575696604320"> <p>
								<code class="literal">build-args</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696603232"> <p>
								array
							</p>
							 </td><td align="left" valign="top" headers="idm140575696602144"> <p>
								Key-value pair of the arguments required by the Dockerfile that is used during the build
							</p>
							 </td><td align="left" valign="top" headers="idm140575696601056"> <p>
								[]
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696604320"> <p>
								<code class="literal">registries-block</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696603232"> <p>
								array
							</p>
							 </td><td align="left" valign="top" headers="idm140575696602144"> <p>
								List of registries that must be blocked
							</p>
							 </td><td align="left" valign="top" headers="idm140575696601056"> <p>
								[]
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696604320"> <p>
								<code class="literal">registries-insecure</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696603232"> <p>
								array
							</p>
							 </td><td align="left" valign="top" headers="idm140575696602144"> <p>
								List of insecure registries with their fully qualified domain name (FQDN)
							</p>
							 </td><td align="left" valign="top" headers="idm140575696601056"> <p>
								[]
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696604320"> <p>
								<code class="literal">registries-search</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696603232"> <p>
								array
							</p>
							 </td><td align="left" valign="top" headers="idm140575696602144"> <p>
								List of registries to search short name images
							</p>
							 </td><td align="left" valign="top" headers="idm140575696601056"> <p>
								["registry.redhat.io", "quay.io"]
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696604320"> <p>
								<code class="literal">dockerfile</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696603232"> <p>
								string
							</p>
							 </td><td align="left" valign="top" headers="idm140575696602144"> <p>
								Path of the Dockerfile that is used during the build
							</p>
							 </td><td align="left" valign="top" headers="idm140575696601056"> <p>
								"Dockerfile"
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696604320"> <p>
								<code class="literal">storage-driver</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696603232"> <p>
								string
							</p>
							 </td><td align="left" valign="top" headers="idm140575696602144"> <p>
								Storage drivers that are used by <code class="literal">buildah</code>, such as overlay or vfs
							</p>
							 </td><td align="left" valign="top" headers="idm140575696601056"> <p>
								"vfs"
							</p>
							 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For more information, see <span class="emphasis"><em>Configuring build strategies</em></span> in the <span class="emphasis"><em>Additional resources</em></span> section.
				</p></div></div></section><section class="section" id="about-s2i_build-strategies"><div class="titlepage"><div><div><h2 class="title">3.2. Source-to-image</h2></div></div></div><p>
				This build strategy is composed of <code class="literal">source-to-image</code> and <code class="literal">buildah</code>. You can use this strategy to generate a container file and prepare the application to build with a builder image. You must specify the builder image in the <code class="literal">spec.paramValues</code> field of the <code class="literal">Build</code> CR.
			</p><p>
				You can share the <code class="literal">source-to-image</code> strategy across different namespaces within your cluster because the Builds for Red Hat OpenShift Operator installs the <code class="literal">source-to-image</code> strategy at cluster level.
			</p><p>
				You can configure the following parameters for the <code class="literal">source-to-image</code> strategy:
			</p><div class="table" id="idm140575696384320"><p class="title"><strong>Table 3.2. Configuration parameters for <code class="literal">source-to-image</code></strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140575696377344" scope="col">Name</th><th align="left" valign="top" id="idm140575696376256" scope="col">Type</th><th align="left" valign="top" id="idm140575696375168" scope="col">Description</th><th align="left" valign="top" id="idm140575696374080" scope="col">Default</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140575696377344"> <p>
								<code class="literal">registries-block</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696376256"> <p>
								array
							</p>
							 </td><td align="left" valign="top" headers="idm140575696375168"> <p>
								List of registries that must be blocked
							</p>
							 </td><td align="left" valign="top" headers="idm140575696374080"> <p>
								[]
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696377344"> <p>
								<code class="literal">registries-insecure</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696376256"> <p>
								array
							</p>
							 </td><td align="left" valign="top" headers="idm140575696375168"> <p>
								List of insecure registries with their FQDN
							</p>
							 </td><td align="left" valign="top" headers="idm140575696374080"> <p>
								[]
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696377344"> <p>
								<code class="literal">registries-search</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696376256"> <p>
								array
							</p>
							 </td><td align="left" valign="top" headers="idm140575696375168"> <p>
								List of registries to search short name images
							</p>
							 </td><td align="left" valign="top" headers="idm140575696374080"> <p>
								["registry.redhat.io", "quay.io"]
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696377344"> <p>
								<code class="literal">builder-image</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696376256"> <p>
								string
							</p>
							 </td><td align="left" valign="top" headers="idm140575696375168"> <p>
								Location of the builder image that is used during the build
							</p>
							 </td><td align="left" valign="top" headers="idm140575696374080"> <p>
								NA
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140575696377344"> <p>
								<code class="literal">storage-driver</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140575696376256"> <p>
								string
							</p>
							 </td><td align="left" valign="top" headers="idm140575696375168"> <p>
								Storage drivers that are used by <code class="literal">source-to-image</code>, such as overlay or vfs
							</p>
							 </td><td align="left" valign="top" headers="idm140575696374080"> <p>
								"vfs"
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section _additional-resources" id="additional-resources_installing-sample-build-strategies"><div class="titlepage"><div><div><h2 class="title">3.3. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="/documentation/en-us/builds_for_red_hat_openshift/1.0/html-single/install/index/#installing-builds-with-operator_installing-openshift-builds">Installing Builds by using the web console</a>
					</li><li class="listitem">
						<a class="link" href="/documentation/en-us/builds_for_red_hat_openshift/1.0/html-single/install/index/#installing-builds-using-CLI_installing-openshift-builds">Installing Builds by using the CLI</a>
					</li><li class="listitem">
						<a class="link" href="/documentation/en-us/builds_for_red_hat_openshift/1.0/html-single/configure/index/#configuring-build-strategies">Configuring build strategies</a>
					</li><li class="listitem">
						<a class="link" href="/documentation/en-us/builds_for_red_hat_openshift/1.0/html-single/install/index/#creating-a-shipwright-build-resource-console_installing-openshift-builds">Creating a ShipwrightBuild resource by using the web console</a>
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140575700587456"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri mimir-link-warn" href="http://creativecommons.org/licenses/by-sa/3.0/" title="Mimir does not include content from: creativecommons.org">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></body>

        
        
    </div>
    

</div> 


                            </bdo>
                        </main>
                    </div>
                </main>
            </div>
        
            <!--#include virtual="/includes/footer/index.html" -->
        </div>
    </body>
</html>
